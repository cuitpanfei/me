[{"categories":["é»˜è®¤åˆ†ç±»","java"],"content":"ä½¿ç”¨PDFWatermarkRemoverå»é™¤PDFæ°´å°çš„æ•™ç¨‹ å¼•è¨€ åœ¨å¤„ç†PDFæ–‡æ¡£çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°éœ€è¦ç§»é™¤æ°´å°çš„æƒ…å†µã€‚æ— è®ºæ˜¯ä¸ºäº†æå‡æ–‡æ¡£çš„å¯è¯»æ€§ï¼Œè¿˜æ˜¯ä¸ºäº†æ»¡è¶³ç‰¹å®šçš„ä¸šåŠ¡éœ€æ±‚ï¼Œå»é™¤æ°´å°éƒ½æ˜¯ä¸€ä¸ªå¸¸è§çš„ä»»åŠ¡ã€‚ç„¶è€Œï¼Œç°æœ‰çš„è§£å†³æ–¹æ¡ˆå¾€å¾€å­˜åœ¨æ”¶è´¹æ˜‚è´µæˆ–ä¸Šæ‰‹éš¾åº¦é«˜çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼ŒæŸäº›è½¯ä»¶è¦æ±‚ç”¨æˆ·å…·å¤‡ä¸€å®šçš„æŠ€æœ¯èƒŒæ™¯ï¼Œå¹¶ä¸”éœ€è¦æŒ‡å®šæ°´å°çš„æ“ä½œç æ‰èƒ½è¿›è¡Œæœ‰æ•ˆçš„åˆ é™¤15ã€‚é‰´äºæ­¤ï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ªåä¸ºPDFWatermarkRemoverçš„Javaé¡¹ç›®ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå…è´¹ã€æ˜“äºä½¿ç”¨çš„å·¥å…·æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚\né¡¹ç›®æ¦‚è¿° å¼€å‘ç†ç”± å…è´¹ä¸æˆæœ¬æ•ˆç›Š å¸‚åœºä¸Šè®¸å¤šä¸“ä¸šçš„PDFç¼–è¾‘è½¯ä»¶è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¤§å¤šéœ€è¦ä»˜è´¹è´­ä¹°æ‰èƒ½è§£é”å…¨éƒ¨åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå»æ°´å°è¿™æ ·çš„é«˜çº§åŠŸèƒ½ã€‚è¿™å¯¹äºä¸ªäººç”¨æˆ·æˆ–è€…é¢„ç®—æœ‰é™çš„å°å‹ä¼ä¸šæ¥è¯´å¯èƒ½æ˜¯ä¸€ä¸ªä¸å°çš„è´Ÿæ‹…ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒPDFWatermarkRemoverå®Œå…¨å…è´¹ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªç»æµå®æƒ çš„é€‰æ‹©ã€‚\nç®€åŒ–æ“ä½œæµç¨‹ ä¸€äº›ç°æœ‰çš„å·¥å…·è™½ç„¶èƒ½å¤Ÿå®ç°å»é™¤æ°´å°çš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬é€šå¸¸éœ€è¦ç”¨æˆ·å…·æœ‰è¾ƒé«˜çš„æŠ€æœ¯æ°´å¹³ï¼Œæ¯”å¦‚ç†è§£å¹¶è¾“å…¥ç‰¹å®šçš„æ“ä½œç æ¥å®šä½å’Œåˆ é™¤æ°´å°ã€‚è¿™ä¸ä»…å¢åŠ äº†ä½¿ç”¨é—¨æ§›ï¼Œä¹Ÿä½¿å¾—æ™®é€šç”¨æˆ·éš¾ä»¥å¿«é€ŸæŒæ¡ã€‚PDFWatermarkRemoveré€šè¿‡ç®€åŒ–å‘½ä»¤è¡Œæ¥å£ï¼Œè®©ç”¨æˆ·åªéœ€è¾“å…¥å‡ ä¸ªç®€å•çš„å‚æ•°å³å¯å®Œæˆæ°´å°çš„å»é™¤å·¥ä½œï¼Œæå¤§åœ°é™ä½äº†å­¦ä¹ æˆæœ¬å’ŒæŠ€æœ¯éšœç¢ã€‚\nåŸºæœ¬ä¿¡æ¯ é¡¹ç›®åç§°ï¼šPDFWatermarkRemover è¯­è¨€ï¼šJava åŠŸèƒ½ï¼šå»é™¤PDFæ–‡ä»¶ä¸­çš„æ°´å° ä½¿ç”¨è¯´æ˜\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Usage: PDFWatermarkRemover [options] Options: * -f, -file-path éœ€è¦å¤„ç†çš„pdfæ–‡ä»¶è·¯å¾„ help, -help, -h æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ -p, -key-page å…³é”®é¡µï¼Œé€šå¸¸é€‰æ‹©pdfä¸­åŒ…å«æ°´å°çš„ä»»æ„ä¸€é¡µçš„é¡µç ï¼Œè¿™ä¸ªé¡µç ä¸æ˜¯é¡µé¢ä¸Šæ˜¾ç¤ºé€»è¾‘é¡µç ï¼Œè€Œæ˜¯æµè§ˆå™¨æ‰“å¼€åé¡¶éƒ¨æ˜¾ç¤ºçš„å½“å‰é¡µç ã€‚æœªæŒ‡å®šæ—¶ï¼Œä½¿ç”¨é»˜è®¤å€¼1 Default: 1 -t, -key-token ä½¿ç”¨è€…åœ¨ç¬¬ä¸€æ­¥æ“ä½œåç”Ÿæˆçš„pdfä¸­ç¡®è®¤æ°´å°æ¶ˆå¤±çš„é‚£ä¸€é¡µçš„é¡µç ï¼Œè¿™é‡Œçš„â€œé¡µç â€å«ä¹‰åŒkey-pageçš„å«ä¹‰ä¸€æ ·ã€‚ version, -version, -v æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬å· Default: false æ“ä½œæ­¥éª¤ ç¬¬ä¸€æ­¥ é¦–å…ˆï¼Œä½ éœ€è¦æä¾›PDFæ–‡ä»¶çš„è·¯å¾„ä»¥åŠå…³é”®é¡µï¼ˆé€šå¸¸æ˜¯PDFä¸­åŒ…å«æ°´å°çš„ä»»æ„ä¸€é¡µï¼‰ã€‚ä¾‹å¦‚ï¼š\n1 java -jar PDFWatermarkRemover.jar -f /path/to/file.pdf -p 1 æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œåœ¨åŸæ–‡ä»¶çš„åŒçº§ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¦‚/path/to/file_output_001.pdfã€‚æ­¤æ—¶ï¼Œè¯·æ£€æŸ¥è¯¥æ–‡ä»¶ä»¥ç¡®å®šæ°´å°æ˜¯å¦å·²ä»ç‰¹å®šé¡µç å¤„æ¶ˆå¤±ã€‚å‡è®¾ä½ å‘ç°æ°´å°æ¶ˆå¤±çš„é¡µç æ˜¯10ã€‚\nç¬¬äºŒæ­¥ æ¥ä¸‹æ¥ï¼Œå†æ¬¡è¿è¡Œç¨‹åºï¼Œå¹¶æä¾›ä¹‹å‰æ‰¾åˆ°çš„æ°´å°æ¶ˆå¤±çš„é¡µç ä½œä¸ºå‚æ•°ã€‚ä¾‹å¦‚ï¼š\n1 java -jar PDFWatermarkRemover.jar -f /path/to/file.pdf -p 1 -t 10 æˆåŠŸæ‰§è¡Œåï¼ŒåŸæ–‡ä»¶åŒçº§ç›®å½•ä¸‹å°†ç”Ÿæˆä¸€ä¸ªæ–°çš„PDFæ–‡ä»¶ï¼Œå¦‚/path/to/file_new.pdfï¼Œå…¶ä¸­çš„æ°´å°å·²ç»è¢«ç§»é™¤ã€‚\nå®ç°åŸç† è¯¥é¡¹ç›®åˆ©ç”¨äº†Apache PDFBoxåº“æ¥è§£æå’Œä¿®æ”¹PDFæ–‡ä»¶å†…å®¹ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡åˆ†æPDFæ–‡ä»¶ç»“æ„ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„é¡µç ï¼Œå®šä½æŒ‡å®šé¡µï¼Œç„¶åéå†æ‰€æœ‰çš„æ“ä½œç¬¦ï¼Œé€ä¸ªæ›¿æ¢æ“ä½œç¬¦ä¸ºç©ºç™½æ“ä½œç¬¦ã€‚ç”±ç”¨æˆ·æ ¹æ®ç”Ÿæˆçš„xxx_output_001.pdfæ–‡ä»¶ç¡®å®šæ“ä½œç¬¦çš„åºåˆ—å·ï¼Œç„¶ååˆ¤æ–­åŸæ–‡ä»¶æ¯ä¸€é¡µï¼Œåªè¦å­˜åœ¨ä¸åºåˆ—å·æ‰€åœ¨ä½ç½®çš„æ“ä½œç¬¦ä¸€è‡´çš„æ“ä½œç¬¦ï¼Œå°±æ›¿æ¢ä¸ºç©ºç™½æ“ä½œç¬¦ï¼Œè¿›è€Œè¾¾åˆ°å»é™¤æ°´å°çš„èƒ½åŠ›ã€‚\nç»“è¯­ é€šè¿‡PDFWatermarkRemoveré¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ ä¾¿æ·åœ°å¤„ç†å¸¦æœ‰æ°´å°çš„PDFæ–‡ä»¶ã€‚æ— è®ºæ˜¯å‡ºäºç¾åŒ–æ–‡æ¡£çš„ç›®çš„ï¼Œè¿˜æ˜¯ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºä¿¡æ¯ï¼Œè¿™ä¸€å·¥å…·éƒ½èƒ½æä¾›æœ‰åŠ›çš„æ”¯æŒã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¤Ÿå¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨è¯¥å·¥å…·ã€‚\nå¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–è€…å»ºè®®ï¼Œè¯·éšæ—¶ç•™è¨€äº¤æµï¼\n","description":"\n","tags":["pdf","æ°´å°"],"title":"\nå»é™¤PDFæ°´å°","uri":"/posts/post-406/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ¦‚è¦è¯´æ˜ è®¾è®¡ä¸€ä¸ªç®€å•çš„æ’å·ç³»ç»Ÿï¼Œç”¨äºå°†é¢˜åº“ä¸­ç»¿å¦‚çš„è¯•é¢˜æŠ½å–å‡ºæ¥ï¼ŒæŒ‰ç…§æŒ‡å®šç‰ˆå¼æ’å¸ƒï¼Œç„¶ååˆ°å¤„pdf,ç”¨äºæ‰“å°ã€‚è¯•å·æ’å¸ƒåï¼Œå¯ä»¥ä¿å­˜æ’å·ç»“æœï¼Œæ–¹ä¾¿åç»­å¤ç”¨\n","description":"\n","tags":["å°å­¦æ•°å­¦","æ’å·"],"title":"\næ•°å­¦æ’å·","uri":"/posts/post-405/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"MDC ä»‹ç» MDCï¼ˆMapped Diagnostic Contextï¼Œæ˜ å°„è°ƒè¯•ä¸Šä¸‹æ–‡ï¼‰æ˜¯ log4j ã€logbackåŠlog4j2 æä¾›çš„ä¸€ç§æ–¹ä¾¿åœ¨å¤šçº¿ç¨‹æ¡ä»¶ä¸‹è®°å½•æ—¥å¿—çš„åŠŸèƒ½ã€‚MDC å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªä¸å½“å‰çº¿ç¨‹ç»‘å®šçš„å“ˆå¸Œè¡¨ï¼Œå¯ä»¥å¾€å…¶ä¸­æ·»åŠ é”®å€¼å¯¹ã€‚MDC ä¸­åŒ…å«çš„å†…å®¹å¯ä»¥è¢«åŒä¸€çº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»£ç æ‰€è®¿é—®ã€‚å½“å‰çº¿ç¨‹çš„å­çº¿ç¨‹ä¼šç»§æ‰¿å…¶çˆ¶çº¿ç¨‹ä¸­çš„ MDC çš„å†…å®¹ã€‚å½“éœ€è¦è®°å½•æ—¥å¿—æ—¶ï¼Œåªéœ€è¦ä» MDC ä¸­è·å–æ‰€éœ€çš„ä¿¡æ¯å³å¯ã€‚MDC çš„å†…å®¹åˆ™ç”±ç¨‹åºåœ¨é€‚å½“çš„æ—¶å€™ä¿å­˜è¿›å»ã€‚å¯¹äºä¸€ä¸ª Web åº”ç”¨æ¥è¯´ï¼Œé€šå¸¸æ˜¯åœ¨è¯·æ±‚è¢«å¤„ç†çš„æœ€å¼€å§‹ä¿å­˜è¿™äº›æ•°æ®ã€‚\nAPI è¯´æ˜ clear() =\u003e ç§»é™¤æ‰€æœ‰ MDC get (String key) =\u003e è·å–å½“å‰çº¿ç¨‹ MDC ä¸­æŒ‡å®š key çš„å€¼ getContext() =\u003e è·å–å½“å‰çº¿ç¨‹ MDC çš„ MDC put(String key, Object o) =\u003e å¾€å½“å‰çº¿ç¨‹çš„ MDC ä¸­å­˜å…¥æŒ‡å®šçš„é”®å€¼å¯¹ remove(String key) =\u003e åˆ é™¤å½“å‰çº¿ç¨‹ MDC ä¸­æŒ‡å®šçš„é”®å€¼å¯¹ MDC ä½¿ç”¨ Constants.TRACE_ID = â€œtraceIdâ€\næ·»åŠ æ‹¦æˆªå™¨ public class LogInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { //å¦‚æœæœ‰ä¸Šå±‚è°ƒç”¨å°±ç”¨ä¸Šå±‚çš„ID String traceId = request.getHeader(Constants.TRACE_ID); if (traceId == null) { traceId = TraceIdUtil.getTraceId(); } MDC.put(Constants.TRACE_ID, traceId); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { //è°ƒç”¨ç»“æŸååˆ é™¤ MDC.remove(Constants.TRACE_ID); } } ä¿®æ”¹æ—¥å¿—æ ¼å¼ \u003c!-- æ—¥å¿—è¾“å‡ºæ ¼å¼ --\u003e \u003cproperty name=\"log.pattern\" value=\"[TraceId:%X{traceId}] %d{HHğŸ‡²ğŸ‡²ss.SSS} [%thread] %-5level %logger{20} - [%method,%line] - %msg%n\"/\u003e é‡ç‚¹æ˜¯ %X{traceId}ï¼ŒtraceId å’Œ MDC ä¸­çš„é”®åç§°ä¸€è‡´ã€‚\nç®€å•ä½¿ç”¨å°±è¿™ä¹ˆå®¹æ˜“ï¼Œä½†æ˜¯åœ¨æœ‰äº›æƒ…å†µä¸‹ traceId å°†è·å–ä¸åˆ°ã€‚\nå¸¸è§é—®é¢˜ å­çº¿ç¨‹æ—¥å¿—æ‰“å°ä¸¢å¤± traceId //è·å–traceId Map\u003cString, String\u003e mdcContextMap = MDC.getCopyOfContextMap(); return () -\u003e{ //æ·»åŠ åˆ°å­çº¿ç¨‹ä¸­ MDC.setContextMap(mdcContextMap); System.out.println(\"ä½ å¥½å‘€ï¼\"); } ","description":"\n","tags":[],"title":"\nSpringBoot + MDC å®ç°å…¨é“¾è·¯è°ƒç”¨æ—¥å¿—è·Ÿè¸ª","uri":"/posts/post-219/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" å®ä½“ç±»å®šä¹‰å±æ€§book_idä¸ºLongç±»å‹ï¼Œä½†åœ¨è°ƒç”¨ spring-data-elasticsearch:2.5.14.RELEASEä¸­çš„createMapping()æ–¹æ³•æ—¶å´è¢«è½¬æ¢æˆäº†keyword`ç±»å‹\næŸ¥çœ‹createMappingæ–¹æ³•ï¼Œæºç å¯ä»¥å‘ç°æœ€ç»ˆè°ƒç”¨æœ€ä¸‹è¾¹çš„é‡è½½æ–¹æ³•\nIndexOperations.createMapping(); AbstractDefaultIndexOperations.createMapping(); AbstractDefaultIndexOperations.createMapping(Class\u003c?\u003e clazz); AbstractDefaultIndexOperations.buildMapping(Class\u003c?\u003e clazz) //æ„å»ºå±æ€§æ˜ å°„ MappingBuilder.buildPropertyMapping(Class\u003c?\u003e clazz) // å…·ä½“çš„propertiesè§£æï¼Œä¸ºæ ¹å¯¹è±¡énestedå¯¹è±¡ MappingBuilder.mapEntity(XContentBuilder builder, @Nullable ElasticsearchPersistentEntity\u003c?\u003e entity, boolean isRootObject, String nestedObjectFieldName, boolean nestedOrObjectField, FieldType fieldType, @Nullable Field parentFieldAnnotation, @Nullable DynamicMapping dynamicMapping); MappingBuilder.buildPropertyMapping(XContentBuilder builder, boolean isRootObject, ElasticsearchPersistentProperty property) //åˆ¤æ–­æ˜¯å¦æ˜¯å¸¦æœ‰@Idæ³¨è§£æˆ–è€…æ˜¯å­—æ®µåæ˜¯å¦æ˜¯ idæˆ–è€…document ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶è¿™æ˜¯ä¸»é”®å­—æ®µ ElasticsearchPersistentProperty.isIdProperty() //å¦‚æœæ˜¯ä¸»é”®å­—æ®µåˆ™ç±»å‹è®¾ç½®ä¸ºkeyword MappingBuilder.applyDefaultIdFieldMapping(XContentBuilder builder, ElasticsearchPersistentProperty property) ","description":"\n","tags":[],"title":"\nä½¿ç”¨spring-boot-starter-data-elasticsearch è®¾ç½®äº†longï¼Œä¸ºä»€ä¹ˆå´å˜æˆäº†keywordç±»å‹","uri":"/posts/post-221/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¿®æ”¹åŠ å¯†å’ŒéªŒè¯æ–¹æ³• /** * ç”ŸæˆBCryptPasswordEncoderå¯†ç  * * @param password å¯†ç  * @param salt ç›å€¼ * @return åŠ å¯†å­—ç¬¦ä¸² */ public static String encryptPassword(String password,String salt) { BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); return passwordEncoder.encode(password + salt); } /** * åˆ¤æ–­å¯†ç æ˜¯å¦ç›¸åŒ * * @param rawPassword çœŸå®å¯†ç  * @param encodedPassword åŠ å¯†åå­—ç¬¦ * @param salt ç›å€¼ * @return ç»“æœ */ public static boolean matchesPassword(String rawPassword, String encodedPassword,String salt) { BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); return passwordEncoder.matches(rawPassword + salt, encodedPassword); } è‡ªå®šä¹‰ DaoAuthenticationProvider import com.maruifu.common.core.domain.model.LoginUser; import com.maruifu.common.utils.DateUtils; import com.maruifu.common.utils.SecurityUtils; import org.springframework.security.authentication.BadCredentialsException; import org.springframework.security.authentication.UsernamePasswordAuthenticationToken; import org.springframework.security.authentication.dao.DaoAuthenticationProvider; import org.springframework.security.core.AuthenticationException; import org.springframework.security.core.userdetails.UserDetails; import org.springframework.security.core.Authentication; /** * èº«ä»½éªŒè¯æä¾›è€… * @author maruifu */ public class JwtAuthenticationProvider extends DaoAuthenticationProvider { @Override public Authentication authenticate(Authentication authentication) throws AuthenticationException { // å¯ä»¥åœ¨æ­¤å¤„è¦†å†™æ•´ä¸ªç™»å½•è®¤è¯é€»è¾‘ return super.authenticate(authentication); } /** * é‡å†™åŠ ç›åéªŒè¯é€»è¾‘ * @param userDetails * @param authentication * @throws AuthenticationException */ @Override protected void additionalAuthenticationChecks(UserDetails userDetails, UsernamePasswordAuthenticationToken authentication) throws AuthenticationException { if (authentication.getCredentials() == null) { this.logger.debug(\"Failed to authenticate since no credentials provided\"); throw new BadCredentialsException(this.messages.getMessage(\"AbstractUserDetailsAuthenticationProvider.badCredentials\", \"Bad credentials\")); } else { String presentedPassword = authentication.getCredentials().toString(); LoginUser loginUser = (LoginUser)userDetails ; if (!SecurityUtils.matchesPassword(presentedPassword, userDetails.getPassword(), DateUtils.parseDateToStr(DateUtils.YYYY_MM_DD_HH_MM_SS,loginUser.getUser().getCreateTime()))) { this.logger.debug(\"Failed to authenticate since password does not match stored value\"); throw new BadCredentialsException(this.messages.getMessage(\"AbstractUserDetailsAuthenticationProvider.badCredentials\", \"Bad credentials\")); } } } } æ³¨å†Œåˆ°ProciderManagerä¸­ import com.maruifu.framework.security.handle.JwtAuthenticationProvider; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Bean; import org.springframework.security.authentication.AuthenticationManager; import org.springframework.security.authentication.ProviderManager; import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity; import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter; import org.springframework.security.core.userdetails.UserDetailsService; /** * spring securityé…ç½® * * @author maruifu */ @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true) public class SecurityConfig1 extends WebSecurityConfigurerAdapter { /** * è‡ªå®šä¹‰ç”¨æˆ·è®¤è¯é€»è¾‘ */ @Autowired private UserDetailsService userDetailsService; /** * è§£å†³ æ— æ³•ç›´æ¥æ³¨å…¥ AuthenticationManager * é‡å†™ åŠ ç›åéªŒè¯é€»è¾‘ * * @return */ @Bean @Override public AuthenticationManager authenticationManagerBean(){ JwtAuthenticationProvider provider=new JwtAuthenticationProvider(); provider.setUserDetailsService(userDetailsService); ProviderManager manager=new ProviderManager(provider); return manager; } ......çœç•¥configureæ–¹æ³• } ","description":"\n","tags":[],"title":"\nSpringBoot Securityå¯†ç åŠ ç›","uri":"/posts/post-222/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"Springå¯¹é…ç½®ç±»çš„å¤„ç†ä¸»è¦åˆ†ä¸º2ä¸ªé˜¶æ®µ é…ç½®ç±»è§£æé˜¶æ®µ ä¼šå¾—åˆ°ä¸€æ‰¹é…ç½®ç±»çš„ä¿¡æ¯ï¼Œå’Œä¸€äº›éœ€è¦æ³¨å†Œçš„bean\nbeanæ³¨å†Œé˜¶æ®µ å°†é…ç½®ç±»è§£æé˜¶æ®µå¾—åˆ°çš„é…ç½®ç±»å’Œéœ€è¦æ³¨å†Œçš„beanæ³¨å†Œåˆ°springå®¹å™¨ä¸­\nçœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯é…ç½®ç±»,ç±»ä¸­æœ‰ä¸‹é¢ä»»æ„æ³¨è§£ä¹‹ä¸€çš„å°±å±äºé…ç½®ç±»ï¼š\nç±»ä¸Šæœ‰@Compontentæ³¨è§£ï¼Œ@Configurationæ³¨è§£ï¼Œ@CompontentScanæ³¨è§£ï¼Œ@Importæ³¨è§£ï¼Œ@ImportResourceæ³¨è§£ä»¥åŠç±»ä¸­æœ‰@Beanæ ‡æ³¨çš„æ–¹æ³• çš„éƒ½æ˜¯é…ç½®ç±»\nåˆ¤æ–­ä¸€ä¸ªç±»æ˜¯ä¸æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œæ˜¯å¦çš„æ˜¯ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ï¼š\norg.springframework.context.annotation.ConfigurationClassUtils#isConfigurationCandidate\nspringä¸­å¤„ç†è¿™2ä¸ªè¿‡ç¨‹ä¼šå¾ªç¯è¿›è¡Œï¼Œç›´åˆ°å®Œæˆæ‰€æœ‰é…ç½®ç±»çš„è§£æåŠæ‰€æœ‰beançš„æ³¨å†Œã€‚\nSpringå¯¹é…ç½®ç±»å¤„ç†è¿‡ç¨‹ æºç ä½ç½® org.springframework.context.annotation.ConfigurationClassPostProcessor#processConfigBeanDefinitions\næ•´ä¸ªè¿‡ç¨‹å¤§è‡´çš„è¿‡ç¨‹ é€šå¸¸æˆ‘ä»¬ä¼šé€šè¿‡new AnnotationConfigApplicationContext()ä¼ å…¥å¤šä¸ªé…ç½®ç±»æ¥å¯åŠ¨springå®¹å™¨\nspringå¯¹ä¼ å…¥çš„å¤šä¸ªé…ç½®ç±»è¿›è¡Œè§£æ\né…ç½®ç±»è§£æé˜¶æ®µï¼šè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¤„ç†é…ç½®ç±»ä¸Šé¢6ä¸­æ³¨è§£çš„è¿‡ç¨‹ï¼Œæ­¤è¿‡ç¨‹ä¸­åˆä¼šå‘ç°å¾ˆå¤šæ–°çš„é…ç½®ç±»ï¼Œæ¯”å¦‚@Importå¯¼å…¥çš„ä¸€æ‰¹æ–°çš„ç±»åˆšå¥½ä¹Ÿç¬¦åˆé…ç½®ç±»ï¼Œè€Œè¢«@CompontentScanæ‰«æåˆ°çš„ä¸€äº›ç±»åˆšå¥½ä¹Ÿæ˜¯é…ç½®ç±»ï¼›æ­¤æ—¶ä¼šå¯¹è¿™äº›æ–°äº§ç”Ÿçš„é…ç½®ç±»è¿›è¡ŒåŒæ ·çš„è¿‡ç¨‹è§£æ\nbeanæ³¨å†Œé˜¶æ®µï¼šé…ç½®ç±»è§£æåï¼Œä¼šå¾—åˆ°ä¸€æ‰¹é…ç½®ç±»å’Œä¸€æ‰¹éœ€è¦æ³¨å†Œçš„beanï¼Œæ­¤æ—¶springå®¹å™¨ä¼šå°†è¿™æ‰¹é…ç½®ç±»ä½œä¸ºbeanæ³¨å†Œåˆ°springå®¹å™¨ï¼ŒåŒæ ·ä¹Ÿä¼šå°†è¿™æ‰¹éœ€è¦æ³¨å†Œçš„beanæ³¨å†Œåˆ°springå®¹å™¨\nç»è¿‡ä¸Šé¢ç¬¬3ä¸ªé˜¶æ®µä¹‹åï¼Œspringå®¹å™¨ä¸­ä¼šæ³¨å†Œå¾ˆå¤šæ–°çš„beanï¼Œè¿™äº›æ–°çš„beanä¸­å¯èƒ½åˆæœ‰å¾ˆå¤šæ–°çš„é…ç½®ç±»\nSpringä»å®¹å™¨ä¸­å°†æ‰€æœ‰beanæ‹¿å‡ºæ¥ï¼Œéå†ä¸€ä¸‹ï¼Œä¼šè¿‡æ»¤å¾—åˆ°ä¸€æ‰¹æœªå¤„ç†çš„æ–°çš„é…ç½®ç±»ï¼Œç»§ç»­äº¤ç»™ç¬¬3æ­¥è¿›è¡Œå¤„ç†\nstep3åˆ°step6ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šç»å†å¾ˆå¤šæ¬¡ï¼Œç›´åˆ°å®Œæˆæ‰€æœ‰é…ç½®ç±»çš„è§£æå’Œbeançš„æ³¨å†Œ\nä»ä¸Šé¢è¿‡ç¨‹ä¸­å¯ä»¥äº†è§£åˆ°ï¼š\nå¯ä»¥åœ¨é…ç½®ç±»ä¸Šé¢åŠ ä¸Š@Conditionalæ³¨è§£ï¼Œæ¥æ§åˆ¶æ˜¯å¦éœ€è¦è§£æè¿™ä¸ªé…ç½®ç±»ï¼Œé…ç½®ç±»å¦‚æœä¸è¢«è§£æï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®ä¸Šé¢6ç§æ³¨è§£çš„è§£æéƒ½ä¼šè¢«è·³è¿‡\nå¯ä»¥åœ¨è¢«æ³¨å†Œçš„beanä¸Šé¢åŠ ä¸Š@Conditionalæ³¨è§£ï¼Œæ¥æ§åˆ¶è¿™ä¸ªbeanæ˜¯å¦éœ€è¦æ³¨å†Œåˆ°springå®¹å™¨ä¸­\nå¦‚æœé…ç½®ç±»ä¸ä¼šè¢«æ³¨å†Œåˆ°å®¹å™¨ï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®ç±»è§£ææ‰€äº§ç”Ÿçš„æ‰€æœ‰æ–°çš„é…ç½®ç±»åŠæ‰€äº§ç”Ÿçš„æ‰€æœ‰æ–°çš„beanéƒ½ä¸ä¼šè¢«æ³¨å†Œåˆ°å®¹å™¨\nä¸€ä¸ªé…ç½®ç±»è¢«springå¤„ç†æœ‰2ä¸ªé˜¶æ®µï¼šé…ç½®ç±»è§£æé˜¶æ®µã€beanæ³¨å†Œé˜¶æ®µï¼ˆå°†é…ç½®ç±»ä½œä¸ºbeanè¢«æ³¨å†Œåˆ°springå®¹å™¨)ã€‚\nå¦‚æœå°†Conditionæ¥å£çš„å®ç°ç±»ä½œä¸ºé…ç½®ç±»ä¸Š@Conditionalä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¡ä»¶ä¼šå¯¹ä¸¤ä¸ªé˜¶æ®µéƒ½æœ‰æ•ˆï¼Œæ­¤æ—¶é€šè¿‡Conditionæ˜¯æ— æ³•ç²¾ç»†çš„æ§åˆ¶æŸä¸ªé˜¶æ®µçš„ï¼Œå¦‚æœæƒ³æ§åˆ¶æŸä¸ªé˜¶æ®µï¼Œæ¯”å¦‚å¯ä»¥è®©ä»–è§£æï¼Œä½†æ˜¯ä¸èƒ½è®©ä»–æ³¨å†Œï¼Œæ­¤æ—¶å°±å°±éœ€è¦ç”¨åˆ°å¦å¤–ä¸€ä¸ªæ¥å£äº†ï¼šConfigurationCondition\nConfigurationConditionæ¥å£ ç›¸å¯¹äºConditionæ¥å£å¤šäº†ä¸€ä¸ªgetConfigurationPhaseæ–¹æ³•ï¼Œç”¨æ¥æŒ‡å®šæ¡ä»¶åˆ¤æ–­çš„é˜¶æ®µï¼Œæ˜¯åœ¨è§£æé…ç½®ç±»çš„æ—¶å€™è¿‡æ»¤è¿˜æ˜¯åœ¨åˆ›å»ºbeançš„æ—¶å€™è¿‡æ»¤ã€‚\nConditionalä½¿ç”¨çš„3æ­¥éª¤ è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Conditionæˆ–ConfigurationConditionæ¥å£ï¼Œå®ç°matchesæ–¹æ³•\nåœ¨ç›®æ ‡å¯¹è±¡ä¸Šä½¿ç”¨@Conditionalæ³¨è§£ï¼Œå¹¶æŒ‡å®švalueçš„æŒ‡ä¸ºè‡ªå®šä¹‰çš„Conditionç±»å‹\nå¯åŠ¨springå®¹å™¨åŠ è½½èµ„æºï¼Œæ­¤æ—¶@Conditionalå°±ä¼šèµ·ä½œç”¨äº†\né˜»æ­¢é…ç½®ç±»çš„å¤„ç† åœ¨é…ç½®ç±»ä¸Šé¢ä½¿ç”¨@Conditionalï¼Œè¿™ä¸ªæ³¨è§£çš„valueæŒ‡å®šçš„Conditionå½“æœ‰ä¸€ä¸ªä¸ºfalseçš„æ—¶å€™ï¼Œspringå°±ä¼šè·³è¿‡å¤„ç†è¿™ä¸ªé…ç½®ç±»ã€‚\nè‡ªå®šä¹‰ä¸€ä¸ªConditionç±»ï¼š\nimport org.springframework.beans.factory.config.YamlPropertiesFactoryBean; import org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.context.annotation.Configuration; import org.springframework.core.io.ClassPathResource; import org.springframework.core.type.AnnotatedTypeMetadata; /** * è‡ªå®šä¹‰æ§åˆ¶å™¨ * * @author maruifu * @date 2022-12-07 */ @Configuration public class DslLogCondition implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { // è¯»å–é…ç½®æ–‡ä»¶application.ymlä¸­ spring.elasticsearch.dslLog: true é…ç½® YamlPropertiesFactoryBean y=new YamlPropertiesFactoryBean(); y.setResources(new ClassPathResource(\"application.yml\")); return (Boolean) y.getObject().get(\"spring.elasticsearch.dslLog\"); } } matchesæ–¹æ³•å†…éƒ¨æˆ‘ä»¬å¯ä»¥éšæ„å‘æŒ¥ï¼Œæ­¤å¤„ä¸ºäº†æ¼”ç¤ºæ•ˆæœè¯»å–çš„é…ç½®æ–‡ä»¶ã€‚\næ¥ä¸ªé…ç½®ç±»ï¼Œåœ¨é…ç½®ç±»ä¸Šé¢ä½¿ç”¨ä¸Šé¢è¿™ä¸ªæ¡ä»¶ï¼Œæ­¤æ—¶ä¼šè®©é…ç½®ç±»å¤±æ•ˆï¼Œå¦‚ä¸‹ï¼š\nimport org.elasticsearch.client.RestHighLevelClient; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Conditional; import org.springframework.context.annotation.Configuration; import org.springframework.data.elasticsearch.client.ClientConfiguration; import org.springframework.data.elasticsearch.client.RestClients; /** * ç”¨äºæ‰“å°dslè¯­å¥ */ @Configuration public class EsConfig { @Value(\"${spring.elasticsearch.rest.uris}\") private String elasticsearchHost; @Conditional(DslLogCondition.class) @Bean(destroyMethod = \"close\") public RestHighLevelClient restClient() { ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(elasticsearchHost).build(); RestHighLevelClient client = RestClients.create(clientConfiguration).rest(); return client; } } 1ï¼šä½¿ç”¨äº†è‡ªå®šä¹‰çš„æ¡ä»¶ç±»\n2ï¼šé€šè¿‡@Beanæ ‡æ³¨è¿™restClientè¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¿™ä¸ªé…ç½®ç±»æˆåŠŸè§£æï¼Œä¼šå°†restClientæ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºbeanæ³¨å†Œåˆ°springå®¹å™¨\nbeanä¸å­˜åœ¨çš„æ—¶å€™æ‰æ³¨å†Œ IServiceæ¥å£æœ‰ä¸¤ä¸ªå®ç°ç±»Service1å’ŒService1ï¼Œè¿™ä¸¤ä¸ªç±»ä¼šæ”¾åœ¨2ä¸ªé…ç½®ç±»ä¸­é€šè¿‡@Beançš„æ–¹å¼æ¥æ³¨å†Œåˆ°å®¹å™¨ï¼Œæ­¤æ—¶æˆ‘ä»¬æƒ³åŠ ä¸ªé™åˆ¶ï¼Œåªå…è®¸æœ‰ä¸€ä¸ªIServiceç±»å‹çš„beanè¢«æ³¨å†Œåˆ°å®¹å™¨ã€‚\nå¯ä»¥åœ¨@Beanæ ‡æ³¨çš„2ä¸ªæ–¹æ³•ä¸Šé¢åŠ ä¸Šæ¡ä»¶é™åˆ¶ï¼Œå½“å®¹å™¨ä¸­ä¸å­˜åœ¨IServiceç±»å‹çš„beanæ—¶ï¼Œæ‰å°†è¿™ä¸ªæ–¹æ³•å®šä¹‰çš„beanæ³¨å†Œåˆ°å®¹å™¨ï¼Œä¸‹é¢æ¥çœ‹ä»£ç å®ç°ã€‚\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory; import org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.context.annotation.ConfigurationCondition; import org.springframework.core.type.AnnotatedTypeMetadata; import java.util.Map; public class OnMissingBeanCondition implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { //è·å–beanå·¥å‚ ConfigurableListableBeanFactory beanFactory = context.getBeanFactory(); //ä»å®¹å™¨ä¸­è·å–IServiceç±»å‹bean Map\u003cString, IService\u003e serviceMap = beanFactory.getBeansOfType(IService.class); //åˆ¤æ–­serviceMapæ˜¯å¦ä¸ºç©º return serviceMap.isEmpty(); } ä¸Šé¢matchesæ–¹æ³•ä¸­ä¼šçœ‹å®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨IServiceç±»å‹çš„beanï¼Œä¸å­˜åœ¨çš„æ—¶å€™è¿”å›true\næ¥ä¸€ä¸ªé…ç½®ç±»è´Ÿè´£æ³¨å†ŒService1åˆ°å®¹å™¨\nimport org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Conditional; import org.springframework.context.annotation.Configuration; @Configuration public class BeanConfig1 { @Conditional(OnMissingBeanCondition.class) //@1 @Bean public IService service1() { return new Service1(); } } å†æ¥ä¸€ä¸ªé…ç½®ç±»è´Ÿè´£æ³¨å†ŒService2åˆ°å®¹å™¨\nimport org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Conditional; import org.springframework.context.annotation.Configuration; @Configuration public class BeanConfig2 { @Conditional(OnMissingBeanCondition.class)//@1 @Bean public IService service2() { return new Service2(); } æ¥ä¸€ä¸ªæ€»çš„é…ç½®ç±»ï¼Œå¯¼å…¥å¦å¤–2ä¸ªé…ç½®ç±»\nimport org.springframework.context.annotation.Configuration; import org.springframework.context.annotation.Import; @Configuration @Import({BeanConfig1.class,BeanConfig2.class}) public class MainConfig { } æ ¹æ®ç¯å¢ƒé€‰æ‹©é…ç½®ç±» å¹³å¸¸æˆ‘ä»¬åšé¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€çº¿ä¸Šç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒä¸­æœ‰äº›ä¿¡æ¯æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸åŒç¯å¢ƒä¸­ä½¿ç”¨ä¸åŒçš„é…ç½®ç±»æ¥æ³¨å†Œä¸åŒçš„bean\nè‡ªå®šä¹‰ä¸€ä¸ªæ¡ä»¶çš„æ³¨è§£\nimport org.springframework.context.annotation.Conditional; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; @Conditional(EnvCondition.class) //@1 @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) public @interface EnvConditional { //ç¯å¢ƒ(æµ‹è¯•ç¯å¢ƒã€å¼€å‘ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒ) enum Env { //@2 TEST, DEV, PROD } //ç¯å¢ƒ Env value() default Env.DEV; //@3 } @1ï¼šæ³¨æ„è¿™ä¸ªæ³¨è§£æ¯”è¾ƒç‰¹åˆ«ï¼Œè¿™ä¸ªæ³¨è§£ä¸Šé¢ä½¿ç”¨åˆ°äº†@Conditionalæ³¨è§£ï¼Œè¿™ä¸ªåœ°æ–¹ä½¿ç”¨åˆ°äº†ä¸€ä¸ªè‡ªå®šä¹‰Conditioneç±»ï¼šEnvCondition\n@2ï¼šæšä¸¾ï¼Œè¡¨ç¤ºç¯å¢ƒï¼Œå®šä¹‰äº†3ä¸ªç¯å¢ƒ\n@3ï¼šè¿™ä¸ªå‚æ•°ç”¨æŒ‡å®šç¯å¢ƒ\nä¸Šé¢è¿™ä¸ªæ³¨è§£ä¸€ä¼šæˆ‘ä»¬ä¼šç”¨åœ¨ä¸åŒç¯å¢ƒçš„é…ç½®ç±»ä¸Šé¢\nä¸‹é¢æ¥3ä¸ªé…ç½®ç±» è®©3ä¸ªé…ç½®ç±»åˆ†åˆ«åœ¨ä¸åŒç¯å¢ƒä¸­ç”Ÿæ•ˆï¼Œä¼šåœ¨è¿™äº›é…ç½®ç±»ä¸Šé¢ä½¿ç”¨ä¸Šé¢è‡ªå®šä¹‰çš„@EnvConditionalæ³¨è§£æ¥åšæ¡ä»¶é™å®šã€‚\næ¯ä¸ªé…ç½®ç±»ä¸­é€šè¿‡@Beanæ¥å®šä¹‰ä¸€ä¸ªåç§°ä¸ºnameçš„beanï¼Œä¸€ä¼šé€šè¿‡è¾“å‡ºè¿™ä¸ªbeanæ¥åˆ¤æ–­å“ªä¸ªé…ç½®ç±»ç”Ÿæ•ˆäº†ã€‚\nä¸‹é¢æ¥çœ‹3ä¸ªé…ç½®ç±»çš„ä»£ç \næµ‹è¯•ç¯å¢ƒé…ç½®ç±»\npackage com.javacode2018.lesson001.demo25.test2; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration @EnvConditional(EnvConditional.Env.TEST)//@1 public class TestBeanConfig { @Bean public String name() { return \"æˆ‘æ˜¯æµ‹è¯•ç¯å¢ƒ!\"; } } @1æŒ‡å®šçš„æµ‹è¯•ç¯å¢ƒ\nå¼€å‘ç¯å¢ƒé…ç½®ç±»\npackage com.javacode2018.lesson001.demo25.test2; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration @EnvConditional(EnvConditional.Env.DEV) //@1 public class DevBeanConfig { @Bean public String name() { return \"æˆ‘æ˜¯å¼€å‘ç¯å¢ƒ!\"; } } @1ï¼šæŒ‡å®šçš„å¼€å‘ç¯å¢ƒ\nç”Ÿäº§ç¯å¢ƒé…ç½®ç±»\npackage com.javacode2018.lesson001.demo25.test2; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration @EnvConditional(EnvConditional.Env.PROD) //@1 public class ProdBeanConfig { @Bean public String name() { return \"æˆ‘æ˜¯ç”Ÿäº§ç¯å¢ƒ!\"; } } @1ï¼šæŒ‡å®šçš„ç”Ÿäº§ç¯å¢ƒ\nä¸‹é¢æ¥çœ‹ä¸€ä¸‹æ¡ä»¶ç±»ï¼šEnvCondition\næ¡ä»¶ç±»ä¼šè§£æé…ç½®ç±»ä¸Šé¢@EnvConditionalæ³¨è§£ï¼Œå¾—åˆ°ç¯å¢ƒä¿¡æ¯ã€‚\nç„¶åå’Œç›®å‰çš„ç¯å¢ƒå¯¹æ¯”ï¼Œå†³å®šè¿”å›trueè¿˜æ˜¯falseï¼Œå¦‚ä¸‹ï¼š\nimport org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.core.type.AnnotatedTypeMetadata; public class EnvCondition implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { //å½“å‰éœ€è¦ä½¿ç”¨çš„ç¯å¢ƒ EnvConditional.Env curEnv = EnvConditional.Env.DEV; //@1 //è·å–ä½¿ç”¨æ¡ä»¶çš„ç±»ä¸Šçš„EnvConditionæ³¨è§£ä¸­å¯¹åº”çš„ç¯å¢ƒ EnvConditional.Env env = (EnvConditional.Env) metadata.getAllAnnotationAttributes(EnvConditional.class.getName()).get(\"value\").get(0); return env.equals(curEnv); } } @1ï¼šè¿™ä¸ªç”¨æ¥æŒ‡å®šå½“å‰ä½¿ç”¨çš„ç¯å¢ƒï¼Œæ­¤å¤„å‡å®šå½“å‰ä½¿ç”¨çš„æ˜¯å¼€å‘ç¯å¢ƒï¼Œè¿™ä¸ªæˆ‘ä»¬ä»¥åå¯ä»¥ä»»æ„å‘æŒ¥ï¼Œæ¯”å¦‚å°†è¿™äº›æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œæ­¤å¤„æ–¹ä¾¿æ¼”ç¤ºæ•ˆæœã€‚\nConditionæŒ‡å®šä¼˜å…ˆçº§ å¤šä¸ªConditionæŒ‰é¡ºåºæ‰§è¡Œ @Condtionalä¸­valueæŒ‡å®šå¤šä¸ªCondtionçš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œè¿˜æ˜¯é€šè¿‡ä»£ç æ¥çœ‹ä¸€ä¸‹æ•ˆæœã€‚\nä¸‹é¢ä»£ç ä¸­å®šä¹‰äº†3ä¸ªConditionï¼Œæ¯ä¸ªConditionçš„matchesæ–¹æ³•ä¸­ä¼šè¾“å‡ºå½“å‰ç±»åï¼Œç„¶ååœ¨é…ç½®ç±»ä¸Šé¢åŒæ—¶ä½¿ç”¨è¿™3ä¸ªCondition\nimport org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.context.annotation.Conditional; import org.springframework.context.annotation.Configuration; import org.springframework.core.type.AnnotatedTypeMetadata; class Condition1 implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } } class Condition2 implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } } class Condition3 implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } } @Configuration @Conditional({Condition1.class, Condition2.class, Condition3.class}) public class MainConfig5 { } æŒ‡å®šConditionçš„é¡ºåº è‡ªå®šä¹‰çš„Conditionå¯ä»¥å®ç°PriorityOrderedæ¥å£æˆ–è€…ç»§æ‰¿Orderedæ¥å£ï¼Œæˆ–è€…ä½¿ç”¨@Orderæ³¨è§£ï¼Œé€šè¿‡è¿™äº›æ¥æŒ‡å®šè¿™äº›Conditionçš„ä¼˜å…ˆçº§ã€‚\næ’åºè§„åˆ™ï¼šå…ˆæŒ‰PriorityOrderedæ’åºï¼Œç„¶åæŒ‰ç…§orderçš„å€¼è¿›è¡Œæ’åºï¼›ä¹Ÿå°±æ˜¯ï¼šPriorityOrdered asc,orderå€¼ asc\nä¸‹é¢è¿™å‡ ä¸ªéƒ½å¯ä»¥æŒ‡å®šorderçš„å€¼ æ¥å£ï¼šorg.springframework.core.Orderedï¼Œæœ‰ä¸ªgetOrderæ–¹æ³•ç”¨æ¥è¿”å›intç±»å‹çš„å€¼ æ¥å£ï¼šorg.springframework.core.PriorityOrderedï¼Œç»§æ‰¿äº†Orderedæ¥å£ï¼Œæ‰€ä»¥ä¹Ÿæœ‰getOrderæ–¹æ³• æ³¨è§£ï¼šorg.springframework.core.annotation.Orderï¼Œæœ‰ä¸ªintç±»å‹çš„valueå‚æ•°æŒ‡å®šOrderçš„å¤§å°\nimport org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.context.annotation.Conditional; import org.springframework.context.annotation.Configuration; import org.springframework.core.Ordered; import org.springframework.core.PriorityOrdered; import org.springframework.core.annotation.Order; import org.springframework.core.type.AnnotatedTypeMetadata; @Order(1) //@1 class Condition1 implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } } class Condition2 implements Condition, Ordered { //@2 @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } @Override public int getOrder() { //@3 return 0; } } class Condition3 implements Condition, PriorityOrdered { //@4 @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { System.out.println(this.getClass().getName()); return true; } @Override public int getOrder() { return 1000; } } @Configuration @Conditional({Condition1.class, Condition2.class, Condition3.class})//@5 public class MainConfig6 { } @1ï¼šCondition1é€šè¿‡@OrderæŒ‡å®šé¡ºåºï¼Œå€¼ä¸º1\n@2ï¼šCondition2é€šè¿‡å®ç°äº†Orderedæ¥å£æ¥æŒ‡å®šé¡ºåºï¼Œ@3ï¼šgetOrderæ–¹æ³•è¿”å›1\n@4ï¼šCondition3å®ç°äº†PriorityOrderedæ¥å£ï¼Œå®ç°è¿™ä¸ªæ¥å£éœ€è¦é‡å†™getOrderæ–¹æ³•ï¼Œè¿”å›1000\n@5ï¼šCondtioné¡ºåºä¸º1ã€2ã€3\nConfigurationConditionä½¿ç”¨ ConfigurationConditionä½¿ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå¾ˆå¤šåœ°æ–¹å¯¹è¿™ä¸ªåŸºæœ¬ä¸Šä¹Ÿä¸ä¼šå»ä»‹ç»ï¼ŒConditionæ¥å£åŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³99%çš„éœ€æ±‚äº†ï¼Œä½†æ˜¯springbootä¸­å´å¤§é‡ç”¨åˆ°äº†ConfigurationConditionè¿™ä¸ªæ¥å£ã€‚\nConfigurationConditioné€šè¿‡è§£é‡Šæ¯”è¾ƒéš¾ç†è§£ï¼Œæ¥ä¸ªæ¡ˆä¾‹æ„Ÿå—ä¸€ä¸‹ï¼š\næ¥ä¸€ä¸ªæ™®é€šçš„ç±»ï¼šService\npublic class Service { } æ¥ä¸€ä¸ªé…ç½®ç±»ï¼Œé€šè¿‡é…ç½®ç±»æ³¨å†Œä¸Šé¢è¿™ä¸ªService\n1 2 3 4 5 6 7 8 9 10 11 import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class BeanConfig1 { @Bean public Service service() { return new Service(); } } å†æ¥ä¸€ä¸ªé…ç½®ç±»ï¼šBeanConfig2\nimport org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class BeanConfig2 { @Bean public String name() { return \"è·¯äººç”²Java\"; } } æ¥ä¸€ä¸ªæ€»çš„é…ç½®ç±»\nimport org.springframework.context.annotation.Configuration; import org.springframework.context.annotation.Import; @Configuration @Import({BeanConfig1.class, BeanConfig2.class}) public class MainConfig7 { } ç°åœ¨æˆ‘ä»¬æœ‰ä¸ªéœ€æ±‚\nå½“å®¹å™¨ä¸­æœ‰Serviceè¿™ç§ç±»å‹çš„beançš„æ—¶å€™ï¼ŒBeanConfig2æ‰ç”Ÿæ•ˆã€‚\nå¾ˆç®€å•å§ï¼ŒåŠ ä¸ªConditionå°±è¡Œäº†ï¼Œå†…éƒ¨åˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰Serviceç±»å‹çš„beanï¼Œç»§ç»­\næ¥ä¸ªè‡ªå®šä¹‰çš„Condition\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import org.springframework.beans.factory.config.ConfigurableListableBeanFactory; import org.springframework.context.annotation.Condition; import org.springframework.context.annotation.ConditionContext; import org.springframework.core.type.AnnotatedTypeMetadata; public class MyCondition1 implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { //è·å–springå®¹å™¨ ConfigurableListableBeanFactory beanFactory = context.getBeanFactory(); //åˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨Serviceç±»å‹çš„bean boolean existsService = !beanFactory.getBeansOfType(Service.class).isEmpty(); return existsService; } } ä¸Šé¢ä»£ç å¾ˆç®€å•ï¼Œåˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰IServiceç±»å‹çš„beanã€‚\n@Configuration @Conditional(MyCondition1.class) public class BeanConfig2 { @Bean public String name() { return \"è·¯äººç”²Java\"; } } ç»“æœnameæ°¸è¿œæ³¨å†Œä¸ä¸Š\nä¸ºä»€ä¹ˆï¼Ÿ åœ¨æ–‡ç« å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œé…ç½®ç±»çš„å¤„ç†ä¼šä¾æ¬¡ç»è¿‡2ä¸ªé˜¶æ®µï¼šé…ç½®ç±»è§£æé˜¶æ®µå’Œbeanæ³¨å†Œé˜¶æ®µï¼ŒConditionæ¥å£ç±»å‹çš„æ¡ä»¶ä¼šå¯¹è¿™ä¸¤ä¸ªé˜¶æ®µéƒ½æœ‰æ•ˆï¼Œè§£æé˜¶æ®µçš„æ—¶å€™ï¼Œå®¹å™¨ä¸­æ˜¯è¿˜æ²¡æœ‰Serviceè¿™ä¸ªbeançš„ï¼Œé…ç½®ç±»ä¸­é€šè¿‡@Beanæ³¨è§£å®šä¹‰çš„beanåœ¨beanæ³¨å†Œé˜¶æ®µæ‰ä¼šè¢«æ³¨å†Œåˆ°springå®¹å™¨ï¼Œæ‰€ä»¥BeanConfig2åœ¨è§£æé˜¶æ®µå»å®¹å™¨ä¸­æ˜¯çœ‹ä¸åˆ°Serviceè¿™ä¸ªbeançš„ï¼Œæ‰€ä»¥å°±è¢«æ‹’ç»äº†ã€‚\næ­¤æ—¶æˆ‘ä»¬éœ€è¦ç”¨åˆ°ConfigurationConditionäº†ï¼Œè®©æ¡ä»¶åˆ¤æ–­åœ¨beanæ³¨å†Œé˜¶æ®µæ‰èµ·æ•ˆã€‚\nè‡ªå®šä¹‰ä¸€ä¸ªConfigurationConditionç±» import org.springframework.beans.factory.config.ConfigurableListableBeanFactory; import org.springframework.context.annotation.ConditionContext; import org.springframework.context.annotation.ConfigurationCondition; import org.springframework.core.type.AnnotatedTypeMetadata; public class MyConfigurationCondition1 implements ConfigurationCondition { @Override public ConfigurationPhase getConfigurationPhase() { return ConfigurationPhase.REGISTER_BEAN; //@1 } @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { //è·å–springå®¹å™¨ ConfigurableListableBeanFactory beanFactory = context.getBeanFactory(); //åˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨Serviceç±»å‹çš„bean boolean existsService = !beanFactory.getBeansOfType(Service.class).isEmpty(); return existsService; } } @1ï¼šæŒ‡å®šæ¡ä»¶åœ¨beanæ³¨å†Œé˜¶æ®µï¼Œè¿™ä¸ªæ¡ä»¶æ‰æœ‰æ•ˆ\nmatchesæ–¹æ³•ä¸­çš„å†…å®¹ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåˆ¤æ–­è§„åˆ™ä¸å˜\nä¿®æ”¹BeanConfig2çš„ç±»å®¹\nå°† @Conditional(MyCondition1.class) æ›¿æ¢ä¸º @Conditional(MyConfigurationCondition1.class) æ­¤æ—¶nameè¿™ä¸ªbeanè¢«æ³¨å…¥äº†ã€‚\nå¯ä»¥å†è¯•è¯•å°†BeanConfig1ä¸­serviceæ–¹æ³•ä¸Šé¢çš„@Beanå»æ‰ï¼Œæ­¤æ—¶Serviceå°±ä¸ä¼šè¢«æ³¨å†Œåˆ°å®¹å™¨\nåˆ¤æ–­beanå­˜ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œé€šå¸¸ä¼šä½¿ç”¨ConfigurationConditionè¿™ä¸ªæ¥å£ï¼Œé˜¶æ®µä¸ºï¼šREGISTER_BEANï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ¡ä»¶åˆ¤æ–­æ˜¯åœ¨beanæ³¨å†Œé˜¶æ®µæ‰§è¡Œçš„ã€‚\nå¯¹springbootæ¯”è¾ƒç†Ÿæ‚‰çš„ï¼Œå®ƒé‡Œé¢æœ‰å¾ˆå¤š@Conditionxxxè¿™æ ·çš„æ³¨è§£ï¼Œå¯ä»¥å»çœ‹ä¸€ä¸‹è¿™äº›æ³¨è§£ï¼Œå¾ˆå¤šéƒ½å®ç°äº†ConfigurationConditionæ¥å£ã€‚\nSpringä¸­è¿™å—çš„æºç  @Conditionalæ³¨è§£æ˜¯è¢«ä¸‹é¢è¿™ä¸ªç±»å¤„ç†çš„\n1 org.springframework.context.annotation.ConfigurationClassPostProcessor æ€»ç»“ @Conditionalæ³¨è§£å¯ä»¥æ ‡æ³¨åœ¨springéœ€è¦å¤„ç†çš„å¯¹è±¡ä¸Šï¼ˆé…ç½®ç±»ã€@Beanæ–¹æ³•ï¼‰ï¼Œç›¸å½“äºåŠ äº†ä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œé€šè¿‡åˆ¤æ–­çš„ç»“æœï¼Œè®©springè§‰å¾—æ˜¯å¦è¦ç»§ç»­å¤„ç†è¢«è¿™ä¸ªæ³¨è§£æ ‡æ³¨çš„å¯¹è±¡\nspringå¤„ç†é…ç½®ç±»å¤§è‡´æœ‰2ä¸ªè¿‡ç¨‹ï¼šè§£æé…ç½®ç±»ã€æ³¨å†Œbeanï¼Œè¿™ä¸¤ä¸ªè¿‡ç¨‹ä¸­éƒ½å¯ä»¥ä½¿ç”¨@Conditionalæ¥è¿›è¡Œæ§åˆ¶springæ˜¯å¦éœ€è¦å¤„ç†è¿™ä¸ªè¿‡ç¨‹\nConditioné»˜è®¤ä¼šå¯¹2ä¸ªè¿‡ç¨‹éƒ½æœ‰æ•ˆ\nConfigurationConditionæ§åˆ¶å¾—æ›´ç»†ä¸€äº›ï¼Œå¯ä»¥æ§åˆ¶åˆ°å…·ä½“é‚£ä¸ªé˜¶æ®µä½¿ç”¨æ¡ä»¶åˆ¤æ–­\n","description":"\n","tags":[],"title":"\nSpringä¸­@Conditionalé€šè¿‡æ¡ä»¶æ¥æ§åˆ¶beançš„æ³¨å†Œ","uri":"/posts/post-223/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"application.ymlå¢åŠ é…ç½® # æ—¥å¿—é…ç½® logging: level: #esæ—¥å¿— org.springframework.data.elasticsearch.client.WIRE : trace å¢åŠ é…ç½®ç±» package com.maruifu.business.config; import org.elasticsearch.client.RestHighLevelClient; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.data.elasticsearch.client.ClientConfiguration; import org.springframework.data.elasticsearch.client.RestClients; /** * ç”¨äºæ‰“å°dslè¯­å¥ */ @Configuration public class EsConfig { @Bean(destroyMethod = \"close\") public RestHighLevelClient restClient() { ClientConfiguration clientConfiguration = ClientConfiguration.builder() .connectedTo(\"172.16.45.138:11700\") .build(); RestHighLevelClient client = RestClients.create(clientConfiguration).rest(); return client; } } æŸ¥çœ‹æ‰“å°æ•ˆæœ ","description":"\n","tags":[],"title":"\nSpringDataElasticsearchæ§åˆ¶å°æ‰“å°æŸ¥è¯¢è¯­å¥","uri":"/posts/post-224/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å…è´£å£°æ˜ æœ¬è„šæœ¬ä¸ºå…è´¹ä½¿ç”¨ï¼Œæœ¬è„šæœ¬åªä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼Œä½¿ç”¨éœ€ä¸¥æ ¼éµå®ˆå¼€æºè®¸å¯åè®®ã€‚ä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”ï¼Œç¦æ­¢è¿›è¡Œä»»ä½•ç›ˆåˆ©æ´»åŠ¨ã€‚å¯¹ä¸€åˆ‡éæ³•ä½¿ç”¨æ‰€äº§ç”Ÿçš„åæœï¼Œæ¦‚ä¸è´Ÿè´£ï¼\n#!/bin/bash set -e file=$(defaults read /Applications/Navicat\\ Premium.app/Contents/Info.plist) regex=\"CFBundleShortVersionString = \"([^\\.]+)\" [[ $file =~ $regex ]] version=${BASH_REMATCH[1]} echo \"Detected Navicat Premium version $version\" case $version in \"16\") file=~/Library/Preferences/com.navicat.NavicatPremium.plist ;; \"15\") file=~/Library/Preferences/com.prect.NavicatPremium15.plist ;; *) echo \"Version '$version' not handled\" exit 1 ;; esac echo -n \"Reseting trial time...\" regex=\"([0-9A-Z]{32}) = \" [[ $(defaults read $file) =~ $regex ]] hash=${BASH_REMATCH[1]} if [ ! -z $hash ]; then defaults delete $file $hash fi regex=\"\\.([0-9A-Z]{32})\" [[ $(ls -a ~/Library/Application\\ Support/PremiumSoft\\ CyberTech/Navicat\\ CC/Navicat\\ Premium/ | grep '^\\.') =~ $regex ]] hash2=${BASH_REMATCH[1]} if [ ! -z $hash2 ]; then rm ~/Library/Application\\ Support/PremiumSoft\\ CyberTech/Navicat\\ CC/Navicat\\ Premium/.$hash2 fi echo \" Done\" ","description":"\n","tags":[],"title":"\nnavicat16 macç‰ˆæ— é™é‡ç½®è¯•ç”¨æœŸè„šæœ¬","uri":"/posts/post-225/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"\nHashMapé›†åˆç®€ä»‹ HashMapåŸºäºå“ˆå¸Œè¡¨çš„Mapæ¥å£å®ç°ï¼Œæ˜¯ä»¥key-valueå­˜å‚¨å½¢å¼å­˜åœ¨ï¼Œå³ä¸»è¦ç”¨æ¥å­˜æ”¾é”®å€¼å¯¹ã€‚HashMapçš„å®ç°ä¸æ˜¯åŒæ­¥çš„ï¼Œè¿™æ„å‘³ç€å®ƒä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å®ƒçš„keyã€valueéƒ½å¯ä»¥ä¸ºnullã€‚æ­¤å¤–ï¼ŒHashMapä¸­çš„æ˜ å°„ä¸æ˜¯æœ‰åºçš„ã€‚\nJDK1.8ä¹‹å‰çš„HashMapç”±æ•°ç»„+é“¾è¡¨ç»„æˆçš„ï¼Œæ•°ç»„æ˜¯HashMapçš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†èŠ‚è§£å†³å“ˆå¸Œç¢°æ’(ä¸¤ä¸ªå¯¹è±¡è°ƒç”¨çš„hashCodeæ–¹æ³•è®¡ç®—çš„å“ˆå¸Œç å€¼ä¸€è‡´å¯¼è‡´è®¡ç®—çš„æ•°ç»„ç´¢å¼•å€¼ç›¸åŒ)è€Œå­˜åœ¨çš„ï¼ˆâ€œæ‹‰é“¾æ³•â€è§£å†³å†²çªï¼‰ã€‚\nJDK1.8ä¹‹ååœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆæˆ–è€…çº¢é»‘æ ‘çš„è¾¹ç•Œå€¼ï¼Œé»˜è®¤ä¸º8ï¼‰å¹¶ä¸”å½“å‰æ•°ç»„çš„é•¿åº¦å¤§äº64æ—¶ï¼Œæ­¤æ—¶æ­¤ç´¢å¼•ä½ç½®ä¸Šçš„æ‰€æœ‰æ•°æ®æ”¹ä¸ºä½¿ç”¨çº¢é»‘æ ‘å­˜å‚¨ã€‚\næ•°ç»„é‡Œé¢éƒ½æ˜¯key-valueçš„å®ä¾‹ï¼Œåœ¨JDK1.8ä¹‹å‰å«åšEntryï¼Œåœ¨JDK1.8ä¹‹åå«åšNodeã€‚\nç”±äºå®ƒçš„keyã€valueéƒ½ä¸ºnullï¼Œæ‰€ä»¥åœ¨æ’å…¥çš„æ—¶å€™ä¼šæ ¹æ®keyçš„hashå»è®¡ç®—ä¸€ä¸ªindexç´¢å¼•çš„å€¼ã€‚è®¡ç®—ç´¢å¼•çš„æ–¹æ³•å¦‚ä¸‹ï¼š\n/** * æ ¹æ®keyæ±‚indexçš„è¿‡ç¨‹ * 1,å…ˆç”¨keyæ±‚å‡ºhashå€¼ */ static final int hash(Object key) { int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h \u003e\u003e\u003e 16); } //2,å†ç”¨å…¬å¼index = (n - 1) \u0026 hashï¼ˆnæ˜¯æ•°ç»„é•¿åº¦ï¼‰ int hash=hash(key); index=(n-1)\u0026hash; è¿™é‡Œçš„Hashç®—æ³•æœ¬è´¨ä¸Šå°±æ˜¯ä¸‰æ­¥ï¼šå–keyçš„hashCodeå€¼ã€é«˜ä½è¿ç®—ã€å–æ¨¡è¿ç®—ã€‚\nè¿™æ ·çš„è¯æ¯”å¦‚è¯´put(â€œAâ€,ç‹ç‚¸)ï¼Œæ’å…¥äº†keyä¸º\"A\"çš„å…ƒç´ ï¼Œè¿™æ—¶å€™é€šè¿‡ä¸Šè¿°å…¬å¼è®¡ç®—å‡ºæ’å…¥çš„ä½ç½®indexï¼Œè‹¥indexä¸º3åˆ™ç»“æœå¦‚ä¸‹ï¼ˆå³hash(â€œAâ€)=3ï¼‰ï¼š\né‚£ä¹ˆï¼ŒHashMapä¸­çš„é“¾è¡¨åˆæ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿ\nå¤§å®¶éƒ½çŸ¥é“æ•°ç»„çš„é•¿åº¦æ˜¯æœ‰é™çš„ï¼Œåœ¨æœ‰é™çš„é•¿åº¦é‡Œé¢ä½¿ç”¨å“ˆå¸Œå‡½æ•°è®¡ç®—indexçš„å€¼æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½æ’å…¥çš„kå€¼ä¸åŒï¼Œä½†æ‰€äº§ç”Ÿçš„hashæ˜¯ç›¸åŒçš„ï¼ˆä¹Ÿå«åšå“ˆå¸Œç¢°æ’ï¼‰ï¼Œè¿™ä¹Ÿå°±æ˜¯å“ˆå¸Œå‡½æ•°å­˜åœ¨ä¸€å®šçš„æ¦‚ç‡æ€§ã€‚å°±åƒä¸Šé¢çš„Kå€¼ä¸ºAçš„å…ƒç´ ï¼Œå¦‚æœå†æ¬¡æ’å…¥ä¸€ä¸ªKå€¼ä¸ºaçš„å…ƒç´ ï¼Œå¾ˆæœ‰å¯èƒ½æ‰€äº§ç”Ÿçš„indexå€¼ä¹Ÿä¸º3ï¼Œä¹Ÿå°±æ˜¯å³hash(â€œaâ€)=3ï¼›é‚£è¿™å°±å½¢æˆäº†é“¾è¡¨ï¼Œè¿™ç§è§£å†³å“ˆå¸Œç¢°æ’çš„æ–¹æ³•ä¹Ÿå«åšæ‹‰é“¾æ³•ã€‚\nå½“è¿™ä¸ªé“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼8å¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº64åˆ™è¿›è¡Œå°†é“¾è¡¨å˜ä¸ºçº¢é»‘æ ‘ã€‚\nå°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘å‰ä¼šåˆ¤æ–­ï¼Œå¦‚æœé˜ˆå€¼å¤§äº8ï¼Œä½†æ˜¯æ•°ç»„é•¿åº¦å°64ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šå°†é“¾è¡¨å˜ä¸ºçº¢é»‘æ ‘ã€‚è€Œæ˜¯é€‰æ‹©è¿›è¡Œæ•°ç»„æ‰©å®¹ã€‚\nè¿™æ ·åšçš„ç›®çš„æ˜¯å› ä¸ºæ•°ç»„æ¯”è¾ƒå°ï¼Œå°½é‡é¿å¼€çº¢é»‘æ ‘ç»“æ„ï¼Œè¿™ç§æƒ…å†µä¸‹å˜ä¸ºçº¢é»‘æ ‘ç»“æ„ï¼Œåè€Œä¼šé™ä½æ•ˆç‡ï¼Œå› ä¸ºçº¢é»‘æ ‘éœ€è¦è¿›è¡Œå·¦æ—‹ï¼Œå³æ—‹ï¼Œå˜è‰²è¿™äº›æ“ä½œæ¥ä¿æŒå¹³è¡¡ã€‚åŒäº‹æ•°ç»„é•¿åº¦å°äº64æ—¶ï¼Œæœç´¢æ—¶é—´ç›¸å¯¹å¿«ä¸€äº›ã€‚æ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ä¸ºäº†æé«˜æ€§èƒ½å’Œå‡å°‘æœç´¢æ—¶é—´ï¼Œåº•å±‚åœ¨é˜ˆå€¼å¤§äº8å¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº64æ—¶ï¼Œé“¾è¡¨æ‰è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚å…·ä½“å¯ä»¥å‚è€ƒtreeifyBinæ–¹æ³•ã€‚\nå½“ç„¶è™½ç„¶å¢äº†çº¢é»‘æ ‘ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ï¼Œç»“æ„å˜å¾—å¤æ‚äº†ï¼Œä½†æ˜¯é˜ˆå€¼å¤§äº8å¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº64æ—¶ï¼Œé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘æ—¶ï¼Œæ•ˆç‡ä¹Ÿå˜å¾—æ›´é«˜æ•ˆã€‚\nç‰¹ç‚¹ å­˜å–æ— åºçš„ é”®å’Œå€¼ä½ç½®éƒ½å¯ä»¥æ˜¯nullï¼Œä½†æ˜¯é”®ä½ç½®åªèƒ½æ˜¯ä¸€ä¸ªnull é”®ä½ç½®æ˜¯å”¯ä¸€çš„ï¼Œåº•å±‚çš„æ•°æ®ç»“æ„æ§åˆ¶é”®çš„ jdk1.8å‰æ•°æ®ç»“æ„æ˜¯ï¼šé“¾è¡¨ + æ•°ç»„ jdk1.8ä¹‹åæ˜¯ ï¼šé“¾è¡¨ + æ•°ç»„ + çº¢é»‘æ ‘ é˜ˆå€¼(è¾¹ç•Œå€¼) \u003e 8 å¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº64ï¼Œæ‰å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå˜ä¸ºçº¢é»‘æ ‘çš„ç›®çš„æ˜¯ä¸ºäº†é«˜æ•ˆçš„æŸ¥è¯¢ã€‚ HsahMapåº•å±‚æ•°æ®ç»“æ„ HashMapå­˜å‚¨æ•°æ®çš„è¿‡ç¨‹ æ¯ä¸€ä¸ªNodeç»“ç‚¹éƒ½åŒ…å«é”®å€¼å¯¹çš„keyï¼Œvalueè¿˜æœ‰è®¡ç®—å‡ºæ¥çš„hashå€¼ï¼Œè¿˜ä¿å­˜ç€ä¸‹ä¸€ä¸ª Node çš„å¼•ç”¨ nextï¼ˆå¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ª Nodeï¼Œnext = nullï¼‰ï¼Œæ¥çœ‹çœ‹Nodeçš„æºç ï¼š\nstatic class Node\u003cK,V\u003e implements Map.Entry\u003cK,V\u003e { final int hash; final K key; V value; Node\u003cK,V\u003e next; ... } HashMapå­˜å‚¨æ•°æ®éœ€è¦ç”¨åˆ°put()æ–¹æ³•ï¼Œå…³äºè¿™äº›æ–¹æ³•çš„è¯¦è§£ï¼Œæˆ‘ä»¬ä¸‹èŠ‚å†è¯´ï¼Œè¿™é‡Œç®€è¦è¯´ä¸€ä¸‹ï¼›\npublic static void main(String[] args) { HashMap\u003cString,Integer\u003e hmap=new HashMap\u003c\u003e(); hmap.put(\"æ–‘\",55); hmap.put(\"é•œ\",63); hmap.put(\"å¸¦åœŸ\",25); hmap.put(\"é¼¬\",9); hmap.put(\"ä½åŠ©\",43); hmap.put(\"æ–‘\",88); System.out.println(hmap); } å½“åˆ›å»ºHashMapé›†åˆå¯¹è±¡çš„æ—¶å€™ï¼Œåœ¨jdk1.8ä¹‹å‰ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼šåˆ›å»ºå¾ˆå¤šé•¿åº¦æ˜¯16çš„Entry[] tableç”¨æ¥å­˜å‚¨é”®å€¼å¯¹æ•°æ®çš„ã€‚åœ¨jdk1.8ä¹‹åä¸æ˜¯åœ¨HashMapçš„æ„é€ æ–¹æ³•åº•å±‚åˆ›å»ºæ•°ç»„äº†ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨putæ–¹æ³•æ—¶åˆ›å»ºçš„æ•°ç»„ï¼ŒNode[] tableç”¨æ¥å­˜å‚¨é”®å€¼å¯¹æ•°æ®çš„ã€‚\næ¯”æ–¹è¯´æˆ‘ä»¬å‘å“ˆå¸Œè¡¨ä¸­å­˜å‚¨\"æ–‘\"-55çš„æ•°æ®ï¼Œæ ¹æ®Kå€¼(â€œæ–‘â€)è°ƒç”¨Stringç±»ä¸­é‡å†™ä¹‹åçš„hashCode()æ–¹æ³•è®¡ç®—å‡ºå€¼ï¼ˆæ•°é‡çº§å¾ˆå¤§ï¼‰ï¼Œç„¶åç»“åˆæ•°ç»„é•¿åº¦é‡‡ç”¨å–ä½™ï¼ˆ(n-1)\u0026hashï¼‰æ“ä½œæˆ–è€…å…¶ä»–æ“ä½œæ–¹æ³•æ¥è®¡ç®—å‡ºå‘Nodeæ•°ç»„ä¸­å­˜å‚¨æ•°æ®çš„ç©ºé—´çš„ç´¢å¼•å€¼ã€‚å¦‚æœè®¡ç®—å‡ºæ¥çš„ç´¢å¼•ç©ºé—´æ²¡æœ‰æ•°æ®ï¼Œåˆ™ç›´æ¥å°†\"æ–‘\"-55æ•°æ®å­˜å‚¨åˆ°æ•°ç»„ä¸­ã€‚è·Ÿä¸Šé¢çš„\"A-ç‹ç‚¸\"æ•°æ®å·®ä¸å¤šã€‚\næˆ‘ä»¬å›åˆ°ä¸Šæ–¹çš„æ•°ç»„å›¾ï¼Œå¦‚æœæ­¤æ—¶å†æ’å…¥\"A-è˜‘è‡\"å…ƒç´ ï¼Œé‚£ä¹ˆé¦–å…ˆæ ¹æ®Keyå€¼(â€œAâ€)è°ƒç”¨hashCode()æ–¹æ³•ç»“åˆæ•°ç»„é•¿åº¦è®¡ç®—å‡ºç´¢å¼•è‚¯å®šä¹Ÿæ˜¯3ï¼Œæ­¤æ—¶æ¯”è¾ƒåå­˜å‚¨çš„\"A-è˜‘è‡\"å’Œå·²ç»å­˜åœ¨çš„æ•°æ®\"A-ç‹ç‚¸\"çš„hashå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœhashç›¸ç­‰ï¼Œæ­¤æ—¶å‘ç”Ÿhashç¢°æ’ã€‚\né‚£ä¹ˆåº•å±‚ä¼šè°ƒç”¨\"A\"æ‰€å±ç±»Stringä¸­çš„equalsæ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªkeyå†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™åæ·»åŠ çš„æ•°æ®ç›´æ¥è¦†ç›–å·²ç»å­˜åœ¨çš„Valueï¼Œä¹Ÿå°±æ˜¯\"è˜‘è‡\"ç›´æ¥è¦†ç›–\"ç‹ç‚¸\"ï¼›è‹¥ä¸ç›¸ç­‰ï¼Œç»§ç»­å‘ä¸‹å’Œå…¶ä»–æ•°æ®çš„keyè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœéƒ½ä¸ç›¸ç­‰ï¼Œåˆ™è§„åˆ’å‡ºä¸€ä¸ªèŠ‚ç‚¹å­˜å‚¨æ•°æ®ã€‚\nå“ˆå¸Œç¢°æ’ç›¸å…³çš„é—®é¢˜ å“ˆå¸Œè¡¨åº•å±‚é‡‡ç”¨ä½•ç§ç®—æ³•è®¡ç®—hashå€¼ï¼Ÿè¿˜æœ‰å“ªäº›ç®—æ³•å¯ä»¥è®¡ç®—å‡ºhashå€¼ï¼Ÿ\nåº•å±‚æ˜¯é‡‡ç”¨keyçš„hashCodeæ–¹æ³•çš„å€¼ç»“åˆæ•°ç»„é•¿åº¦è¿›è¡Œæ— ç¬¦å·å³ç§»ï¼ˆÂ»\u003eï¼‰ã€æŒ‰ä½å¼‚æˆ–ï¼ˆ^ï¼‰ã€æŒ‰ä½ä¸ï¼ˆ\u0026ï¼‰è®¡ç®—å‡ºç´¢å¼•çš„\nè¿˜å¯ä»¥é‡‡ç”¨ï¼šå¹³æ–¹å–ä¸­æ³•ï¼Œå–ä½™æ•°ï¼Œä¼ªéšæœºæ•°æ³•ã€‚è¿™ä¸‰ç§æ•ˆç‡éƒ½æ¯”è¾ƒä½ã€‚è€Œæ— ç¬¦å·å³ç§»16ä½å¼‚æˆ–è¿ç®—æ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚\nå½“ä¸¤ä¸ªå¯¹è±¡çš„hashCodeç›¸ç­‰æ—¶ä¼šæ€ä¹ˆæ ·ï¼Ÿ\nä¼šäº§ç”Ÿå“ˆå¸Œç¢°æ’ï¼Œè‹¥keyå€¼å†…å®¹ç›¸åŒåˆ™æ›¿æ¢æ—§çš„value.å¦åˆ™è¿æ¥åˆ°é“¾è¡¨åé¢ï¼Œé“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼8å°±è½¬æ¢ä¸ºçº¢é»‘æ ‘å­˜å‚¨ã€‚\nä½•æ—¶å‘ç”Ÿå“ˆå¸Œç¢°æ’å’Œä»€ä¹ˆæ˜¯å“ˆå¸Œç¢°æ’,å¦‚ä½•è§£å†³å“ˆå¸Œç¢°æ’ï¼Ÿ\nåªè¦ä¸¤ä¸ªå…ƒç´ çš„keyè®¡ç®—çš„å“ˆå¸Œå€¼ç›¸åŒå°±ä¼šå‘ç”Ÿå“ˆå¸Œç¢°æ’ã€‚jdk8å‰ä½¿ç”¨é“¾è¡¨è§£å†³å“ˆå¸Œç¢°æ’ã€‚jdk8ä¹‹åä½¿ç”¨é“¾è¡¨+çº¢é»‘æ ‘è§£å†³å“ˆå¸Œç¢°æ’ã€‚\nå¦‚æœä¸¤ä¸ªé”®çš„hashcodeç›¸åŒï¼Œå¦‚ä½•å­˜å‚¨é”®å€¼å¯¹ï¼Ÿ\nhashcodeç›¸åŒï¼Œé€šè¿‡equalsæ¯”è¾ƒå†…å®¹æ˜¯å¦ç›¸åŒã€‚ç›¸åŒï¼šåˆ™æ–°çš„valueè¦†ç›–ä¹‹å‰çš„value ä¸ç›¸åŒï¼šåˆ™å°†æ–°çš„é”®å€¼å¯¹æ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­\nçº¢é»‘æ ‘ç»“æ„ å½“ä½äºä¸€ä¸ªé“¾è¡¨ä¸­çš„å…ƒç´ è¾ƒå¤šï¼Œå³hashå€¼ç›¸ç­‰ä½†æ˜¯å†…å®¹ä¸ç›¸ç­‰çš„å…ƒç´ è¾ƒå¤šæ—¶ï¼Œé€šè¿‡keyå€¼ä¾æ¬¡æŸ¥æ‰¾çš„æ•ˆç‡è¾ƒä½ã€‚è€Œjdk1.8ä¸­ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨é‡‡ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°ï¼Œå½“é“¾è¡¨é•¿åº¦(é˜€å€¼)è¶…è¿‡ 8 æ—¶ä¸”å½“å‰æ•°ç»„çš„é•¿åº¦ \u003e 64æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œè¿™æ ·å¤§å¤§å‡å°‘äº†æŸ¥æ‰¾æ—¶é—´ã€‚jdk8åœ¨å“ˆå¸Œè¡¨ä¸­å¼•å…¥çº¢é»‘æ ‘çš„åŸå› åªæ˜¯ä¸ºäº†æŸ¥æ‰¾æ•ˆç‡æ›´é«˜ã€‚\nJDK 1.8 ä»¥å‰ HashMap çš„å®ç°æ˜¯ æ•°ç»„+é“¾è¡¨ï¼Œå³ä½¿å“ˆå¸Œå‡½æ•°å–å¾—å†å¥½ï¼Œä¹Ÿå¾ˆéš¾è¾¾åˆ°å…ƒç´ ç™¾åˆ†ç™¾å‡åŒ€åˆ†å¸ƒã€‚å½“ HashMap ä¸­æœ‰å¤§é‡çš„å…ƒç´ éƒ½å­˜æ”¾åˆ°åŒä¸€ä¸ªæ¡¶ä¸­æ—¶ï¼Œè¿™ä¸ªæ¡¶ä¸‹æœ‰ä¸€æ¡é•¿é•¿çš„é“¾è¡¨ï¼Œè¿™ä¸ªæ—¶å€™ HashMap å°±ç›¸å½“äºä¸€ä¸ªå•é“¾è¡¨ï¼Œå‡å¦‚å•é“¾è¡¨æœ‰ n ä¸ªå…ƒç´ ï¼Œéå†çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(n)ï¼Œå®Œå…¨å¤±å»äº†å®ƒçš„ä¼˜åŠ¿ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼ŒJDK 1.8 ä¸­å¼•å…¥äº† çº¢é»‘æ ‘ï¼ˆæŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸º O(logn)ï¼‰æ¥ä¼˜åŒ–è¿™ä¸ªé—®é¢˜ã€‚å½“é“¾è¡¨é•¿åº¦å¾ˆå°çš„æ—¶å€™ï¼Œå³ä½¿éå†ï¼Œé€Ÿåº¦ä¹Ÿéå¸¸å¿«ï¼Œä½†æ˜¯å½“é“¾è¡¨é•¿åº¦ä¸æ–­å˜é•¿ï¼Œè‚¯å®šä¼šå¯¹æŸ¥è¯¢æ€§èƒ½æœ‰ä¸€å®šçš„å½±å“ï¼Œæ‰€ä»¥æ‰éœ€è¦è½¬æˆæ ‘ã€‚\nå­˜å‚¨æµç¨‹å›¾ HashMapå­˜æ”¾æ•°æ®æ˜¯ç”¨çš„putæ–¹æ³•ï¼Œput æ–¹æ³•å†…éƒ¨è°ƒç”¨çš„æ˜¯ putVal() æ–¹æ³•ï¼Œæ‰€ä»¥å¯¹ put æ–¹æ³•çš„åˆ†æä¹Ÿæ˜¯å¯¹ putVal æ–¹æ³•çš„åˆ†æï¼Œæ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæµç¨‹å›¾å¦‚ä¸‹ï¼š\næ¥çœ‹çœ‹put()æºç ï¼š\npublic V put(K key, V value) { //å¯¹keyçš„hashCode()åšhashï¼Œè°ƒç”¨çš„æ˜¯putValæ–¹æ³• return putVal(hash(key), key, value, false, true); } final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { Node\u003cK,V\u003e[] tab; Node\u003cK,V\u003e p; int n, i; /* 1ï¼Œtabä¸ºç©ºåˆ™å¼€å§‹åˆ›å»ºï¼Œ 2ï¼Œ(tab = table) == null è¡¨ç¤ºå°†ç©ºçš„tableèµ‹å€¼ç»™tab,ç„¶ååˆ¤æ–­tabæ˜¯å¦ç­‰äºnullï¼Œç¬¬ä¸€æ¬¡è‚¯å®šæ˜¯null 3ï¼Œ(n = tab.length) == 0 è¡¨ç¤ºæ²¡æœ‰ä¸ºtableåˆ†é…å†…å­˜ 4ï¼Œtabä¸ºç©ºï¼Œæ‰§è¡Œä»£ç  n = (tab = resize()).length; è¿›è¡Œæ‰©å®¹ã€‚å¹¶å°†åˆå§‹åŒ–å¥½çš„æ•°ç»„é•¿åº¦èµ‹å€¼ç»™n. 5ï¼Œæ‰§è¡Œå®Œn = (tab = resize()).lengthï¼Œæ•°ç»„tabæ¯ä¸ªç©ºé—´éƒ½æ˜¯null */ if ((tab = table) == null || (n = tab.length) == 0) //è°ƒç”¨resize()æ–¹æ³•è¿›è¡Œæ‰©å®¹ n = (tab = resize()).length; /* 1ï¼Œi = (n - 1) \u0026 hash è¡¨ç¤ºè®¡ç®—æ•°ç»„çš„ç´¢å¼•èµ‹å€¼ç»™iï¼Œå³ç¡®å®šå…ƒç´ å­˜æ”¾åœ¨å“ªä¸ªæ¡¶ä¸­ 2ï¼Œp = tab[i = (n - 1) \u0026 hash]è¡¨ç¤ºè·å–è®¡ç®—å‡ºçš„ä½ç½®çš„æ•°æ®èµ‹å€¼ç»™èŠ‚ç‚¹p 3ï¼Œ(p = tab[i = (n - 1) \u0026 hash]) == null åˆ¤æ–­èŠ‚ç‚¹ä½ç½®æ˜¯å¦ç­‰äºnullï¼Œ å¦‚æœä¸ºnullï¼Œåˆ™æ‰§è¡Œä»£ç ï¼štab[i] = newNode(hash, key, value, null);æ ¹æ®é”®å€¼å¯¹åˆ›å»ºæ–°çš„èŠ‚ç‚¹æ”¾å…¥è¯¥ä½ç½®çš„æ¡¶ä¸­ å°ç»“ï¼šå¦‚æœå½“å‰æ¡¶æ²¡æœ‰å“ˆå¸Œç¢°æ’å†²çªï¼Œåˆ™ç›´æ¥æŠŠé”®å€¼å¯¹æ’å…¥ç©ºé—´ä½ç½® */ if ((p = tab[i = (n - 1) \u0026 hash]) == null) //èŠ‚ç‚¹ä½ç½®ä¸ºnullï¼Œåˆ™ç›´æ¥è¿›è¡Œæ’å…¥æ“ä½œ tab[i] = newNode(hash, key, value, null); //èŠ‚ç‚¹ä½ç½®ä¸ä¸ºnullï¼Œè¡¨ç¤ºè¿™ä¸ªä½ç½®å·²ç»æœ‰å€¼äº†ï¼Œäºæ˜¯éœ€è¦è¿›è¡Œæ¯”è¾ƒhashå€¼æ˜¯å¦ç›¸ç­‰ else { Node\u003cK,V\u003e e; K k; /* æ¯”è¾ƒæ¡¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ (æ•°ç»„ä¸­çš„ç»“ç‚¹)çš„hashå€¼å’Œkeyæ˜¯å¦ç›¸ç­‰ 1ï¼Œp.hash == hash ä¸­çš„p.hashè¡¨ç¤ºåŸæ¥å­˜åœ¨æ•°æ®çš„hashå€¼ hashè¡¨ç¤ºåæ·»åŠ æ•°æ®çš„hashå€¼ æ¯”è¾ƒä¸¤ä¸ªhashå€¼æ˜¯å¦ç›¸ç­‰ 2ï¼Œ(k = p.key) == key ï¼šp.keyè·å–åŸæ¥æ•°æ®çš„keyèµ‹å€¼ç»™k keyè¡¨ç¤ºåæ·»åŠ æ•°æ®çš„key æ¯”è¾ƒä¸¤ä¸ªkeyçš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ 3ï¼Œkey != null \u0026\u0026 key.equals(k)ï¼šèƒ½å¤Ÿæ‰§è¡Œåˆ°è¿™é‡Œè¯´æ˜ä¸¤ä¸ªkeyçš„åœ°å€å€¼ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆå…ˆåˆ¤æ–­åæ·»åŠ çš„keyæ˜¯å¦ç­‰äºnullï¼Œå¦‚æœä¸ç­‰äºnullå†è°ƒç”¨equalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªkeyçš„å†…å®¹æ˜¯å¦ç›¸ç­‰ */ if (p.hash == hash \u0026\u0026 ((k = p.key) == key || (key != null \u0026\u0026 key.equals(k)))) /* è¯´æ˜ï¼šä¸¤ä¸ªå…ƒç´ å“ˆå¸Œå€¼ç›¸ç­‰ï¼ˆå“ˆå¸Œç¢°æ’ï¼‰ï¼Œå¹¶ä¸”keyçš„å€¼ä¹Ÿç›¸ç­‰ å°†æ—§çš„å…ƒç´ æ•´ä½“å¯¹è±¡èµ‹å€¼ç»™eï¼Œç”¨eæ¥è®°å½• */ e = p; // hashå€¼ä¸ç›¸ç­‰æˆ–è€…keyä¸ç›¸ç­‰ï¼›åˆ¤æ–­pæ˜¯å¦ä¸ºçº¢é»‘æ ‘ç»“ç‚¹ else if (p instanceof TreeNode) // æ˜¯çº¢é»‘æ ‘ï¼Œè°ƒç”¨æ ‘çš„æ’å…¥æ–¹æ³• e = ((TreeNode\u003cK,V\u003e)p).putTreeVal(this, tab, hash, key, value); // è¯´æ˜æ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿™æ—¶è¿›è¡Œæ’å…¥æ“ä½œ else { /* 1ï¼Œå¦‚æœæ˜¯é“¾è¡¨çš„è¯éœ€è¦éå†åˆ°æœ€åèŠ‚ç‚¹ç„¶åæ’å…¥ 2ï¼Œé‡‡ç”¨å¾ªç¯éå†çš„æ–¹å¼ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰é‡å¤çš„key */ for (int binCount = 0; ; ++binCount) { /* 1)e = p.next è·å–pçš„ä¸‹ä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™e 2)(e = p.next) == null åˆ¤æ–­p.nextæ˜¯å¦ç­‰äºnullï¼Œç­‰äºnullï¼Œè¯´æ˜pæ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒ ç´ ï¼Œé‚£ä¹ˆæ­¤æ—¶åˆ°è¾¾äº†é“¾è¡¨çš„å°¾éƒ¨ï¼Œè¿˜æ²¡æœ‰æ‰¾åˆ°é‡å¤çš„key,åˆ™è¯´æ˜HashMapæ²¡æœ‰åŒ…å«è¯¥é”® å°†è¯¥é”®å€¼å¯¹æ’å…¥é“¾è¡¨ä¸­ */ if ((e = p.next) == null) { p.next = newNode(hash, key, value, null); //æ’å…¥åå‘ç°é“¾è¡¨é•¿åº¦å¤§äº8ï¼Œè½¬æ¢æˆçº¢é»‘æ ‘ç»“æ„ if (binCount \u003e= TREEIFY_THRESHOLD - 1) //è½¬æ¢ä¸ºçº¢é»‘æ ‘ treeifyBin(tab, hash); break; } //keyå€¼ä»¥åŠå­˜åœ¨ç›´æ¥è¦†ç›–value if (e.hash == hash \u0026\u0026 ((k = e.key) == key || (key != null \u0026\u0026 key.equals(k)))) break; p = e; } } //è‹¥ç»“ç‚¹ä¸ºnullï¼Œåˆ™ä¸è¿›è¡Œæ’å…¥æ“ä½œ if (e != null) { V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } //ä¿®æ”¹è®°å½•æ¬¡æ•° ++modCount; // åˆ¤æ–­å®é™…å¤§å°æ˜¯å¦å¤§äºthresholdé˜ˆå€¼ï¼Œå¦‚æœè¶…è¿‡åˆ™æ‰©å®¹ if (++size \u003e threshold) resize(); // æ’å…¥åå›è°ƒ afterNodeInsertion(evict); return null; } å°ç»“ï¼š\næ ¹æ®å“ˆå¸Œè¡¨ä¸­å…ƒç´ ä¸ªæ•°ç¡®å®šæ˜¯æ‰©å®¹è¿˜æ˜¯æ ‘å½¢åŒ– å¦‚æœæ˜¯æ ‘å½¢åŒ–éå†æ¡¶ä¸­çš„å…ƒç´ ï¼Œåˆ›å»ºç›¸åŒä¸ªæ•°çš„æ ‘å½¢èŠ‚ç‚¹ï¼Œå¤åˆ¶å†…å®¹ï¼Œå»ºç«‹èµ·è”ç³» ç„¶åè®©æ¡¶ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å‘æ–°åˆ›å»ºçš„æ ‘æ ¹èŠ‚ç‚¹ï¼Œæ›¿æ¢æ¡¶çš„é“¾è¡¨å†…å®¹ä¸ºæ ‘å½¢åŒ–å†…å®¹ HashMapçš„æ‰©å®¹æœºåˆ¶ æˆ‘ä»¬çŸ¥é“ï¼Œæ•°ç»„çš„å®¹é‡æ˜¯æœ‰é™çš„ï¼Œå¤šæ¬¡æ’å…¥æ•°æ®çš„è¯ï¼Œåˆ°è¾¾ä¸€å®šæ•°é‡å°±ä¼šè¿›è¡Œæ‰©å®¹ï¼›å…ˆæ¥çœ‹ä¸¤ä¸ªé—®é¢˜\nä»€ä¹ˆæ—¶å€™éœ€è¦æ‰©å®¹ï¼Ÿ å½“HashMapä¸­çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡æ•°ç»„é•¿åº¦loadFactor(è´Ÿè½½å› å­)æ—¶ï¼Œå°±ä¼šè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼ŒloadFactorçš„é»˜è®¤å€¼æ˜¯0.75,è¿™æ˜¯ä¸€ä¸ªæŠ˜ä¸­çš„å–å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„å¤§å°ä¸º16ï¼Œé‚£ä¹ˆå½“HashMapä¸­çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡16Ã—0.75=12(è¿™ä¸ªå€¼å°±æ˜¯é˜ˆå€¼)çš„æ—¶å€™ï¼Œå°±æŠŠæ•°ç»„çš„å¤§å°æ‰©å±•ä¸º2Ã—16=32ï¼Œå³æ‰©å¤§ä¸€å€ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªéå¸¸è€—æ€§èƒ½çš„æ“ä½œï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬å·²ç»é¢„çŸ¥HashMapä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆé¢„çŸ¥å…ƒç´ çš„ä¸ªæ•°èƒ½å¤Ÿæœ‰æ•ˆçš„æé«˜HashMapçš„æ€§èƒ½ã€‚\næ€ä¹ˆè¿›è¡Œæ‰©å®¹çš„ï¼Ÿ HashMapåœ¨è¿›è¡Œæ‰©å®¹æ—¶ä½¿ç”¨ resize() æ–¹æ³•ï¼Œè®¡ç®— table æ•°ç»„çš„æ–°å®¹é‡å’Œ Node åœ¨æ–°æ•°ç»„ä¸­çš„æ–°ä½ç½®ï¼Œå°†æ—§æ•°ç»„ä¸­çš„å€¼å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œä»è€Œå®ç°è‡ªåŠ¨æ‰©å®¹ã€‚å› ä¸ºæ¯æ¬¡æ‰©å®¹éƒ½æ˜¯ç¿»å€ï¼Œä¸åŸæ¥è®¡ç®—çš„ (n-1)\u0026hashçš„ç»“æœç›¸æ¯”ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªbitä½ï¼Œæ‰€ä»¥èŠ‚ç‚¹è¦ä¹ˆå°±åœ¨åŸæ¥çš„ä½ç½®ï¼Œè¦ä¹ˆå°±è¢«åˆ†é…åˆ°\"åŸä½ç½®+æ—§å®¹é‡â€œè¿™ä¸ªä½ç½®ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ‰©å……HashMapçš„æ—¶å€™ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—hashï¼Œåªéœ€è¦çœ‹çœ‹åŸæ¥hashå€¼æ–°å¢çš„é‚£ä¸ªbitæ˜¯1è¿˜æ˜¯0å°±å¯ä»¥äº†ï¼Œæ˜¯0çš„è¯ç´¢å¼•æ²¡å˜ï¼Œæ˜¯1çš„è¯ç´¢å¼•å˜æˆâ€œåŸç´¢å¼•+oldCap(åŸä½ç½®+æ—§å®¹é‡)â€ã€‚è¿™é‡Œä¸å†è¯¦ç»†èµ˜è¿°ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹å›¾ä¸º16æ‰©å……ä¸º32çš„resizeç¤ºæ„å›¾ï¼š\nHashMapæ•°ç»„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯2çš„æ¬¡å¹‚ æˆ‘ä»¬å…ˆçœ‹çœ‹å®ƒçš„æˆå‘˜å˜é‡ï¼š\nåºåˆ—åŒ–ç‰ˆæœ¬å· private static final long serialVersionUID = 362498820763181265L; é›†åˆçš„åˆå§‹åŒ–å®¹é‡initCapacity //é»˜è®¤çš„åˆå§‹å®¹é‡æ˜¯16 -- 1\u003c\u003c4ç›¸å½“äº1*2çš„4æ¬¡æ–¹---1*16 static final int DEFAULT_INITIAL_CAPACITY = 1 \u003c\u003c 4; åˆå§‹åŒ–å®¹é‡é»˜è®¤æ˜¯16ï¼Œå®¹é‡è¿‡å¤§ï¼Œéå†æ—¶ä¼šå‡æ…¢é€Ÿåº¦ï¼Œæ•ˆç‡ä½ï¼›å®¹é‡è¿‡å°ï¼Œé‚£ä¹ˆæ‰©å®¹çš„æ¬¡æ•°å˜å¤šï¼Œéå¸¸è€—è´¹æ€§èƒ½ã€‚\nè´Ÿè½½å› å­ /** * The load factor used when none specified in constructor. */ static final float DEFAULT_LOAD_FACTOR = 0.75f; åˆå§‹é»˜è®¤å€¼ä¸º0.75ï¼Œè‹¥è¿‡å¤§ï¼Œä¼šå¯¼è‡´å“ˆå¸Œå†²çªçš„å¯èƒ½æ€§æ›´å¤§ï¼›è‹¥è¿‡å°ï¼Œæ‰©å®¹çš„æ¬¡æ•°ä¹Ÿä¼šæé«˜ã€‚\nä¸ºä»€ä¹ˆå¿…é¡»æ˜¯2çš„næ¬¡å¹‚ï¼Ÿ å½“å‘HashMapä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦æ ¹æ®keyçš„hashå€¼ï¼Œå»ç¡®å®šå…¶åœ¨æ•°ç»„ä¸­çš„å…·ä½“ä½ç½®ã€‚HashMapä¸ºäº†æé«˜å­˜å–æ•ˆç‡ï¼Œè¦å°½é‡è¾ƒå°‘ç¢°æ’ï¼Œå°±æ˜¯è¦å°½é‡æŠŠæ•°æ®åˆ†é…å‡åŒ€ï¼Œæ¯ä¸ªé“¾è¡¨é•¿åº¦å¤§è‡´ç›¸åŒï¼Œè¿™ä¸ªå®ç°å°±åœ¨æŠŠæ•°æ®å­˜åˆ°å“ªä¸ªé“¾è¡¨ä¸­çš„ç®—æ³•ã€‚\nè¿™ä¸ªç®—æ³•å®é™…å°±æ˜¯å–æ¨¡ï¼Œhash%lengthï¼Œè®¡ç®—æœºä¸­ç›´æ¥æ±‚ä½™æ•ˆç‡ä¸å¦‚ä½ç§»è¿ç®—ã€‚æ‰€ä»¥æºç ä¸­åšäº†ä¼˜åŒ–,ä½¿ç”¨ hash\u0026(length-1)ï¼Œè€Œå®é™…ä¸Šhash%lengthç­‰äºhash\u0026(length-1)çš„å‰ææ˜¯lengthæ˜¯2çš„næ¬¡å¹‚ã€‚\nå¦‚æœè¾“å…¥å€¼ä¸æ˜¯2çš„å¹‚ä¼šæ€ä¹ˆæ ·ï¼Ÿ å¦‚æœæ•°ç»„é•¿åº¦ä¸æ˜¯2çš„næ¬¡å¹‚ï¼Œè®¡ç®—å‡ºçš„ç´¢å¼•ç‰¹åˆ«å®¹æ˜“ç›¸åŒï¼ŒåŠå…¶å®¹æ˜“å‘ç”Ÿhashç¢°æ’ï¼Œå¯¼è‡´å…¶ä½™æ•°ç»„ç©ºé—´å¾ˆå¤§ç¨‹åº¦ä¸Šå¹¶æ²¡æœ‰å­˜å‚¨æ•°æ®ï¼Œé“¾è¡¨æˆ–è€…çº¢é»‘æ ‘è¿‡é•¿ï¼Œæ•ˆç‡é™ä½ã€‚\n1ï¼Œå½“æ ¹æ®keyçš„hashç¡®å®šå…¶åœ¨æ•°ç»„çš„ä½ç½®æ—¶ï¼Œå¦‚æœnä¸º2çš„å¹‚æ¬¡æ–¹**ï¼Œ**å¯ä»¥ä¿è¯æ•°æ®çš„å‡åŒ€æ’å…¥ï¼Œå¦‚æœnä¸æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œå¯èƒ½æ•°ç»„çš„ä¸€äº›ä½ç½®æ°¸è¿œä¸ä¼šæ’å…¥æ•°æ®ï¼Œæµªè´¹æ•°ç»„çš„ç©ºé—´ï¼ŒåŠ å¤§hashå†²çªã€‚\n2ï¼Œä¸€èˆ¬å¯èƒ½ä¼šæƒ³é€šè¿‡ % æ±‚ä½™æ¥ç¡®å®šä½ç½®ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥ï¼Œåªä¸è¿‡æ€§èƒ½ä¸å¦‚ \u0026 è¿ç®—ã€‚è€Œä¸”å½“næ˜¯2çš„å¹‚æ¬¡æ–¹æ—¶ï¼šhash \u0026 (length - 1) == hash % length\n3ï¼Œå› æ­¤ï¼ŒHashMap å®¹é‡ä¸º2æ¬¡å¹‚çš„åŸå› ï¼Œå°±æ˜¯**ä¸ºäº†æ•°æ®çš„çš„å‡åŒ€åˆ†å¸ƒï¼Œå‡å°‘hashå†²çªï¼Œ**æ¯•ç«Ÿhashå†²çªè¶Šå¤§ï¼Œä»£è¡¨æ•°ç»„ä¸­ä¸€ä¸ªé“¾çš„é•¿åº¦è¶Šå¤§ï¼Œè¿™æ ·çš„è¯ä¼šé™ä½hashmapçš„æ€§èƒ½\n","description":"\n","tags":[],"title":"\nJDK1.8 HashMapæ•°æ®ç»“æ„","uri":"/posts/post-226/"},{"categories":["maven"],"content":"maven\nJavaé¡¹ç›®å¾ˆå¤šéƒ½ä¼šæœ‰å­moduleï¼Œä¸€èˆ¬çˆ¶é¡¹ç›®æ²¡æœ‰é€»è¾‘ä»£ç ï¼Œåœ¨çˆ¶é¡¹ç›®pom.xmlä¸­æ³¨æ˜ä¾èµ–ã€versionå’Œå…¶ä»–ä¸€äº›å…¬ç”¨çš„ä¸œè¥¿ï¼Œå­moduleçš„pomç»§æ‰¿çˆ¶pomï¼Œå­pomå°±ä¸ç”¨å†™ä¾èµ–çš„ç‰ˆæœ¬äº†ï¼Œä½†è‡³å°‘ä¹Ÿè¦å†™ç”¨åˆ°ä¾èµ–çš„groupIdã€artifactIdï¼Œè¿™æ ·é»˜è®¤ä¼šä½¿ç”¨çˆ¶é¡¹ç›®ä¾èµ–çš„ç‰ˆæœ¬ã€‚å­pomä¹Ÿå¯ä»¥å†™ç‰ˆæœ¬ï¼Œè¿™æ ·å°±ä¸å—çˆ¶pomå½±å“äº†ï¼Œå’Œç»§æ‰¿ç±»ä¼¼ï¼Œä½†è¿˜æ˜¯æœ‰äº›åŒºåˆ«ã€‚\nä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ï¼Œæˆ‘å°±æ˜¯å¿˜äº†å…¶ä¸­ä¸€é¡¹ï¼Œæ²¡æœ‰ç”Ÿæ•ˆï¼š\nçˆ¶poméœ€è¦æ·»åŠ \u003cpackaging\u003epom\u003c/packaging\u003e çˆ¶poméœ€è¦ç”¨\u003cmodules\u003e\u003cmodule\u003eå­moduleå\u003c/module\u003e\u003c/modules\u003eæ³¨æ˜å­moduleæœ‰å“ªäº› çˆ¶pomå£°æ˜ä¾èµ–æ—¶\u003cdependencies\u003eå¤–è¦åµŒå¥—\u003cdependencyManagement\u003eæ‰èƒ½è¢«å­pomç»§æ‰¿åˆ°ï¼Œæˆ‘å°±æ˜¯å¿˜äº†è¿™ç‚¹ å­poméœ€è¦é€šè¿‡\u003cparent\u003e\u003c/parent\u003eæŒ‡å®šçˆ¶é¡¹ç›®ï¼Œå£°æ˜ä¾èµ–æ—¶å°±é»˜è®¤ä¼šç”¨çˆ¶pomä¸­çš„ç‰ˆæœ¬äº† dependencyManagementï¼šåƒä¸Šé¢æåˆ°çš„ï¼Œä¸€èˆ¬åœ¨çˆ¶é¡¹ç›®ä¸­ä¼šå£°æ˜è¿™ä¸ªå…ƒç´ ï¼Œå’Œæ™®é€šä¾èµ–ç”¨æ³•ç±»ä¼¼ï¼Œè¿™ä¸ªå…ƒç´ å¹¶ä¸ä¼šçœŸçš„å¼•å…¥ä¾èµ–ï¼Œåªä¼šæ ‡æ˜ä¾èµ–å’Œç‰ˆæœ¬ï¼Œå­é¡¹ç›®ä¼šä»çˆ¶é¡¹ç›®æ‰¾\u003cdependencyManagement\u003eä»è€Œç¡®å®šéœ€è¦å¼•ç”¨ä¾èµ–ç‰ˆæœ¬ï¼Œç±»ä¼¼äºæ¨¡æ¿æ¨¡å¼ã€‚\nçˆ¶pomä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u003c!-- çœç•¥æ— å…³é…ç½® --\u003e \u003cpackaging\u003epom\u003c/packaging\u003e \u003cmodules\u003e \u003c!-- æ³¨æ˜æ‰€æœ‰å­module --\u003e \u003cmodule\u003emodule1\u003c/module\u003e \u003cmodule\u003emodule2\u003c/module\u003e \u003c/modules\u003e \u003cdependencyManagement\u003e \u003cdependencies\u003e \u003c!-- ä»¥Lombkä¸ºä¾‹ --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.projectlombok\u003c/groupId\u003e \u003cartifactId\u003elombok\u003c/artifactId\u003e \u003cversion\u003e1.18.8\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/dependencyManagement\u003e å­pom module1ä¾‹å­ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 \u003c!-- çœç•¥æ— å…³é…ç½® --\u003e \u003cparent\u003e \u003cgroupId\u003eçˆ¶é¡¹ç›®group\u003c/groupId\u003e \u003cartifactId\u003eçˆ¶é¡¹ç›®artifactId\u003c/artifactId\u003e \u003cversion\u003eçˆ¶é¡¹ç›®version\u003c/version\u003e \u003crelativePath\u003e../pom.xml\u003c/relativePath\u003e \u003c/parent\u003e \u003cdependencies\u003e \u003c!--è¿™æ ·ä¼šä½¿ç”¨çˆ¶pomä¸­çš„ä¾èµ–ç‰ˆæœ¬1.18.8ï¼Œå¦‚æœè¿™é‡Œå†™versionå°±ä¸ä¼šä½¿ç”¨çˆ¶pomé‡Œçš„ç‰ˆæœ¬äº†--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.projectlombok\u003c/groupId\u003e \u003cartifactId\u003elombok\u003c/artifactId\u003e \u003cscope\u003eprovided\u003c/scope\u003e \u003c/dependency\u003e \u003c/dependencies\u003e relativePath æŒ‡å®šæŸ¥æ‰¾è¯¥çˆ¶é¡¹ç›®pom.xmlçš„(ç›¸å¯¹)è·¯å¾„ã€‚é»˜è®¤é¡ºåºï¼šrelativePath \u003e æœ¬åœ°ä»“åº“ \u003e è¿œç¨‹ä»“åº“ æ²¡æœ‰relativePathæ ‡ç­¾ç­‰åŒâ€¦/pom.xml, å³é»˜è®¤ä»å½“å‰pomæ–‡ä»¶çš„ä¸Šä¸€çº§ç›®å½•æ‰¾ è¡¨ç¤ºä¸ä»relativePathæ‰¾, ç›´æ¥ä»æœ¬åœ°ä»“åº“æ‰¾,æ‰¾ä¸åˆ°å†ä»è¿œç¨‹ä»“åº“æ‰¾ ç»è¿‡ maven3.6ç‰ˆæœ¬æµ‹è¯•ï¼Œä¼¼ä¹æ²¡æœ‰relativePathæ ‡ç­¾æ—¶ï¼Œå®ƒæ²¡æœ‰ä»å½“å‰pomæ–‡ä»¶çš„ä¸Šä¸€çº§ç›®å½•æ‰¾ï¼Œå­æ¨¡å—ç»§æ‰¿ä¸åˆ°çˆ¶æ¨¡å—ä¸­dependencyManagementä¸­åŒ…çš„versionä¿¡æ¯ã€‚å­æ¨¡å—æƒ³è¦ç”¨çˆ¶æ¨¡å—pomä¸­çš„ç‰ˆæœ¬ï¼Œè¯·æ³¨æ„é…ç½®relativePathå±æ€§ï¼\n","description":"\n","tags":[],"title":"\nmavenå­pomæ²¡æœ‰ç»§æ‰¿åˆ°çˆ¶pomä¾èµ–ç‰ˆæœ¬","uri":"/posts/post-227/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" Could not resolve dependencies for project com.xxx:xxx-frameworkğŸº3.8.4: The following artifacts could not be resolved: com.sun:toolsğŸº1.8, com.sun:jconsoleğŸº1.8: Could not find artifact com.sun:toolsğŸº1.8 at specified path /root/.m2/repository/com/alibaba/druid/1.2.11/lib/openjdk-1.8-tools.jar é—®é¢˜åŸå›  OracleJDKé¢ä¸´å•†ä¸šé—­æºé£é™©ï¼Œæ‰€ä»¥ç”¨åˆ°çš„Jconsoleå’ŒToolså¼•å…¥çš„æ˜¯OpenJDK\nopenjdk-1.8-jconsole.jar openjdk-1.8-tools.jar è§£å†³æ–¹æ¡ˆ ä½¿ç”¨OpenJDK \u003cdependency\u003e \u003cgroupId\u003ecom.sun\u003c/groupId\u003e \u003cartifactId\u003etools\u003c/artifactId\u003e \u003cversion\u003e1.8\u003c/version\u003e \u003cscope\u003esystem\u003c/scope\u003e \u003csystemPath\u003e${JAVA_HOME}/lib/tools.jar\u003c/systemPath\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ejdk.tools\u003c/groupId\u003e \u003cartifactId\u003ejdk.tools\u003c/artifactId\u003e \u003cversion\u003e1.8\u003c/version\u003e \u003cscope\u003esystem\u003c/scope\u003e \u003csystemPath\u003e${JAVA_HOME}/lib/tools.jar\u003c/systemPath\u003e \u003c/dependency\u003e æ’é™¤ä½¿ç”¨ å¤§å¤šæ•°æœªç”¨åˆ°è¿™ä¸ªåŠŸèƒ½ï¼ˆæœªå‚ä¸æºç (å¼€å‘ï¼‰ï¼Œåˆ™æ’é™¤å³å¯\n\u003cexclusions\u003e \u003cexclusion\u003e \u003cgroupId\u003ecom.sun\u003c/groupId\u003e \u003cartifactId\u003ejconsole\u003c/artifactId\u003e \u003c/exclusion\u003e \u003cexclusion\u003e \u003cgroupId\u003ecom.sun\u003c/groupId\u003e \u003cartifactId\u003etools\u003c/artifactId\u003e \u003c/exclusion\u003e \u003c/exclusions\u003e ","description":"\n","tags":[],"title":"\nDruid Mavenå¼•å…¥ç¼ºå°‘Jconsole.jarå’ŒTools.jarçš„é—®é¢˜åŸå› åŠè§£å†³åŠæ³•","uri":"/posts/post-228/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸€ã€å®‰è£…å†…å®¹ Jenkinsï¼ˆæœ¬æ–‡ä¸»è¦å®‰è£…ï¼‰ã€Mavenã€Gitã€JDKï¼ˆè¿™ä¸ªä¸‰ä¸ªå®‰è£…è¿‡ç¨‹ç•¥ï¼‰\nJenkinsä¸Githubé…åˆå®ç°æŒç»­é›†æˆéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š\nâ‘ Jenkinsè¦éƒ¨ç½²åˆ°å¤–ç½‘ï¼Œå› ä¸ºå†…ç½‘Githubæ˜¯æ— æ³•è®¿é—®åˆ°çš„ï¼ˆèµ°è¿‡çš„å‘ï¼ï¼‰ï¼Œè¿™é‡Œæˆ‘ç§Ÿç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨å®ç°ã€‚\nâ‘¡Jenkinsæ‰€åœ¨çš„ä¸»æœºéœ€è¦å®‰è£…Git,é€šè¿‡Gitç¨‹åºä»Githubä¸Šcloneä»£ç \nâ‘¢åœ¨Jenkinsä¸­éœ€è¦æŒ‡å®šGitã€Mavenã€JDKï¼Œè·¯å­éƒ½æ˜¯ç›¸åŒçš„ã€‚\nâ‘£åœ¨Githubä¸Šä½¿ç”¨æ¯ä¸€ä¸ªrepositoryçš„webhookæ–¹å¼è¿œç¨‹è§¦å‘jenkinsæ„å»º\nâ‘¤åœ¨Jenkinså†…å…³é—­â€œé˜²æ­¢è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ â€\näºŒã€å®ç°è¿‡ç¨‹ 1.ä¸ä½¿ç”¨Jenkinsï¼š â‘ æˆ‘ä»¬å¼€å‘äººå‘˜éœ€è¦ç¼–å†™ä»£ç ï¼Œæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶æœåŠ¡å™¨ï¼ˆSvnã€Gitï¼‰\nâ‘¡æˆ‘ä»¬å¼€å‘äººå‘˜éœ€è¦æ‰‹åŠ¨æ‹‰å–æœ€æ–°ä»£ç ï¼Œæ„å»ºmavenå·¥ç¨‹ï¼Œè¿›è¡Œæ‰“åŒ…ï¼ˆwaræˆ–jarï¼‰\nâ‘¢æˆ‘ä»¬å¼€å‘äººå‘˜æ‰‹åŠ¨éƒ¨ç½²waræˆ–jarè‡³åº”ç”¨æœåŠ¡å™¨\nâ‘£ä¸€æ—¦é¡¹ç›®ä¸Šçº¿ï¼Œbugä¿®æ”¹ç­‰å°æ”¹åŠ¨é—®é¢˜éƒ½è¦é‡å¤ä»¥ä¸Šè¿‡ç¨‹\n2.ä½¿ç”¨Jenkinsï¼š â‘ åŒæ ·ï¼Œä¸šåŠ¡ä»£ç è¿˜æ˜¯éœ€è¦å¼€å‘äººå‘˜æ¥ç¼–å†™å¹¶commitæˆ–pushè‡³ç‰ˆæœ¬æ§åˆ¶è‡ªæœåŠ¡å™¨ï¼ˆSVNã€Gitï¼‰\nâ‘¡é€šè¿‡ä»¥ä¸Šå›¾ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒJenkinså¸®æˆ‘ä»¬åšäº†ï¼šæ‹‰å–æœ€æ–°ä»£ç ã€æ‰“åŒ…ã€éƒ¨ç½²\nâ‘¢æˆ‘ä»¬å¼€å‘äººå‘˜åªéœ€ä¸“æ³¨äºï¼šä¸šåŠ¡ä»£ç çš„ç¼–å†™\nâ‘£ä¸€æ—¦é¡¹ç›®ä¸Šçº¿ï¼Œbugä¿®æ”¹ç­‰å°æ”¹åŠ¨é—®é¢˜ï¼Œæˆ‘ä»¬å¼€å‘äººå‘˜åªéœ€æäº¤æœ€æ–°ä»£ç å³å¯ï¼Œå¦ä¸€è¾¹çš„æµ‹è¯•æˆ–æœ€ç»ˆç”¨æˆ·å°±èƒ½çœ‹åˆ°æœ€ç»ˆæ•ˆæœï¼Œå¤§å¤§å‡å°‘æˆ‘ä»¬å¼€å‘äººå‘˜çš„å·¥ä½œé‡\nä¸‰ã€Githubä»“åº“å‡†å¤‡ é„™äººå†™äº†ä¸€ä¸ªå°demoï¼Œç”¨IDEA+Mavenæ„å»ºçš„SpringBootçš„webé¡¹ç›®ï¼šhttps://github.com/Simple-Coder/jenkins-demo\nå››ã€Jenkinsçš„ä¸‹è½½å®‰è£… ä¸‹è½½åœ°å€ï¼šhttps://jenkins.io/download/ï¼ˆä¸‹è½½é€Ÿåº¦ææ…¢ï¼‰ï¼Œè¿™é‡Œæˆ‘å·²ç»å°†æœ€æ–°ç‰ˆçš„waråŒ…ä¸Šä¼ è‡³CSDNä¸‹è½½ï¼Œäº²æµ‹å¯ç”¨ï¼Œä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š\nhttps://download.csdn.net/download/qq_39947137/11829473\n1.Jenkinsçš„waråŒ…ä¸‹è½½ ç”±äºæˆ‘æ˜¯Javaå¼€å‘äººå‘˜ï¼Œæœ€å–œæ¬¢ä¸€é”®éƒ¨ç½²äº†ï¼Œä¸‹è½½Jenkinsçš„warç›´æ¥ä¸¢è¿›tomcatçš„webappsç›®å½•å³å¯å®Œæˆéƒ¨ç½²ã€‚\nç„¶åæ‰¾åˆ°documentationï¼Œget startedï¼Œè¿™æ˜¯å­¦ä¹ ä¸€é—¨æ–°æŠ€æœ¯çš„ä¸€äº›å¥—è·¯äº†ï¼šå®˜ç½‘â€”-\u003edownloadâ€”-\u003edocumentationâ€”-\u003egetting started\n2.å°†waråŒ…ä¸¢è¿›æœåŠ¡å™¨çš„tomcat/webappsç›®å½•ï¼Œæµè§ˆå™¨è®¿é—®ï¼šIP:ç«¯å£/jenkins æ³¨ï¼šç¬¬ä¸€æ¬¡å®‰è£…ï¼Œè¿™é‡Œå‘äº†æˆ‘å¥½ä¹…ï¼ï¼ï¼ï¼ˆvim /root/.jenkins/hudson.model.UpdateCenter.xmlï¼‰\næ‰“å¼€ hudson.model.UpdateCenter.xml\næŠŠ http://updates.jenkins-ci.org/update-center.json\næ”¹æˆ :ï¼ˆä»¥ä¸‹å…¶ä¸­ä¸€ä¸ªï¼‰\nhttp://mirror.xmission.com/jenkins/updates/update-center.json\nhttps://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json\nhttp://mirror.esuni.jp/jenkins/updates/update-center.json\nï¼Œè¿˜æ˜¯ä¸è¡Œçš„è¯æ‰¾åˆ° updates ç›®å½•ä¸‹çš„ default.json æŠŠé‡Œé¢æ‰€æœ‰çš„è°·æ­Œåœ°å€æ”¹æˆç™¾åº¦çš„ï¼Œå³å°† http://www.google.com/ æ›¿æ¢ä¸º http://www.baidu.com/ã€‚è¾“å…¥å¯†ç åå‡ºç°ä»¥ä¸‹ç•Œé¢è¯´æ˜æˆåŠŸã€‚\né…ç½®å®Œæˆå‡ºç°ä»¥ä¸‹ç•Œé¢è¯´æ˜urlé…ç½®å®Œæˆï¼\n3.æ¨èæ’ä»¶å®‰è£… 4.åˆ›å»ºç”¨æˆ· 5.å®ä¾‹é…ç½® 6.å¼€å§‹ä½¿ç”¨ 7.è¿›å…¥é¦–é¡µ è‡³æ­¤ã€Jenkinsçš„ä¸‹è½½å®‰è£…ï¼Œå®Œæˆï¼Œä¸‹é¢å¯¹Jenkinsè¿›è¡Œä¸€ç³»åˆ—çš„é…ç½®ã€‚\näº”ã€Jenkinsçš„é…ç½® 1.æ’ä»¶é…ç½® â‘ **Maven Integrationï¼šæ–°å»ºjobæ—¶æœ‰mavené¡¹ç›®å¯ä»¥é€‰æ‹©ï¼› â‘¡Deploy to containerï¼šå°†waråŒ…éƒ¨ç½²åˆ°tomcatæ‰€åœ¨çš„æœåŠ¡å™¨ä¸Šï¼› â‘¢Publish Over SSHï¼š**é€šè¿‡sshæ¨é€æ–‡ä»¶ï¼Œå¹¶å¯ä»¥æ‰§è¡Œshellå‘½ä»¤ï¼›\n2.Mavenã€Gitã€JDKé…ç½® ç‚¹å‡»ï¼šâ€œç³»ç»Ÿç®¡ç†â€â€”â€”\u003eâ€œå…¨å±€å·¥å…·é…ç½®â€\nå…­ã€æ–°å»ºJenkinsä»»åŠ¡ 1.ç‚¹å‡»â€œç³»ç»Ÿç®¡ç†â€â€”-\u003eâ€œç³»ç»Ÿè®¾ç½®â€ï¼Œè¿›è¡Œsshé…ç½® 2.é¦–é¡µç‚¹å‡»ï¼šâ€œæ–°å»ºä»»åŠ¡â€ 3.Generalé…ç½® 4.æºç ç®¡ç† 5.æ„å»ºè§¦å‘å™¨ 6.Githubé…ç½®WebHook,å®Œæˆé’©å­ç¨‹åºçš„é…ç½® 7.æ„å»ºç¯å¢ƒ å¯åŠ¨è„šæœ¬restart.shå¦‚ä¸‹:\necho \"stopæœåŠ¡å¼€å§‹\" pidlist=`ps -ef|grep jenkins-demo.jar | grep -v \"grep\"|awk '{print $2}'` #ps -u $USER|grep \"Java\"|grep -v \"grep\" if [ \"$pidlist\" = \"\" ]; then echo \"no jenkins-demo pid alive\" else echo \"jenkins-demo Id list :$pidlist\" for pid in ${pidlist} { kill -9 $pid echo \"KILL $pid:\" echo \"service stop success\" } fi echo \"stopæœåŠ¡è„šæœ¬ç»“æŸ\" echo \"startæœåŠ¡è„šæœ¬å¼€å§‹\" JAVA_HOME=/usr/java/jdk1.8.0_181 dir=/opt/jenkins_jars cd $dir echo dir=$dir jar=$(find /lib -type f -name *.jar) classpath=$dir/*:$dir/lib/*:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar echo classpath=$classpath echo --------------------------------------------- nohup $JAVA_HOME/bin/java -classpath $classpath -XX:-UseGCOverheadLimit -Xms1024m -Xmx2048m -jar $dir/jenkins-demo.jar \u003e $dir/log/$(date +'%Y%m%d').log \u0026 echo \"startæœåŠ¡è„šæœ¬ç»“æŸ\" 8.æ„å»º è‡³æ­¤ï¼Œç¬¬ä¸€ä¸ªä»»åŠ¡çš„é…ç½®å®Œæ¯•ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•äº†ï¼\nä¸ƒã€æµ‹è¯•ä»»åŠ¡ 1.ç«‹å³æ„å»º 2.æ§åˆ¶å°æŸ¥çœ‹è¾“å‡º æ§åˆ¶å°çš„è¾“å‡ºå¦‚ä¸‹ï¼š\n3.æµè§ˆå™¨è®¿é—®ï¼šhttp://47.92.236.212:8091/test 4.IDEAä¿®æ”¹è¯¥JSPé¡µé¢ï¼Œå¹¶æ¨é€è‡³gitä»“åº“ 5.æ¨é€githubåï¼Œè§¦å‘é’©å­ç¨‹åºï¼Œjenkinsè‡ªåŠ¨æ„å»ºä»»åŠ¡ 6.æµè§ˆå™¨å†æ¬¡è®¿é—®ï¼šhttp://47.92.236.212:8091/test å›åˆ°é¡¶éƒ¨\nå…«ã€æ€»ç»“ è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœåªæ˜¯å•å•éƒ¨ç½²waré¡¹ç›®å°±æ¯”è¾ƒç®€å•äº†ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n1.deploy to container 2.é…ç½®å®¹å™¨ è½¬è½½äºï¼š https://www.cnblogs.com/rmxd/p/11609983.html\n","description":"\n","tags":[],"title":"\nJenkins+Maven+Github+Springbootå®ç°å¯æŒç»­è‡ªåŠ¨éƒ¨ç½²(éå¸¸è¯¦ç»†)","uri":"/posts/post-229/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸‹è½½ https://www.sonatype.com/download-oss-sonatype\næ¨èä½¿ç”¨è¿…é›·ä¸‹è½½ï¼Œç”¨æµè§ˆå™¨ä¸‹è½½å¯èƒ½ä¼šå¤±è´¥ã€‚\nå®‰è£… å®‰è£…JDK å®‰è£…JDKçš„è¿‡ç¨‹å°±ä¸åœ¨è¿™é‡Œç¼€è¿°äº†ã€‚\nå®‰è£… Nexus # è§£å‹ä¸‹è½½çš„ Nexus Repository OSS tar -zxvf latest-unix.tar.gz # è§£å‹ä¼šå¾—åˆ°å¦‚ä¸‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼š nexus-3.23.0-03/ sonatype-work/ # è¿›å…¥ nexus-**/bin/ # ç¼–è¾‘nexus.vmoptions é…ç½®ï¼Œæˆ‘è¿™é‡Œå› ä¸ºå†…å­˜ä¸å¤Ÿï¼Œæˆ‘å°†è¿è¡Œå†…å­˜æ”¹æˆäº†1G å¯åŠ¨ nexus ./nexus start è¿™é‡Œå¯åŠ¨å¾ˆæ…¢ï¼Œæˆ‘ä»å¯åŠ¨åˆ°èƒ½å¤Ÿè®¿é—®webé¡µé¢ï¼Œå·®ä¸å¤šèŠ±äº†3~5åˆ†é’Ÿ\né…ç½®ç§æœ æ·»åŠ é˜¿é‡Œé•œåƒåˆ°ä»“åº“ç»„ åœ¨æµè§ˆå™¨è®¿é—® http://{IP}:8081(å¯åŠ¨æˆåŠŸæ‰èƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼‰\næ ¹æ®æç¤ºï¼Œç™»å½•admin ï¼ˆå¯†ç æœ‰æç¤ºæ”¾åœ¨**/opt/sonatype-work/nexus3/admin.password**ï¼‰è¿›å…¥è®¾ç½®å‘å¯¼ï¼Œç„¶åä¿®æ”¹ admin çš„å¯†ç ï¼Œç„¶åæ ¹æ®éœ€è¦å®Œæˆå‰©ä½™å‘å¯¼\næ·»åŠ é˜¿é‡Œé•œåƒä»£ç† å°†æ–°å¢çš„maven ä»£ç†æ·»åŠ åˆ° maven-public ç»„ é…ç½®maven setting.xml ä¸‹è½½ç§æœjaråŒ… \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003csettings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\"\u003e \u003c!-- æœ¬åœ°ä»“åœ°å€ --\u003e \u003clocalRepository\u003eD:\\nexus\\repository\u003c/localRepository\u003e \u003c!-- é…ç½®ç”¨äºé‰´æƒçš„è´¦å·ï¼ˆç”±ä¸‹é¢çš„â€œidâ€å±æ€§å¼•ç”¨ï¼‰--\u003e \u003cservers\u003e \u003cserver\u003e \u003cid\u003enexus\u003c/id\u003e \u003cusername\u003eadmin\u003c/username\u003e \u003cpassword\u003eadmin123\u003c/password\u003e \u003c/server\u003e \u003c/servers\u003e \u003cmirrors\u003e \u003cmirror\u003e \u003c!-- mirrorçš„idè¦é€‰å®šä¸€ä¸ªserverçš„idï¼Œå½“æ‹‰å–åŒ…æ—¶ï¼Œä¼šç”¨serverçš„idè¿›è¡Œé‰´æƒ --\u003e \u003cid\u003enexus\u003c/id\u003e \u003cmirrorOf\u003e*\u003c/mirrorOf\u003e \u003cname\u003enexus maven\u003c/name\u003e \u003c!-- ç§æœåœ°å€ï¼Œä¸€èˆ¬ç”¨maven-publicåˆ†ç»„ä»“åº“åœ°å€ --\u003e \u003curl\u003ehttp://192.168.10.128:8081/repository/maven-public/\u003c/url\u003e \u003c/mirror\u003e \u003c/mirrors\u003e \u003c!-- é…ç½® å…è®¸ä¸‹è½½snapshotç‰ˆæœ¬åŒ…ï¼ˆé»˜è®¤æ— æ³•ä¸‹è½½snapshotç‰ˆæœ¬åŒ…ï¼‰, å¦‚æœä¸é…ç½®profileæ— æ³•ä»ç§æœä¸‹è½½ SNAPSHOT ç‰ˆæœ¬çš„åŒ… --\u003e \u003cprofiles\u003e \u003cprofile\u003e \u003cid\u003eprofile-1\u003c/id\u003e \u003crepositories\u003e \u003crepository\u003e \u003cid\u003enexus\u003c/id\u003e \u003cname\u003elocal private nexus\u003c/name\u003e \u003c!-- ä»“åº“çš„è·¯å¾„ï¼Œæˆ‘ä»¬åªæ˜¯ä½¿ç”¨publicè¿™ä¸ªåˆ†ç»„ä»“åº“ --\u003e \u003curl\u003ehttp://192.168.10.128:8081/repository/maven-public/\u003c/url\u003e \u003creleases\u003e \u003cenabled\u003etrue\u003c/enabled\u003e \u003c/releases\u003e \u003csnapshots\u003e \u003cenabled\u003etrue\u003c/enabled\u003e \u003c/snapshots\u003e \u003c/repository\u003e \u003c/repositories\u003e \u003cpluginRepositories\u003e \u003cpluginRepository\u003e \u003cid\u003enexus\u003c/id\u003e \u003cname\u003elocal private nexus\u003c/name\u003e \u003curl\u003ehttp://192.168.10.128:8081/repository/maven-public/\u003c/url\u003e \u003creleases\u003e \u003cenabled\u003etrue\u003c/enabled\u003e \u003c/releases\u003e \u003csnapshots\u003e \u003cenabled\u003etrue\u003c/enabled\u003e \u003c/snapshots\u003e \u003c/pluginRepository\u003e \u003c/pluginRepositories\u003e \u003c/profile\u003e \u003c/profiles\u003e \u003cactiveProfiles\u003e \u003c!-- è¾“å…¥è¦æ¿€æ´»çš„profileçš„ID --\u003e \u003cactiveProfile\u003eprofile-1\u003c/activeProfile\u003e \u003c/activeProfiles\u003e \u003c/settings\u003e é…ç½® pom.xml å‘å¸ƒåŒ…åˆ°ç§æœ \u003cproject\u003e \u003c!-- ....çœç•¥éƒ¨åˆ†å†…å®¹ --\u003e \u003cdistributionManagement\u003e \u003crepository\u003e \u003c!-- è¿™é‡Œçš„idå¿…é¡»å’Œ setting.xmlä¸­é…ç½®çš„serverçš„idç›¸åŒï¼ˆç”¨äºé‰´æƒï¼‰ --\u003e \u003cid\u003enexus\u003c/id\u003e \u003cname\u003enexus-release\u003c/name\u003e \u003curl\u003ehttp://192.168.10.128:8081/repository/maven-releases/\u003c/url\u003e \u003c/repository\u003e \u003c!-- pomä¸­ç‰ˆæœ¬å¦‚æœä»¥SNAPSHOT ç»“å°¾ï¼Œåˆ™ä¼šè¢«å‘å¸ƒåˆ° snapshot ä»“åº“ --\u003e \u003csnapshotRepository\u003e \u003cid\u003enexus\u003c/id\u003e \u003cname\u003enexus-snapshot\u003c/name\u003e \u003curl\u003ehttp://192.168.10.128:8081/repository/maven-snapshots/\u003c/url\u003e \u003c/snapshotRepository\u003e \u003c/distributionManagement\u003e \u003c/project\u003e ","description":"\n","tags":[],"title":"\nLinux Mavenç§æœï¼ˆNexusï¼‰æ­å»º","uri":"/posts/post-230/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"é—®é¢˜ç°è±¡ è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆä¸€ 1ã€win+Ræ‰“å¼€è¿è¡Œçª—å£\n2ã€è¾“å…¥gpedit.mscå‘½ä»¤ï¼Œç‚¹å‡»â€œç¡®å®šâ€\n3ã€ä¾æ¬¡å±•å¼€â€œè®¡ç®—æœºé…ç½®â€-\u003eâ€œç®¡ç†æ¨¡æ¿â€-\u003eâ€œç³»ç»Ÿâ€-\u003eâ€œå‡­æ®åˆ†é…â€è®¾ç½®åç§°ï¼š åŠ å¯†æ•°æ®åº“ä¿®æ­£\n4ã€åŒå‡»â€œåŠ å¯†æ•°æ®åº“ä¿®æ­£â€ï¼Œå°†çŠ¶æ€æ”¹ä¸ºâ€œå¯ç”¨â€ï¼Œä¿æŠ¤çº§åˆ«æ”¹ä¸ºâ€œæ˜“å—æ”»å‡»â€ï¼Œåº”ç”¨â€”\u003eç¡®å®š\næ–¹æ¡ˆäºŒ 1ã€win+Ræ‰“å¼€è¿è¡Œçª—å£\n2ã€è¾“å…¥regeditå‘½ä»¤ï¼Œç‚¹å‡»â€œç¡®å®šâ€ï¼Œæ‰“å¼€æ³¨å†Œè¡¨æ–‡ä»¶\n3ã€åœ¨æ³¨å†Œè¡¨ä¸­è¿›å…¥å¦‚ä¸‹è·¯å¾„ï¼šHKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\\CredSSP\\Parameters\n4ã€å³å‡»Parametersâ€”\u003eæ–°å»ºâ€”\u003eDWORDï¼ˆ32ï¼‰ä½ï¼Œå‘½åä¸ºAllowEncryptionOracle\næ³¨æ„ï¼šå¦‚æœæ­¤æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™ä¸éœ€è¦åˆ›å»ºï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º\n5ã€åŒå‡»åˆšæ–°å»ºçš„AllowEncryptionOracleï¼Œå°†æ•°å€¼æ•°æ®ä¿®æ”¹ä¸º2\n","description":"\n","tags":[],"title":"\nWindowsè¿œç¨‹æ¡Œé¢å‡ºç°CredSSPåŠ å¯†æ•°æ®ä¿®æ­£é—®é¢˜è§£å†³æ–¹æ¡ˆ","uri":"/posts/post-231/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç°è±¡ ä¸€å°å®‰è£…æœ‰Windows 8 Enterprise x64ç³»ç»Ÿçš„è®¡ç®—æœºï¼Œè¯•å›¾å®‰è£…VMware Workstation 15.5æ—¶æŠ¥é”™â€œSetup failed to generate the SSL keys necessary to run VMWare Server. Click Ok to cancel this installation.ï¼ˆå¤§æ„ä¸ºï¼šå®‰è£…ç¨‹åºæ— æ³•ç”ŸæˆVMware Serveræ‰€éœ€çš„SSLå¯†é’¥ï¼Œè¯·å•å‡»â€˜ç¡®å®šâ€™ï¼Œç»ˆæ­¢å®‰è£…ç¨‹åºã€‚ï¼‰â€ã€‚\nå¯èƒ½çš„åŸå›  æŸ¥é˜…èµ„æ–™æ˜¾ç¤ºï¼Œè¿™ä¸€é—®é¢˜å¯èƒ½ä¸é”™è¯¯çš„ç³»ç»Ÿæ—¶é—´ã€DirectXé…ç½®ä¸æ­£ç¡®ã€æ²¡æœ‰æ­£ç¡®å®‰è£…çš„Visual C++è¿è¡Œåº“ã€PATHç¯å¢ƒå˜é‡ä¸­åŒ…å«æŒ‡å‘VMwareä¸æ”¯æŒçš„OpenSSLç¨‹åºç‰ˆæœ¬çš„è·¯å¾„ç­‰é—®é¢˜æœ‰å…³ã€‚\nè§£å†³æ–¹æ¡ˆ ç»æ’æŸ¥ï¼ŒVMware Workstation 15.5çš„å®‰è£…ç¨‹åºä¼šè‡ªåŠ¨å®‰è£…Microsoft Visual C++ 2015-2019 Redistributableï¼Œä½†ä¼¼ä¹å­˜åœ¨é—®é¢˜ï¼Œå¯ä»¥å…ˆä» [æ§åˆ¶é¢æ¿] \u003e [ç¨‹åºå’ŒåŠŸèƒ½] é¡µé¢åˆ é™¤Microsoft Visual C++ 2015-2019 Redistributable (x86)å’ŒMicrosoft Visual C++ 2015-2019 Redistributable (x64)ï¼Œç„¶åä» Microsoftä¸‹è½½ä¸­å¿ƒä¸‹è½½Microsoft Visual C++ 2015 Redistributable Update 3 (x86)å’ŒMicrosoft Visual C++ 2015 Redistributable Update 3 (x64)å¹¶å®‰è£…ã€‚éšåï¼Œé‡æ–°æ‰§è¡ŒVMware Workstationå®‰è£…ç¨‹åºï¼Œé—®é¢˜è§£å†³ã€‚\nå‚è€ƒèµ„æ–™ https://kb.vmware.com/s/article/1008179\nhttp://element-ui.cn/article/show-85929.aspx\nhttps://www.cnblogs.com/d9394/p/13776623.html\nhttps://blog.csdn.net/weixin_37949588/article/details/106306033\n","description":"\n","tags":[],"title":"\nVMWare Workstationæ— æ³•ç”ŸæˆSSLå¯†é’¥å¯¼è‡´å®‰è£…å¤±è´¥é—®é¢˜","uri":"/posts/post-232/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"1.é¦–å…ˆè§£é‡Šä¸€ä¸‹æŠ¥é”™åŸå› ï¼š stanford parserå’Œjdkç‰ˆæœ¬å¯¹åº”å…³ç³»\nJ2SE 8 = 52, J2SE 7 = 51, J2SE 6.0 = 50, J2SE 5.0 = 49, JDK 1.4 = 48, JDK 1.3 = 47, JDK 1.2 = 46, JDK 1.1 = 45 Unsupported major.minor version 52.0: çœ‹åˆ°Unsupportedä½ æ˜¯ä¸æ˜¯ä¼šæƒ³åˆ°jdké«˜ç‰ˆæœ¬èƒ½å…¼å®¹ä½ç‰ˆæœ¬ï¼Œä½†æ˜¯ä½ç‰ˆæœ¬ä¸èƒ½å…¼å®¹é«˜ç‰ˆæœ¬ï¼Œä¸é”™ï¼ŒçŒœå¯¹äº†ï¼Œå…¶å®å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚è¿™ä¸ªé”™è¯¯æ„æ€æ˜¯ä½ é¡¹ç›®ç”¨JDK1.8è¿è¡Œè¿‡ï¼Œç°åœ¨åˆåœ¨æœ¬åœ°çš„eclipseç­‰å¼€å‘å·¥å…·æˆ–è€…æœ¬åœ°ç¯å¢ƒå˜é‡ä¸ºä½ç‰ˆæœ¬çš„jdk1.7æˆ–è€…jdk1.6ä¸‹è¿è¡Œï¼Œeclipseä¼šè¯´ï¼šâ€œæŠ±æ­‰ï¼Œæˆ‘æœ¬åœ°jdkç‰ˆæœ¬å¤ªä½ï¼Œä¸æ”¯æŒè¿™ä¸ªé«˜çº§ç‰ˆæœ¬jdk1.8ç¼–è¯‘è¿‡çš„é¡¹ç›®è¿è¡Œâ€ã€‚\nä½ çœ‹çœ‹ä½ æœ¬åœ°æ˜¯æŠ¥52è¿˜æ˜¯51æˆ–è€…å…¶ä»–çš„é”™ã€‚\n2.é…ç½®jdkè§£å†³é—®é¢˜ï¼š è¿™å‡ ä¸ªåœ°æ–¹jdkè¦ä¸€è‡´ï¼š\nçœ‹çœ‹ä½ ç³»ç»Ÿçš„jdkç¯å¢ƒå˜é‡é…ç½®çš„æ˜¯jdké‚£ä¸ªç‰ˆæœ¬\nWindowsâ€”â€” Preferencesâ€”â€”Javaâ€”â€”Compilerâ€”â€”è®¾ä¸ºjdk1.8\nåœ¨æ­¤é¡µé¢çš„Javaâ€”â€”Installed JREsâ€”â€”è®¾ä¸ºjdk1.8\nå…³é—­æ­¤é¡µé¢ï¼Œé¡¹ç›®å³é”®ï¼ˆæˆ–è€…coreåŒ…ï¼‰â€”â€”Build Pathï¼ˆä¹Ÿå¯æ˜¯Propertiesï¼‰â€”â€”Configure Build Pathâ€”â€”Java Build Pathâ€”â€”Librariesä¸‹é¢çš„JRE System Libraryæ”¹ä¸ºjdk1.8ï¼ˆæ­¤å¤„è®¾ç½®è§å‚è€ƒ3ï¼‰ï¼Œä¿è¯æ—è¾¹çš„Order and Exportè¿™ä¸ªjdkä¸ä¹‹ç›¸åŒ\nåŒé¡µé¢çš„Java Compileré€‰é¡¹æ”¹ä¸ºjdk1.8\nåŒé¡µé¢çš„Project Facetsâ€”â€”å³ä¾§çš„Javaæ”¹ä¸º1.8ï¼ˆæ­¤é¡¹ä¹Ÿå¯ä»¥ä¸æ”¹ï¼‰\nå¦‚æœè¿˜ä¸è¡Œçœ‹çœ‹ä½ çš„Eclipseçš„Serveré‡Œé…ç½®çš„tomcatå’Œjdkç‰ˆæœ¬æ˜¯å¦ä¸åŒï¼š\nWindowsâ€”â€”Preferenceâ€”â€”Serverâ€”â€”Runtime Environmentsâ€”â€”ç‚¹å‡»ä½ è¦ç”¨çš„tomcatâ€”â€”ç‚¹å‡»Edit â€”â€”åœ¨å¼¹å‡ºé¢æ¿çš„JREä¸­é€‰æ‹©å’Œä½ é¡¹ç›®å¯¹åº”çš„jdkç‰ˆæœ¬\nå¦‚æœä¸Šè¿°è¿˜ä¸ç®¡ç”¨çš„è¯è¯•è¯•ï¼š ä¿®æ”¹org.eclipse.wst.common.project.facet.core.xmlï¼š æ‰“å¼€é¡¹ç›®æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€.settingsæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹é‡Œé¢çš„â€œorg.eclipse.wst.common.project.facet.core.xmlâ€æ–‡ä»¶\nå¦‚æˆ‘çš„è·¯å¾„æ˜¯ï¼šD:\\cctv5cms\\maven.1490956540309\\cms-cms\\cms-core.settings\\org.eclipse.wst.common.project.facet.core.xml\næœ¬æ–‡é“¾æ¥ï¼šhttp://blog.csdn.net/superit401/article/details/72731381\nå‚è€ƒ1ï¼šhttps://www.zifangsky.cn/600.html\nå‚è€ƒ2ï¼šhttp://bbs.csdn.net/topics/391873068\nå‚è€ƒ3ï¼šhttp://www.oschina.net/question/207494_84715\n","description":"\n","tags":[],"title":"\nUnsupported major.minor version 52.0è§£å†³åŠæ³•","uri":"/posts/post-233/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"1. å®˜ç½‘ä¸‹è½½å®‰è£…åŒ… ä¸‹è½½åœ°å€ï¼š https://dev.mysql.com/downloads/mysql/\né€šè¿‡ä¸‹è½½é¡µé¢å¯ä»¥é€‰æ‹©å®‰è£…åŒ…æˆ–è€…æ˜¯å‹ç¼©åŒ…ã€‚\nè¿™é‡Œé€‰æ‹©å®‰è£…æ–‡ä»¶ï¼ˆInstaller MSIï¼‰\n2. ç‚¹å‡»ä¸‹è½½çš„ç¨‹åºåŒ…å®‰è£… 2.1 é€‰æ‹©å®‰è£…ç±»å‹\né€‰æ‹©ã€Server onlyã€‘ç„¶åã€Nextã€‘\n2.2 å®‰è£…å‰ææ£€æŸ¥\nå¦‚æœç”µè„‘ä¸Šä¹‹å‰æ²¡æœ‰å®‰è£…Microsoft Visual C++ç¯å¢ƒçš„è¯ï¼Œ ä¼šè‡ªåŠ¨å¼¹å‡ºMS Visual C++çš„å®‰è£…é¡µé¢ï¼Œè¿›è¡Œå®‰è£…å³å¯ã€‚\nç‚¹å‡»ã€Executeã€‘\nå®‰è£…MS Visual C++:\nè®¾ç½®æˆåŠŸåï¼Œç‚¹å‡»ã€å…³é—­ã€‘ï¼š\n2.3 å†æ¬¡å®‰è£…å‰ææ£€æŸ¥ MS Visual C++çš„å®‰è£…åï¼Œå†æ¬¡è¿›å…¥å®‰è£…å‰ææ£€æŸ¥é¡µé¢ï¼Œç»§ç»­å®‰è£…MySQLã€‚\nç‚¹å‡»ã€Nextã€‘:\nç‚¹å‡»ã€Executeã€‘:\nç‚¹å‡»ã€Nextã€‘:\n2.4 High Availabilityé€‰æ‹© é€‰æ‹©ã€Standaloneã€‘é€‰é¡¹\n2.5 ç«¯å£å·ç­‰è®¾ç½® ç«¯å£å·ç­‰ä¿æŒé»˜è®¤å³å¯,ç‚¹å‡»ã€Nextã€‘ã€‚\n2.6 è®¤è¯æ–¹å¼ç­‰è®¾ç½® é€‰æ‹©æ¨èæ–¹å¼ï¼Œç‚¹å‡»ã€Nextã€‘ã€‚\n2.7 Rootå¯†ç ç­‰è®¾ç½® è®¾ç½®MySQL rootç”¨æˆ·çš„ç™»å½•å¯†ç ã€‚\nè¿™é‡Œè¾“å…¥å¯†ç ï¼šroot\n2.8 WindownsæœåŠ¡æ³¨å†Œ ç‚¹å‡»ã€Nextã€‘:\n2.9 å®‰è£…è¿‡ç¨‹ç­‰å¾… ç‚¹å‡»ã€Nextã€‘:\n2.10 å®‰è£…ç»“æŸ ç‚¹å‡»ã€Nextã€‘ï¼Œç»“æŸå®‰è£…ã€‚\n2.11 å®‰è£…åäº§å“é…ç½® ç‚¹å‡»ã€Nextã€‘ï¼š\n2.12 ä¿å­˜å®‰è£…æ—¥å¿—ã€‚ ç‚¹å‡»ã€Copy Log to Clipboardã€‘,ä¿å­˜å®‰è£…æ—¥å¿—æ–¹ä¾¿å®‰è£…é—®é¢˜çš„è°ƒæŸ¥ã€‚\n3. å®‰è£…æˆåŠŸåï¼ŒéªŒè¯ é€šè¿‡å¼€å§‹èœå•ï¼ˆWiné”®ï¼‰è°ƒç”¨MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼ˆMySQL Command Line Clientï¼‰ï¼Œå°±å¯ä»¥è¿›è¡ŒMySQLæ“ä½œäº†ã€‚\nç‚¹å‡»å¼€å§‹èœå•ï¼ˆWiné”®ï¼‰ï¼Œæ‰¾åˆ°å®‰è£…çš„MySQLæ–‡ä»¶å¤¹ã€‚\nç‚¹å‡»ã€MySQL 8.0 Command Line Clientã€‘,ç„¶åè¾“å…¥å¯†ç å¼€å§‹MySQLä¹‹æ—…ã€‚\n4. MySQLçš„è·¯å¾„è®¾ç½® æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•å®‰è£…MySQLåï¼Œå¯ä»¥é€šè¿‡å¼€å§‹èœå•ï¼ˆWiné”®ï¼‰è°ƒç”¨MySQLå‘½ä»¤è¡Œï¼Œä¹Ÿå¯ä»¥é€šè¿‡Windowsçš„ã€å‘½ä»¤æç¤ºç¬¦ã€‘è°ƒç”¨MySQLç›‘è§†å™¨å¯¹MySQLè¿›è¡Œæ“ä½œã€‚ é»˜è®¤å®‰è£…æƒ…å†µä¸‹MySQLç›‘è§†å™¨æ˜¯æ”¾åœ¨ä»¥ä¸‹è·¯å¾„ä¸­ï¼š\n1 C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin æ‰€ä»¥ï¼Œè¦æƒ³å¯åŠ¨çš„è¯ï¼Œéœ€è¦å…ˆç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚\nåœ¨ã€ç³»ç»Ÿå˜é‡ã€‘æˆ–è€…ã€ç”¨æˆ·å˜é‡ã€‘ä¸­ï¼Œé€‰æ‹©å˜é‡ã€Pathã€‘ï¼Œç‚¹å‡»ã€ç¼–è¾‘ã€‘-\u003eã€æ–°å»ºã€‘ï¼Œè¾“å…¥ä¸Šé¢çš„MySQLè·¯å¾„â€œC:\\Program Files\\MySQL\\MySQL Server 8.0\\binâ€ã€‚è¿™æ ·ï¼Œä»¥ååœ¨Windowså‘½ä»¤è¡Œä¸­è°ƒç”¨MySQLå‘½ä»¤è¡Œå°±ä¸ç”¨æ¯æ¬¡éƒ½ç§»åŠ¨æ–‡ä»¶å¤¹äº†ã€‚\nè½¬è½½äºï¼šhttps://cloud.tencent.com/developer/article/1636375\n","description":"\n","tags":[],"title":"\næ‰‹æŠŠæ‰‹æ•™ä½ åœ¨Windows 10å®‰è£…MySQL 8.0ï¼ˆè¯¦ç»†å›¾æ–‡ï¼‰","uri":"/posts/post-234/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" $(\"\").load()ä¸­æ–‡ä¹±ç é—®é¢˜\nJSP è¯·æ±‚é¡µé¢\n$(\"#baseLineThreeCenterTab\").load(basePath+\"/pro/baseline/gotoProConfigBaseLineMain.action?parameter=\"+parameter); javaåå°æ¥æ”¶çš„å¦‚ï¼šparameter=â€œä¸­æ–‡â€ï¼Œåˆ™ä¼šå‡ºç°ä¹±ç ã€‚\nè§£å†³æ–¹æ³•ï¼š\nJSPé¡µé¢ // encodeURI()ç¼–ç \t$(\"#baseLineThreeCenterTab\").load(basePath+\"/pro/baseline/gotoProConfigBaseLineMain.action?parameter=\"+encodeURI(parameter)); JAVA: // URLDecoder.decode(parameter, \"utf-8\");è§£ç  import java.net.URLDecoder; String parameter = URLDecoder.decode(parameter, \"utf-8\"); ","description":"\n","tags":[],"title":"\njqueryä¸­loadä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ³•","uri":"/posts/post-235/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"åŸå›  è°·æ­Œ(Google)ä»¥ä½¿ç”¨ç‡ä½ä¸ºç”±ï¼Œåœæ­¢äº†Googleç¿»è¯‘åœ¨ä¸­å›½å¤§é™†çš„æœåŠ¡ï¼ŒGoogleç¿»è¯‘é€€å‡ºä¸­å›½,ä»…å­˜å”¯ä¸€åŠŸèƒ½ä¹Ÿæ²¡äº†.\nç°è±¡ ç‚¹å‡»ç¿»è¯‘æ— ååº”,ä¾ç„¶æ˜¾ç¤ºè‹±æ–‡.\nåˆ†æ æˆ‘ä»¬é€šè¿‡æŠ“åŒ…å·¥å…·å¯ä»¥çœ‹è§ç¿»è¯‘çš„æ—¶å€™ä¼šè®¿é—® https://translate.googleapis.com\ntranslate.googleapis.comï¼ˆGoogle ç¿»è¯‘ APIï¼‰,å› ä¸ºåœæ­¢äº†ä¸­å›½å¤§é™†çš„æœåŠ¡,ä¸å†åˆ†é…ä¸­å›½å†…åœ°çš„æœåŠ¡å™¨åœ°å€ï¼Œæ‰€ä»¥æµè§ˆå™¨å†…ç½®çš„ Google ç¿»è¯‘æ— æ³•ä½¿ç”¨\næµè§ˆå™¨å†…ç½®APIä¸æ”¯æŒæ‰©å±•é…ç½®çš„socks5ä»£ç†ï¼Œæ‰€ä»¥æŒ‚æ¢¯å­æ˜¯æ— æ•ˆçš„ï¼Œé™¤éç”¨ç³»ç»Ÿä»£ç†ã€‚\nè§£å†³æ–¹æ³• Google åœ¨ä¸­å›½å¼€å±•ä¸šåŠ¡çš„ç›¸å…³ç½‘ç«™æ‰€ä½¿ç”¨çš„ IP åœ°å€éƒ½æ˜¯å…±äº«çš„ï¼ŒåŒ…æ‹¬è°·æ­Œç¿»è¯‘ä¸šåŠ¡åœ¨å†…ï¼Œå› æ­¤åªè¦èƒ½æ‰¾åˆ°ä½ èƒ½æ­£å¸¸è®¿é—®çš„ Google æœåŠ¡çš„ç›¸å…³åŸŸåï¼Œæ¯”å¦‚è°·æ­Œä¸­å›½ä¸»é¡µã€èƒ½å¤Ÿåœ¨ç½‘é¡µä¸Šæ­£å¸¸åŠ è½½çš„ Adsense å¹¿å‘Šæˆ– Analytics ç»Ÿè®¡æ‰€ä½¿ç”¨çš„ JavaScript è„šæœ¬æ–‡ä»¶ç½‘å€ç­‰ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„è·å–åˆ°åœ¨ä½ æ‰€åœ¨çš„ç½‘ç»œç¯å¢ƒä¸­å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ IP åœ°å€ã€‚è·å–åˆ°å¯ç”¨ IP åœ°å€åï¼Œå°†å…¶æ·»åŠ åˆ°æ“ä½œç³»ç»Ÿçš„ hosts æ–‡ä»¶ï¼Œä½¿å…¶æ˜ å°„åˆ°è°·æ­Œç¿»è¯‘ API æ‰€ä½¿ç”¨çš„åŸŸåï¼ŒChrome ç¿»è¯‘åŠŸèƒ½å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚\nä¸‹é¢æ˜¯è·å–å¯ç”¨ IP åœ°å€ä»¥åŠä¿®æ”¹ Windows ç³»ç»Ÿå’Œ macOS ç³»ç»Ÿ hosts æ–‡ä»¶çš„å…·ä½“æ–¹æ³•ã€‚\næ‰‹åŠ¨ å¯ä»¥ç¼–è¾‘HOSTSæ–‡ä»¶å¯¹åŸŸåçš„åœ°å€è§£æè¿›è¡Œä¿®æ­£\nç”±äº translate.googleapis.com é‡‡ç”¨ä¸ google.cn ç›¸åŒçš„ IPåœ°å€ï¼Œå¯ä»¥å…ˆpingä¸€ä¸‹å¾—åˆ°å¯¹åº”çš„IPå†ä¿®æ”¹HOSTSæ–‡ä»¶ã€‚\n1 2 3 4 5 6 7 8 9 10 # æ‰“å¼€ç»ˆç«¯æˆ–è€…CMD å¾—åˆ°IPåœ°å€ ping google.cn # windows C:\\Windows\\System32\\drivers\\etc\\hosts # Linux / MacOS /etc/hosts # åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œä¿å­˜å³å¯ï¼Œæ ¼å¼ç¤ºä¾‹ï¼ˆè‡ªå·±æ ¹æ®é€šè¿‡ `ping google.cn` å¾—åˆ°çš„åœ°å€ä¿®æ”¹å‰é¢çš„IPåœ°å€ï¼‰ï¼š 114.250.65.34 translate.googleapis.com è‡ªåŠ¨ windows ä¸ºç®€åŒ–æ“ä½œï¼Œå·²æ‰‹åŠ¨ä¿®æ”¹ hosts æ–‡ä»¶çš„æ­¥éª¤å†™æˆäº†æ‰¹å¤„ç†è„šæœ¬ï¼Œåªéœ€ä¸€é”®å³å¯å®Œæˆæ‰€æœ‰ä¿®æ”¹æ­¥éª¤ã€‚\nä¸‹è½½æ‰¹å¤„ç†è„šæœ¬ï¼šfix-google-translate-cn.bat ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©ï¼Œåœ¨æ‰¹å¤„ç†æ–‡ä»¶ä¸Šç‚¹å‡»å³é”®ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­ç‚¹å‡»ã€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‘å³å¯ã€‚å¦‚æœçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºæç¤ºï¼Œè¡¨ç¤ºè§„åˆ™æ·»åŠ æˆåŠŸï¼ŒChrome ç¿»è¯‘å°±æ¢å¤æ­£å¸¸äº†ã€‚\nAdding the rule \"114.250.65.34 translate.googleapis.com\" Done. è¯·æŒ‰ä»»æ„é”®ç»§ç»­... æ­¤è„šæœ¬å¯ä»¥é‡å¤ä½¿ç”¨ã€‚æ·»åŠ è§„åˆ™åå†æ¬¡ä½¿ç”¨æ—¶ä¼šå‡ºç°äº¤äº’æç¤ºä¿¡æ¯ï¼Œè¾“å…¥ 1 ä¼šå°è¯•æ›´æ–°å·²æ·»åŠ è§„åˆ™çš„ IP åœ°å€ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–åˆ™ä¸åšä»»ä½•ä¿®æ”¹ï¼Œè¾“å…¥ 2 ä¼šåˆ é™¤å·²æ·»åŠ çš„è§„åˆ™ã€‚\nlinux\u0026MacOS ä¸ºç®€åŒ–æ“ä½œï¼Œå·²å°†æ‰‹åŠ¨ä¿®æ”¹ hosts æ–‡ä»¶çš„æ­¥éª¤å†™æˆäº† Shell è„šæœ¬ï¼Œåªéœ€ä¸€é”®å³å¯å®Œæˆæ‰€æœ‰ä¿®æ”¹æ­¥éª¤ã€‚\næ‰“å¼€â€œç»ˆç«¯â€ï¼Œæ‹·è´ä»¥ä¸‹å‘½ä»¤å¹¶å°†å…¶ç²˜è´´åˆ°ç»ˆç«¯ä¸Šï¼ŒæŒ‰å›è½¦ï¼Œè¾“å…¥ä½ çš„ç³»ç»Ÿå¯†ç ï¼Œå†æŒ‰å›è½¦ã€‚æ³¨æ„ï¼Œè¾“å…¥å¯†ç æ—¶æ˜¯ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯çš„ï¼Œåªè¦ç¡®ä¿è¾“å…¥çš„å¯†ç æ˜¯æ­£ç¡®çš„å°±å¯ä»¥ã€‚\nsudo bash -c \"$(curl -skL https://nas.mrf.ink:3000/tools/shell/raw/master/browser/fix-google-translate-cn/mac\u0026linux.sh)\" å¦‚æœçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºæç¤ºï¼Œè¡¨ç¤ºè§„åˆ™æ·»åŠ æˆåŠŸï¼Œä¹Ÿå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ Chrome çš„è°·æ­Œç¿»è¯‘åŠŸèƒ½äº†ã€‚\nAdding the rule \"114.250.65.34 translate.googleapis.com\" Done. ç»“æœ å¯ä»¥çœ‹å‡ºå†æ¬¡ç¿»è¯‘æ˜¾ç¤ºä¸­æ–‡äº†.\n","description":"\n","tags":[],"title":"\nChromeæµè§ˆå™¨å†…ç½®ç¿»è¯‘æ— æ³•ä½¿ç”¨,å³é”®ç¿»è¯‘æ— ååº”?ï¼ˆå·²å¤±æ•ˆï¼‰","uri":"/posts/post-236/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" mysql æ‰¹é‡æ›´æ–°å¦‚æœä¸€æ¡æ¡å»æ›´æ–°æ•ˆç‡æ˜¯ç›¸å½“çš„æ…¢, å¾ªç¯ä¸€æ¡ä¸€æ¡çš„æ›´æ–°è®°å½•,ä¸€æ¡è®°å½•updateä¸€æ¬¡ï¼Œè¿™æ ·æ€§èƒ½å¾ˆå·®ï¼Œä¹Ÿå¾ˆå®¹æ˜“é€ æˆé˜»å¡ã€‚mysql æ‰¹é‡æ›´æ–°å…±æœ‰å››ç§åŠæ³•\nreplace into æ‰¹é‡æ›´æ–° 1 replace into test_tbl (id,dr) values (1,'2'),(2,'3'),...(x,'y'); insert into â€¦on duplicate key updateæ‰¹é‡æ›´æ–° 1 insert into test_tbl (id,dr) values (1,'2'),(2,'3'),...(x,'y') on duplicate key update dr=values(dr); åˆ›å»ºä¸´æ—¶è¡¨ï¼Œå…ˆæ›´æ–°ä¸´æ—¶è¡¨ï¼Œç„¶åä»ä¸´æ—¶è¡¨ä¸­update 1 2 3 create temporary table tmp(id int(4) primary key,dr varchar(50)); insert into tmp values (0,'gone'), (1,'xx'),...(m,'yy'); update test_tbl, tmp set test_tbl.dr=tmp.dr where test_tbl.id=tmp.id; æ³¨æ„ï¼šè¿™ç§æ–¹æ³•éœ€è¦ç”¨æˆ·æœ‰temporary è¡¨çš„create æƒé™ã€‚\nä½¿ç”¨mysql è‡ªå¸¦çš„è¯­å¥æ„å»ºæ‰¹é‡æ›´æ–° mysql å®ç°æ‰¹é‡ å¯ä»¥ç”¨ç‚¹å°æŠ€å·§æ¥å®ç°:\n1 2 3 4 5 6 7 UPDATE tableName SET orderId = CASE id WHEN 1 THEN 3 WHEN 2 THEN 4 WHEN 3 THEN 5 END WHERE id IN (1,2,3) è¿™å¥sql çš„æ„æ€æ˜¯ï¼Œæ›´æ–°orderId å­—æ®µï¼Œå¦‚æœid=1 åˆ™orderId çš„å€¼ä¸º3ï¼Œå¦‚æœid=2 åˆ™orderId çš„å€¼ä¸º4â€¦â€¦ whereéƒ¨åˆ†ä¸å½±å“ä»£ç çš„æ‰§è¡Œï¼Œä½†æ˜¯ä¼šæé«˜sqlæ‰§è¡Œçš„æ•ˆç‡ã€‚ç¡®ä¿sqlè¯­å¥ä»…æ‰§è¡Œéœ€è¦ä¿®æ”¹çš„è¡Œæ•°ï¼Œè¿™é‡Œåªæœ‰3æ¡æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œè€Œwhereå­å¥ç¡®ä¿åªæœ‰3è¡Œæ•°æ®æ‰§è¡Œã€‚\nå¦‚æœæ›´æ–°å¤šä¸ªå€¼çš„è¯ï¼Œåªéœ€è¦ç¨åŠ ä¿®æ”¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 UPDATE categories SET orderId = CASE id WHEN 1 THEN 3 WHEN 2 THEN 4 WHEN 3 THEN 5 END, title = CASE id WHEN 1 THEN 'New Title 1' WHEN 2 THEN 'New Title 2' WHEN 3 THEN 'New Title 3' END WHERE id IN (1,2,3) åˆ°è¿™é‡Œï¼Œå·²ç»å®Œæˆä¸€æ¡mysqlè¯­å¥æ›´æ–°å¤šæ¡è®°å½•äº†ã€‚\næ€»ç»“ æ›´æ–° 100000æ¡æ•°æ®çš„æ€§èƒ½å°±æµ‹è¯•ç»“æœæ¥çœ‹ï¼Œæµ‹è¯•å½“æ—¶ä½¿ç”¨replace intoæ€§èƒ½è¾ƒå¥½ã€‚\nreplace into å’Œ insert into on duplicate key updateçš„ä¸åŒåœ¨äºï¼š\nreplace into æ“ä½œæœ¬è´¨æ˜¯å¯¹é‡å¤çš„è®°å½•å…ˆdelete åinsertï¼Œå¦‚æœæ›´æ–°çš„å­—æ®µä¸å…¨ä¼šå°†ç¼ºå¤±çš„å­—æ®µç½®ä¸ºç¼ºçœå€¼ï¼Œç”¨è¿™ä¸ªè¦æ‚ ç€ç‚¹å¦åˆ™ä¸å°å¿ƒæ¸…ç©ºå¤§é‡æ•°æ®å¯ä¸æ˜¯é—¹ç€ç©çš„ã€‚ insert into åˆ™æ˜¯åªupdateé‡å¤è®°å½•ï¼Œä¸ä¼šæ”¹å˜å…¶å®ƒå­—æ®µã€‚\n","description":"\n","tags":[],"title":"\nå¤§æ‰¹é‡æ›´æ–°æ•°æ®mysqlæ‰¹é‡æ›´æ–°çš„å››ç§æ–¹æ³•","uri":"/posts/post-237/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ•°æ®åº“ç›¸å…³ä¿¡æ¯ æŸ¥çœ‹ confluence.home é…ç½®\n1 cat /opt/atlassian/confluence/confluence/WEB-INF/classes/confluence-init.properties | grep confluence.home åœ¨ confluence.home ä¸‹é¢çš„ confluence.cfg.xml æ–‡ä»¶é‡Œé¢æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯\n1 cat /var/atlassian/application-data/confluence/confluence.cfg.xml | grep connection ä¿®æ”¹ç®¡ç†å‘˜å¯†ç  ç™»å½•æ•°æ®åº“\nmysql -hlocalhost -uconfluence -p confluence åœ¨æ•°æ®åº“é‡Œé¢æŸ¥çœ‹ç®¡ç†å‘˜ç”¨æˆ·\n1 2 3 select u.id, u.user_name, u.active from cwd_user u join cwd_membership m on u.id=m.child_user_id join cwd_group g on m.parent_id=g.id join cwd_directory d on d.id=g.directory_id where g.group_name = 'confluence-administrators' and d.directory_name='Confluence Internal Directory'; æ›´æ–°ç®¡ç†å‘˜ç”¨æˆ·å¯†ç ä¸º admin\n1 2 3 update cwd_user set credential = 'x61Ey612Kl2gpFL56FT9weDnpSo4AV8j8+qx2AuTHdRyY036xxzTTrw10Wq3+4qQyB+XURPWx1ONxp3Y3pB37A==' where id=xxxxxx; # è¿™é‡Œéœ€è¦æ”¹æˆ 393217 æ³¨æ„æ­¤å¤„xxxxxx ä¸ºä¸Šä¸€æ­¥çš„ id\nå¦‚æœä½ çš„å¯†ç æ˜¯{PKCS5S2}å‰ç¼€å¼€å¤´çš„ï¼Œåˆ™ç”¨ä¸‹é¢è¿™ä¸ªsql:\n1 2 3 update cwd_user set credential = '{PKCS5S2}ltrb9LlmZ0QDCJvktxd45WgYLOgPt2XTV8X7av2p0mhPvIwofs9bHYVz2OXQ6/kF' where id=xxxxxx; è¿™ä¸ªç®¡ç†å‘˜å¯†ç ä¸º Ab123456\n","description":"\n","tags":[],"title":"\nconfluence å¿˜è®°å¯†ç ","uri":"/posts/post-238/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" åœ¨å¹³æ—¶æˆ‘ä»¬æ‰“åŒ…ä¼šå°†å…¶æ‰“æˆJarï¼Œé‚£ä¹ˆåœ¨å…¶ä»–å¹³å°è¿è¡Œçš„æ—¶å€™å°±éœ€è¦å®‰è£…jreæ¥æ”¯æŒè¿è¡Œã€‚æˆ‘ä»¬ç”¨çš„æ˜¯javapackager,javapackageræ˜¯jdk1.8è‡ªå¸¦çš„ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥ç”Ÿæˆå„ä¸ªç³»ç»Ÿçš„å®‰è£…åŒ…\nå‡†å¤‡å·¥ä½œ innosetup-5.6.0.exeï¼ˆwindowsä¸‹Java8æ”¯æŒ6ç‰ˆæœ¬ä»¥ä¸‹çš„ï¼Œä¸è¦ä¸‹è½½6åŠå…¶6ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå¦åˆ™æ— æ³•æ‰“åŒ…æˆåŠŸï¼‰ wixï¼ˆæ‰“åŒ…æˆmsiå¿…é¡»ä¸‹è½½ï¼Œæ²¡æœ‰ä¸‹è½½javapackagerä¼šæç¤ºç¼ºå°‘wixï¼‰ JDK8 ç”¨æ³• javapackager command [options] command :åº”è¯¥æ‰§è¡Œçš„ä»»åŠ¡\n[options] :ä»¥ç©ºæ ¼åˆ†éš”çš„å‘½ä»¤çš„ä¸€ä¸ªæˆ–å¤šä¸ªé€‰é¡¹\nCommands æ‚¨å¯ä»¥æŒ‡å®šä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€ã€‚åœ¨å‘½ä»¤ä¹‹åï¼ŒæŒ‡å®šå®ƒçš„é€‰é¡¹ã€‚\n-createbss:å°† CSS æ–‡ä»¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼ã€‚ -createjar:æ ¹æ®å…¶ä»–å‚æ•°ç”Ÿæˆ JAR å­˜æ¡£ã€‚ -deploy:ç»„è£…åº”ç”¨ç¨‹åºåŒ…ä»¥è¿›è¡Œé‡æ–°åˆ†å‘ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œéƒ¨ç½²ä»»åŠ¡ä¼šç”ŸæˆåŸºç¡€åº”ç”¨ç¨‹åºåŒ…ï¼Œä½†å¦‚æœéœ€è¦ï¼Œå®ƒä¹Ÿå¯ä»¥ç”Ÿæˆè‡ªåŒ…å«çš„åº”ç”¨ç¨‹åºåŒ…ã€‚ -makeall:ä½¿ç”¨é¢„å®šä¹‰çš„å¤§å¤šæ•°å‚æ•°ï¼Œä¸€æ¬¡è°ƒç”¨æ‰§è¡Œç¼–è¯‘ã€createjarå’Œdeployæ­¥éª¤ï¼Œå¹¶å°è¯•ç”Ÿæˆæ‰€æœ‰é€‚ç”¨çš„è‡ªåŒ…å«åº”ç”¨ç¨‹åºåŒ…ã€‚æºæ–‡ä»¶å¿…é¡»ä½äºåä¸º çš„æ–‡ä»¶å¤¹srcä¸­ï¼Œç”Ÿæˆçš„æ–‡ä»¶ï¼ˆJARã€JNLPã€HTML å’Œè‡ªåŒ…å«åº”ç”¨ç¨‹åºåŒ…ï¼‰ä½äºåä¸º çš„æ–‡ä»¶å¤¹ä¸­distã€‚æ­¤å‘½ä»¤åªèƒ½ä»¥æœ€å°‘çš„æ–¹å¼é…ç½®ï¼Œå¹¶ä¸”å°½å¯èƒ½è‡ªåŠ¨åŒ–ã€‚ -signjar:ä½¿ç”¨æä¾›çš„è¯ä¹¦å¯¹ JAR æ–‡ä»¶è¿›è¡Œç­¾åã€‚ createbss å‘½ä»¤çš„é€‰é¡¹ -outdir dir: å°†æ¥æ”¶ç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶çš„ç›®å½•çš„åç§°ã€‚\n-srcdir dir:è¦æ‰“åŒ…çš„æ–‡ä»¶çš„åŸºæœ¬ç›®å½•ã€‚\n-srcfiles files:-srcdiré€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœçœç•¥ï¼Œå°†ä½¿ç”¨ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹è¿™æ˜¯ä¸€ä¸ªå¼ºåˆ¶å‚æ•°ï¼‰ã€‚åˆ—è¡¨ä¸­çš„æ–‡ä»¶å¿…é¡»ç”¨ç©ºæ ¼åˆ†éš”ã€‚\ncreatejar å‘½ä»¤çš„é€‰é¡¹ -appclass app-class:è¦æ‰§è¡Œçš„åº”ç”¨ç¨‹åºç±»çš„é™å®šåç§°ã€‚\n-argument arg:è¦ä½œä¸º\u003cfx:argument\u003eå…ƒç´ æ’å…¥åˆ° JNLP æ–‡ä»¶ä¸­çš„æœªå‘½åå‚æ•°ã€‚\n-classpath files:ç›¸å…³ JAR æ–‡ä»¶ååˆ—è¡¨ã€‚\n-manifestAttrs manifest-attributes:å…¶ä»–æ¸…å•å±æ€§çš„åç§°å’Œå€¼åˆ—è¡¨ã€‚å¥æ³•ï¼šâ€œåç§° 1=å€¼ 1ï¼Œåç§° 2=å€¼ 2ï¼Œåç§° 3=å€¼ 3â€\n-nocss2bin:æ‰“åŒ…å™¨åœ¨å¤åˆ¶åˆ° JAR ä¹‹å‰ä¸ä¼šå°† CSS æ–‡ä»¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼ã€‚\n-outdir dir:å°†æ¥æ”¶ç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶çš„ç›®å½•çš„åç§°ã€‚\n-outfile filename:å°†ç”Ÿæˆçš„æ–‡ä»¶çš„åç§°ï¼ˆä¸å¸¦æ‰©å±•åï¼‰ã€‚\n-paramfile file:å…·æœ‰é»˜è®¤å‘½ååº”ç”¨ç¨‹åºå‚æ•°çš„å±æ€§æ–‡ä»¶ã€‚\n-preloader preloader-class:è¦æ‰§è¡Œçš„ JavaFX é¢„åŠ è½½å™¨ç±»çš„é™å®šåç§°ã€‚æ­¤é€‰é¡¹ä»…ç”¨äº JavaFX åº”ç”¨ç¨‹åºã€‚ä¸è¦ç”¨äº Java åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ— å¤´åº”ç”¨ç¨‹åºã€‚\n-srcdir dir:è¦æ‰“åŒ…çš„æ–‡ä»¶çš„åŸºæœ¬ç›®å½•ã€‚\n-srcfiles files:-srcdiré€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœçœç•¥ï¼Œå°†ä½¿ç”¨ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹è¿™æ˜¯ä¸€ä¸ªå¼ºåˆ¶å‚æ•°ï¼‰ã€‚åˆ—è¡¨ä¸­çš„æ–‡ä»¶å¿…é¡»ç”¨ç©ºæ ¼åˆ†éš”ã€‚\ndeployå‘½ä»¤çš„é€‰é¡¹ -allpermissions:å¦‚æœå­˜åœ¨ï¼Œåº”ç”¨ç¨‹åºå°†éœ€è¦ JNLP æ–‡ä»¶ä¸­çš„æ‰€æœ‰å®‰å…¨æƒé™ã€‚\n-appclass app-class:è¦æ‰§è¡Œçš„åº”ç”¨ç¨‹åºç±»çš„é™å®šåç§°ã€‚ å°±æ˜¯è¯¦ç»†åŒ…å+ç±»åï¼Œä¹Ÿå°±æ˜¯ç¨‹åºçš„å…¥å£ç±»çš„å…¨ç±»å\n-argument arg:è¦æ’å…¥åˆ°fx:argumentJNLP æ–‡ä»¶ä¸­çš„å…ƒç´ ä¸­çš„æœªå‘½åå‚æ•°ã€‚\n-Bbundler-argument=value: å‘ç”¨äºæ‰“åŒ…è‡ªåŒ…å«åº”ç”¨ç¨‹åºçš„æ†ç»‘ç¨‹åºæä¾›ä¿¡æ¯ã€‚æœ‰å…³æ¯ä¸ªæ†ç»‘å™¨çš„å‚æ•°çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…è‡ªåŒ…å«åº”ç”¨ç¨‹åºæ†ç»‘å™¨çš„å‚æ•°ã€‚\n-callbacks:åœ¨ç”Ÿæˆçš„ HTML ä¸­æŒ‡å®šç”¨æˆ·å›è°ƒæ–¹æ³•ã€‚æ ¼å¼å¦‚ä¸‹ï¼šâ€œåç§° 1ï¼šå€¼ 1ï¼Œåç§° 2ï¼šå€¼ 2ï¼Œâ€¦â€\n-description description:åº”ç”¨ç¨‹åºçš„æè¿°ã€‚\n-embedCertificates:å¦‚æœå­˜åœ¨ï¼Œè¯ä¹¦å°†åµŒå…¥ JNLP æ–‡ä»¶ä¸­ã€‚\n-embedjnlp:å¦‚æœå­˜åœ¨ï¼ŒJNLP æ–‡ä»¶å°†åµŒå…¥åˆ° HTML æ–‡æ¡£ä¸­ã€‚\n-height height:åº”ç”¨ç¨‹åºçš„é«˜åº¦ã€‚\n-htmlparamfile file:å±æ€§æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«åœ¨æµè§ˆå™¨ä¸­è¿è¡Œæ—¶ç”Ÿæˆçš„åº”ç”¨ç¨‹åºçš„å‚æ•°ã€‚\n-isExtension:å¦‚æœå­˜åœ¨ï¼Œåˆ™å°†srcfileså…¶è§†ä¸ºæ‰©å±•ã€‚\n-name name:åº”ç”¨ç¨‹åºçš„åç§°ã€‚\n-native type:ç”Ÿæˆç‹¬ç«‹çš„åº”ç”¨ç¨‹åºåŒ…ï¼ˆå¦‚æœå¯èƒ½ï¼‰ã€‚ä½¿ç”¨è¯¥-Bé€‰é¡¹ä¸ºæ­£åœ¨ä½¿ç”¨çš„æ†ç»‘å™¨æä¾›å‚æ•°ã€‚å¦‚æœæŒ‡å®šäº†ç±»å‹ï¼Œåˆ™ä»…åˆ›å»ºæ­¤ç±»å‹çš„æ†ç»‘åŒ…ã€‚å¦‚æœæœªæŒ‡å®šç±»å‹ï¼Œallåˆ™ä½¿ç”¨ã€‚\nä»¥ä¸‹å€¼å¯¹typeæœ‰æ•ˆï¼š * `all`ï¼šä¸ºè¿è¡Œå®ƒçš„å¹³å°è¿è¡Œæ‰€æœ‰å®‰è£…ç¨‹åºï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºåˆ›å»ºç£ç›˜æ˜ åƒã€‚å¦‚æœæœªæŒ‡å®šç±»å‹ï¼Œåˆ™ä½¿ç”¨æ­¤å€¼ã€‚ * `installer`ï¼šè¿è¡Œå®ƒæ‰€åœ¨å¹³å°çš„æ‰€æœ‰å®‰è£…ç¨‹åºã€‚ * `image`ï¼šä¸ºåº”ç”¨ç¨‹åºåˆ›å»ºç£ç›˜æ˜ åƒã€‚åˆ›å»ºåŸç”Ÿçš„é•œåƒ(æ‰“æˆwindowçš„exe)ã€‚ * `exe`: ç”Ÿæˆä¸€ä¸ª Windows`.exe`åŒ…ã€‚ * `msi`ï¼šç”Ÿæˆä¸€ä¸ª Windows å®‰è£…ç¨‹åºåŒ…ã€‚ -outdir dir:å°†æ¥æ”¶ç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶çš„ç›®å½•çš„åç§°ã€‚\n-outfile filename:å°†ç”Ÿæˆçš„æ–‡ä»¶çš„åç§°ï¼ˆä¸å¸¦æ‰©å±•åï¼‰ã€‚\n-paramfile file:å…·æœ‰é»˜è®¤å‘½ååº”ç”¨ç¨‹åºå‚æ•°çš„å±æ€§æ–‡ä»¶ã€‚\n-preloader preloader-class:è¦æ‰§è¡Œçš„ JavaFX é¢„åŠ è½½å™¨ç±»çš„é™å®šåç§°ã€‚æ­¤é€‰é¡¹ä»…ç”¨äº JavaFX åº”ç”¨ç¨‹åºã€‚ä¸è¦ç”¨äº Java åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ— å¤´åº”ç”¨ç¨‹åºã€‚\n-srcdir dir:è¦æ‰“åŒ…çš„æ–‡ä»¶çš„åŸºæœ¬ç›®å½•ã€‚å°±æ˜¯æˆ‘ä»¬ä¹‹å‰åŒ…å«jaræ–‡ä»¶çš„æ–‡ä»¶å¤¹(æ³¨æ„è¿™é‡Œä¸æ˜¯javaæºä»£ç ç›®å½•)\n-srcfiles files:-srcdiré€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœçœç•¥ï¼Œå°†ä½¿ç”¨ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹è¿™æ˜¯ä¸€ä¸ªå¼ºåˆ¶å‚æ•°ï¼‰ã€‚åˆ—è¡¨ä¸­çš„æ–‡ä»¶å¿…é¡»ç”¨ç©ºæ ¼åˆ†éš”ã€‚\n20 -templateId:æ¨¡æ¿å¤„ç†åº”ç”¨çš„åº”ç”¨IDã€‚\n21 -templateInFilename:HTML æ¨¡æ¿æ–‡ä»¶çš„åç§°ã€‚å ä½ç¬¦é‡‡ç”¨ä»¥ä¸‹å½¢å¼ï¼š#XXXX.YYYY(APPID)#\nå…¶ä¸­ APPID æ˜¯åº”ç”¨ç¨‹åºçš„æ ‡è¯†ç¬¦ï¼ŒXXX æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š DT.SCRIPT.URLdtjava.js åœ¨éƒ¨ç½²å·¥å…·åŒ…ä¸­çš„ä½ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ç½®æ˜¯http://java.com/js/dtjava.js DT.SCRIPT.CODEåŒ…å«éƒ¨ç½²å·¥å…·åŒ…çš„ dtjava.js çš„è„šæœ¬å…ƒç´ ã€‚ DT.EMBED.CODE.DYNAMICå°†åº”ç”¨ç¨‹åºåµŒå…¥ç»™å®šå ä½ç¬¦çš„ä»£ç ã€‚é¢„è®¡ä»£ç å°†è¢«åŒ…è£…åœ¨function()æ–¹æ³•ä¸­ã€‚ DT.EMBED.CODE.ONLOADä½¿ç”¨é’©å­å°†åº”ç”¨ç¨‹åºåµŒå…¥ç½‘é¡µæ‰€éœ€çš„æ‰€æœ‰ä»£ç onloadï¼ˆåŒ…å« dtjava.js é™¤å¤–ï¼‰ã€‚ DT.LAUNCH.CODEå¯åŠ¨åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä»£ç ã€‚é¢„è®¡ä»£ç å°†è¢«åŒ…è£…åœ¨function()æ–¹æ³•ä¸­ã€‚ 22 -templateOutFilename:å°†ä»æ¨¡æ¿ç”Ÿæˆçš„ HTML æ–‡ä»¶çš„åç§°ã€‚\n23 -title title:åº”ç”¨ç¨‹åºçš„æ ‡é¢˜ã€‚\n24 -vendor vendor:åº”ç”¨ç¨‹åºçš„ä¾›åº”å•†ã€‚\n25 -width width:åº”ç”¨ç¨‹åºçš„å®½åº¦ã€‚\n26 -updatemode update-mode:è®¾ç½® JNLP æ–‡ä»¶çš„æ›´æ–°æ¨¡å¼ã€‚\nmakeall å‘½ä»¤çš„é€‰é¡¹ -appclass app-class:è¦æ‰§è¡Œçš„åº”ç”¨ç¨‹åºç±»çš„é™å®šåç§°ã€‚\n-classpath files:ç›¸å…³ JAR æ–‡ä»¶ååˆ—è¡¨ã€‚\n-height height:åº”ç”¨ç¨‹åºçš„é«˜åº¦ã€‚\n-name name:åº”ç”¨ç¨‹åºçš„åç§°ã€‚\n-preloader preloader-class:è¦æ‰§è¡Œçš„ JavaFX é¢„åŠ è½½å™¨ç±»çš„é™å®šåç§°ã€‚æ­¤é€‰é¡¹ä»…ç”¨äº JavaFX åº”ç”¨ç¨‹åºã€‚ä¸è¦ç”¨äº Java åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ— å¤´åº”ç”¨ç¨‹åºã€‚\n-width width:åº”ç”¨ç¨‹åºçš„å®½åº¦ã€‚\nsignjar å‘½ä»¤çš„é€‰é¡¹ -alias:å¯†é’¥çš„åˆ«åã€‚ -keyPass:ç”¨äºæ¢å¤å¯†é’¥çš„å¯†ç ã€‚ -keyStore file:å¯†é’¥åº“æ–‡ä»¶åã€‚ -outdir dir:å°†æ¥æ”¶ç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶çš„ç›®å½•çš„åç§°ã€‚ -srcdir dir:è¦ç­¾åçš„æ–‡ä»¶çš„åŸºæœ¬ç›®å½•ã€‚ -srcfiles files:-srcdiré€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœçœç•¥ï¼Œå°†ä½¿ç”¨ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹è¿™æ˜¯ä¸€ä¸ªå¼ºåˆ¶å‚æ•°ï¼‰ã€‚åˆ—è¡¨ä¸­çš„æ–‡ä»¶å¿…é¡»ç”¨ç©ºæ ¼åˆ†éš”ã€‚ -storePass:æ£€æŸ¥å¯†é’¥åº“å®Œæ•´æ€§æˆ–è§£é”å¯†é’¥åº“çš„å¯†ç  -storeType:å¯†é’¥åº“ç±»å‹ã€‚é»˜è®¤å€¼ä¸ºâ€œjksâ€ã€‚ åº”ç”¨ç¨‹åºæ†ç»‘çš„å‚æ•° è¿™äº›è‡ªå®šä¹‰çš„bundleå‚æ•°åœ¨ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼Œ-BåŠ ä¸Šå‚æ•°å=å€¼ ä¾‹å¦‚ icon ä½¿ç”¨çš„æ—¶å€™å°±æ˜¯ -Bicon=â€œpath\nè¯¥å‘½ä»¤çš„-Bé€‰é¡¹ç”¨äº-deployæŒ‡å®šç”¨äºåˆ›å»ºè‡ªåŒ…å«åº”ç”¨ç¨‹åºçš„æ†ç»‘ç¨‹åºçš„å‚æ•°ã€‚æ¯ç§ç±»å‹çš„æ†ç»‘å™¨éƒ½æœ‰è‡ªå·±çš„ä¸€ç»„å‚æ•°ã€‚\nappVersion=version:åº”ç”¨ç¨‹åºåŒ…çš„ç‰ˆæœ¬ã€‚ä¸€äº›æ†ç»‘å™¨ä¼šé™åˆ¶ç‰ˆæœ¬å­—ç¬¦ä¸²çš„æ ¼å¼ã€‚\nclassPath=path :ç›¸å¯¹äºç»„è£…çš„åº”ç”¨ç¨‹åºç›®å½•çš„ç±»è·¯å¾„ã€‚javapackagerè¯¥è·¯å¾„é€šå¸¸ä» JAR æ–‡ä»¶æ¸…å•ä¸­æå–ï¼Œå¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–å‘½ä»¤ï¼Œåˆ™ä¸éœ€è¦è®¾ç½®ã€‚\nicon=path:ç”¨äºå¯åŠ¨å™¨å’Œå…¶ä»–è¾…åŠ©çš„é»˜è®¤å›¾æ ‡çš„ä½ç½®ã€‚å¯¹äº Windowsï¼Œæ ¼å¼å¿…é¡»ä¸º.ico.\nidentifier=value:ç”¨äºå…¶ä»–å¹³å°ç‰¹å®šå€¼çš„é»˜è®¤å€¼ï¼Œä¾‹å¦‚mac.CFBundleIdentifier. å»ºè®®ä½¿ç”¨åå‘ DNS é¡ºåºï¼Œä¾‹å¦‚com.example.application.my-application.\njvmOptions=option:è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ä¼ é€’ç»™ JVM çš„é€‰é¡¹ã€‚javaå¯ä»¥ä½¿ç”¨å¯¹å‘½ä»¤æœ‰æ•ˆçš„ä»»ä½•é€‰é¡¹ã€‚è¦ä¼ é€’å¤šä¸ªé€‰é¡¹ï¼Œè¯·ä½¿ç”¨è¯¥-Bé€‰é¡¹çš„å¤šä¸ªå®ä¾‹ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š-BjvmOptions=-Xmx128m -BjvmOptions=-Xms128m`\njvmProperties=property=value:è¿è¡Œåº”ç”¨ç¨‹åºæ—¶è¦ä¼ é€’ç»™ VM çš„ Java ç³»ç»Ÿå±æ€§ã€‚å¯ä»¥ä½¿ç”¨-Då¯¹å‘½ä»¤é€‰é¡¹æœ‰æ•ˆçš„ä»»ä½•å±æ€§ã€‚javaæŒ‡å®šå±æ€§åç§°å’Œå±æ€§å€¼ã€‚è¦ä¼ é€’å¤šä¸ªå±æ€§ï¼Œè¯·ä½¿ç”¨è¯¥-Bé€‰é¡¹çš„å¤šä¸ªå®ä¾‹ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š-BjvmProperties=apiUserName=ç¤ºä¾‹ -BjvmProperties=apiKey=abcdef1234567890\nmainJar=filename:åŒ…å«åº”ç”¨ç¨‹åºä¸»ç±»çš„ JAR æ–‡ä»¶çš„åç§°ã€‚javapackageræ–‡ä»¶åé€šå¸¸ä» JAR æ–‡ä»¶æ¸…å•ä¸­æå–ï¼Œå¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–å‘½ä»¤ï¼Œåˆ™ä¸éœ€è¦è®¾ç½®ã€‚\npreferencesID=node:è¦æ£€æŸ¥çš„é¦–é€‰é¡¹èŠ‚ç‚¹ä»¥æ£€æŸ¥ç”¨æˆ·å¯ä»¥è¦†ç›–çš„ JVM é€‰é¡¹ã€‚æŒ‡å®šçš„èŠ‚ç‚¹åœ¨è¿è¡Œæ—¶ä½œä¸ºé€‰é¡¹ä¼ é€’ç»™åº”ç”¨ç¨‹åº-Dapp.preferences.idã€‚æ­¤å‚æ•°ä¸userJVMOptionså‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚\nruntime=path:è¿è¡Œæ—¶=è·¯å¾„è¦åŒ…å«åœ¨åŒ…ä¸­çš„ JRE æˆ– JDK çš„ä½ç½®ã€‚æä¾› JDK æˆ– JRE çš„æ ¹æ–‡ä»¶å¤¹çš„æ–‡ä»¶è·¯å¾„ã€‚è¦ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„ JREï¼Œè¯·ä¸è¦æä¾›è·¯å¾„ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š-Bruntime=\nserJvmOptions=option=value:ç”¨æˆ·å¯ä»¥è¦†ç›–çš„ JVM é€‰é¡¹ã€‚javaå¯ä»¥ä½¿ç”¨å¯¹å‘½ä»¤æœ‰æ•ˆçš„ä»»ä½•é€‰é¡¹ã€‚æŒ‡å®šé€‰é¡¹åç§°å’Œé€‰é¡¹çš„å€¼ã€‚è¦ä¼ é€’å¤šä¸ªé€‰é¡¹ï¼Œè¯·ä½¿ç”¨è¯¥-Bé€‰é¡¹çš„å¤šä¸ªå®ä¾‹ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š-BuserJvmOptions=-Xmx=128m -BuserJvmOptions=-Xms=128m\nWindows EXE Bundler å‚æ•° copyright=string:åº”ç”¨ç¨‹åºçš„ç‰ˆæƒå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å¿…é¡»æ˜¯ä¸è¶…è¿‡ 100 ä¸ªå­—ç¬¦çš„å•è¡Œã€‚æ­¤å‚æ•°ç”¨äºå„ç§ exe å’Œæ³¨å†Œè¡¨å…ƒæ•°æ®ã€‚\nlicenseFile=path:æ†ç»‘å•†æä¾›æˆ–è®°å½•çš„æœ€ç»ˆç”¨æˆ·è®¸å¯åè®® (EULA) çš„ä½ç½®ã€‚è¯¥è·¯å¾„æ˜¯ç›¸å¯¹äºæ‰“åŒ…çš„åº”ç”¨ç¨‹åºèµ„æºçš„ï¼Œä¾‹å¦‚-BlicenseFile=COPYING.\nmenuHint=boolean:æŒ‡ç¤ºå¿«æ·æ–¹å¼æ˜¯å¦å®‰è£…åœ¨å¼€å§‹èœå•æˆ–å¼€å§‹å±å¹•ä¸Šçš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueå®‰è£…å¿«æ·æ–¹å¼ã€‚é»˜è®¤å€¼ä¸ºtrue.\nortcutHint=boolean:æŒ‡ç¤ºå¿«æ·æ–¹å¼æ˜¯å¦æ”¾ç½®åœ¨æ¡Œé¢ä¸Šçš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueå‘æ¡Œé¢æ·»åŠ å¿«æ·æ–¹å¼ã€‚é»˜è®¤å€¼ä¸ºfalse.\nsystemWide=boolean:æŒ‡ç¤ºåº”ç”¨ç¨‹åºæ˜¯å®‰è£…åœ¨ Program Files ä¸­è¿˜æ˜¯å®‰è£…åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸­çš„æ ‡å‡†ä½ç½®çš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueåœ¨ Program Files ä¸­å®‰è£…åº”ç”¨ç¨‹åºã€‚è®¾ç½®ä¸ºfalseå°†åº”ç”¨ç¨‹åºå®‰è£…åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ã€‚é»˜è®¤å€¼ä¸ºfalse.\nwin.menuGroup=group:ä½•æ—¶å®‰è£…åº”ç”¨ç¨‹åºçš„èœå•menuHintç»„trueã€‚menuHintå½“isæ—¶ï¼Œè¯¥å‚æ•°è¢«å¿½ç•¥falseã€‚\nvendor=value:æä¾›ç”³è¯·çš„å…¬å¸ã€ç»„ç»‡æˆ–ä¸ªäººã€‚æ­¤å‚æ•°ç”¨äºå„ç§ exe å’Œæ³¨å†Œè¡¨å…ƒæ•°æ®ã€‚\nWindows MSI Bundler å‚æ•° menuHint=boolean:æŒ‡ç¤ºå¿«æ·æ–¹å¼æ˜¯å¦å®‰è£…åœ¨å¼€å§‹èœå•æˆ–å¼€å§‹å±å¹•ä¸Šçš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueå®‰è£…å¿«æ·æ–¹å¼ã€‚é»˜è®¤å€¼ä¸ºtrue.\nshortcutHint=boolean:æŒ‡ç¤ºå¿«æ·æ–¹å¼æ˜¯å¦æ”¾ç½®åœ¨æ¡Œé¢ä¸Šçš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueå‘æ¡Œé¢æ·»åŠ å¿«æ·æ–¹å¼ã€‚é»˜è®¤å€¼ä¸ºfalse.\nsystemWide=boolean:æŒ‡ç¤ºåº”ç”¨ç¨‹åºæ˜¯å®‰è£…åœ¨ Program Files ä¸­è¿˜æ˜¯å®‰è£…åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸­çš„æ ‡å‡†ä½ç½®çš„æ ‡å¿—ã€‚è®¾ç½®ä¸ºtrueåœ¨ Program Files ä¸­å®‰è£…åº”ç”¨ç¨‹åºã€‚è®¾ç½®ä¸ºfalseå°†åº”ç”¨ç¨‹åºå®‰è£…åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ã€‚é»˜è®¤å€¼ä¸ºtrue.\nwin.menuGroup=group:ä½•æ—¶å®‰è£…åº”ç”¨ç¨‹åºçš„èœå•menuHintç»„trueã€‚menuHintå½“isæ—¶ï¼Œè¯¥å‚æ•°è¢«å¿½ç•¥falseã€‚\nvendor=value:æä¾›ç”³è¯·çš„å…¬å¸ã€ç»„ç»‡æˆ–ä¸ªäººã€‚æ­¤å‚æ•°ç”¨äºå„ç§ exe å’Œæ³¨å†Œè¡¨å…ƒæ•°æ®ã€‚\nä¸æ¨èä½¿ç”¨çš„é€‰é¡¹ æ‰“åŒ…å·¥å…·ä¸å†ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹ï¼Œå¦‚æœå­˜åœ¨åˆ™å°†å…¶å¿½ç•¥ã€‚\n-runtimeversion version:æ‰€éœ€ JavaFX è¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚å·²å¼ƒç”¨ã€‚ -noembedlauncher:å¦‚æœå­˜åœ¨ï¼Œæ‰“åŒ…ç¨‹åºä¸ä¼šå°† JavaFX å¯åŠ¨å™¨ç±»æ·»åŠ åˆ° JAR æ–‡ä»¶ä¸­ã€‚å·²å¼ƒç”¨ã€‚ -vé€‰é¡¹å¯ä»¥ä¸ä»»ä½•ä»»åŠ¡å‘½ä»¤ä¸€èµ·ä½¿ç”¨ä»¥å¯ç”¨è¯¦ç»†è¾“å‡ºã€‚\nå½“-srcdirå‘½ä»¤ä¸­å…è®¸è¯¥é€‰é¡¹æ—¶ï¼Œå®ƒå¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚å¦‚æœæŒ‡å®šäº†è¯¥é€‰é¡¹ï¼Œåˆ™å°†åœ¨å‰é¢é€‰é¡¹-srcfilesä¸­æŒ‡å®šçš„ä½ç½®æŸ¥æ‰¾å‚æ•°ä¸­å‘½åçš„æ–‡ä»¶ã€‚srcdirå¦‚æœæ²¡æœ‰-srcdirå‰é¢çš„ ï¼Œåˆ™ä½¿ç”¨æ‰§è¡Œå‘½ä»¤-srcfilesçš„ç›®å½•ã€‚javapackager\nä¾‹å­ ä½¿ç”¨ -createjar å‘½ä»¤ javapackager -createjar -appclass package.ClassName -srcdir classes -outdir out -outfile outjar -v classeså°†ç›®å½•çš„å†…å®¹æ‰“åŒ…ä¸ºoutjar.jarï¼Œå°†åº”ç”¨ç¨‹åºç±»è®¾ç½®ä¸ºpackage.ClassNameã€‚\nä½¿ç”¨ -deploy å‘½ä»¤ javapackager -deploy -outdir outdir -outfile outfile -width 34 -height 43 -name AppName -appclass package.ClassName -v -srcdir compiled ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆoutfile.jnlpå’Œå¯¹åº”çš„outfile.htmlæ–‡ä»¶ï¼Œå®ƒç”±34 x 43 åƒç´ å¯åŠ¨å¹¶å…·æœ‰å°ºå¯¸ã€‚outdir``AppName``package.ClassName\nä½¿ç”¨ -makeall å‘½ä»¤ javapackager -makeall -appclass brickbreaker.Main -name BrickBreaker -width 600 -height 600 æ˜¯å¦æ‰€æœ‰æ‰“åŒ…å·¥ä½œï¼ŒåŒ…æ‹¬ç¼–è¯‘createjarã€å’Œdeploy.\nä½¿ç”¨ -signjar å‘½ä»¤ javapackager -signJar --outdir dist -keyStore sampleKeystore.jks -storePass **** -alias duke -keypass **** -srcdir dist å¯¹ç›®å½•ä¸­çš„æ‰€æœ‰ JAR æ–‡ä»¶è¿›è¡Œç­¾ådistï¼Œé™„åŠ å…·æœ‰æŒ‡å®šåˆ«åçš„è¯ä¹¦ï¼ŒkeyStoreç„¶åstorePasså°†ç­¾åçš„ JAR æ–‡ä»¶æ”¾å›distç›®å½•ä¸­ã€‚\nå°† -deploy å‘½ä»¤ä¸ Bundler å‚æ•°ä¸€èµ·ä½¿ç”¨ javapackager -deploy -native exe -BsystemWide=true -BjvmOptions=-Xmx128m -BjvmOptions=-Xms128m -outdir packages -outfile BrickBreaker -srcdir dist -srcfiles BrickBreaker.jar -appclass brickbreaker.Main -name BrickBreaker -title \"BrickBreaker demo\" ç”Ÿæˆæœ¬æœº Windows EXE åŒ…ï¼Œç”¨äºå°† BrickBreaker åº”ç”¨ç¨‹åºä½œä¸ºè‡ªåŒ…å«åº”ç”¨ç¨‹åºè¿è¡Œã€‚\njavapackager -deploy -native -outdir packages -outfile md5 -srcfiles md5.jar -appclass com.sysware.md5.MyFrame -name md5 ç”Ÿæˆæœ¬æœºå®‰è£…åŒ…(åœ¨linuxä¸‹ç”Ÿæˆdeb,åœ¨windowsä¸‹ç”Ÿæˆexe,åœ¨macä¸‹ç”Ÿæˆdkg)ï¼Œç”¨äºå°† md5.jar åº”ç”¨ç¨‹åºä½œä¸ºè‡ªåŒ…å«åº”ç”¨ç¨‹åºè¿è¡Œã€‚\nåˆ†æä¸€ä¸‹\njavapackager---java8è‡ªå¸¦çš„æ‰“åŒ…ç¨‹åº -deploy---ç”¨æ¥æ„å»ºç›®æ ‡æœºå™¨çš„å‘è¡Œç‰ˆæœ¬ï¼Œç®€å•è¯´å°±æ˜¯æ‰“åŒ…æˆexeæˆ–è€…å…¶ä»–å¹³å°çš„åŒ…ï¼Œå¦‚æœä¸å¸¦ä»»ä½•å‚æ•°ï¼Œä¼šç”Ÿæˆä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºï¼Œä¸å»ºè®®ä¸å¸¦ä»»ä½•å‚æ•° -native image---ä¸ºjaråˆ›å»ºç£ç›˜é•œåƒï¼ˆå¯ä»¥å°†imageæ›¿æ¢ä¸ºå…¶ä»–çš„ç±»å‹ï¼Œä¾‹å¦‚exeï¼Œmsiï¼Œdebï¼Œrpm,dmg,pkg,çœç•¥å°±æ˜¯è¯¥ç³»ç»Ÿæ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼‰ -outdir packages---è¾“å‡ºç›®å½•ã€‚ -outfile md5----è¾“å‡ºæ–‡ä»¶ï¼ˆä¸è¦å¸¦åç¼€ï¼Œæ¯”å¦‚md5.exeï¼Œå°±å†™md5å°±è¡Œäº†ï¼‰ã€‚ -srcfiles md5.jar---è¦æ‰“åŒ…çš„jaræ–‡ä»¶ã€‚ -appclass com.sysware.md5.MyFrame---jaræ–‡ä»¶çš„ä¸»ç±»çš„å…¨é™å®šåã€‚ï¼ˆæ³¨æ„æ˜¯å…¨é™å®šåï¼‰ -name md5---å¯åŠ¨ä¹‹åçš„åº”ç”¨åç§° æ–‡ç« ç¿»è¯‘è‡ª:https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javapackager.html\n","description":"\n","tags":[],"title":"\nä½¿ç”¨javapackageræ‰“åŒ…å„ç³»ç»Ÿå®‰è£…åŒ…","uri":"/posts/post-239/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" æ€ä¹ˆè°ƒ?å…¶å®ä¸»è¦æ˜¯çœ‹é…æ–™è¡¨,å›½å®¶ä¸¥æ ¼è¦æ±‚,æŒ‰ç…§é…æ–™ä¸œè¥¿çš„æ¯”ä¾‹æœ‰å¤§åˆ°å°å†™çš„é¡ºåº\næ™®åŠä¸€ä¸‹ è°·æ°¨é…¸é’ =å‘³ç²¾\nå‘ˆå‘³æ ¸=å¢å‘³å‰‚\nè‹¯ç”²é…¸é’ =é˜²è…å‰‚\nå±±æ¢¨é…¸é’¾=é˜²è…å‰‚\næ°¯åŒ–é’ =ç›\né…µæ¯æå–ç‰©=å‘³ç²¾\né¦™æ²¹æ€ä¹ˆé€‰ å·¥è‰º:æ°´ä»£çš„æ¯”å‹æ¦¨çš„å¥½\näº§åœ°:å›½äº§çš„æ¯”åŸƒå¡ä¿„æ¯”äºšå°±å¥½\nå‘³ç²¾é¸¡ç²¾çš„ç§˜å¯† å…¶å®éƒ½æ˜¯æé²œçš„,å…¶å®å‘³ç²¾æ˜¯æœ€å¹²å‡€çš„ ç”¨å°éº¦æç‚¼çš„\né¸¡ç²¾ä¸­æ¯”ä¾‹æœ€å¤§çš„å°±æ˜¯å‘³ç²¾\né…±æ²¹æ€ä¹ˆé€‰ ç”ŸæŠ½:å¢é²œæå‘³ç”¨çš„\nè€æŠ½:èœä¸Šè‰²ç”¨çš„\nå…¶ä»–åŠŸèƒ½æ€§çš„:è’¸é±¼çš„,åƒæµ·é²œçš„,è‰è‡,æå‘³é²œ,é²œä¸Šé²œ å…¶å®æ˜¯ç”ŸæŠ½çš„ä¸€ç§,å…¶å®æ²¡å¿…è¦ä¹°,é‡Œé¢çš„é…æ–™éƒ½æœ‰è°·æ°¨é…¸é’ ,å‘ˆå‘³æ ¸,ç›®çš„æ˜¯å‘é…µæ—¶é—´ä¸å¤Ÿ,æ·»åŠ å‡ºæ¥çš„å‘³é“.ä¹°é…±æ²¹è‚¯å®šæ˜¯åƒè‡ªç„¶å‘é…µçš„,\né…æ–™ä¸­æœ‰ä¸€ä¸ªè„±è„‚å¤§è±†,å…¶å®å°±æ˜¯ç‚¼æ²¹å‚è„±å®Œè„‚çš„å¤§è±†çš„è±†æ¸£,é…±æ²¹å‚å•†ä¸ºäº†é™ä½æˆæœ¬æ‰€ä»¥ä½¿ç”¨è¿™äº›è„±è„‚å¤§è±†,å¥½çš„é…±æ²¹éƒ½æ˜¯ç”¨å…¨è„‚å¤§è±†,åƒéè½¬åŸºå› å¤§è±†,å°éº¦ç²‰é…¿å‡ºæ¥çš„æ‰æ˜¯å¥½é…±æ²¹\nç™½é…’æ€ä¹ˆé€‰ ä¸è¯´é‚£äº›èŒ…å°,äº”ç²®æ¶²å•¥çš„å¤ªè´µäº†,ä¸æ˜¯æˆ‘ä»¬å–çš„,å°±è¯´ä¸€ä¸‹æ€§ä»·æ¯”æœ€é«˜çš„é«˜ç²±é…’\næ‰§è¡Œæ ‡å‡†åˆ†ä¸‰ç±»:æ¶²æ€æ³•ç™½é…’,å›ºæ¶²æ€æ³•ç™½é…’å’Œå›ºæ€æ³•ç™½é…’\næ¶²æ€æ³•ç™½é…’:å…¶å®ä¹Ÿæ˜¯è’¸é¦å‡ºæ¥çš„,ä½†æ˜¯ä¸æ˜¯ç”¨ç²®é£Ÿé…¿å‡ºæ¥çš„,å°±æ˜¯çº¢è–¯ç±»ä¼¼çš„ä¸œè¥¿åŠ ä¸Šé£Ÿç”¨é…’ç²¾å’Œé¦™ç²¾å‹¾å…‘å‡ºæ¥çš„,å¸‚é¢ä¸Šå·²ç»æ¯”è¾ƒå°‘äº†\nå›ºæ¶²æ€æ³•ç™½é…’:ä¸€éƒ¨åˆ†æ˜¯çº¯ç²® é…¿é€ å‡ºæ¥çš„,å¦ä¸€éƒ¨åˆ†å°±æ˜¯ç”¨çº¢è–¯å¹²é…¿é€ å‡ºæ¥ä¸€èµ·å…‘çš„,å¸‚é¢ä¸Šç™¾åˆ†ä¹‹å…«ä¹åå†™çš„çº¯ç²®é£Ÿé…¿çš„å°±æ˜¯ç”¨å›ºæ¶²æ€æ³•\nå›ºæ€æ³•ç™½é…’:çº¯ç²®é£ŸåšåŸºç¡€é…¿é€ å‡ºæ¥çš„\nä¸ºä»€ä¹ˆæ‰¾çº¯ç²®çš„é…’,ä»–é†’é…’å¿«,å£ä¸å¹²,ç¬¬äºŒå¤©ä¹Ÿä¸éš¾å—,æ‰€ä»¥æˆ‘ä»¬ä¹°é…’ä¹°å›ºæ€æ³•ç™½é…’,\næ‰§è¡Œç¼–å·:G/BT20761 é…±é¦™å‹ G/BT10781.2 æ¸…é¦™å‹ G/BT10781.1 æµ“é¦™å‹\nç™½é†‹æ€ä¹ˆé€‰ ä¸è¦é€‰å¸¦å†°é†‹ç²¾çš„æ²¡å•¥è¥å…»ä»·å€¼,ä»·æ ¼ä¾¿å®œ,é…¸åº¦éå¸¸é…¸.ä¹Ÿä¸è¦é€‰è‹¯ç”²é…¸é’ çš„,æœ‰è¿™ä¸ªè¯´æ˜åŸææ–™æˆåˆ†å¾ˆä½,æ°´çš„æˆåˆ†é«˜\nç™½é†‹æœ€åŸºæœ¬çš„å°±æ˜¯ç”¨å¤§ç±³æˆ–è€…ç³¯ç±³å‘é…µè€Œæˆçš„.ç”¨äº†é…’ç²¾è¯´æ˜æ˜¯ä¸€ç§é€Ÿæˆä¸æ˜¯è‡ªç„¶å‘é…µè€Œæˆçš„,å¯ä»¥åƒä½†æ˜¯ä¸æ˜¯ä¸€ä¸ªè¥å…»ä»·å€¼éå¸¸å¥½çš„ç™½é†‹\nç™½é†‹é€‚åˆåšçƒ­èœ,ç±³é†‹çš„é…¸åº¦æ¯”è¾ƒæŸ”å’Œé€‚åˆåšå‡‰èœ\né™ˆé†‹æ€ä¹ˆé€‰ ä¸‰ä¸ªç‚¹:é…¸åº¦,æ‰§è¡Œæ ‡å‡†å·,é…æ–™\nç„¦ç³–è‰²:ä¸“é—¨ç”¨æ¥è°ƒé¢œè‰²çš„,ä¸€èˆ¬æ˜¯é†‹çš„å‘é…µæ—¶é—´ä¸å¤Ÿ,åŠ ç„¦ç³–è‰²,è°ƒä¸€ä¸‹é¢œè‰²\nè‹¯ç”²é…¸é’ :é˜²è…å‰‚,å› ä¸ºé…¸åº¦ä¸å¤Ÿ,æ€•åäº†\né…¸åº¦åœ¨5%ä»¥ä¸Š,éƒ½æ˜¯å›ºæ€å‘é…µ\né™ˆé†‹:gb/t 18187,åªä¸è¿‡å·¥è‰ºä¸ä¸€æ ·,ç”¨é«˜ç²±å‘é…µçš„é…¸åº¦é«˜ä¸€äº›,ç³¯ç±³çš„é…¸ä¸­æœ‰ä¸€äº›å›ç”œ\nå±±è¥¿è€é™ˆé†‹:æ‰§è¡Œæ ‡å‡†å¿…é¡»æ˜¯gb/t 19777.ç¬¬äºŒé…æ–™ä¸€å®šæ˜¯é«˜ç²±,ç”¨é«˜ç²±å‘é…µçš„\né•‡æ±Ÿé¦™é†‹:gb/t 18623,é…¸åº¦æŸ”å’Œ,ç¬¬äºŒé…æ–™ä¸€å®šæ˜¯ç³¯ç±³,ç”¨ç³¯ç±³å‘é…µçš„\nä¸€èˆ¬ç‚’èœç”¨é™ˆé†‹,æ‹Œå‡‰èœç”¨é¦™é†‹\nç›æ€ä¹ˆé€‰ èƒŒæ™¯:å› ä¸ºä¸ƒå…«åå¹´ä»£å¤§éƒ¨åˆ†äººç¼ºç¢˜,å‡ºç°äº†å¤§è„–å­ç—…,1995å¹´å›½å®¶è¦æ±‚å…¨æ°‘åƒç¢˜ç›æœ€è¿‘è¿™å‡ å¹´å¾—ç”²äº¢çš„æˆ–è€…é«˜ç¢˜åŒºçš„äºº,ä»–ä»¬æ‘„å…¥çš„ç¢˜å·²ç»å¤Ÿäº†,æ²¡æœ‰å–ä¸åŠ ç¢˜çš„ç›,2017å¹´å›½å®¶åˆæ”¾å¼€äº†æ”¿ç­–å‡ºç°äº†æµ·è—»ç›,ä¸å«ç¢˜ç›,ä½é’ ç›,ä½é’ æµ·è—»ç›,è¿˜æœ‰å²©ç›.\nä¸åŠ ç¢˜çš„ç›:å¦‚æœä½ ç»å¸¸åƒæµ·å¸¦,æµ·è—»,æµ·é±¼,æµ·è™¾ç­‰æµ·äº§å“æ¯”è¾ƒå¤šæˆ–è€…ä½ æœ‰ç”²äº¢.å…¶å®ä½ æœ¬èº« ç¢˜çš„è¡¥å……æ˜¯å¤šäº†,è¿™æ—¶å€™ä¸å«ç¢˜çš„ç›æ‰é€‚åˆä½ åƒ.\nä½é’ ç›:é«˜è¡€å‹,å¿ƒè„ç—…å‘€è¿™ç±»æ‚£è€…é€‚åˆåƒä½é’ ç›,æ™®é€šç›é‡Œé¢æ°¯åŒ–é’ å«é‡å¾ˆé«˜,ä¼šä¿ƒä½¿è¡€ç®¡è†¨èƒ€,è¡€æµåŠ å¿«\nå²©ç›:æ¯”è¾ƒé«˜ç«¯çš„ä¸€ç§ç›,ä¹Ÿå«å–œé©¬æ‹‰é›…ç›,çŸ¿ç‰©è´¨å«é‡æ¯”è¾ƒå¤š,ä¸€èˆ¬åœ¨é«˜æ¡£é¤å…,é«˜æ¡£çƒ¤è‚‰æˆ–è€…ä¸€äº›æ–™ç†é¤å…ä¸­,ä¸€èˆ¬ç‚’èœç”¨ä¸åˆ°è¿™ç§,æœ‰é’±äººéšæ„å“ˆ,\nè€—æ²¹æ€ä¹ˆé€‰ è°·æ°¨é…¸é’ (å‘³ç²¾),å‘ˆå‘³æ ¸(å‘³ç²¾ç²¾) ä¸ºå•¥è¦åŠ è¿™äº›å› ä¸ºè€—çš„æˆåˆ†å°‘,æˆ‘ä»¬æ˜¯è¦åƒç”¨è€—æç‚¼å‡ºæ¥çš„ç²¾åå»åšèœ,è®©å‘³é“æ›´é²œç¾,ä¸æ˜¯åƒæ°´æºäº†çš„é…±æ²¹åŠ äº†ä¸€äº›è€—æ²¹çš„è€—æ²¹æ±,\nå±±æ¢¨é…¸é’¾,è‹¯ç”²é…¸é’  å…¶å®å°±æ˜¯é˜²è…å‰‚,å› ä¸ºæ°´çš„æ¯”ä¾‹æ¯”è¾ƒå¤š,å®¹æ˜“åæ‰€ä»¥åŠ è¿™äº›é˜²è…å‰‚\nä¸€èˆ¬é…æ–™è¡¨ä¸­ç¬¬ä¸€ä½æ˜¯è€—æ±çš„æ‰æ˜¯å¥½è€—æ²¹,æ²¡æœ‰é˜²è…å‰‚çš„å½“ç„¶æ²¡æœ‰å‘³ç²¾ç„¦ç³–è‰²æ›´å¥½,ä¸è¿‡å¸‚é¢ä¸Šå¾ˆå°‘è§æ²¡æœ‰æ·»åŠ å‘³ç²¾çš„.\né£Ÿç”¨æ²¹æ€ä¹ˆé€‰ ä½æ¡£æ²¹ è°ƒå’Œæ²¹:çœ‹é…æ–™è¡¨ ç°åœ¨æ¯”è¾ƒäº‰è®®æ¯”è¾ƒå¤§çš„ è½¬åŸºå› çš„å¥½ä¸å¥½ è¿™ä¸ªæˆ‘ä¹Ÿä¸çŸ¥é“,ä½†æ˜¯éè½¬åŸºå› çš„è‚¯å®šæ²¡é—®é¢˜,\nè°ƒå’Œæ²¹æ²¡æœ‰åŠ å·¥å·¥è‰º\nä¸­æ¡£æ²¹ é£Ÿç”¨æ²¹çš„ä¸‰ç§åŠ å·¥å·¥è‰º:æµ¸å‡º,çƒ­å‹(çƒ­æ¦¨),å†·å‹(å†·æ¦¨)\næµ¸å‡º:ç”¨åŒ–å­¦è¯•å‰‚å»æµ¸æ³¡,å†å»å‹æ¦¨,å†å»è„±é…¸è„±è‡­çš„ä¸€äº›å¤„ç†,é‡Œé¢æœ‰ä¸€äº›è¯•å‰‚çš„æ®‹ç•™,ä¸è¿‡å›½å®¶å…è®¸èŒƒå›´å†…,è¿™ç§ä¸å¤ªå¥åº·,ä¸è¿‡ä¾¿å®œ å› ä¸ºå‡ºæ²¹ç‡é«˜.\nçƒ­æ¦¨:æ¸©åº¦åœ¨60ä»¥ä¸Š,ç›¸å¯¹å†·æ¦¨å‡ºæ²¹ç‡é«˜,æ‰€ä»¥æ€§ä»·æ¯”å¥½ä¸€äº›,æ²¡å¿…è¦ä¹°å†·æ¦¨çš„é™¤äº†è´µ ,æ²¡å¤ªå¤šä¼˜ç‚¹,è¥å…»ä»·å€¼æ¯”ä¸ä¸Šé«˜æ¡£æ²¹\nè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ä¸€çº§,Sçº§,æµ“é¦™,ç‰¹çº§å’Œæ²¹çš„å“è´¨ä¸€æ¯›é’±å…³ç³»éƒ½æ²¡æœ‰ä¸ç”¨å…³å¿ƒè¿™ä¸ª\næ²¹æˆ‘ä»¬é™¤äº†åƒä¸€ä¸ªå£å‘³å¤–è¿˜æœ‰ä¸€ä¸ªè¥å…»ä»·å€¼é¥±å’Œè„‚è‚ªé…¸çš„å«é‡å’Œä¸é¥±å’Œè„‚è‚ªé…¸çš„å«é‡\né¥±å’Œè„‚è‚ªé…¸å°½é‡å°‘åƒ,å®¹æ˜“ä¸‰é«˜,è„‚è‚ªå«é‡é«˜,å„æ–¹é¢æ•°æ®é«˜,ä¸é¥±å’Œè„‚è‚ªé…¸é«˜å¯ä»¥é˜²æ­¢ä¸‰é«˜è¿™äº›ä¸œè¥¿\nä¸é¥±å’Œè„‚è‚ªé…¸æœ‰å•ä¸é¥±å’Œè„‚è‚ªé…¸å’Œå¤šä¸é¥±å’Œè„‚è‚ªé…¸\nä¸­æ¡£æ²¹ä¸­ä¸åŒæ²¹è„‚å•ä¸é¥±å’Œè„‚è‚ªé…¸çš„å«é‡ä»é«˜åˆ°ä½\næ©„æ¦„æ²¹\u003eæ²¹èŒ¶ç±½æ²¹\u003eä¸€èˆ¬èœç±½æ²¹\u003eä½èŠ¥é…¸èœç±½æ²¹\u003eèŠ±ç”Ÿæ²¹\u003eç±³ç³ æ²¹\u003eèŠéº»æ²¹\u003eæ£•æ¦ˆæ²¹\u003eç‰ç±³æ²¹\u003eèŠ±æ¤’ç±½æ²¹\u003eè‘µèŠ±ç±½æ²¹\u003eäºšéº»ç±½æ²¹\u003eé¸¡æ²¹\u003eå¤§è±†æ²¹\u003eè‘¡è„ç±½æ²¹\u003eé¸­æ²¹\u003eæ ¸æ¡ƒæ²¹\u003eçº¢èŠ±ç±½æ²¹\u003eç¾Šæ²¹\u003eæ£‰ç±½æ²¹\u003eç‰›æ²¹\u003eçŒªæ²¹\nä¸­æ¡£æ²¹ä¸­ä¸åŒæ²¹è„‚å¤šä¸é¥±å’Œè„‚è‚ªé…¸çš„å«é‡ä»é«˜åˆ°ä½\nç‰›æ²¹\u003eç¾Šæ²¹\u003eçŒªæ²¹\u003eé¸­æ²¹\u003eé¸¡æ²¹\u003eæ£•æ¦ˆæ²¹\u003eæ£‰ç±½æ²¹\u003eèŠ±ç”Ÿæ²¹\u003eæ©„æ¦„æ²¹\u003eç±³ç³ æ²¹\u003eç‰ç±³æ²¹\u003eèŠéº»æ²¹\u003eå¤§è±†æ²¹\u003eè‘¡è„ç±½æ²¹\u003eèŠ±æ¤’ç±½æ²¹\u003eè‘µèŠ±ç±½æ²¹\u003eæ ¸æ¡ƒæ²¹\u003eäºšéº»ç±½æ²¹\u003eä¸€èˆ¬èœç±½æ²¹\u003eçº¢èŠ±ç±½æ²¹\u003eä½èŠ¥é…¸ç±½æ²¹\u003eæ²¹èŒ¶ç±½æ²¹\nè‘µèŠ±ç±½æ²¹å’Œèœç±½æ²¹è¿™ä¸¤ä¸ªæ··ç€åƒ,è¥å…»è¦å‡è¡¡æ¯”å¦‚è¿™å‘¨åƒå•ä¸é¥±å’Œè„‚è‚ªé…¸å«é‡æœ€å¤šçš„ ä¸‹å‘¨åƒ å¤šä¸é¥±å’Œè„‚è‚ªé…¸å«é‡æœ€å¤šçš„\né«˜æ¡£æ²¹ æ©„æ¦„æ²¹,äºšéº»ç±½æ²¹,æ ¸æ¡ƒæ²¹,å±±èŒ¶æ²¹éƒ½è¯´è‡ªå·±æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„æ²¹\né«˜æ¡£æ²¹é™¤äº†çœ‹é…æ–™å¤–å¦å¤–å°±æ˜¯èƒ½é‡è¡¨\næ©„æ¦„æ²¹å’Œå±±èŒ¶æ²¹ æ˜¯å•ä¸é¥±å’Œè„‚è‚ªé…¸ç‰¹åˆ«é«˜\näºšéº»ç±½æ²¹å’Œæ ¸æ¡ƒæ²¹,æ˜¯å¤šä¸é¥±å’Œè„‚è‚ªé…¸ç‰¹åˆ«é«˜\næ©„æ¦„æ²¹:çœ‹é…æ–™ ç²¾ç‚¼çš„(æ˜¯æŠŠç‰¹çº§å’Œä¸€çº§æ··åˆåˆ°ä¸€èµ·äº†)æ²¡æœ‰ç‰¹çº§çš„å¥½,æ©„æ¦„æ²¹ç‰¹ç‚¹ç‚’èœæ²¡æœ‰å‘³ ä¸é€‚åˆä¸­é¤\nå±±èŒ¶æ²¹:ç…ç‚’çƒ¹ç‚¸ç‚–éƒ½åˆé€‚ ,å•ä¸é¥±å’Œè„‚è‚ªé…¸æ¨èè¿™ä¸ª\näºšéº»ç±½æ²¹å’Œæ ¸æ¡ƒæ²¹:èƒ½é‡æ˜¯ä¸€æ ·çš„,æ¨èäºšéº»ç±½æ²¹ å› ä¸ºä»–ä¾¿å®œäº”å…­åä¸€æ–¤ ,æ ¸æ¡ƒæ²¹ä¸€ç™¾äº”å…­ä¸€æ–¤,è¿™ç§ä¸¤æ²¹æœ‰ä¸ªé—®é¢˜ä¸è€é«˜æ¸©,ç‚’ç‚¸ä¸é€‚åˆ,é€‚åˆæ‹Œå‡‰èœå•¥çš„\nå±±èŒ¶æ²¹ç‚’èœåƒ,äºšéº»ç±½æ²¹æ‹Œå‡‰èœåƒ\nç•ªèŒ„æ²™å¸æ€ä¹ˆé€‰ é£Ÿå“æ·»åŠ å‰‚å¤šçš„ä¸è¦ä¹°\nå†°ä¹™é…¸ ç“œå°”èƒ¶ æŸ æª¬é…¸ è‹¯ç”²é…¸é’  é»„åŸèƒ¶ æœ‰è¿™å†™é…æ–™çš„ ç•ªèŒ„çº¯åº¦ä¸é«˜ æ°´çš„æ¯”ä¾‹é«˜,éœ€è¦åŠ ä¸€äº›è‰²ç´ ,èƒ¶å¢ç¨ .\nç•ªèŒ„æ²™å¸å°±æ˜¯è°ƒåˆ¶çš„éƒ½æ˜¯å…‘çš„,ç•ªèŒ„é…±æ˜¯è¥¿çº¢æŸ¿æ‰“æˆçš„é…±\næœ‰è¾£æ¤’ç²‰(å¢çº¢) å’Œæ·€ç²‰æ·»åŠ å‰‚(å¢ç¨ )çš„ ä¹Ÿå¯ä»¥è´­ä¹°å§\nä¹°å°±æœ€å¥½ä¹°é‚£ç§æ— æ·»åŠ å‰‚æ— æ·€ç²‰è¾£æ¤’ç²‰çš„é‚£ç§æ˜¯æœ€å¥½çš„\nç‰›å¥¶æ€ä¹ˆé€‰ å¤§è‡´åˆ†å…­ç±»\nçº¯ç‰›å¥¶:è¥å…»æˆåˆ†ä¿ç•™æœ€å…¨é¢çš„,é²œç‰›å¥¶é«˜æ¸©æ€èŒè€Œæˆ,åˆ†ä¸¤ç§å·´æ°å¥¶å’Œå¸¸æ¸©å¥¶,å·´æ°å¥¶ä¿è´¨æœŸçŸ­ä¸€èˆ¬æœ€å¤šåªæœ‰21å¤©,å¸¸æ¸©å¥¶æœ‰6ä¸ªæœˆä¸è¿‡å¤„ç†çš„æ›´å¤æ‚,æ€èŒæ›´å¤š,å½“ç„¶è¥å…»æˆåˆ†ä¹Ÿä¼šæµå¤±ä¸€äº›,çº¯ç‰›å¥¶é…æ–™å¾ˆç®€å•å°±ä¸€ä¸ªç”Ÿç‰›ä¹³,æ¨èå’Œå·´æ°å¥¶,è¥å…»å’Œå£æ„Ÿéƒ½æ¯”å¸¸æ¸©çš„è¦å¥½\nèˆ’åŒ–å¥¶:ä¹Ÿå°±æ˜¯æ— ä¹³ç³–ç‰›å¥¶,å–ç‰›å¥¶æ‹‰è‚šå­,æ˜¯å¯¹å¸¸è§„çš„ç‰›å¥¶çš„ä¹³ç³–,æ¶ˆåŒ–ç³»ç»Ÿä¸æ¥å—è¿™ç§ç³–.å–å¸¸è§„å¥¶æ‹‰è‚šå­å°±éœ€è¦å–è¿™ç§æ— ä¹³ç³–æ ·çš„å¥¶,é‡Œé¢æœ‰ä¹³ç³–é…¶ä¼šæŠŠä¹³ç³–ç»™æ°´è§£æ‰.ä½†æ˜¯å£æ„Ÿå–èµ·æ¥å¾ˆç”œ, è¥å…»æˆåˆ†å’Œçº¯ç‰›å¥¶å·®ä¸å¤š,é€‰æ‹©æ—¶å€™é€‰é…æ–™æ¯”è¾ƒå¹²å‡€çš„å°±ç”Ÿç‰›ä¹³å’Œä¹³ç³–é…¶çš„å°±è¡Œ.\né«˜é’™å¥¶:æ¯”æ™®é€šçš„å¥¶ç™¾æ¯«å‡ä¸­å¤šäº†25æ¯«å…‹é’™,é‡Œé¢æ·»åŠ çš„æ˜¯ç¢³é’™å’Œä¹³é…¸é’™,è¿™ç§é’™å¾ˆéš¾å¸æ”¶,å¹¶ä¸æ¯”çº¯ç‰›å¥¶çš„è¥å…»é«˜,å¹³å¸¸ç»å¸¸åƒå¥¶åˆ¶å“æˆ–ä¹³åˆ¶å“æˆ–è±†åˆ¶å“,æ²¡å¿…è¦ä¹°è¿™ç§å¥¶\nè„±è„‚ç‰›å¥¶:å¸¸è§„å¥¶éƒ½æ˜¯å…¨è„‚ç‰›å¥¶,è„‚è‚ªæ¯”ä¾‹åœ¨3%,è„±è„‚ç‰›å¥¶é€šè¿‡ç¦»å¿ƒæŠ€æœ¯æŠŠè„‚è‚ªå«é‡æ§åˆ¶åœ¨0.5%,ä½†æ˜¯è¿™ç§ç‰›å¥¶å£å‘³æ·¡,æ²¡æœ‰é‚£ç§é†‡é¦™å¥¶é¦™çš„å‘³é“,å’Œå…‘äº†æ°´ä¼¼çš„.è„±è„‚è¿‡ç¨‹ä¸­,å…¶å®ç»´ç”Ÿç´ ADEä¹Ÿæ²¡æœ‰äº†,é…æ–™ä¹Ÿæ˜¯åªæœ‰ç”Ÿç‰›ä¹³,\næ—©é¤å¥¶:å’Œæ—©é¤æ²¡å•¥å…³ç³»,æœ‰å¤§é‡çš„æ·»åŠ å‰‚,åªä¸è¿‡é‡Œé¢å«æœ‰å¥¶çš„æˆåˆ†,å…¶å®å°±æ˜¯å«ä¹³é¥®æ–™,ä¸æ¨èè¿™ç§\nå«ä¹³é¥®æ–™:ä¼˜é…¸ä¹³ä¸€ç±»çš„ ä¸æ¨è\næ€»ç»“ èšæ²¹:æ¨èè´¢ç¥èšæ²¹ å’Œ æ—§åº„èšæ²¹(æ›´å¥½)\né…±æ²¹:ä¸¸åº„ é»‘è±†åŸæ±é…±æ²¹ ä¸æ˜¯åŸé…¿é…±æ²¹,åƒç¦¾ 380å¤©é›¶æ·»åŠ é…±æ²¹ä¸æ˜¯180å¤©çš„(æœ‰è„±è„‚å¤§è±†)\né¦™é†‹:é•‡æ±Ÿæ’é¡ºé¦™é†‹\né™ˆé†‹:åƒç¦¾ 3å¹´çª–è— è¿˜æœ‰å±±è¥¿è€é™ˆé†‹ å›½æ ‡GB/T19777ä¸æ˜¯å±±è¥¿é™ˆé†‹\nç™½é†‹:ä¸œæ¹–ä¹åº¦ç™½é†‹å’Œåƒç¦¾ç³¯ç±³ç™½é†‹ è¿˜æœ‰é²èŠ±ç³¯ç±³ç™½é†‹ é€‰7åº¦ä»¥ä¸Šçš„ é…¸åº¦æ‰å¤Ÿ å›½æ ‡å·éƒ½æ˜¯GB/T18187\næ–™é…’:æ¬£å’Œæœ‰æœºç±³é¦™æ–™é…’ ,åƒç¦¾é›¶æ·»åŠ çƒ¹è°ƒæ–™é…’\né£Ÿç”¨æ²¹:ç‚’èœæ²¹æ¨èèœç±½æ²¹å’Œè‘µèŠ±ç±½æ²¹,é«˜æ¡£ç‚¹çš„æ¨èå±±èŒ¶æ²¹\n","description":"\n","tags":[],"title":"\nå¨æˆ¿è°ƒæ–™æ€ä¹ˆæŒ‘?","uri":"/posts/post-240/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å‡†å¤‡æµ‹è¯•æ•°æ® CREATE TABLE `employee` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(20) DEFAULT NULL, `dep_id` int DEFAULT NULL, `age` int DEFAULT NULL, `salary` decimal(10,2) DEFAULT NULL, `cus_id` int DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; CREATE TABLE `customer` ( `id` int NOT NULL, `name` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; CREATE TABLE `department` ( `id` int NOT NULL AUTO_INCREMENT, `deptName` varchar(30) DEFAULT NULL, `address` varchar(40) DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; -- æµ‹è¯•æ•°æ® INSERT INTO employee VALUES ( 1, 'é²ç­', 1, 10, 1000.00, 1 ); INSERT INTO employee VALUES ( 2, 'åè£”', 1, 20, 2000.00, 1 ); INSERT INTO employee VALUES ( 3, 'å­™å°šé¦™', 1, 20, 2500.00, 1 ); INSERT INTO employee VALUES ( 4, 'å‡¯', 4, 20, 3000.00, 1 ); INSERT INTO employee VALUES ( 5, 'å…¸éŸ¦', 4, 40, 3500.00, 2 ); INSERT INTO employee VALUES ( 6, 'è²‚è‰', 6, 20, 5000.00, 1 ); INSERT INTO employee VALUES ( 7, 'å­™è†‘', 6, 50, 5000.00, 1 ); INSERT INTO employee VALUES ( 8, 'è”¡æ–‡å§¬', 30, 35, 4000.00, 1 ); -- æµ‹è¯•æ•°æ® INSERT INTO department VALUES (1, 'ç ”å‘éƒ¨(RD)', '2å±‚'); INSERT INTO department VALUES (2, 'äººäº‹éƒ¨(HR)', '3å±‚'); INSERT INTO department VALUES (3, 'å¸‚åœºéƒ¨(MK)', '4å±‚'); INSERT INTO department VALUES (4, 'åå‹¤éƒ¨(MIS)', '5å±‚'); INSERT INTO department VALUES (5, 'è´¢åŠ¡éƒ¨(FD)', '6å±‚'); -- æµ‹è¯•æ•°æ® INSERT INTO customer VALUES (1, 'zs'); INSERT INTO customer VALUES (2, 'lisi'); INSERT INTO customer VALUES (3, 'wangwu'); explainçš„ç®€ä»‹ mysqlä¸­å¯ä»¥ä½¿ç”¨explainè¿™ä¸ªå…³é”®å­—æ¥è·å–ï¼ˆæŸ¥è¯¢ï¼‰sqlè¯­å¥çš„æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’çš„ã€‚ä½¿ç”¨explainå…³é”®å­—ï¼Œå¯ä»¥æ¨¡æ‹Ÿmysqlä¼˜åŒ–å™¨æ‰§è¡Œçš„sqlè¯­å¥ï¼Œä»è€ŒçŸ¥é“mysqlæ˜¯å¦‚ä½•å¤„ç†sqlè¯­å¥çš„ã€‚é€šè¿‡explainå¯ä»¥åˆ†ææŸ¥è¯¢è¯­å¥æˆ–è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚\nexplainçš„ä½œç”¨ â‘ ã€æŸ¥çœ‹è¡¨çš„è¯»å–é¡ºåº\nâ‘¡ã€æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹\nâ‘¢ã€æŸ¥çœ‹å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨\nâ‘£ã€æŸ¥çœ‹å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨\nâ‘¤ã€æŸ¥çœ‹è¡¨ä¹‹é—´çš„å¼•ç”¨\nâ‘¥ã€æŸ¥çœ‹æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æ‰§è¡Œ\nexplainçš„ä½¿ç”¨æ–¹æ³• explain sqlè¯­å¥\nexplain select * from employee; explainæ‰§è¡Œè®¡åˆ’è¾“å‡ºä¸­çš„å„ä¸ªåˆ—çš„è¯¦è§£ id æè¿°ï¼šselectæŸ¥è¯¢çš„åºåˆ—å·,åŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¯¥ç»„æ•°å­—è¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº\nidå€¼çš„ä¸‰ç§æƒ…å†µå¦‚ä¸‹ï¼š\nidç›¸åŒ -- åˆ†æçš„sqlè¯­å¥ explain select * from employee e,department d,customer c where e.dep_id = d.id and e.cus_id = c.id; åˆ†æçš„ç»“æœæˆªå›¾ï¼š\nä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œidåˆ—çš„å€¼éƒ½æ˜¯1ã€‚é‚£ä¹ˆè¯¥æ¡sqlè¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯ç”±ä¸Šåˆ°ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¯´ å…ˆæŸ¥è¯¢çš„cè¡¨ ç„¶åæŸ¥è¯¢ eè¡¨ æœ€åæŸ¥è¯¢dè¡¨ã€‚\nidä¸åŒ -- åˆ†æçš„sqlè¯­å¥ EXPLAIN SELECT * from department WHERE id = (SELECT id from employee WHERE id= (SELECT id from customer WHERE id = 1) ) ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œidåˆ—çš„å€¼æ˜¯1ã€2ã€3ã€‚é‚£ä¹ˆè¯¥æ¡sqlè¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å¤§åˆ°å°ï¼ˆç”±ä¸‹åˆ°ä¸Šï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ idåˆ—çš„å€¼æ˜¯3çš„å…ˆæ‰§è¡Œ å…¶æ¬¡æ˜¯idåˆ—çš„å€¼æ˜¯2 æœ€åæ˜¯idåˆ—çš„å€¼æ˜¯1å†æ‰§è¡Œã€‚\nè¿™é‡Œéƒ½æ˜¯å­æŸ¥è¯¢ï¼Œå¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œidçš„åºå·ä¼šé€’å¢ï¼Œidå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œä¼˜å…ˆè¢«æ‰§è¡Œã€‚**\nidç›¸åŒå’Œä¸åŒ -- åˆ†æçš„sqlè¯­å¥ EXPLAIN SELECT * FROM department d, ( SELECT * FROM employee GROUP BY dep_id ) t WHERE d.id = t.dep_id; ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œidåˆ—çš„å€¼æ˜¯1ã€1ã€2ã€‚é‚£ä¹ˆè¯¥æ¡sqlè¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„å‘¢ï¼Ÿæ ¹æ®ä¸Šé¢çš„â‘ å’Œâ‘¡è¿™é‡Œåº”è¯¥ä¹Ÿèƒ½çŒœåˆ°äº†ã€‚è¯¥æ¡sqlè¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯ å…ˆæ‰§è¡Œidåˆ—çš„å€¼æ˜¯2çš„ï¼Œå…¶æ¬¡æ‰§è¡Œidåˆ—çš„å€¼æ˜¯1çš„ï¼ˆæœ€ä¸Šé¢é‚£ä¸ªidåˆ—çš„å€¼æ˜¯1çš„ï¼Œä¹Ÿå°±æ˜¯tableåˆ—çš„å€¼æ˜¯dï¼‰ï¼Œæœ€åæ‰§è¡Œä¸­é—´é‚£ä¸ªidåˆ—çš„å€¼æ˜¯1çš„ã€‚\nä¸Šå›¾ä¸­æœ‰ä¸€ä¸ªselect_typeåˆ—ï¼Œå…¶ä¸­select_typeæœ‰ä¸€åˆ—çš„å€¼æ˜¯derivedï¼Œè€Œderivedè¡¨ç¤º è¡ç”Ÿå‡ºæ¥çš„è™šè¡¨ã€‚å†æ¬¡è¯´æ˜ï¼Œidå€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œã€‚\næ€»ç»“ ç›¸åŒï¼Œé¡ºåºèµ°ï¼ˆç”±ä¸Šåˆ°ä¸‹ï¼‰,ä¸åŒï¼Œçœ‹è°å¤§ï¼Œå¤§çš„å…ˆæ‰§è¡Œã€‚\nselect_type **æè¿°ï¼š**æŸ¥è¯¢ç±»å‹ï¼Œä¸»è¦ç”¨äºåŒºåˆ«æ™®é€šæŸ¥è¯¢ï¼Œè”åˆæŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç­‰å¤æ‚æŸ¥è¯¢ã€‚\nselect_typeåˆ—çš„å€¼ä¸»è¦æœ‰ä»¥ä¸‹6ç§æƒ…å†µï¼š\nâ‘ ã€SIMPLEï¼šç®€å•çš„selectæŸ¥è¯¢ï¼ŒæŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…UNION\nâ‘¡ã€PRIMARYï¼šæŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­æŸ¥è¯¢ï¼Œé‚£ä¹ˆæœ€å¤–å±‚çš„æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸ºprimary\nâ‘¢ã€SUBQUERYï¼šåœ¨selectæˆ–whereä¸­åŒ…å«äº†å­æŸ¥è¯¢\nâ‘£ã€DERIVEDï¼šåœ¨fromåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºderived(è¡ç”Ÿ)ï¼ŒæŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨å½“ä¸­ã€‚\nâ‘¤ã€UNIONï¼šè‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨unionä¹‹åï¼Œåˆ™è¢«æ ‡è®°ä¸ºunionã€‚è‹¥unionåŒ…å«åœ¨fromå­å¥çš„å­æŸ¥è¯¢ä¸­ï¼Œå¤–å±‚selectå°†è¢«æ ‡è®°ä¸ºderiverã€‚\nâ‘¥ã€UNION RESULTï¼šä»unionè¡¨è·å–ç»“æœselectã€‚ä¸¤ä¸ªUNIONåˆå¹¶çš„ç»“æœé›†åœ¨æœ€åã€‚\ntable **æè¿°ï¼š**æ˜¾ç¤ºå½“å‰æŸ¥è¯¢çš„æ•°æ®æ˜¯å…³äºå“ªå¼ è¡¨çš„ã€‚\npartitions æè¿°ï¼šå¦‚æœæŸ¥è¯¢æ˜¯åŸºäºåˆ†åŒºè¡¨çš„è¯ï¼Œä¼šæ˜¾ç¤ºæŸ¥è¯¢è®¿é—®çš„åˆ†åŒºã€‚\ntypeï¼ˆé‡è¦ï¼‰ æè¿°ï¼š\nè¡¨ç¤ºè®¿é—®æŸä¸ªè¡¨çš„ç±»å‹ã€‚æ›´ä¸“ä¸šä¸€ç‚¹çš„è§£é‡Šå°±æ˜¯ï¼štypeä»£è¡¨ç€mysqlå¯¹æŸä¸ªè¡¨çš„æ‰§è¡ŒæŸ¥è¯¢æ—¶çš„è®¿é—®æ–¹æ³•ï¼Œå…¶ä¸­typeåˆ—çš„å€¼å°±è¡¨æ˜äº†è¿™ä¸ªè®¿é—®æ–¹æ³•æ˜¯ä¸ªå•¥ã€‚é€šè¿‡typeå¯ä»¥çŸ¥é“mysqlæ˜¯åšäº†å…¨è¡¨æ‰«æè¿˜æ˜¯èŒƒå›´æ‰«æç­‰ï¼Œä»è€ŒçŸ¥é“å½“å‰çš„sqlè¯­å¥åˆ°åº•è¦ä¸è¦å»ä¼˜åŒ–ã€‚\ntypeåˆ—çš„å€¼ä¸€èˆ¬æœ€å¸¸ç”¨çš„æœ‰7ç§ï¼ŒæŒ‰ç…§æœ€å¥½åˆ°æœ€å·®æ¥æ’åº åˆ†åˆ«æ˜¯ï¼šsystem\u003econst\u003eeq_ref\u003eref\u003erange\u003eindex\u003eALLã€‚\nsystem è¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ï¼Œå¹¶ä¸”è¯¥è¡¨ä½¿ç”¨çš„å­˜å‚¨å¼•æ“çš„ç»Ÿè®¡æ•°æ®æ˜¯ç²¾ç¡®çš„ï¼Œæ¯”å¦‚MyISAMã€Memoryï¼Œé‚£ä¹ˆè¯¥è¡¨çš„typeåˆ—çš„å€¼å°±æ˜¯systemã€‚è¿™æ˜¯constç±»å‹çš„ç‰¹ä¾‹ï¼Œå¹³æ—¶ä¸ä¼šå‡ºç°ï¼Œä¹Ÿä¸ç”¨å¥¢æ±‚å°†sqlä¼˜åŒ–åˆ°è¿™ç§çº§åˆ«çš„ã€‚\nconst è¡¨ç¤ºé€šè¿‡ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•ï¼‰ä¸€æ¬¡å°±æ‰¾åˆ°äº†é‚£ä¸€æ¡æ•°æ®ã€‚è¿™é‡Œå’Œä¸Šé¢é‚£ä¸ªsystemçš„åŒºåˆ«å°±æ˜¯ systemè¡¨é‡Œé¢åªèƒ½æœ‰ä¸€æ¡æ•°æ®ï¼Œè€Œconstè¡¨ç¤ºè¡¨ä¸­å¯èƒ½ä¼šæœ‰å¤šæ¡æ•°æ®ï¼Œä½†æ˜¯constèƒ½ç›´æ¥ä»å¤šæ¡æ•°æ®ä¸­ç›´æ¥å®šä½åˆ°é‚£ä¸€æ¡æ•°æ®ï¼ˆé€šè¿‡ä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•ï¼‰ã€‚å› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®ï¼Œæ‰€ä»¥consté€Ÿåº¦å¾ˆå¿«ã€‚\neq_ref å”¯ä¸€æ€§ç´¢å¼•æ‰«æã€‚å¯¹äºæ¯ä¸ªç´¢å¼•é”®ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…ã€‚å¸¸è§äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æã€‚\nemployeeè¡¨ä¸­æœ‰äº”æ¡æ•°æ®ï¼Œè€Œdepartmentè¡¨ä¸­æœ‰å¯¹åº”çš„äº”æ¡æ•°æ®ï¼Œå…¶ä¸­employeeçš„idï¼ˆä¸»é”®ç´¢å¼•ï¼‰å’Œdepartmentçš„idï¼ˆä¸»é”®ç´¢å¼•ï¼‰æ˜¯ä¸€ ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¼šå‡ºç°eq_refï¼Œeq_refä¹Ÿå°±æ˜¯è¿™ä¸ªæ„æ€ã€‚\neq_refåŸºæœ¬ä¸Šå¾ˆéš¾åœ¨å•è¡¨ä¸Šå‡ºç°ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨å¤šè¡¨çš„æƒ…å†µä¸‹æ‰ä¼šå‡ºç°eq_refã€‚\nref éå”¯ä¸€æ€§ç´¢å¼•æ‰«æã€‚å¤§ç™½è¯è§£é‡Šä¸€ä¸‹å°±æ˜¯ï¼šå‡ºç°è¯¥è¿æ¥ç±»å‹çš„æ¡ä»¶æ˜¯ï¼Œ æŸ¥æ‰¾æ¡ä»¶åˆ—ä½¿ç”¨äº†ç´¢å¼•è€Œä¸”ä¸æ˜¯ä½¿ç”¨çš„ä¸»é”®ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ï¼ˆuniqueï¼‰ï¼Œä½¿ç”¨çš„æ˜¯æ™®é€šç´¢å¼•ã€‚å…¶å®ï¼Œæ„æ€å°±æ˜¯è™½ç„¶ä½¿ç”¨äº†ç´¢å¼•ï¼Œä½†è¯¥ç´¢å¼•åˆ—çš„å€¼å¹¶ä¸å”¯ä¸€ï¼Œæœ‰é‡å¤ã€‚è¿™æ ·å³ä½¿ ä½¿ç”¨ç´¢å¼•å¿«é€ŸæŸ¥æ‰¾åˆ°äº†ç¬¬ä¸€æ¡æ•°æ®ï¼Œä»ç„¶ä¸èƒ½åœæ­¢æ‰«æï¼Œè¦è¿›è¡Œç›®æ ‡å€¼é™„è¿‘çš„å°èŒƒå›´æ‰«æã€‚ä½†å®ƒçš„å¥½å¤„æ˜¯å®ƒå¹¶ä¸éœ€è¦æ‰«å…¨è¡¨ï¼Œå› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œå³ä¾¿æœ‰é‡å¤å€¼ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ä¸ªéå¸¸å°çš„èŒƒå›´å†…æ‰«æã€‚ä¸‹é¢ä¸ºäº†æ¼”ç¤ºè¿™ç§æƒ…å½¢ï¼Œç»™employeeè¡¨ä¸­çš„ageåˆ—æ·»åŠ ä¸€ä¸ªæ™®é€šçš„ç´¢å¼•\nALTER TABLE employee ADD INDEX idx_age(age) USING BTREE; range æŒ‡çš„æ˜¯æœ‰èŒƒå›´çš„ç´¢å¼•æ‰«æï¼Œç›¸å¯¹äºindexçš„å…¨ç´¢å¼•æ‰«æï¼Œå®ƒæœ‰èŒƒå›´é™åˆ¶ï¼Œå› æ­¤è¦ä¼˜äºindexã€‚å…³äºrangeæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œéœ€è¦è®°ä½çš„æ˜¯å‡ºç°äº†rangeï¼Œåˆ™ä¸€å®šæ˜¯åŸºäºç´¢å¼•çš„ã€‚ä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°betweenï¼Œandï¼Œ\u003cï¼Œ\u003eï¼Œorï¼Œinç­‰æŸ¥è¯¢ï¼Œé‚£ä¹ˆtypeåˆ—çš„å€¼å°±æ˜¯range\nindex Full Index Scanã€‚indexä¸AllåŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘ï¼Œé€šå¸¸æ¯”Allè¦å¿«ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶è¦å°ã€‚allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨ï¼Œä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–ï¼Œallæ˜¯ä»ç¡¬ç›˜å½“ä¸­è¯»å–ã€‚\nALL å°†è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®è¿›è¡Œäº†æ‰«æï¼ˆå…¨è¡¨æ‰«æï¼‰ï¼Œä»ç¡¬ç›˜å½“ä¸­è¯»å–æ•°æ®ã€‚å¦‚æœå‡ºç°äº†All ä¸”æ•°æ®é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆè¯¥æ¡sqlå¿…é¡»å»åšä¼˜åŒ–çš„ã€‚\nè¯´ä¸‹è¦æ±‚ï¼šä¸€èˆ¬æ¥è¯´ï¼Œè¦ä¿è¯SQLæŸ¥è¯¢è‡³å°‘è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½èƒ½è¾¾åˆ°refçº§åˆ«ã€‚\npossible_keys **æè¿°ï¼š**è¡¨ç¤ºè¿™å¼ è¡¨ä¸­å¯èƒ½ä¼šç”¨åˆ°çš„ç´¢å¼•ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ï¼ŒæŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨åˆ°ï¼Œå¯èƒ½è‡ªå·±åˆ›å»ºäº†4ä¸ªç´¢å¼•ï¼Œåœ¨å®é™…æ‰§è¡ŒsqlæŸ¥è¯¢çš„æ—¶å€™ï¼Œæ ¹æ®mysqlå†…éƒ¨çš„è‡ªåŠ¨åˆ¤æ–­ï¼Œåªä½¿ç”¨äº†3ä¸ªã€‚\nkeyï¼ˆé‡è¦ï¼‰ **æè¿°ï¼š**mysqlåœ¨æ‰§è¡Œçš„æ—¶å€™å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºNULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ã€‚\nå…¶å®ƒè¯´æ˜ï¼š\næŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨keyåˆ—è¡¨ä¸­ã€‚\nè¦†ç›–ç´¢å¼•ï¼šæŸ¥è¯¢çš„å­—æ®µå’Œå»ºç«‹çš„å­—æ®µåˆšå¥½å»åˆï¼Œè¿™ç§æˆ‘ä»¬ç§°ä¸ºè¦†ç›–ç´¢å¼•ã€‚\npossible_keysä¸keyå…³ç³»ï¼šå‰è€…è¡¨ç¤ºç†è®ºåº”è¯¥ç”¨åˆ°å“ªäº›ç´¢å¼•ï¼Œåè€…è¡¨ç¤ºå®é™…ç”¨åˆ°äº†å“ªäº›ç´¢å¼•ã€‚\nkey_len **æè¿°ï¼š**è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•é•¿åº¦ ã€‚ä¸‹é¢ä¸ºäº†æ¼”ç¤ºè¿™ç§æƒ…å½¢ï¼Œç»™employeeè¡¨æ·»åŠ ä¸€ä¸ªå¤åˆç´¢å¼•ã€‚\nALTER TABLE employee ADD INDEX idx_name_dep_id_age(name, dep_id, age) USING BTREE; ref æè¿°ï¼š\nç´¢å¼•æ˜¯å¦è¢«å¼•å…¥åˆ°ï¼Œåˆ°åº•å¼•ç”¨åˆ°äº†å“ªå‡ ä¸ªç´¢å¼•ã€‚\nè¿™é‡Œå°±ä¸å†™åŠ ç´¢å¼•çš„è¯­å¥äº†ï¼Œç›´æ¥ä¸Šå‡ å¼ æˆªå›¾çœ‹å§\nrows æè¿°ï¼š\næ ¹æ®è¡¨çš„ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¦æ‰«æï¼ˆè¯»å–ï¼‰çš„è¡Œæ•°ã€‚è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢è¿‡ã€‚æ²¡æœ‰å»ºç«‹ç´¢å¼•å’Œå»ºç«‹ç´¢å¼•ä¹‹å rowsæ‰€æ˜¾ç¤ºçš„æ•°æ®è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™é‡Œå°±ä¸è¿›è¡Œæˆªå›¾æ¼”ç¤ºäº†ã€‚\nfiltered **æè¿°ï¼š**æ»¡è¶³æŸ¥è¯¢çš„è®°å½•æ•°é‡çš„æ¯”ä¾‹ï¼Œæ³¨æ„æ˜¯ç™¾åˆ†æ¯”ï¼Œä¸æ˜¯å…·ä½“è®°å½•æ•°ï¼Œå€¼è¶Šå¤§è¶Šå¥½ï¼Œfilteredåˆ—çš„å€¼ä¾èµ–ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä¸ååˆ†å‡†ç¡®ã€‚å¯¹äºå•è¡¨æŸ¥è¯¢æ¥è¯´ï¼Œè¿™ä¸ªfilteredåˆ—çš„å€¼æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæ›´å…³æ³¨åœ¨è¿æ¥æŸ¥è¯¢ä¸­å¯¹åº”çš„æ‰§è¡Œè®¡åˆ’è®°å½•çš„filteredåˆ—çš„å€¼ã€‚å…³äºè¿™é‡Œçš„å¤šè¡¨demoä¹Ÿå°±å…ˆä¸æ¼”ç¤ºäº†ã€‚\nExtra **æè¿°ï¼š**é¡¾åæ€ä¹‰ï¼ŒExtraåˆ—æ˜¯ç”¨æ¥è¯´æ˜ä¸€äº›é¢å¤–ä¿¡æ¯çš„ï¼Œå¯ä»¥é€šè¿‡è¿™äº›é¢å¤–ä¿¡æ¯æ¥æ›´å‡†ç¡®çš„ç†è§£mysqlåˆ°åº•å°†å¦‚ä½•æ‰§è¡Œç»™å®šçš„æŸ¥è¯¢è¯­å¥ã€‚mysqlæä¾›çš„é¢å¤–ä¿¡æ¯æœ‰å¥½å‡ åä¸ªï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸ªä¸€ä¸ªä»‹ç»äº†ï¼ŒåªæŒ‘ä¸€äº›å¹³æ—¶å¸¸è§çš„æˆ–è€…æ¯”è¾ƒé‡è¦çš„åšä¸‹è¯´æ˜ã€‚\nâ‘ ã€Using filesortï¼šä¸“ä¸šæœ¯è¯­æˆä¸ºâ€œæ–‡ä»¶æ’åºâ€ã€‚è¯´æ˜mysqlä¼šå¯¹æ•°æ®ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„ç´¢å¼•æ’åºï¼Œè€Œä¸æ˜¯æŒ‰ç…§è¡¨å†…çš„ç´¢å¼•é¡ºåºè¿›è¡Œã€‚mysqlæ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åºæ“ä½œç§°ä¸º\"æ–‡ä»¶æ’åº\"ï¼Œå½“ä½ çœ‹åˆ°using filesortçš„æ—¶å€™ï¼Œé‚£ä¹ˆä¸€å®šè¦ä¼˜åŒ–è¯¥æ¡sqlè¯­å¥ã€‚ï¼ˆå¾—åˆ°æ‰€éœ€ç»“æœé›†ï¼Œéœ€è¦å¯¹æ‰€æœ‰è®°å½•è¿›è¡Œ\"æ–‡ä»¶æ’åº\" å‡ºç°è¿™ä¸ª è¡¨ç¤ºè¯¥æ¡SQLè¯­å¥æ€§èƒ½è¾ƒä½ï¼Œéœ€è¦è¿›è¡Œä¼˜åŒ–ï¼‰\n**å…³äºfilesortçš„æ›´å¤šè¯¦è§£ï¼š**filesort å¹¶ä¸æ˜¯è¯´é€šè¿‡ç£ç›˜æ–‡ä»¶è¿›è¡Œæ’åºï¼Œè€Œåªæ˜¯å‘Šè¯‰æˆ‘ä»¬è¿›è¡Œäº†ä¸€ä¸ªæ’åºæ“ä½œã€‚æ–‡ä»¶æ’åºæ˜¯é€šè¿‡ç›¸åº”çš„æ’åºç®—æ³•ï¼Œå°†å–å¾—çš„æ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºã€‚mysqléœ€è¦å°†æ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºï¼Œæ‰€ä½¿ç”¨çš„å†…å­˜åŒºåŸŸä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šè¿‡ sort_buffer_size ç³»ç»Ÿå˜é‡æ‰€è®¾ç½®çš„æ’åºåŒºã€‚è¿™ä¸ªæ’åºåŒºæ˜¯æ¯ä¸ª Thread ç‹¬äº«çš„ï¼Œæ‰€ä»¥è¯´å¯èƒ½åœ¨åŒä¸€æ—¶åˆ» åœ¨mysqlä¸­å¯èƒ½å­˜åœ¨å¤šä¸ª sort buffer å†…å­˜åŒºåŸŸã€‚\nfilesortåˆ†ä¸¤ç§ï¼š\nåŒè·¯æ’åºï¼šæ˜¯é¦–å…ˆæ ¹æ®ç›¸åº”çš„æ¡ä»¶å–å‡ºç›¸åº”çš„æ’åºå­—æ®µå’Œå¯ä»¥ç›´æ¥å®šä½è¡Œæ•°æ®çš„è¡ŒæŒ‡é’ˆä¿¡æ¯ï¼Œç„¶ååœ¨sort buffer ä¸­è¿›è¡Œæ’åºã€‚æ’åºåå†å§æŸ¥è¯¢å­—æ®µä¾ç…§è¡ŒæŒ‡é’ˆå–å‡ºï¼Œå…±æ‰§è¡Œä¸¤æ¬¡ç£ç›˜ioã€‚\nå•è·¯æ’åºï¼šæ˜¯ä¸€æ¬¡æ€§å–å‡ºæ»¡è¶³æ¡ä»¶è¡Œçš„æ‰€æœ‰å­—æ®µï¼Œç„¶ååœ¨sort bufferä¸­è¿›è¡Œæ’åºã€‚ æ‰§è¡Œä¸€æ¬¡ç£ç›˜ioã€‚\nåœ¨mysql4.1ç‰ˆæœ¬ä¹‹å‰åªæœ‰ç¬¬ä¸€ç§æ’åºç®—æ³• åŒè·¯æ’åºã€‚ç¬¬äºŒç§ç®—æ³•æ˜¯ä»mysql4.1å¼€å§‹çš„æ”¹è¿›ç®—æ³•ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å‡å°‘ç¬¬ä¸€æ¬¡ç®—æ³•ä¸­éœ€è¦ä¸¤æ¬¡è®¿é—®è¡¨æ•°æ®çš„ IO æ“ä½œï¼Œå°†ä¸¤æ¬¡å˜æˆäº†ä¸€æ¬¡ï¼Œä½†ç›¸åº”ä¹Ÿä¼šè€—ç”¨æ›´å¤šçš„sort buffer ç©ºé—´ã€‚å½“ç„¶ï¼Œmysql4.1å¼€å§‹çš„ä»¥åæ‰€æœ‰ç‰ˆæœ¬åŒæ—¶ä¹Ÿæ”¯æŒç¬¬ä¸€ç§ç®—æ³•ã€‚\nå…¸å‹è¯´æ˜ï¼šåœ¨ä¸€ä¸ªæ²¡æœ‰å»ºç«‹ç´¢å¼•çš„åˆ—ä¸Šè¿›è¡Œäº†order byï¼Œå°±ä¼šè§¦å‘filesortï¼Œå¸¸è§çš„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯ï¼Œåœ¨order byçš„åˆ—ä¸Šæ·»åŠ ç´¢å¼•ï¼Œé¿å…æ¯æ¬¡æŸ¥è¯¢éƒ½å…¨é‡æ’åºã€‚\nUsing filesortç¤ºä¾‹æˆªå›¾ï¼š\nâ‘¡ã€Using temporaryï¼šåœ¨è®¸å¤šæŸ¥è¯¢çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œmysqlå¯èƒ½ä¼šå€ŸåŠ©ä¸´æ—¶è¡¨æ¥å®Œæˆä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚å»é‡ã€æ’åºä¹‹ç±»çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æ‰§è¡Œè®¸å¤šåŒ…å«DISTINCTã€GROUP BYã€UNIONç­‰å­å¥çš„æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸èƒ½æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•æ¥å®ŒæˆæŸ¥è¯¢ï¼Œmysqlå¾ˆæœ‰å¯èƒ½å¯»æ±‚é€šè¿‡å»ºç«‹å†…éƒ¨çš„ä¸´æ—¶è¡¨æ¥æ‰§è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢ä¸­ä½¿ç”¨åˆ°äº†å†…éƒ¨çš„ä¸´æ—¶è¡¨ï¼Œåœ¨æ‰§è¡Œè®¡åˆ’çš„Extraåˆ—å°†ä¼šæ˜¾ç¤ºusing temporaryæç¤ºã€‚å½“ä½ çœ‹åˆ°using temporaryçš„æ—¶å€™ï¼Œé‚£ä¹ˆä¸€å®šè¦ä¼˜åŒ–è¯¥æ¡sqlè¯­å¥ã€‚ï¼ˆéœ€è¦å»ºç«‹ä¸´æ—¶è¡¨(temporary table)æ¥æš‚å­˜ä¸­é—´ç»“æœï¼Œå‡ºç°è¿™ä¸ª è¡¨ç¤ºè¯¥æ¡SQLè¯­å¥æ€§èƒ½è¾ƒä½ï¼Œé€šå¸¸æƒ…å†µä¸‹éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼‰\nâ‘¢ã€Useing indexï¼šè¡¨ç¤ºç›¸åº”çš„selectä¸­ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œé¿å…è®¿é—®äº†è¡¨ä¸­çš„æ•°æ®è¡Œï¼Œæ•ˆç‡å¾ˆå¥½ã€‚å¦‚æœåŒæ—¶å‡ºç°äº†Using where è¡¨æ˜ç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾ã€‚å¦‚æœæ²¡æœ‰åŒæ—¶å‡ºç°Using where è¡¨æ˜ç´¢å¼• ç”¨æ¥è¯»å–æ•°æ®è€Œéæ‰§è¡ŒæŸ¥æ‰¾åŠ¨ä½œã€‚ï¼ˆSQLæ‰€éœ€è¦è¿”å›çš„æ‰€æœ‰åˆ—æ•°æ®å‡åœ¨ä¸€æ£µç´¢å¼•æ ‘ä¸Šï¼Œè€Œæ— éœ€è®¿é—®å®é™…çš„è¡Œè®°å½•ï¼Œå‡ºç°è¿™ä¸ª è¡¨ç¤ºè¯¥æ¡SQLè¯­å¥æ€§èƒ½è¾ƒå¥½ï¼‰\nç¤ºä¾‹æˆªå›¾ï¼š\nusing indexç¤ºä¾‹æˆªå›¾å¦‚ä¸‹ï¼š\nusing where using indexç¤ºä¾‹æˆªå›¾å¦‚ä¸‹ï¼š\nâ‘£ã€Using whereï¼šè¯´æ˜ä½¿ç”¨äº†whereè¿‡æ»¤ï¼ˆSQLä½¿ç”¨äº†whereæ¡ä»¶è¿‡æ»¤æ•°æ® éœ€è¦éœ€è¦ä¼˜åŒ–è¯¥æ¡SQLè¯­å¥ éœ€è¦é…åˆexplainç»“æœä¸­çš„typeï¼ˆè¿æ¥ç±»å‹ï¼‰æ¥ç»¼åˆåˆ¤æ–­ï¼‰\nâ‘¤ã€Using join buffer(Block Nested Loop)ï¼šåœ¨è¿æ¥æŸ¥è¯¢æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“sqlæŸ¥è¯¢è¯­å¥ä¸èƒ½æœ‰æ•ˆçš„åˆ©ç”¨ç´¢å¼•åŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œmysqlé€‰æ‹©é€€è€Œæ±‚å…¶æ¬¡ï¼Œä¸€èˆ¬ä¼šä¸ºå…¶åˆ†é…ä¸€å—åå«join bufferçš„å†…å­˜å—æ¥åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è®²çš„åŸºäºå—çš„åµŒå¥—å¾ªç¯ç®—æ³•ã€‚ï¼ˆéœ€è¦è¿›è¡ŒåµŒå¥—å¾ªç¯è®¡ç®— å‡ºç°è¿™ä¸ª è¡¨ç¤ºè¯¥æ¡SQLè¯­å¥æ€§èƒ½è¾ƒä½ï¼Œéœ€è¦è¿›è¡Œä¼˜åŒ–ï¼‰\næ‰“ä¸ªæ¯”æ–¹ï¼šå†…å±‚å’Œå¤–å±‚çš„typeå‡ä¸ºALLï¼Œrowså‡ä¸º4ï¼Œéœ€è¦å¾ªç¯è¿›è¡Œ4*4æ¬¡è®¡ç®—ã€‚\nå…¸å‹è¯´æ˜ï¼šä¸¤ä¸ªå…³è”è¡¨joinï¼Œå…³è”å­—æ®µå‡æœªå»ºç«‹ç´¢å¼•ï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚å¸¸è§çš„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯ï¼Œåœ¨å…³è”å­—æ®µä¸Šæ·»åŠ ç´¢å¼•ï¼Œé¿å…æ¯æ¬¡åµŒå¥—å¾ªç¯è®¡ç®—ã€‚\nâ‘¥ã€impossible whereï¼šwhereå­å¥ä¸­çš„å€¼æ€»æ˜¯false è·å–ä¸åˆ°ä»»ä½•æ•°æ®ã€‚å‡ºç°è¿™ç§æç¤ºé€šå¸¸æƒ…å†µä¸‹è¯´æ˜ä½ çš„sqlè¯­å¥æœ‰è¯¯ï¼Œè¯·çœ‹æƒ…å†µé€‰æ‹©æ˜¯å¦è¿›è¡Œä¿®æ”¹ç›¸åº”çš„sqlè¯­å¥ã€‚\nâ‘¦ã€Using index conditionï¼šç¡®å®å‘½ä¸­äº†ç´¢å¼•ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„åˆ—æ•°æ®éƒ½åœ¨ç´¢å¼•æ ‘ä¸Šï¼Œè¿˜éœ€è¦è®¿é—®å®é™…çš„è¡Œè®°å½•ã€‚ï¼ˆå‡ºç°è¿™ä¸ª è¡¨ç¤º è¯¥æ¡SQLè¯­å¥æ€§èƒ½ä¹Ÿè¾ƒé«˜ï¼Œä½†ä¸å¦‚Using indexï¼‰\n","description":"\n","tags":[],"title":"\nmysqlä¸­çš„æŸ¥è¯¢è®¡åˆ’åŠsqlè¯­å¥æ€§èƒ½åˆ†æ","uri":"/posts/post-241/"},{"categories":["æ•°æ®åº“"],"content":" MySQLæ–¹æ³•GROUP_CONCATçš„åº”ç”¨ï¼Œå¤šå¯¹å¤šè”è¡¨æŸ¥è¯¢ï¼Œä»¥Aè¡¨ä¸ºä¸»è¡¨ï¼Œé€šè¿‡å…³è”è¡¨CæŸ¥è¯¢å‡ºBè¡¨å…³è”Aè¡¨ä»»æ„è®°å½•çš„å¤šæ¡è®°å½•çš„æŸä¸ªå­—æ®µçš„åˆå¹¶å€¼\nå¼€å‘ä¸­é‡åˆ°è¿™æ ·çš„ä¸€ä¸ªéœ€æ±‚ï¼šç”¨æˆ·è¡¨ä¸ºAï¼Œè§’è‰²è¡¨ä¸ºBï¼Œç”¨æˆ·è§’è‰²å…³ç³»é€šè¿‡Cè¡¨å¤šå¯¹å¤šå…³è”ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢å‡ºæ¯ä¸€ä¸ªç”¨æˆ·æ‰€æ‹¥æœ‰çš„è§’è‰²ï¼Œä»¥ä¸‹å›¾çš„æ ¼å¼æ˜¾ç¤ºï¼š\nç”¨æˆ·ID ç”¨æˆ·å§“å æ‹¥æœ‰è§’è‰² 1 å°æ˜1 è§’è‰²1,è§’è‰²4,è§’è‰²5,è§’è‰²6â€¦ 2 å°æ˜2 è§’è‰²1,è§’è‰²4,è§’è‰²5,è§’è‰²6â€¦ -- ç”¨æˆ·è¡¨ CREATE TABLE `sys_user` ( `user_id` int NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·ID', `user_name` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·å§“å', `user_age` varchar(3) DEFAULT NULL COMMENT 'ç”¨æˆ·å¹´é¾„', `creater` varchar(255) DEFAULT NULL COMMENT 'åˆ›å»ºäºº', `create_time` datetime DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `updater` varchar(50) DEFAULT NULL COMMENT 'æ›´æ–°äºº', `update_time` datetime DEFAULT NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`user_id`) ) ENGINE=InnoDB AUTO_INCREMENT=1 COMMENT='ç”¨æˆ·è¡¨'; -- è§’è‰²è¡¨ CREATE TABLE `sys_role` ( `role_id` int NOT NULL AUTO_INCREMENT COMMENT 'è§’è‰²ID', `role_name` varchar(50) NOT NULL COMMENT 'è§’è‰²åç§°', `creater` varchar(50) NULL COMMENT 'åˆ›å»ºäºº', `create_time` datetime NULL COMMENT 'åˆ›å»ºæ—¶é—´', `updater` varchar(50) NULL COMMENT 'æ›´æ–°äºº', `update_time` datetime NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`role_id`) ) ENGINE=InnoDB AUTO_INCREMENT=1 COMMENT='è§’è‰²è¡¨'; -- ç”¨æˆ·è§’è‰²å…³ç³»è¡¨ CREATE TABLE `sys_user_role` ( `user_role_id` int NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·è§’è‰²å…³ç³»ID', `role_id` varchar(50) NOT NULL COMMENT 'è§’è‰²ID', `user_id` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·ID', PRIMARY KEY (`user_role_id`) ) ENGINE=InnoDB AUTO_INCREMENT=1 COMMENT='ç”¨æˆ·è§’è‰²å…³ç³»è¡¨'; -- æ’å…¥æ¨¡æ‹Ÿæ•°æ® start create procedure insert8() begin declare i int default 0; repeat INSERT INTO sys_role(role_name,creater,create_time,updater,update_time)select role_name, creater, create_time, updater,update_time from sys_role UNION ALL select 'è§’è‰²','1',NOW(),'1', NOW() from dual ; INSERT INTO sys_user(user_name,user_age,creater,create_time,updater,update_time) select user_name,user_age,creater,create_time, updater,update_time from sys_user UNION ALL select 'å°æ˜','10','1',NOW(),'1',NOW() from dual ; set i=i+1; until i\u003e8 end repeat; end; call insert8; drop procedure if exists insert8; INSERT INTO sys_user_role (role_id, user_id ) select role_id, user_id from sys_role INNER JOIN sys_user ; update sys_user set user_name=REPLACE(user_name,user_name,CONCAT( user_name,user_id) ); update sys_role set role_name=REPLACE(role_name,role_name,CONCAT(role_name,role_id) ); -- æ’å…¥æ¨¡æ‹Ÿæ•°æ® end -- æµ‹è¯•å®Œæ¯•åˆ é™¤æ•°æ® drop table sys_user; drop table sys_role; drop table sys_user_role; åœ¨è§£å†³é—®é¢˜ä¸­å‘ç°äº†ä¸¤ç§æ–¹å¼å¯å®ç°è¯¥åŠŸèƒ½\næ–¹å¼ä¸€ SELECT su.user_id AS userId,su.user_name AS userName, ( SELECT GROUP_CONCAT(sr.role_name) FROM sys_user_role sur LEFT JOIN sys_role sr ON sr.role_id = sur.role_id WHERE sur.user_id = su.user_id ) AS roleNames FROM sys_user su ORDER BY su.user_id æ–¹å¼ä¸€æ˜¯æŠŠæŸ¥è¯¢cè¡¨ä½œä¸ºä¸»è¡¨ï¼Œå¹¶ä¸”left join Bè¡¨çš„ä¸€ä¸ªå­æŸ¥è¯¢ï¼ŒæŸ¥å‡ºæ¯ä¸€ä¸ªç”¨æˆ·idæ‹¥æœ‰çš„è§’è‰²åç§°æ‹¼æ¥ç»“æœä½œä¸ºæ‹¥æœ‰è§’è‰²å­—æ®µå€¼çš„ï¼Œæˆ‘ä»¬çœ‹çœ‹å…¶æŸ¥è¯¢æ€§èƒ½\næŸ¥è¯¢æ—¶é—´ï¼š56.088s å…±511æ¡ å¯è§æŸ¥è¯¢22æ¡å·¦å³æ•°æ®éœ€è¦4ç§’å¤šï¼Œè¿™ç§é€Ÿåº¦æˆ‘ä»¬æ˜¾ç„¶æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œè€Œä¸”éœ€è¦ä»¥æ‹¥æœ‰å°åŒºçš„åç§°åšæ¨¡ç³ŠæŸ¥è¯¢æ—¶å€™ä¹Ÿæ— ä»ä¸‹æ‰‹ã€‚äºæ˜¯åæ¥ç»§ç»­æƒ³åŠæ³•ä¼˜åŒ–ï¼Œå°±æ‰¾åˆ°äº†ä¸‹é¢çš„æ–¹å¼äºŒã€‚\næ–¹å¼äºŒ SELECT su.user_id AS userId, su.user_name AS userName,temp.roleNames FROM sys_user su LEFT JOIN ( SELECT sur.user_id, GROUP_CONCAT(sur.role_id) AS roleIds, GROUP_CONCAT(sr.role_name) AS roleNames FROM sys_user_role sur LEFT JOIN sys_role sr ON sr.role_id = sur.role_id GROUP BY sur.user_id ) temp ON temp.user_id = su.user_id ORDER BY su.user_id æ–¹å¼äºŒä¾ç„¶æœ‰ä¸€ä¸ªæŸ¥è¯¢ç”¨æˆ·æ‹¥æœ‰å°åŒºåç§°æ‹¼æ¥ç»“æœçš„å­æŸ¥è¯¢ï¼Œåªæ˜¯è¿™ä¸ªå­æŸ¥è¯¢ä¸æ˜¯ç›´æ¥ä½œä¸ºç»“æœå­—æ®µè¿”å›ï¼Œè€Œæ˜¯æ ¹æ®ç”¨æˆ·idä¸ºgroupè§„åˆ™æŸ¥è¯¢å‡ºæ¥æ¯ä¸€ä¸ªç”¨æˆ·çš„æ‹¥æœ‰å°åŒºç»“æœå­—ç¬¦ä¸²ï¼Œç„¶åä½œä¸ºAè¡¨çš„left joinçš„è™šæ‹Ÿè¡¨ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹æµ‹è¯•ç»“æœ\næŸ¥è¯¢æ—¶é—´ï¼š0.657s å…±511æ¡ å¯è§åŒæ ·æŸ¥è¯¢ä¸€ä¸‡æ¡æ•°æ®ä¸€ç§’é’Ÿéƒ½ä¸ç”¨ï¼ŒæŸ¥è¯¢é€Ÿåº¦æé«˜äº†è‡³å°‘20å€ï¼Œè€Œä¸”å› ä¸ºæ˜¯è™šæ‹Ÿå…³è”è¡¨ï¼Œå¯ä»¥ç›´æ¥ç”¨ temp.roleNames likeâ€™%è§’è‰²1%â€™ è€Œå®ç°æ¨¡ç³ŠæŸ¥è¯¢ã€‚\n","description":"\n","tags":[],"title":"\nMySQLæ–¹æ³•GROUP_CONCATçš„åº”ç”¨","uri":"/posts/post-242/"},{"categories":["æ•°æ®åº“"],"content":"åˆ›å»ºç”¨æˆ· 1 CREATE USER 'username'@'host' IDENTIFIED BY 'password'; usernameï¼šä½ å°†åˆ›å»ºçš„ç”¨æˆ·å hostï¼šæŒ‡å®šè¯¥ç”¨æˆ·åœ¨å“ªä¸ªä¸»æœºä¸Šå¯ä»¥ç™»é™†ï¼Œå¦‚æœæ˜¯æœ¬åœ°ç”¨æˆ·å¯ç”¨localhostï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦% passwordï¼šè¯¥ç”¨æˆ·çš„ç™»é™†å¯†ç ï¼Œå¯†ç å¯ä»¥ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯¥ç”¨æˆ·å¯ä»¥ä¸éœ€è¦å¯†ç ç™»é™†æœåŠ¡å™¨ ä¾‹å­ 1 2 3 4 5 CREATE USER 'dog'@'localhost' IDENTIFIED BY '123456'; CREATE USER 'pig'@'192.168.1.101_' IDENDIFIED BY '123456'; CREATE USER 'pig'@'%' IDENTIFIED BY '123456'; CREATE USER 'pig'@'%' IDENTIFIED BY ''; CREATE USER 'pig'@'%'; æˆæƒ 1 GRANT privileges ON databasename.tablename TO 'username'@'host' privilegesï¼šç”¨æˆ·çš„æ“ä½œæƒé™ï¼Œå¦‚SELECTï¼ŒINSERTï¼ŒUPDATEç­‰ï¼Œå¦‚æœè¦æˆäºˆæ‰€çš„æƒé™åˆ™ä½¿ç”¨ALL databasenameï¼šæ•°æ®åº“å tablenameï¼šè¡¨åï¼Œå¦‚æœè¦æˆäºˆè¯¥ç”¨æˆ·å¯¹æ‰€æœ‰æ•°æ®åº“å’Œè¡¨çš„ç›¸åº”æ“ä½œæƒé™åˆ™å¯ç”¨*è¡¨ç¤ºï¼Œå¦‚*.* ä¾‹å­ 1 2 GRANT SELECT, INSERT ON test.user TO 'pig'@'%'; GRANT ALL ON *.* TO 'pig'@'%'; æ³¨æ„\nç”¨ä»¥ä¸Šå‘½ä»¤æˆæƒçš„ç”¨æˆ·ä¸èƒ½ç»™å…¶å®ƒç”¨æˆ·æˆæƒï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥æˆæƒï¼Œç”¨ä»¥ä¸‹å‘½ä»¤:\nGRANT privileges ON databasename.tablename TO 'username'@'host' WITH GRANT OPTION; è®¾ç½®ä¸æ›´æ”¹ç”¨æˆ·å¯†ç  1 SET PASSWORD FOR 'username'@'host' = PASSWORD('newpassword'); å¦‚æœæ˜¯å½“å‰ç™»é™†ç”¨æˆ·ç”¨:\n1 SET PASSWORD = PASSWORD(\"newpassword\"); ä¾‹å­ 1 SET PASSWORD FOR 'pig'@'%' = PASSWORD(\"123456\"); æ’¤é”€ç”¨æˆ·æƒé™ 1 REVOKE privilege ON databasename.tablename FROM 'username'@'host'; privilege, databasename, tablenameï¼šåŒæˆæƒéƒ¨åˆ†\nä¾‹å­ 1 REVOKE SELECT ON *.* FROM 'pig'@'%'; å‡å¦‚ä½ åœ¨ç»™ç”¨æˆ·'pig'@'%'æˆæƒçš„æ—¶å€™æ˜¯è¿™æ ·çš„ï¼ˆæˆ–ç±»ä¼¼çš„ï¼‰ï¼šGRANT SELECT ON test.user TO 'pig'@'%'ï¼Œåˆ™åœ¨ä½¿ç”¨REVOKE SELECT ON *.* FROM 'pig'@'%';å‘½ä»¤å¹¶ä¸èƒ½æ’¤é”€è¯¥ç”¨æˆ·å¯¹testæ•°æ®åº“ä¸­userè¡¨çš„SELECT æ“ä½œã€‚\nç›¸åï¼Œå¦‚æœæˆæƒä½¿ç”¨çš„æ˜¯GRANT SELECT ON *.* TO 'pig'@'%';åˆ™REVOKE SELECT ON test.user FROM 'pig'@'%';å‘½ä»¤ä¹Ÿä¸èƒ½æ’¤é”€è¯¥ç”¨æˆ·å¯¹testæ•°æ®åº“ä¸­userè¡¨çš„Selectæƒé™ã€‚\nå…·ä½“ä¿¡æ¯å¯ä»¥ç”¨å‘½ä»¤SHOW GRANTS FOR 'pig'@'%'; æŸ¥çœ‹ã€‚\nåˆ é™¤ç”¨æˆ· 1 DROP USER 'username'@'host'; ","description":"\n","tags":[],"title":"\nMySQLåˆ›å»ºç”¨æˆ·ä¸æˆæƒ","uri":"/posts/post-243/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å‰è¨€ æœ€è¿‘åœ¨åšæä¾›è™šæ‹Ÿæœºçš„å·¥ä½œæ—¶å‘ç°ï¼Œvcenterçš„æ¨¡æ¿è™½ç„¶å¯ä»¥å¿«é€Ÿåˆ›å»ºå‡ºå’Œæ¨¡æ¿ä¸€æ¨¡ä¸€æ ·çš„è™šæ‹Ÿæœºï¼Œä½†æ˜¯ç”±äºå¯¹ç¡¬ç›˜çš„é…ç½®æ¯ä¸ªäººçš„è¦æ±‚ä¸åŒï¼Œvmwareåªæ”¯æŒæ‰©å¤§ç¡¬ç›˜é…ç½®ã€‚\næ•…åœ¨åšæ¨¡æ¿æ—¶ï¼Œç¡¬ç›˜è®¾è®¡çš„å°äº›ï¼Œç„¶åæ ¹æ®æ¯ä¸ªäººä¸åŒçš„éœ€æ±‚å†åšç£ç›˜çš„æ‰©å®¹å°±å¥½äº†ã€‚\nåœºæ™¯ è™šæ‹Ÿæœºåˆå§‹ç¡¬ç›˜ï¼š16G\nè™šæ‹Ÿæœºæ‰©å®¹åç¡¬ç›˜ï¼š50G\néœ€æ±‚ï¼šå°†æ‰©å®¹çš„34Gç©ºé—´å¢åŠ åˆ°æ–‡ä»¶ç³»ç»Ÿ/dev/mapper/centos-rootä¸­\næ‰©å®¹æ–‡ä»¶ç³»ç»Ÿ ç¡®è®¤ç¡¬ç›˜ç©ºé—´ åˆ—å‡ºå—è®¾å¤‡ä¿¡æ¯ lsblk\næŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„ç¡¬ç›˜ä½¿ç”¨ df -h æŸ¥çœ‹ç¡¬ç›˜æ•°é‡å’Œåˆ†åŒºæƒ…å†µ fdisk -l å¯¹æœªåˆ†é…çš„ç©ºé—´è¿›è¡Œåˆ†åŒº åˆ›å»ºæ–°åˆ†åŒº fdisk /dev/sda æ–°å»ºåˆ†åŒº è¾“å…¥â€œnâ€ï¼Œå›è½¦ï¼›ï¼ˆnï¼šæ–°å»ºåˆ†åŒºï¼‰\nä¸»åˆ†åŒº ä¸ç”¨è¾“å…¥ï¼Œå›è½¦ï¼›ï¼ˆpï¼šä¸»åˆ†åŒºï¼‰\nè®¾ç½®æ‰‡åŒº ä¸‹é¢å‡ ä¸ªé€‰é¡¹ä¸ç”¨è¾“å…¥ï¼Œå›è½¦ï¼›\nè®¾ç½®åˆ†åŒºå· è¾“å…¥â€œtâ€ï¼Œå›è½¦ï¼›æ¥ç€ä¸ç”¨è¾“å…¥ï¼Œå›è½¦ï¼›ï¼ˆtï¼šè®¾ç½®åˆ†åŒºå·ï¼‰\nè®¾ç½®åˆ†åŒºæ ¼å¼ è¾“å…¥â€œLâ€ï¼Œå›è½¦ï¼›æ¥ç€è¾“å…¥â€œ8eâ€ï¼Œå›è½¦ï¼›ï¼ˆ8eï¼šæŒ‡å®šåˆ†åŒºæ ¼å¼ä¸ºLinux LVMï¼‰\nä¿å­˜ä¿®æ”¹ è¾“å…¥â€œwâ€ï¼Œå›è½¦ï¼›ï¼ˆwï¼šä¿å­˜ä¿®æ”¹ï¼‰\né‡å¯è™šæ‹Ÿæœº reboot æŸ¥çœ‹æ–°çš„åˆ†åŒºæƒ…å†µï¼ˆæ–°çš„åˆ†åŒº/dev/sda3ï¼‰\nfdisk -l å¯¹ç›®æ ‡åˆ†åŒºæ‰©å®¹ åˆ›å»ºç‰©ç†å· pvcreate /dev/sda3 æ·»åŠ ç‰©ç†å· æ·»åŠ ç‰©ç†å·ï¼ˆ/dev/sda3ï¼‰åˆ°å·ç»„ï¼ˆcentosï¼‰\nvgextend centos /dev/sda3 å·ç»„å±æ€§ æŸ¥çœ‹centoså·ç»„çš„å±æ€§\nvgdisplay å¯ä»¥çœ‹åˆ°æœ‰ä¸åˆ°34Gçš„ç©ºé—²ç©ºé—´å¯ä»¥æ‰©å±•ã€‚\nåˆ†é…ç©ºé—´ å°†ç©ºé—²çš„ç©ºé—´éƒ½åˆ†é…ç»™rootæ–‡ä»¶ç³»ç»Ÿ\nlvextend -l +100%FREE /dev/mapper/centos-root æ‰©å®¹ å¯¹rootæ–‡ä»¶ç³»ç»Ÿæ‰§è¡Œæ‰©å®¹\nxfs_growfs /dev/mapper/centos-root æŸ¥çœ‹æ‰©å®¹ç»“æœ df -h ","description":"\n","tags":[],"title":"\ncentos7 æŒ‚è½½æœªåˆ†é…çš„ç¡¬ç›˜ç©ºé—´","uri":"/posts/post-244/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" IDEA è¿œç¨‹è°ƒè¯•ï¼Œåƒè¿è¡Œæœ¬åœ°ä»£ç ä¸€æ ·è°ƒè¯•è¿œç¨‹ä¸»æœºä¸Šçš„ç¨‹åºï¼Œä»¥æ’æŸ¥è¿œç¨‹ç¨‹åºçš„BUGæˆ–ä»£ç æ‰§è¡Œæµç¨‹ã€‚\næ¦‚è¿° åŸç†ï¼šæœ¬æœºå’Œè¿œç¨‹ä¸»æœºçš„ä¸¤ä¸ª VM ä¹‹é—´ä½¿ç”¨ Debug åè®®é€šè¿‡ Socket é€šä¿¡ï¼Œä¼ é€’è°ƒè¯•æŒ‡ä»¤å’Œè°ƒè¯•ä¿¡æ¯ã€‚ è¢«è°ƒè¯•ç¨‹åºçš„è¿œç¨‹è™šæ‹Ÿæœºï¼šä½œä¸º Debug æœåŠ¡ç«¯ï¼Œç›‘å¬ Debug è°ƒè¯•æŒ‡ä»¤ã€‚jdwpæ˜¯Java Debug Wire Protocolçš„ç¼©å†™ã€‚ è°ƒè¯•ç¨‹åºçš„æœ¬åœ°è™šæ‹Ÿæœºï¼šIDEA ä¸­é…ç½®çš„ Remote Serverï¼ŒæŒ‡å®š Debug æœåŠ¡å™¨çš„Host:Portï¼Œä»¥ä¾› Debug å®¢æˆ·ç«¯ç¨‹åºè¿æ¥ã€‚\nè®¾ç½® æ‰“å¼€é˜²ç«å¢™ #æŸ¥çœ‹æƒ³å¼€çš„ç«¯å£æ˜¯å¦å·²å¼€ï¼š firewall-cmd --query-port=20400/tcp #æ·»åŠ æŒ‡å®šéœ€è¦å¼€æ”¾çš„ç«¯å£ï¼š firewall-cmd --add-port=20400/tcp --permanent #é‡è½½å…¥æ·»åŠ çš„ç«¯å£ï¼š firewall-cmd --reload #ç§»é™¤æŒ‡å®šç«¯å£ï¼š firewall-cmd --permanent --remove-port=20400/tcp è¿œç¨‹æœåŠ¡ä¸­å¼€å¯ Debug æœåŠ¡ å¯¹äº SpringBootå‘½ä»¤è¡Œæ·»åŠ é€‰é¡¹ï¼Œå¹¶é‡å¯\njava -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=20400 -jar xxx.jar å¯¹äº Tomcat å¯åŠ¨è„šæœ¬ä¸­æ·»åŠ é€‰é¡¹ï¼Œå¹¶é‡å¯ï¼š\nJAVA_OPTS=\"$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=20400\" IDEA ä¸­æŒ‡å®š Debug æœåŠ¡å™¨ ç‚¹å‡»ä¸»çª—å£èœå• Run / Edit Configurationsï¼Œæ‰“å¼€â€œRun/Debug Configurationsâ€çª—å£ï¼›\nç‚¹å‡»å·¥å…·æ ä¸Šçš„â€œ+â€æŒ‰é’®ï¼Œä¸‹æ‹‰èœå•ä¸­é€‰æ‹©â€œRemoteâ€æˆ–è€…â€œRemote JVM Debugâ€ï¼›\nè®¾ç½® Host ä¸ºè¿œç¨‹æœåŠ¡å™¨çš„åŸŸåæˆ–IPï¼Œè®¾ç½®ç«¯å£ Port=20400ï¼›\nå¤åˆ¶å‘½ä»¤è¡Œå‚æ•°ï¼Œå½¢å¦‚ -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=20400 è¿™ä¸ªå‚æ•°å°±æ˜¯å¯åŠ¨æœåŠ¡å™¨é¡¹ç›®æ—¶åŠ çš„å‚æ•°\n","description":"\n","tags":[],"title":"\nIDEA è¿œç¨‹è°ƒè¯•","uri":"/posts/post-245/"},{"categories":["maven"],"content":"ç®€ä»‹ å®˜æ–¹æ–‡æ¡£ https://www.mojohaus.org/build-helper-[maven](https://so.csdn.net/so/search?q=maven\u0026spm=1001.2101.3001.7020)-plugin/index.html\nå¸¸ç”¨çš„Goals åç§° è¯´æ˜ build-helper:add-source æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªç›®å½•åˆ°POM. build-helper:add-test-source æ·»åŠ æµ‹è¯•ç›®å½•åˆ° POM. build-helper:add-resource æ·»åŠ èµ„æºç›®å½•åˆ°POM. build-helper:add-test-resource æ·»åŠ æµ‹è¯•èµ„æºç›®å½•åˆ°POM. build-helper:attach-artifact é™„åŠ è¦å®‰è£…å’Œéƒ¨ç½²çš„å…¶ä»–éƒ¨ä»¶ã€‚ build-helper:maven-version è®¾ç½®ä¸€ä¸ªåŒ…å«å½“å‰ç‰ˆæœ¬çš„ maven çš„å±æ€§ã€‚ build-helper:regex-property é€šè¿‡å°†æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢è§„åˆ™åº”ç”¨äºæä¾›çš„å€¼æ¥è®¾ç½®å±æ€§ã€‚ build-helper:regex-properties é€šè¿‡å°†æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢è§„åˆ™åº”ç”¨äºæä¾›çš„å€¼æ¥è®¾ç½®å±æ€§. build-helper:released-version è§£å†³æœ¬é¡¹ç›®æœ€æ–°å‘å¸ƒçš„ç‰ˆæœ¬. build-helper:parse-version å°†ç‰ˆæœ¬è§£æä¸ºä¸åŒçš„å±æ€§. build-helper:remove-project-artifact ä»æœ¬åœ°å­˜å‚¨åº“ä¸­åˆ é™¤é¡¹ç›®çš„å·¥ä»¶. build-helper:reserve-network-port ä¿ç•™éšæœºå’Œæœªä½¿ç”¨çš„ç½‘ç»œç«¯å£åˆ—è¡¨. build-helper:local-ip æ£€ç´¢å½“å‰ä¸»æœº IP åœ°å€. build-helper:hostname æ£€ç´¢å½“å‰ä¸»æœºå. build-helper:cpu-count æ£€ç´¢å¯ç”¨ CPU çš„æ•°é‡. build-helper:timestamp-property æ ¹æ®å½“å‰æ—¥æœŸå’Œæ—¶é—´è®¾ç½®å±æ€§. build-helper:uptodate-property æ ¹æ®æ–‡ä»¶é›†çš„è¾“å‡ºç›¸å¯¹äºå…¶è¾“å…¥æ˜¯å¦æ˜¯æœ€æ–°çš„æ¥è®¾ç½®å±æ€§. build-helper:uptodate-properties æ ¹æ®å¤šä¸ªæ–‡ä»¶é›†çš„è¾“å‡ºç›¸å¯¹äºå®ƒä»¬çš„è¾“å…¥æ˜¯å¦æ˜¯æœ€æ–°çš„æ¥è®¾ç½®å¤šä¸ªå±æ€§. build-helper:rootlocation è®¾ç½®å®šä¹‰å¤šæ¨¡å—æ„å»ºçš„æ ¹æ–‡ä»¶å¤¹çš„å±æ€§. ç®€å•ç”¨æ³• \u003cproject\u003e \u003cbuild\u003e \u003cplugins\u003e \u003c!--ç‹¬ç«‹æ‰“åŒ…--\u003e \u003cplugin\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-maven-plugin\u003c/artifactId\u003e \u003cversion\u003e2.1.1.RELEASE\u003c/version\u003e \u003cconfiguration\u003e \u003cfork\u003etrue\u003c/fork\u003e \u003c!-- å¦‚æœæ²¡æœ‰è¯¥é…ç½®ï¼Œdevtoolsä¸ä¼šç”Ÿæ•ˆ --\u003e \u003c/configuration\u003e \u003cexecutions\u003e \u003cexecution\u003e \u003cgoals\u003e \u003cgoal\u003erepackage\u003c/goal\u003e \u003c/goals\u003e \u003c/execution\u003e \u003c/executions\u003e \u003c/plugin\u003e \u003c!-- domain æ‰“åŒ…è¿›å»--\u003e \u003cplugin\u003e \u003cgroupId\u003eorg.codehaus.mojo\u003c/groupId\u003e \u003cartifactId\u003ebuild-helper-maven-plugin\u003c/artifactId\u003e \u003cversion\u003e3.3.0\u003c/version\u003e \u003cexecutions\u003e \u003cexecution\u003e \u003c!--idæ˜¯å¿…é¡»çš„ï¼Œå¸¸å¸¸å’Œgoalsæ˜¯ä¸€æ ·çš„--\u003e \u003cid\u003eadd-source\u003c/id\u003e \u003cphase\u003egenerate-sources\u003c/phase\u003e \u003cgoals\u003e \u003cgoal\u003eadd-source\u003c/goal\u003e \u003c/goals\u003e \u003c!--åœ¨configurationä¸­è®¾ç½®goalsçš„å…·ä½“å±æ€§--\u003e \u003cconfiguration\u003e \u003c!--è¿™äº›ç†Ÿæ‚‰å¯ä»¥é€šè¿‡æ–‡æ¡£è·å¾—--\u003e \u003csources\u003e \u003csource\u003e${basedir}/src/main/java\u003c/source\u003e \u003csource\u003e${basedir}/src/main/domain\u003c/source\u003e ... \u003c/sources\u003e \u003c/configuration\u003e \u003c/execution\u003e \u003c!--åœ¨æ¯”å¦‚ä¸‹é¢çš„ï¼Œå¯ä»¥è·å¾—å½“å‰æ—¶é—´--\u003e \u003cexecution\u003e \u003cid\u003etimestamp-property\u003c/id\u003e \u003cgoals\u003e \u003cgoal\u003etimestamp-property\u003c/goal\u003e \u003c/goals\u003e \u003cconfiguration\u003e \u003cname\u003ecurrent.time\u003c/name\u003e \u003cpattern\u003eyyyyMMddHHmmss\u003c/pattern\u003e \u003ctimeZone\u003eGMT+8\u003c/timeZone\u003e \u003c/configuration\u003e \u003c/execution\u003e \u003c/executions\u003e \u003c/plugin\u003e \u003c/plugins\u003e \u003c/build\u003e \u003c/project\u003e è·å¾—å½“å‰æ—¶é—´çš„é‚£ä¸ªï¼Œå¯ä»¥é€šè¿‡configurationçš„nameåœ¨pomçš„å…¶ä»–åœ°æ–¹é€šè¿‡${current.time}æ¥å¼•ç”¨å½“å‰æ—¶é—´\n","description":"\n","tags":[],"title":"\nbuild-helper-maven-plugin ç®€å•è®²è§£","uri":"/posts/post-246/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" é¦–å…ˆè¯´æ˜ä¸€ä¸‹è‡ªå·±ç”µè„‘çš„æƒ…å†µï¼Œï¼Œåœ¨thinkpadå®˜ç½‘ä¸‹è½½å®‰è£…å¥½å£°å¡é©±åŠ¨åè¿˜æ˜¯æ²¡æœ‰å£°éŸ³ ï¼Œæ£€æµ‹çš„æ—¶å€™ä¹Ÿä¼šæ ¹æ®å£°éŸ³å¤§å°è·³åŠ¨ï¼Œæˆ‘æµ‹è¯•è“ç‰™è€³æœºè¿æ¥åå£°éŸ³æ²¡é—®é¢˜ï¼Œ ä¸€åº¦è®©æˆ‘æ€€ç–‘æˆ‘çš„ç¬”è®°æœ¬æ‰¬å£°å™¨åäº† ï¼Œ\næœ€è¿‘ç–«æƒ…ä¸¥é‡äº†å¤§å®¶éƒ½å±…å®¶éš”ç¦»éƒ½åœ¨å®¶åŠå…¬ï¼Œç»å¸¸æœ‰å¼€ä¼šåˆ†äº«å±å¹•ï¼Œæ‰‹æœºæ¥å¬å°±å¤ªå°å±å¹•çœ‹ä¸è§ï¼Œç”µè„‘æ¥å¬æ²¡æœ‰å£°éŸ³ï¼Œè®©æˆ‘ä¼ä¸šå¾®ä¿¡åˆ†äº«å±å¹•ï¼Œä¸ªäººå¾®ä¿¡ å¼€å¯è¯­éŸ³èŠå¤©ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚,åæ¥å‘ç°ç¬”è®°æœ¬ç”µè„‘ä¸Šf1é”®äº®ç€ ä¸Šé¢æœ‰ä¸ªå°å–‡å­ï¼Œæƒ³å…³ä¹Ÿå…³ä¸æ‰ äº†ä¸åºŸè¯äº†çœ‹æ€ä¹ˆè§£å†³çš„ã€‚\nä¸‹è½½é©±åŠ¨ å»è”æƒ³å®˜ç½‘ä¸‹è½½å¯¹åº”ç”µè„‘å‹å·çš„å£°å¡é©±åŠ¨ï¼Œå®˜ç½‘åœ°å€ï¼šé©±åŠ¨ä¸‹è½½_ThinkPadæœåŠ¡ç½‘ç«™-è”æƒ³æœåŠ¡ï¼Œè¿›å…¥è”æƒ³thinkpadå®˜ç½‘åæ‰¾åˆ°æœåŠ¡é‡Œé¢çš„é©±åŠ¨ä¸‹è½½é€‰é¡¹ï¼Œç„¶åç‚¹å‡»è¿›å»ï¼Œå¦‚ä¸‹å›¾:ã€\nç„¶åä¼šè¿›å…¥åˆ°ä¸‹ä¸ªç•Œé¢ï¼Œå¦‚ä¸‹å›¾ï¼š\nåœ¨è¿™ä¸ªç•Œé¢ï¼Œè¦ä¸‹æœç´¢æ¡†é‡Œè¾“å…¥è‡ªå·±çš„ç”µè„‘ä¸»æœºç¼–å·ï¼Œç”µè„‘ä¸»æœºç¼–å·ä¸€èˆ¬éƒ½åœ¨ç”µè„‘çš„èƒŒé¢æœ‰æ˜¾ç¤ºï¼Œæˆ–è€…åœ¨é¡µé¢ä¸‹æ–¹é€‰æ‹©è‡ªå·±çš„ç”µè„‘å‹å·è¿›å»ç›¸åº”çš„é©±åŠ¨é¡µé¢è¿›è¡Œä¸‹è½½ï¼Œè¦ä¸ç„¶ä¸‹è½½ä¸ªè”æƒ³é©±åŠ¨ç®¡ç†ä¹Ÿå¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ç”µè„‘å‹å·ï¼Œç„¶åæ‰èƒ½è¿›å…¥åˆ°è‡ªå·±ç”µè„‘å‹å·æ‰€å¯¹åº”çš„æ‰€æœ‰é©±åŠ¨çš„ä¸‹è½½çš„åœ°æ–¹ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯æœ€æ–°ç‰ˆçš„é©±åŠ¨ï¼Œå¦‚ä¸‹å›¾ï¼š\nåœ¨è¿™ä¸ªç•Œé¢å°±å¯ä»¥ä¸‹è½½éœ€è¦çš„é©±åŠ¨äº†ï¼Œå°±æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„å£°å¡é©±åŠ¨ï¼Œä¸‹è½½ä¸‹æ¥ï¼Œç›´æ¥è¿è¡Œå®‰è£…å°±OKäº†ï¼Œå®‰è£…å®Œé©±åŠ¨åï¼Œé‡å¯ç”µè„‘æ‰æœ‰æ•ˆæœã€‚åæ¥ç»è¿‡æˆ‘çš„å®è·µè¯æ˜ï¼Œåªå®‰è£…è¿™ä¸ªç‰ˆæœ¬çš„å£°å¡é©±åŠ¨æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œè¿˜æ˜¯æ²¡æœ‰å£°éŸ³ï¼Œå¿…é¡»è¦å®‰è£…ä¸Šå›¾é‡Œçš„çƒ­é”®é©±åŠ¨æ‰å¯ä»¥ã€‚\nå°±è¿™æ ·ï¼Œå»è”æƒ³å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å£°å¡é©±åŠ¨ï¼Œè¿˜æœ‰çƒ­é”®é©±åŠ¨ï¼Œå®‰è£…åé‡å¯ç”µè„‘ï¼Œå°±æœ‰å£°éŸ³äº†ã€‚\nå…¶ä»–é—®é¢˜å¯ä»¥å‚ç…§ ä¿®å¤ Windows 10 ä¸­çš„å£°éŸ³é—®é¢˜\n","description":"\n","tags":[],"title":"\nThinkPadç³»åˆ— win10ç³»ç»Ÿæ²¡æœ‰å£°éŸ³é—®é¢˜å®Œç¾è§£å†³","uri":"/posts/post-247/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ•™è‚²éƒ¨å…³äºåšå¥½2022å¹´æ™®é€šé«˜æ ¡æ‹›ç”Ÿå·¥ä½œçš„é€šçŸ¥ 2022å¹´01æœˆ29æ—¥Â æ¥æºï¼šæ•™è‚²éƒ¨ æ•™å­¦ã€”2022ã€•1å· å„çœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚é«˜ç­‰å­¦æ ¡æ‹›ç”Ÿå§”å‘˜ä¼šã€æ•™è‚²å…ï¼ˆæ•™å§”ï¼‰ã€æ‹›ç”Ÿè€ƒè¯•æœºæ„ï¼Œæ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢æ•™è‚²å±€ï¼Œæœ‰å…³éƒ¨é—¨ï¼ˆå•ä½ï¼‰æ•™è‚²å¸ï¼ˆå±€ï¼‰ï¼Œéƒ¨å±å„é«˜ç­‰å­¦æ ¡ã€éƒ¨çœåˆå»ºå„é«˜ç­‰å­¦æ ¡ï¼š 2022å¹´æ™®é€šé«˜æ ¡æ‹›ç”Ÿå·¥ä½œè¦ä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸ºæŒ‡å¯¼ï¼Œè´¯å½»è½å®å…šçš„åä¹å¤§å’Œåä¹å±Šå†æ¬¡å…¨ä¼šç²¾ç¥ï¼Œå­¦ä¹ è´¯å½»ä¹ è¿‘å¹³æ€»ä¹¦è®°å…³äºæ•™è‚²çš„é‡è¦è®ºè¿°å’Œä¸­å¤®äººæ‰å·¥ä½œä¼šè®®ã€ä¸­å¤®ç»æµå·¥ä½œä¼šè®®ç­‰ç²¾ç¥ï¼Œå…¨é¢è´¯å½»å…šçš„æ•™è‚²æ–¹é’ˆï¼Œå¼˜æ‰¬ä¼Ÿå¤§å»ºå…šç²¾ç¥ï¼ŒåšæŒç¨³ä¸­æ±‚è¿›çš„å·¥ä½œæ€»åŸºè°ƒï¼Œç§¯æç¨³å¦¥æ¨è¿›è€ƒè¯•æ‹›ç”Ÿåˆ¶åº¦æ”¹é©ï¼Œç»Ÿç­¹åšå¥½è€ƒè¯•æ‹›ç”Ÿå’Œæ–°å† è‚ºç‚ç–«æƒ…å¸¸æ€åŒ–é˜²æ§ç­‰å·¥ä½œï¼Œæ¨è¿›é«˜æ ¡è€ƒè¯•æ‹›ç”Ÿæ²»ç†èƒ½åŠ›å’Œæ°´å¹³ç°ä»£åŒ–ï¼Œç¡®ä¿è€ƒè¯•æ‹›ç”Ÿå·¥ä½œå®‰å…¨ã€æœ‰åºå®æ–½ã€‚ç°å°±æœ‰å…³å·¥ä½œé€šçŸ¥å¦‚ä¸‹ã€‚ ä¸€ã€è¿›ä¸€æ­¥æå‡å¸¸æ€åŒ–ç–«æƒ…é˜²æ§ä¸‹è€ƒè¯•æ‹›ç”Ÿç®¡ç†æ°´å¹³ 1.åˆ‡å®åŠ å¼ºç»„ç»‡é¢†å¯¼ã€‚çœçº§é«˜æ ¡æ‹›ç”Ÿå§”å‘˜ä¼šæ˜¯æœ¬è¡Œæ”¿åŒºåŸŸå†…ç»„ç»‡é«˜è€ƒã€æ²»ç†è€ƒè¯•ç¯å¢ƒã€ç»´æŠ¤è€ƒè¯•æ‹›ç”Ÿå®‰å…¨ç¨³å®šã€åšå¥½è€ƒè¯•ç–«æƒ…é˜²æ§ã€æ•´è‚ƒè€ƒé£è€ƒçºªçš„è´£ä»»ä¸»ä½“ï¼Œä¸»è¦è´Ÿè´£åŒå¿—æ˜¯ç¬¬ä¸€è´£ä»»äººï¼Œçœçº§æ•™è‚²è¡Œæ”¿éƒ¨é—¨ä¸»è¦è´Ÿè´£åŒå¿—ã€åˆ†ç®¡è´Ÿè´£åŒå¿—å’Œçœçº§æ‹›ç”Ÿè€ƒè¯•æœºæ„ä¸»è¦è´Ÿè´£åŒå¿—æ˜¯ç›´æ¥è´£ä»»äººã€‚é«˜æ ¡æ˜¯æœ¬æ ¡è€ƒè¯•æ‹›ç”Ÿï¼ˆå«ç‰¹æ®Šç±»å‹æ‹›ç”Ÿï¼‰å·¥ä½œçš„è´£ä»»ä¸»ä½“ï¼Œä¸»è¦è´Ÿè´£åŒå¿—æ˜¯ç¬¬ä¸€è´£ä»»äººï¼Œåˆ†ç®¡è´Ÿè´£åŒå¿—æ˜¯ç›´æ¥è´£ä»»äººã€‚å„åœ°å„æ ¡è¦åœ¨å½“åœ°å…šå§”å’Œæ”¿åºœçš„é¢†å¯¼ä¸‹ï¼Œå¼ºåŒ–ç»„ç»‡é¢†å¯¼ï¼Œå±‚å±‚å‹å®è´£ä»»ï¼Œä»ä¸¥ä»å®åšå¥½è€ƒè¯•ç»„ç»‡ç®¡ç†å·¥ä½œã€‚å„åœ°è¦å»ºç«‹å„ç¯èŠ‚é£é™©æ¢³ç†å’Œæ’æŸ¥æœºåˆ¶ï¼Œå®Œå–„é˜²èŒƒå„ç±»æ¶‰è€ƒçªå‘äº‹ä»¶çš„åº”æ€¥å¤„ç½®å·¥ä½œé¢„æ¡ˆï¼Œç¡®ä¿å‡ºç°çªå‘æƒ…å†µåçš„å¿«é€Ÿååº”å’Œåº”æ€¥æªæ–½åˆ°ä½ã€‚é‡å¤§äº‹ä»¶å¤„ç½®å†³ç­–è¦å‘å½“åœ°çœï¼ˆåŒºã€å¸‚ï¼‰å…šå§”æ”¿åºœè¯·ç¤ºæ±‡æŠ¥ï¼Œå¹¶åŠæ—¶æŠ¥æ•™è‚²éƒ¨ã€‚ 2.å®Œå–„é˜²ç–«å·¥ä½œæ–¹æ¡ˆã€‚å„åœ°å„æ ¡è¦è®¤çœŸæ€»ç»“è¿‘å¹´é«˜è€ƒç»„è€ƒé˜²ç–«å·¥ä½œç»éªŒï¼Œè®¤çœŸè½å®å›½å®¶æ•™è‚²è€ƒè¯•ç»„è€ƒé˜²ç–«è¦æ±‚ï¼Œå°†é«˜è€ƒç»„è€ƒé˜²ç–«åˆ—å…¥å½“åœ°åº”å¯¹æ–°å† è‚ºç‚ç–«æƒ…è”é˜²è”æ§æœºåˆ¶ï¼ˆé¢†å¯¼å°ç»„ã€æŒ‡æŒ¥éƒ¨ï¼‰å·¥ä½œé‡ç‚¹ï¼Œç»“åˆæœ¬åœ°å®é™…ï¼Œè¿›ä¸€æ­¥ç»†åŒ–å®Œå–„é˜²ç–«å·¥ä½œæ–¹æ¡ˆã€‚åˆç†å®‰æ’æœ‰å…³ç‰¹æ®Šç±»å‹æ‹›ç”Ÿè€ƒè¯•æ—¶é—´ï¼Œç§¯æé‡‡å–çº¿ä¸Šç­‰éç°åœºæ–¹å¼ï¼Œå‡å°‘äººå‘˜èšé›†å’ŒæµåŠ¨ã€‚å¼ºåŒ–å‘½é¢˜åˆ¶å·ã€è€ƒç‚¹è€ƒåœºã€è¯„å·ç­‰åœºæ‰€é˜²ç–«ä¸¾æªï¼Œæ·±å…¥ç»†è‡´åšå¥½è€ƒç”Ÿå’Œå·¥ä½œäººå‘˜å¥åº·ç›‘æµ‹ã€è€ƒè¯•æ‹›ç”Ÿåœºæ‰€æ¶ˆæ¯’ã€é˜²ç–«ç‰©èµ„ä¸åœºåœ°é…å¤‡ç­‰å„ç¯èŠ‚å·¥ä½œï¼ŒåŸåˆ™ä¸Šå®‰æ’æ¥ç§è¿‡ç–«è‹—çš„äººå‘˜æ‹…ä»»è€ƒåŠ¡å·¥ä½œã€‚æŒ‰è¦æ±‚ä¸ºæ¯ä¸ªè€ƒç‚¹é…å¤‡é˜²ç–«å‰¯ä¸»è€ƒï¼Œè®¾ç½®å¿…è¦çš„éš”ç¦»è€ƒåœºã€éš”ç¦»è®¾æ–½ã€‚åŠ å¼ºè€ƒç”Ÿä¸è€ƒåŠ¡å·¥ä½œäººå‘˜é˜²ç–«çŸ¥è¯†å’Œæ“ä½œåŸ¹è®­ï¼Œç¡®ä¿å„é¡¹æªæ–½è½å®åˆ°ä½ï¼Œåšå†³å®ˆä½ä¸å› ç»„ç»‡è€ƒè¯•å¼•å‘ç–«æƒ…ä¼ æ’­çš„åº•çº¿ã€‚è€ƒå‰å‘ç”Ÿç–«æƒ…çš„åœ°åŒºï¼Œè¦åŠ å¼ºç–«æƒ…å½¢åŠ¿çš„åˆ†æç ”åˆ¤ï¼Œæ ¹æ®ç–«æƒ…å‘å±•æƒ…å†µï¼ŒåŠæ—¶è°ƒæ•´ç›¸å…³ç»„è€ƒé˜²ç–«æªæ–½ï¼Œç¨³å¦¥åšå¥½è€ƒè¯•ç»„ç»‡å·¥ä½œã€‚ 3.å¼ºåŒ–å®‰å…¨ä¿å¯†ç®¡ç†ã€‚å„åœ°å„æ ¡è¦æŠŠå®‰å…¨ä¿å¯†å·¥ä½œæ‘†åœ¨çªå‡ºé‡è¦ä½ç½®ï¼Œç»†åŒ–å‘½é¢˜ã€åˆ¶å·ã€è¿é€ã€ä¿ç®¡ã€åˆ†å‘ã€æ–½è€ƒã€è¯„å·ç­‰å…³é”®ç¯èŠ‚ã€å…³é”®äººå‘˜çš„ç®¡ç†ï¼Œç¡®ä¿è¯•é¢˜è¯•å·ç»å¯¹å®‰å…¨ã€‚å¼ºåŒ–éƒ¨é—¨åä½œæœºåˆ¶ï¼Œé›†ä¸­å¼€å±•å‡€åŒ–æ¶‰è€ƒç½‘ç»œç¯å¢ƒã€æ‰“å‡»é”€å”®ä½œå¼Šå™¨æã€å‡€åŒ–è€ƒç‚¹å‘¨è¾¹ç¯å¢ƒã€æ‰“å‡»æ›¿è€ƒä½œå¼Šç­‰ä¸“é¡¹è¡ŒåŠ¨ï¼Œç»¼åˆæ²»ç†è€ƒè¯•ç¯å¢ƒã€‚åŠ å¼ºæ ‡å‡†åŒ–è€ƒç‚¹ç®¡ç†ï¼Œåšå¥½è®¾å¤‡ç»´æŠ¤å’Œå‡çº§ï¼Œæœ‰æ•ˆå±è”½æ— çº¿ç”µä½œå¼Šä¿¡å·ã€‚åŠ å¼ºè€ƒç‚¹è€ƒåœºç®¡ç†ï¼ŒåŠ å¤§äººå‘˜å…¥åœºæ£€æµ‹åŠ›åº¦ï¼Œä¸¥æ ¼æ‰§è¡Œè€ƒç”Ÿè¿›å…¥è€ƒç‚¹ï¼ˆè€ƒåœºï¼‰å®‰å…¨æ£€æŸ¥å·¥ä½œè§„èŒƒï¼Œå¼ºåŒ–è€ƒç‚¹æ‰‹æœºå­˜æ”¾ç®¡ç†ï¼Œä¸¥é˜²è€ƒç”Ÿæºå¸¦æ‰‹æœºã€é«˜ç§‘æŠ€ä½œå¼Šå™¨æç­‰å…¥åœºã€‚ä¸¥è‚ƒè€ƒé£è€ƒçºªï¼Œä¸¥æ ¼æ‰§è¡Œè€ƒåœºç›‘è€ƒã€è€ƒç‚¹å·¡è€ƒå’Œè€ƒåœºè§†é¢‘å›æ”¾åˆ¶åº¦ï¼Œä¸¥æŸ¥è¿è§„è¿çºªè¡Œä¸ºã€‚ äºŒã€è¿›ä¸€æ­¥ä¿ƒè¿›é«˜ç­‰æ•™è‚²å…¥å­¦æœºä¼šå…¬å¹³ 4.ç»§ç»­åŠ å¤§å¯¹ä¸­è¥¿éƒ¨å’Œå†œæ‘åœ°åŒºå€¾æ–œåŠ›åº¦ã€‚ç»¼åˆè€ƒè™‘ç”Ÿæºæ•°é‡ã€å…¥å­¦æœºä¼šåŠå­¦æ ¡åŠå­¦æ¡ä»¶ç­‰å› ç´ ï¼Œåˆç†å®‰æ’å›½å®¶æ”¯æ´ä¸­è¥¿éƒ¨åœ°åŒºæ‹›ç”Ÿåä½œè®¡åˆ’ï¼Œå‘ä¸­è¥¿éƒ¨åœ°åŒºå’Œè€ƒç”Ÿå¤§çœå€¾æ–œã€‚ä¸­å¤®éƒ¨é—¨æ‰€å±é«˜æ ¡è¦ä¸¥æ ¼æ§åˆ¶å±åœ°æ‹›ç”Ÿè®¡åˆ’æ¯”ä¾‹ï¼Œåˆç†ç¡®å®šåˆ†çœæ‹›ç”Ÿåé¢ã€‚ç»§ç»­å®æ–½é‡ç‚¹é«˜æ ¡é¢å‘å†œæ‘å’Œè„±è´«åœ°åŒºä¸“é¡¹è®¡åˆ’ï¼Œä¸¥æ ¼æŠ¥è€ƒæ¡ä»¶ï¼ŒåŠ å¼ºèµ„æ ¼å®¡æ ¸ï¼Œä¼˜åŒ–æ‹›å½•ç¨‹åºï¼Œæ¨åŠ¨ä¸“é¡¹è®¡åˆ’ä¼˜æƒ æ”¿ç­–è½å®åˆ°ä½ã€‚ä»2023å¹´æ‹›ç”Ÿèµ·ï¼Œå¾€å¹´è¢«ä¸“é¡¹è®¡åˆ’å½•å–åæ”¾å¼ƒå…¥å­¦èµ„æ ¼æˆ–é€€å­¦çš„è€ƒç”Ÿï¼Œä¸å†å…·æœ‰ä¸“é¡¹è®¡åˆ’æŠ¥è€ƒèµ„æ ¼ã€‚æœ‰å…³é«˜æ ¡è¦åŠæ—¶å°†å¾€å¹´æ”¾å¼ƒå…¥å­¦çš„ç›¸å…³è€ƒç”Ÿä¿¡æ¯åé¦ˆç”Ÿæºçœä»½ã€‚ 5.åšå¥½éšè¿å­å¥³åœ¨æµå…¥åœ°å‚åŠ é«˜è€ƒå·¥ä½œã€‚å„åœ°è¦åŠ å¼ºä¸­é«˜è€ƒæŠ¥åæ”¿ç­–ç»Ÿç­¹è¡”æ¥ï¼Œä¼šåŒæœ‰å…³éƒ¨é—¨æå‰åšå¥½æ‘¸åº•æ ¸æŸ¥ï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µï¼ŒåŠ å¼ºåˆ†ç±»å¼•å¯¼ï¼Œç¡®ä¿ç¬¦åˆæ¡ä»¶çš„è¿›åŸåŠ¡å·¥äººå‘˜åŠå…¶ä»–éæˆ·ç±å°±ä¸šäººå‘˜éšè¿å­å¥³èƒ½åœ¨å½“åœ°å‚åŠ é«˜è€ƒã€‚å¯¹äºå› ç‰¹æ®ŠåŸå› ä¸ç¬¦åˆæµå…¥åœ°æŠ¥è€ƒæ¡ä»¶çš„è€ƒç”Ÿï¼Œæµå…¥åœ°çœçº§é«˜æ ¡æ‹›ç”Ÿå§”å‘˜ä¼šè¦ä¸»åŠ¨åè°ƒæµå‡ºåœ°äºˆä»¥ç¨³å¦¥å¤„ç†ï¼ŒåŸåˆ™ä¸Šå›æµå‡ºåœ°å‚åŠ é«˜è€ƒã€‚è¦ä¼šåŒæœ‰å…³éƒ¨é—¨ä¸¥æ ¼å®¡æ ¸è€ƒç”Ÿçš„æˆ·ç±ã€å­¦ç±å’Œå®é™…å°±è¯»æƒ…å†µï¼Œä¸¥å‰æ‰“å‡»â€œé«˜è€ƒç§»æ°‘â€ã€‚å¯¹äºé€šè¿‡éæ­£å¸¸æˆ·ç±å­¦ç±è¿ç§»ã€æˆ·ç±å­¦ç±é€ å‡ã€å‡ºå…·è™šå‡è¯æ˜ææ–™ç­‰æ‰‹æ®µè·å–é«˜è€ƒèµ„æ ¼çš„ï¼Œè¦ä¾æ³•ä¾è§„è¿›è¡Œä¸¥è‚ƒå¤„ç†ã€‚è¦åŠ å¼ºæ”¿ç­–å®£ä¼ ï¼Œç»„ç»‡ä¸­å­¦åœ¨æ–°ç”Ÿå…¥å­¦ç­‰å…³é”®èŠ‚ç‚¹ï¼Œè®©å­¦ç”Ÿå’Œå®¶é•¿ç†ŸçŸ¥é«˜è€ƒæŠ¥åæ”¿ç­–ã€‚ ä¸‰ã€è¿›ä¸€æ­¥æ·±åŒ–é«˜æ ¡è€ƒè¯•æ‹›ç”Ÿæ”¹é© 6.æ·±åŒ–é«˜è€ƒç»¼åˆæ”¹é©ã€‚é«˜è€ƒç»¼åˆæ”¹é©çœä»½è¦åŠ å¼ºæ”¹é©ååŒï¼Œæ¨åŠ¨æ•™å­¦ã€è¯„ä»·ã€è€ƒè¯•ã€æ‹›ç”Ÿå„ç¯èŠ‚æœ‰æœºè¡”æ¥ã€‚è¦åŠ å¼ºå­¦ç”Ÿç”Ÿæ¶¯è§„åˆ’æ•™è‚²å’Œé€‰ç§‘æŒ‡å¯¼ï¼Œä»æœ‰åˆ©äºå­¦ç”Ÿæœªæ¥æˆé•¿å‘å±•çš„è§’åº¦ï¼Œè¿›ä¸€æ­¥å¼•å¯¼å­¦ç”Ÿç§‘å­¦åˆç†ç¡®å®šé€‰è€ƒç§‘ç›®ã€‚è¦ä¸¥æ ¼è½å®æ™®é€šé«˜ä¸­è¯¾ç¨‹æ–¹æ¡ˆï¼Œå¼€é½å›½å®¶è§„å®šè¯¾ç¨‹å¼€è¶³è¯¾æ—¶ï¼Œä¸å¾—ç»„ç»‡å­¦ç”Ÿæå‰é€‰ç§‘ã€‚å°šæœªå¯åŠ¨æ”¹é©çš„çœä»½è¦è®¤çœŸå€Ÿé‰´æ”¹é©çœä»½ç»éªŒï¼ŒæŠ“ç´§å®Œå–„åŸºç¡€æ¡ä»¶ï¼Œç ”ç©¶è°‹åˆ’æœ¬åœ°æ”¹é©å®æ–½æ–¹æ¡ˆï¼Œç§¯æåšå¥½å¯åŠ¨æ”¹é©å‡†å¤‡å·¥ä½œã€‚å„é«˜æ ¡è¦åŠ å¼ºä¸ä¸­å­¦äººæ‰åŸ¹å…»è¡”æ¥ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–é€‰è€ƒç§‘ç›®è¦æ±‚ï¼Œå®Œå–„ç»¼åˆç´ è´¨è¯„ä»·ä½¿ç”¨åŠæ³•å¹¶å‘ç¤¾ä¼šå…¬å¸ƒï¼Œé€æ­¥è½¬å˜ç®€å•ä»¥è€ƒè¯•æˆç»©ä¸ºå”¯ä¸€æ ‡å‡†çš„æ‹›ç”Ÿæ¨¡å¼ã€‚ 7.æ·±åŒ–è€ƒè¯•å†…å®¹æ”¹é©ã€‚2022å¹´é«˜è€ƒå‘½é¢˜åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸ºæŒ‡å¯¼ï¼Œè´¯å½»å…šçš„æ•™è‚²æ–¹é’ˆï¼Œè½å®ç«‹å¾·æ ‘äººæ ¹æœ¬ä»»åŠ¡ï¼Œå……åˆ†å‘æŒ¥é«˜è€ƒå‘½é¢˜çš„è‚²äººåŠŸèƒ½å’Œç§¯æå¯¼å‘ä½œç”¨ï¼Œæ„å»ºå¼•å¯¼å­¦ç”Ÿå¾·æ™ºä½“ç¾åŠ³å…¨é¢å‘å±•çš„è€ƒè¯•å†…å®¹ä½“ç³»ã€‚ä¾æ®é«˜æ ¡äººæ‰é€‰æ‹”è¦æ±‚å’Œå›½å®¶è¯¾ç¨‹æ ‡å‡†ï¼Œä¼˜åŒ–è¯•é¢˜å‘ˆç°æ–¹å¼ï¼ŒåŠ å¼ºå¯¹å…³é”®èƒ½åŠ›å’Œå­¦ç§‘ç´ å…»çš„è€ƒæŸ¥ï¼Œå¼•å¯¼å‡å°‘æ­»è®°ç¡¬èƒŒå’Œâ€œæœºæ¢°åˆ·é¢˜â€ç°è±¡ã€‚å„åœ°è¦åŠ å¼ºå›½å®¶æ•™è‚²è€ƒè¯•å·¥ä½œé˜Ÿä¼å»ºè®¾ï¼Œå®Œå–„å·¥ä½œæ¿€åŠ±ä¿éšœæœºåˆ¶ï¼Œæå‡å›½å®¶æ•™è‚²è€ƒè¯•é˜Ÿä¼èƒ½åŠ›å’Œæ°´å¹³ã€‚ 8.æ·±å…¥å®æ–½å¼ºåŸºè®¡åˆ’ã€‚å„è¯•ç‚¹é«˜æ ¡è¦æ·±å…¥æ€»ç»“è¿‘å¹´å¼ºåŸºè®¡åˆ’å®æ–½æƒ…å†µï¼ŒåšæŒè¯•ç‚¹å®šä½ï¼Œç€åŠ›é€‰æ‹”çœŸæ­£å¯¹åŸºç¡€ç ”ç©¶æ„Ÿå…´è¶£ã€æœ‰åŸ¹å…»æ½œè´¨çš„å­¦ç”Ÿã€‚è¦è¿›ä¸€æ­¥å®Œå–„æ‹›ç”ŸåŠæ³•ï¼Œä¼˜åŒ–å·¥ä½œç¨‹åºï¼Œåˆç†å®‰æ’é«˜æ ¡è€ƒæ ¸çš„æ—¶é—´ï¼Œå®Œå–„è€ƒæ ¸å†…å®¹å’Œå½¢å¼ï¼Œç€é‡è€ƒæŸ¥å­¦ç”Ÿå‘ç°é—®é¢˜å’Œè§£å†³é—®é¢˜èƒ½åŠ›ã€å½’çº³æ¼”ç»ç­‰æ€è¾¨èƒ½åŠ›ä»¥åŠå¯¹ç§‘å­¦æ¢ç©¶çš„æµ“åšå…´è¶£ç­‰ã€‚è¦åŠ å¼ºå­¦ç”Ÿå…¥æ ¡åçš„åŸ¹å…»å’Œç®¡ç†å·¥ä½œï¼Œä¼˜åŒ–äººæ‰åŸ¹å…»æ¨¡å¼ï¼Œç•…é€šæœ¬ç¡•åšè¡”æ¥åŸ¹å…»é€šé“ï¼Œæé«˜äººæ‰åŸ¹å…»è´¨é‡ã€‚ 9.å®Œå–„é«˜èŒé™¢æ ¡åˆ†ç±»è€ƒè¯•ã€‚å„åœ°è¦åšæŒèŒä¸šæ•™è‚²ç±»å‹å®šä½ï¼ŒåŠ å¼ºçœçº§ç»Ÿç­¹ï¼Œç«‹è¶³å½“åœ°ç»æµç¤¾ä¼šå‘å±•ï¼Œåˆç†å®‰æ’é«˜èŒé™¢æ ¡åˆ†ç±»è€ƒè¯•æ‹›ç”Ÿè§„æ¨¡ï¼Œä¿æŒåˆ†ç±»è€ƒè¯•ä¸»æ¸ é“ã€‚è¦ä¼˜åŒ–æ‹›ç”Ÿé™¢æ ¡ä¸“ä¸šç»“æ„ï¼Œé‡ç‚¹å‘åŒºåŸŸç»æµå»ºè®¾æ€¥éœ€ã€ç¤¾ä¼šæ°‘ç”Ÿé¢†åŸŸç´§ç¼ºã€æŠ€æœ¯æŠ€èƒ½åŸ¹å…»è¦æ±‚é«˜å’Œå°±ä¸šè´¨é‡é«˜çš„ä¸“ä¸šå€¾æ–œã€‚è¦éµå¾ªèŒä¸šæ•™è‚²äººæ‰åŸ¹å…»è§„å¾‹ï¼Œè¿›ä¸€æ­¥å®Œå–„â€œæ–‡åŒ–ç´ è´¨+èŒä¸šæŠ€èƒ½â€çš„èŒæ•™é«˜è€ƒåˆ¶åº¦ï¼ŒæœåŠ¡ç°ä»£èŒä¸šæ•™è‚²é«˜è´¨é‡å‘å±•éœ€è¦ã€‚è¦åšæŒç«‹å¾·æ ‘äººã€å¾·æŠ€å¹¶ä¿®ã€é¢å‘å®è·µã€å¼ºåŒ–èƒ½åŠ›ï¼Œå®Œå–„åˆ†ç±»è€ƒè¯•å†…å®¹ã€å½¢å¼å’Œæ‹›ç”Ÿå½•å–æœºåˆ¶ï¼Œç€åŠ›é€‰æ‹”åŸ¹å…»é«˜ç´ è´¨æŠ€æœ¯æŠ€èƒ½äººæ‰ã€‚åŸåˆ™ä¸Šé«˜èŒé™¢æ ¡åˆ†ç±»è€ƒè¯•å®‰æ’åœ¨æ˜¥å­£ä¸¾è¡Œã€‚å„çœçº§æ•™è‚²è¡Œæ”¿éƒ¨é—¨è¦åŠ å¼ºåˆ†ç±»è€ƒè¯•è§„èŒƒç®¡ç†ï¼ŒåŠ å¤§å¯¹é«˜èŒé™¢æ ¡ç»„ç»‡è€ƒè¯•çš„ç›‘ç£åŠ›åº¦ï¼Œç¡®ä¿å…¬å¹³å…¬æ­£ã€‚ å››ã€è¿›ä¸€æ­¥åŠ å¼ºæ‹›ç”Ÿå½•å–è§„èŒƒç®¡ç† 10.å®Œå–„æ‹›ç”Ÿä¿¡æ¯å…¬å¼€ã€‚å„åœ°å„æ ¡è¦ç»“åˆå®é™…ï¼Œè¿›ä¸€æ­¥å®Œå–„ä¿¡æ¯å…¬å¼€çš„èŒƒå›´ã€å†…å®¹ã€æ–¹å¼å’Œæ—¶é—´ï¼Œè‡ªè§‰æ¥å—çºªæ£€ç›‘å¯Ÿéƒ¨é—¨åŠåˆ©ç›Šç›¸å…³è€…çš„ç›‘ç£ã€‚è¦ç•…é€šç¤¾ä¼šç›‘ç£ä¸¾æŠ¥æ¸ é“ï¼Œå®Œå–„è€ƒç”Ÿç”³è¯‰å’Œå­¦æ ¡ä»²è£æœºåˆ¶ï¼ŒåŠæ—¶å›åº”å¤„ç†å„ç§é—®é¢˜ã€‚è¦åŠ å¼ºä¿¡æ¯å®‰å…¨é˜²æŠ¤å·¥ä½œï¼Œè½å®å›½å®¶ä¿¡æ¯ç³»ç»Ÿå®‰å…¨ç­‰çº§ä¿æŠ¤ç›¸å…³è¦æ±‚ï¼ŒåŠ å¼ºå¯¹é«˜æ ¡æ‹›ç”Ÿä¿¡æ¯åŒ–æœåŠ¡å¹³å°çš„ç›‘æµ‹å’Œè¿è¡Œç»´æŠ¤ï¼ŒåŠæ—¶æ¶ˆé™¤å®‰å…¨éšæ‚£ï¼Œç¡®ä¿æ‹›è€ƒä¿¡æ¯å®‰å…¨ã€‚ 11.ä¸¥æ ¼æ‹›ç”Ÿå½•å–ç®¡ç†ã€‚å„åœ°å„æ ¡è¦ä¸¥æ ¼æ‰§è¡Œå›½å®¶æ‹›ç”Ÿè®¡åˆ’å’Œæ‹›ç”Ÿæ”¿ç­–è§„å®šï¼Œä¸¥è‚ƒæ‹›ç”Ÿå·¥ä½œçºªå¾‹ï¼Œè®¤çœŸéµå®ˆé«˜æ ¡æ‹›ç”Ÿâ€œ30ä¸ªä¸å¾—â€â€œå…«é¡¹åŸºæœ¬è¦æ±‚â€ç­‰çºªå¾‹è¦æ±‚ã€‚å„åœ°è¦åŠ å¼ºé«˜æ ¡æ‹›ç”Ÿå½•å–æ‰¹æ¬¡ç®¡ç†ï¼Œä¸å¾—éšæ„å°†æ™®é€šæ‰¹æ¬¡æ‹›ç”Ÿä¸“ä¸šå®‰æ’è‡³æœ¬ç§‘æå‰æ‰¹æ¬¡æ‹›ç”Ÿã€‚ä¸¥æ ¼è§„èŒƒå¤§ç±»æ‹›ç”Ÿè¡Œä¸ºï¼Œå¯¹äºåŸ¹å…»æ–¹æ¡ˆä¸åˆç†ã€ä¸åˆ°ä½æˆ–æ‹›ç”Ÿå’ŒåŸ¹å…»æ–¹æ¡ˆä¸ä¸€è‡´çš„ï¼Œä¸å¾—å¼€å±•å¤§ç±»æ‹›ç”Ÿã€‚é«˜æ ¡è¦è§„èŒƒæ‹›ç”Ÿå®£ä¼ ç®¡ç†ï¼Œæ‹›ç”Ÿå¹¿å‘Šæˆ–è€…å®£ä¼ çš„è¡¨è¿°åº”å½“ä¸¥è°¨ã€è§„èŒƒï¼Œä¸å¾—é‡‡å–è´¬æŸã€å¤¸å¼ ã€ä½ä¿—ä»¥åŠå…¶ä»–ä¸é€‚å½“çš„è¯­è¨€æˆ–è€…æ–¹å¼å¼€å±•æ‹›ç”Ÿå®£ä¼ ï¼Œä¸å¾—ä»¥æ–°ç”Ÿé«˜é¢å¥–å­¦é‡‘ã€è¿è§„æ‰¿è¯ºå½•å–ç­‰æ–¹å¼äº‰æŠ¢ç”Ÿæºã€‚è¦è®¤çœŸè½å®å½•å–é€šçŸ¥ä¹¦å¯„é€’å·¥ä½œè¦æ±‚ï¼Œç¡®ä¿å½•å–é€šçŸ¥ä¹¦å¯„é€’å®‰å…¨ã€åŠæ—¶ã€å‡†ç¡®ã€‚è¦ä¸¥æ ¼ç»„ç»‡æ–°ç”Ÿå…¥å­¦èµ„æ ¼å¤æŸ¥ï¼Œç¡®ä¿æ‹›ç”Ÿå½•å–å…¬å¹³å…¬æ­£ã€‚ 12.å¼ºåŒ–ç›‘ç£ç®¡ç†è´£ä»»ã€‚å„çœçº§é«˜æ ¡æ‹›ç”Ÿå§”å‘˜ä¼šã€æ•™è‚²è¡Œæ”¿éƒ¨é—¨è¦æŒ‰ç…§â€œå­¦æ ¡è´Ÿè´£ã€æ‹›åŠç›‘ç£â€çš„åŸåˆ™ï¼Œè®¤çœŸè½å®è€ƒè¯•æ‹›ç”Ÿå·¥ä½œçš„ç›‘ç®¡è´£ä»»ï¼Œä¼šåŒæ•™è‚²çºªæ£€éƒ¨é—¨åŠ å¼ºå¯¹æŠ¥åã€è€ƒè¯•ã€å½•å–å…¨è¿‡ç¨‹ç›‘ç£ã€‚è¦è®¤çœŸå®¡æ ¸çœå±é«˜æ ¡æ‹›ç”Ÿç« ç¨‹åŠå±åœ°é«˜æ ¡çš„æœ‰å…³ç‰¹æ®Šç±»å‹æ‹›ç”ŸåŠæ³•ï¼Œå¯¹ç›¸å…³é«˜æ ¡æ‹›ç”Ÿæ”¿ç­–åŠè®¡åˆ’æ‰§è¡Œæƒ…å†µå¼€å±•ç£ä¿ƒæ£€æŸ¥ã€‚è¦åŠ å¤§è¿è§„æŸ¥å¤„åŠ›åº¦ï¼Œå¯¹äºå› ç–äºç®¡ç†ï¼Œé€ æˆè€ƒåœºç§©åºæ··ä¹±ã€ä½œå¼Šæƒ…å†µä¸¥é‡ã€æ‹›ç”Ÿè¿è§„ä¸¥é‡çš„ï¼Œè¦ä¾æ³•ä¾è§„å¯¹ç›¸å…³è´£ä»»äººä¸¥è‚ƒå¤„ç†å¹¶è¿½è´£é—®è´£ã€‚ äº”ã€è¿›ä¸€æ­¥ä¼˜åŒ–è€ƒè¯•æ‹›ç”Ÿå®£ä¼ æœåŠ¡ 13.ä¼˜åŒ–è€ƒç”Ÿå’¨è¯¢æœåŠ¡ã€‚å„åœ°è¦æ·±å…¥å®æ–½â€œé«˜è€ƒæŠ¤èˆªè¡ŒåŠ¨â€ï¼Œä¸ºè€ƒç”Ÿæä¾›æ›´å¤šæ›´ä¼˜è´¨çš„è€ƒè¯•æ‹›ç”Ÿå…¨æµç¨‹æœåŠ¡ã€‚è€ƒè¯•æœŸé—´ï¼Œè¦å¼ºåŒ–å¯¹æ²»å®‰ã€äº¤é€šã€å«ç”Ÿé˜²ç–«ç­‰æ–¹é¢çš„ç»¼åˆä¿éšœï¼Œä¸ºæ®‹ç–¾äººå¹³ç­‰å‚åŠ é«˜è€ƒæä¾›åˆç†ä¾¿åˆ©ï¼Œè¥é€ æ¸©é¦¨çš„è€ƒè¯•æ‹›ç”Ÿç¯å¢ƒã€‚å¿—æ„¿å¡«æŠ¥æœŸé—´ï¼Œè¦å……åˆ†å‘æŒ¥åŸºå±‚æ•™è‚²éƒ¨é—¨å’Œä¸­å­¦çš„ä¸»æ¸ é“ä½œç”¨ï¼Œä¸ºè€ƒç”Ÿæä¾›å½¢å¼å¤šæ ·çš„å¿—æ„¿å¡«æŠ¥æŒ‡å¯¼æœåŠ¡ã€‚è¦ç§¯æé‡‡å–ç ”å‘å¿—æ„¿å¡«æŠ¥è¾…åŠ©ç³»ç»Ÿç­‰ä¿¡æ¯åŒ–æ‰‹æ®µï¼Œä¸ºè€ƒç”Ÿæä¾›ä¸ªæ€§åŒ–çš„ä¿¡æ¯æœåŠ¡ã€‚è¦åŠ å¼ºè€ƒç”Ÿå¿—æ„¿å¡«æŠ¥å„ç¯èŠ‚ç®¡ç†ï¼ŒæŒ‡å¯¼è€ƒç”Ÿå¦¥å–„ä¿ç®¡ä¸ªäººä¿¡æ¯ï¼Œä¸¥é˜²å¿—æ„¿è¢«ç¯¡æ”¹ã€‚ä¸¥ç¦å­¦æ ¡å’Œæ•™å¸ˆä¸æ ¡å¤–åŸ¹è®­ç­‰ç¤¾ä¼šæœºæ„åˆä½œï¼Œé€šè¿‡ä¸ºè€ƒç”Ÿæä¾›å¿—æ„¿å¡«æŠ¥å’¨è¯¢æœåŠ¡æ”¶å–è´¹ç”¨ã€è°‹å–åˆ©ç›Šã€‚è¦è”åˆç½‘ä¿¡ã€å…¬å®‰ã€å¸‚åœºç›‘ç®¡ç­‰éƒ¨é—¨ï¼ŒåŠ å¼ºå¯¹ç¤¾ä¼šåŸ¹è®­æœºæ„æˆ–ä¸ªäººå¼€å±•å¿—æ„¿å¡«æŠ¥å’¨è¯¢æ´»åŠ¨çš„ç›‘ç®¡ï¼ŒåŠ å¤§æ²»ç†æ”¶è´¹ä¸è§„èŒƒã€ä»·æ ¼æ¬ºè¯ˆåŠè™šå‡å®£ä¼ ç­‰é—®é¢˜åŠ›åº¦ï¼Œæé†’è€ƒç”Ÿè°¨é˜²â€œé«˜ä»·å¿—æ„¿å¡«æŠ¥æŒ‡å¯¼â€è¯ˆéª—é™·é˜±ã€‚å½•å–æœŸé—´ï¼Œè¦å…¬å¼€è¿è§„ä¸¾æŠ¥ç”µè¯å’Œå’¨è¯¢ç”µè¯ï¼ŒåŠæ—¶å¦¥å–„å¤„ç½®ä¿¡è®¿é—®é¢˜ï¼Œåˆ‡å®ç»´æŠ¤è€ƒç”Ÿåˆæ³•æƒç›Šã€‚ 14.ä¸¥æ ¼è§„èŒƒæ‹›ç”Ÿå®£ä¼ ã€‚å„åœ°å„é«˜æ ¡è¦åšæŒæ­£ç¡®è‚²äººå¯¼å‘ï¼ŒåŠæ—¶ã€ä¸»åŠ¨ã€å‡†ç¡®ã€å…¨é¢åšå¥½æ”¿ç­–è§£è¯»ã€ä¿¡æ¯æŸ¥è¯¢å’Œæ¸©é¦¨æç¤ºç­‰æœåŠ¡å·¥ä½œã€‚è¦è¿›ä¸€æ­¥å®Œå–„å’Œè§„èŒƒé«˜è€ƒæˆç»©ã€é«˜æ ¡å½•å–åˆ†æ•°çº¿ç­‰å‘å¸ƒå·¥ä½œï¼Œåšå†³æ‰­è½¬ç®€å•ä»¥é«˜è€ƒæˆç»©è¯„ä»·å­¦ç”Ÿã€ä»¥å½•å–åˆ†æ•°çº¿è¯„ä»·é«˜æ ¡çš„åšæ³•ã€‚è¦åŠ å¼ºå¯¹ä¸­å­¦ã€æ•™å¸ˆç­‰ç›¸å…³ä¸»ä½“çš„ç®¡ç†ï¼Œä¸¥ç¦ä»¥å„ç§æ–¹å¼å…¬å¸ƒå®£ä¼ ç‚’ä½œâ€œé«˜è€ƒçŠ¶å…ƒâ€â€œé«˜è€ƒå–œæŠ¥â€â€œé«˜è€ƒå‡å­¦ç‡â€â€œé«˜åˆ†è€ƒç”Ÿâ€ç­‰ã€‚è¦åŠ å¤§ç»Ÿç­¹åè°ƒï¼Œä¸¥ç¦å„åœ°æ”¿åºœã€å­¦æ ¡ã€åŸ¹è®­æœºæ„ä»¥é«˜è€ƒæˆç»©ä¸ºæ ‡å‡†å¥–åŠ±æ•™å¸ˆå’Œå­¦ç”Ÿã€‚å„åœ°æ•™è‚²éƒ¨é—¨å’Œä¸­å­¦ä¸å¾—ç»™å¹´çº§ã€ç­çº§ã€æ•™å¸ˆä¸‹è¾¾å‡å­¦æŒ‡æ ‡ï¼Œä¸å¾—å°†å‡å­¦ç‡ä¸æ•™å¸ˆè¯„ä¼˜è¯„å…ˆåŠèŒç§°æ™‹å‡æŒ‚é’©ã€‚é«˜æ ¡åˆ¶ä½œå½•å–é€šçŸ¥ä¹¦åº”åšæŒç®€çº¦ã€èŠ‚çº¦çš„åŸåˆ™ï¼Œé¿å…é“ºå¼ æµªè´¹ã€‚ è¯·å„çœçº§é«˜æ ¡æ‹›ç”Ÿå§”å‘˜ä¼šåŠå…¬å®¤å°†æœ¬é€šçŸ¥è½¬å‘è‡³æœ¬è¡Œæ”¿åŒºåŸŸå†…æ‰€æœ‰æ™®é€šé«˜æ ¡ã€‚ é™„ä»¶ï¼š2022å¹´æ™®é€šé«˜ç­‰å­¦æ ¡æ‹›ç”Ÿå·¥ä½œè§„å®š æ•™è‚²éƒ¨ 2022å¹´1æœˆ27æ—¥ â€”- ç‚¹å‡»ä¸‹è½½:2022å¹´æ™®é€šé«˜ç­‰å­¦æ ¡æ‹›ç”Ÿå·¥ä½œè§„å®š.docx\n","description":"\n","tags":["å°è¯´"],"title":"\nJava æ­£åˆ™æå–å°è¯´ç« èŠ‚å","uri":"/posts/post-29/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003c!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE \u003c DEBUG \u003c INFO \u003c WARN \u003c ERROR \u003c FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --\u003e \u003c!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡æ¡£å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --\u003e \u003c!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡æ¡£æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚ å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ --\u003e \u003c!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ --\u003e \u003cconfiguration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\"\u003e \u003c!-- contextName:ç”¨æ¥è®¾ç½®ä¸Šä¸‹æ–‡åç§°ï¼Œæ¯ä¸ªloggeréƒ½å…³è”åˆ°loggerä¸Šä¸‹æ–‡ï¼Œé»˜è®¤ä¸Šä¸‹æ–‡åç§°ä¸ºdefaultã€‚ä½†å¯ä»¥ä½¿ç”¨\u003ccontextName\u003eè®¾ç½®æˆå…¶ä»–åå­—ï¼Œç”¨äºåŒºåˆ†ä¸åŒåº”ç”¨ç¨‹åºçš„è®°å½•ã€‚ä¸€æ—¦è®¾ç½®ï¼Œä¸èƒ½ä¿®æ”¹ã€‚--\u003e \u003ccontextName\u003emyApp\u003c/contextName\u003e \u003c!-- \u003cspringProperty scope=\"context\" name=\"logPath\" source=\"logging.path\" defaultValue=\"logs\"/\u003e --\u003e \u003c!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰åï¼Œå¯ä»¥ä½¿â€œ${}â€æ¥ä½¿ç”¨å˜é‡ã€‚ --\u003e \u003cproperty name=\"log.path\" value=\"logs/\" /\u003e \u003c!--0. æ—¥å¿—æ ¼å¼å’Œé¢œè‰²æ¸²æŸ“ --\u003e \u003c!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --\u003e \u003cconversionRule conversionWord=\"clr\" converterClass=\"org.springframework.boot.logging.logback.ColorConverter\" /\u003e \u003cconversionRule conversionWord=\"wex\" converterClass=\"org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\" /\u003e \u003cconversionRule conversionWord=\"wEx\" converterClass=\"org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\" /\u003e \u003c!-- å½©è‰²æ—¥å¿—æ ¼å¼ --\u003e \u003cproperty name=\"CONSOLE_LOG_PATTERN\" value=\"${CONSOLE_LOG_PATTERN:-%clr(%d{yyyy-MM-dd HHğŸ‡²ğŸ‡²ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\" /\u003e \u003c!--1. è¾“å‡ºåˆ°æ§åˆ¶å° --\u003e \u003cappender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"\u003e \u003c!-- æ­¤æ—¥å¿—appenderæ˜¯ä¸ºå¼€å‘ä½¿ç”¨ï¼Œåªé…ç½®æœ€åº•çº§åˆ«ï¼Œæ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çº§åˆ«æ˜¯å¤§äºæˆ–ç­‰äºæ­¤çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ --\u003e \u003cfilter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"\u003e \u003clevel\u003edebug\u003c/level\u003e \u003c/filter\u003e \u003cencoder\u003e \u003cPattern\u003e${CONSOLE_LOG_PATTERN}\u003c/Pattern\u003e \u003c!-- è®¾ç½®å­—ç¬¦é›† --\u003e \u003ccharset\u003eUTF-8\u003c/charset\u003e \u003c/encoder\u003e \u003c/appender\u003e \u003c!--2. è¾“å‡ºåˆ°æ–‡æ¡£ --\u003e \u003c!-- 2.1 levelä¸º DEBUG æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º --\u003e \u003cappender name=\"DEBUG_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"\u003e \u003c!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --\u003e \u003cfile\u003e${log.path}/web_debug.log\u003c/file\u003e \u003c!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼ --\u003e \u003cencoder\u003e \u003cpattern\u003e%d{yyyy-MM-dd HHğŸ‡²ğŸ‡²ss.SSS} [%thread] %-5level %logger{50} - %msg%n\u003c/pattern\u003e \u003ccharset\u003eUTF-8\u003c/charset\u003e \u003c!-- è®¾ç½®å­—ç¬¦é›† --\u003e \u003c/encoder\u003e \u003c!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u003e \u003crollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"\u003e \u003c!-- æ—¥å¿—å½’æ¡£ --\u003e \u003cfileNamePattern\u003e${log.path}/web-debug-%d{yyyy-MM-dd}.%i.log \u003c/fileNamePattern\u003e \u003ctimeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"\u003e \u003cmaxFileSize\u003e100MB\u003c/maxFileSize\u003e \u003c/timeBasedFileNamingAndTriggeringPolicy\u003e \u003c!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --\u003e \u003cmaxHistory\u003e15\u003c/maxHistory\u003e \u003c/rollingPolicy\u003e \u003c!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•debugçº§åˆ«çš„ --\u003e \u003cfilter class=\"ch.qos.logback.classic.filter.LevelFilter\"\u003e \u003clevel\u003edebug\u003c/level\u003e \u003conMatch\u003eACCEPT\u003c/onMatch\u003e \u003conMismatch\u003eDENY\u003c/onMismatch\u003e \u003c/filter\u003e \u003c/appender\u003e \u003c!-- 2.2 levelä¸º INFO æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º --\u003e \u003cappender name=\"INFO_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"\u003e \u003c!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --\u003e \u003cfile\u003e${log.path}/web_info.log\u003c/file\u003e \u003c!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼ --\u003e \u003cencoder\u003e \u003cpattern\u003e%d{yyyy-MM-dd HHğŸ‡²ğŸ‡²ss.SSS} [%thread] %-5level %logger{50} - %msg%n\u003c/pattern\u003e \u003ccharset\u003eUTF-8\u003c/charset\u003e \u003c/encoder\u003e \u003c!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u003e \u003crollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"\u003e \u003c!-- æ¯å¤©æ—¥å¿—å½’æ¡£è·¯å¾„ä»¥åŠæ ¼å¼ --\u003e \u003cfileNamePattern\u003e${log.path}/web-info-%d{yyyy-MM-dd}.%i.log \u003c/fileNamePattern\u003e \u003ctimeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"\u003e \u003cmaxFileSize\u003e100MB\u003c/maxFileSize\u003e \u003c/timeBasedFileNamingAndTriggeringPolicy\u003e \u003c!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --\u003e \u003cmaxHistory\u003e15\u003c/maxHistory\u003e \u003c/rollingPolicy\u003e \u003c!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•infoçº§åˆ«çš„ --\u003e \u003cfilter class=\"ch.qos.logback.classic.filter.LevelFilter\"\u003e \u003clevel\u003einfo\u003c/level\u003e \u003conMatch\u003eACCEPT\u003c/onMatch\u003e \u003conMismatch\u003eDENY\u003c/onMismatch\u003e \u003c/filter\u003e \u003c/appender\u003e \u003c!-- 2.3 levelä¸º WARN æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º --\u003e \u003cappender name=\"WARN_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"\u003e \u003c!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --\u003e \u003cfile\u003e${log.path}/web_warn.log\u003c/file\u003e \u003c!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼ --\u003e \u003cencoder\u003e \u003cpattern\u003e%d{yyyy-MM-dd HHğŸ‡²ğŸ‡²ss.SSS} [%thread] %-5level %logger{50} - %msg%n\u003c/pattern\u003e \u003ccharset\u003eUTF-8\u003c/charset\u003e \u003c!-- æ­¤å¤„è®¾ç½®å­—ç¬¦é›† --\u003e \u003c/encoder\u003e \u003c!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u003e \u003crollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"\u003e \u003cfileNamePattern\u003e${log.path}/web-warn-%d{yyyy-MM-dd}.%i.log \u003c/fileNamePattern\u003e \u003ctimeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"\u003e \u003cmaxFileSize\u003e100MB\u003c/maxFileSize\u003e \u003c/timeBasedFileNamingAndTriggeringPolicy\u003e \u003c!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --\u003e \u003cmaxHistory\u003e15\u003c/maxHistory\u003e \u003c/rollingPolicy\u003e \u003c!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•warnçº§åˆ«çš„ --\u003e \u003cfilter class=\"ch.qos.logback.classic.filter.LevelFilter\"\u003e \u003clevel\u003ewarn\u003c/level\u003e \u003conMatch\u003eACCEPT\u003c/onMatch\u003e \u003conMismatch\u003eDENY\u003c/onMismatch\u003e \u003c/filter\u003e \u003c/appender\u003e \u003c!-- 2.4 levelä¸º ERROR æ—¥å¿—ï¼Œæ—¶é—´æ»šåŠ¨è¾“å‡º --\u003e \u003cappender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"\u003e \u003c!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡æ¡£çš„è·¯å¾„åŠæ–‡æ¡£å --\u003e \u003cfile\u003e${log.path}/web_error.log\u003c/file\u003e \u003c!--æ—¥å¿—æ–‡æ¡£è¾“å‡ºæ ¼å¼ --\u003e \u003cencoder\u003e \u003cpattern\u003e%d{yyyy-MM-dd HHğŸ‡²ğŸ‡²ss.SSS} [%thread] %-5level %logger{50} - %msg%n\u003c/pattern\u003e \u003ccharset\u003eUTF-8\u003c/charset\u003e \u003c!-- æ­¤å¤„è®¾ç½®å­—ç¬¦é›† --\u003e \u003c/encoder\u003e \u003c!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u003e \u003crollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"\u003e \u003cfileNamePattern\u003e${log.path}/web-error-%d{yyyy-MM-dd}.%i.log \u003c/fileNamePattern\u003e \u003ctimeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"\u003e \u003cmaxFileSize\u003e100MB\u003c/maxFileSize\u003e \u003c/timeBasedFileNamingAndTriggeringPolicy\u003e \u003c!--æ—¥å¿—æ–‡æ¡£ä¿ç•™å¤©æ•° --\u003e \u003cmaxHistory\u003e15\u003c/maxHistory\u003e \u003c/rollingPolicy\u003e \u003c!-- æ­¤æ—¥å¿—æ–‡æ¡£åªè®°å½•ERRORçº§åˆ«çš„ --\u003e \u003cfilter class=\"ch.qos.logback.classic.filter.LevelFilter\"\u003e \u003clevel\u003eERROR\u003c/level\u003e \u003conMatch\u003eACCEPT\u003c/onMatch\u003e \u003conMismatch\u003eDENY\u003c/onMismatch\u003e \u003c/filter\u003e \u003c/appender\u003e \u003c!-- \u003clogger\u003eç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«ã€ ä»¥åŠæŒ‡å®š\u003cappender\u003eã€‚\u003clogger\u003eä»…æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œ ä¸€ä¸ªå¯é€‰çš„levelå’Œä¸€ä¸ªå¯é€‰çš„addtivityå±æ€§ã€‚ name:ç”¨æ¥æŒ‡å®šå—æ­¤loggerçº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»ã€‚ level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³ï¼šTRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œ è¿˜æœ‰ä¸€ä¸ªç‰¹ä¿—å€¼INHERITEDæˆ–è€…åŒä¹‰è¯NULLï¼Œä»£è¡¨å¼ºåˆ¶æ‰§è¡Œä¸Šçº§çš„çº§åˆ«ã€‚ å¦‚æœæœªè®¾ç½®æ­¤å±æ€§ï¼Œé‚£ä¹ˆå½“å‰loggerå°†ä¼šç»§æ‰¿ä¸Šçº§çš„çº§åˆ«ã€‚ addtivity:æ˜¯å¦å‘ä¸Šçº§loggerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯trueã€‚ \u003clogger name=\"org.springframework.web\" level=\"info\"/\u003e \u003clogger name=\"org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor\" level=\"INFO\"/\u003e --\u003e \u003c!-- ä½¿ç”¨mybatisçš„æ—¶å€™ï¼Œsqlè¯­å¥æ˜¯debugä¸‹æ‰ä¼šæ‰“å°ï¼Œè€Œè¿™é‡Œæˆ‘ä»¬åªé…ç½®äº†infoï¼Œæ‰€ä»¥æƒ³è¦æŸ¥çœ‹sqlè¯­å¥çš„è¯ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š ç¬¬ä¸€ç§æŠŠ\u003croot level=\"info\"\u003eæ”¹æˆ\u003croot level=\"DEBUG\"\u003eè¿™æ ·å°±ä¼šæ‰“å°sqlï¼Œä¸è¿‡è¿™æ ·æ—¥å¿—é‚£è¾¹ä¼šå‡ºç°å¾ˆå¤šå…¶ä»–æ¶ˆæ¯ ç¬¬äºŒç§å°±æ˜¯å•ç‹¬ç»™daoä¸‹ç›®å½•é…ç½®debugæ¨¡å¼ï¼Œä»£ç å¦‚ä¸‹ï¼Œè¿™æ ·é…ç½®sqlè¯­å¥ä¼šæ‰“å°ï¼Œå…¶ä»–è¿˜æ˜¯æ­£å¸¸infoçº§åˆ«ï¼š ã€logging.level.org.mybatis=debug logging.level.dao=debugã€‘ --\u003e \u003c!-- rootèŠ‚ç‚¹æ˜¯å¿…é€‰èŠ‚ç‚¹ï¼Œç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œåªæœ‰ä¸€ä¸ªlevelå±æ€§ level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³ï¼šTRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œ ä¸èƒ½è®¾ç½®ä¸ºINHERITEDæˆ–è€…åŒä¹‰è¯NULLã€‚é»˜è®¤æ˜¯DEBUG å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ªappenderå°†ä¼šæ·»åŠ åˆ°è¿™ä¸ªloggerã€‚ --\u003e \u003c!-- å¸¸ç”¨loggeré…ç½® --\u003e \u003c!-- show parameters for hibernate sql ä¸“ä¸º Hibernate å®šåˆ¶ --\u003e \u003clogger name=\"org.hibernate.type.descriptor.sql.BasicBinder\" level=\"TRACE\" /\u003e \u003clogger name=\"org.hibernate.type.descriptor.sql.BasicExtractor\" level=\"DEBUG\" /\u003e \u003clogger name=\"org.hibernate.SQL\" level=\"DEBUG\" /\u003e \u003clogger name=\"org.hibernate.engine.QueryParameters\" level=\"DEBUG\" /\u003e \u003clogger name=\"org.hibernate.engine.query.HQLQueryPlan\" level=\"DEBUG\" /\u003e \u003c!--myibatis log configure--\u003e \u003clogger name=\"com.apache.ibatis\" level=\"TRACE\"/\u003e \u003clogger name=\"java.sql.Connection\" level=\"DEBUG\"/\u003e \u003clogger name=\"java.sql.Statement\" level=\"DEBUG\"/\u003e \u003clogger name=\"java.sql.PreparedStatement\" level=\"DEBUG\"/\u003e \u003c!--æ‰“å°sqlé…ç½®--\u003e \u003clogger name=\"cn.maruifu.myAppName.module.dao\" level=\"DEBUG\"/\u003e \u003c!-- 4. æœ€ç»ˆçš„ç­–ç•¥ --\u003e \u003c!-- 4.1 å¼€å‘ç¯å¢ƒ:æ‰“å°æ§åˆ¶å° --\u003e \u003cspringProfile name=\"dev\"\u003e \u003croot level=\"info\"\u003e \u003cappender-ref ref=\"CONSOLE\" /\u003e \u003c/root\u003e \u003c/springProfile\u003e \u003c!-- 4.2 ç”Ÿäº§ç¯å¢ƒ:è¾“å‡ºåˆ°æ–‡æ¡£ --\u003e \u003cspringProfile name=\"prod\"\u003e \u003croot level=\"info\"\u003e \u003cappender-ref ref=\"CONSOLE\" /\u003e \u003cappender-ref ref=\"DEBUG_FILE\" /\u003e \u003cappender-ref ref=\"INFO_FILE\" /\u003e \u003cappender-ref ref=\"WARN_FILE\" /\u003e \u003cappender-ref ref=\"ERROR_FILE\" /\u003e \u003c/root\u003e \u003c/springProfile\u003e \u003c/configuration\u003e ","description":"\n","tags":[],"title":"\nlogback é…ç½®æ–‡ä»¶","uri":"/posts/post-248/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"æˆ‘ä»¬èŠäº†æ€§èƒ½ä¼˜åŒ–çš„å…­å¤§åŸåˆ™ã€‚åŸåˆ™æœ‰äº†ï¼Œä½†æ˜¯åœ¨é’ˆå¯¹å®é™…çš„æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œç”¨ä»€ä¹ˆæ ·çš„è§£å†³æ–¹æ¡ˆæ‰å¯ä»¥æå‡æ€§èƒ½å‘¢ï¼Ÿè¿™å°±éœ€è¦ä½ äº†è§£å…·ä½“çš„ä¼˜åŒ–ç­–ç•¥äº†ã€‚\nç°å®ä¸­çš„æ€§èƒ½é—®é¢˜å’Œå…·ä½“é¢†åŸŸåƒå·®ä¸‡åˆ«ï¼Œæˆ‘ä¹Ÿä¸å¯èƒ½é¢é¢ä¿±åˆ°ã€‚ä½†æ˜¯ä¸ºäº†å¸®åŠ©ä½ ç†è§£ï¼Œæˆ‘æ€»ç»“äº†åå¤§å¸¸ç”¨çš„ä¼˜åŒ–ç­–ç•¥ã€‚\næˆ‘å°†è¿™åå¤§ç­–ç•¥åˆ†æˆäº”ä¸ªç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«å¯¹åº”ä¸¤ä¸ªç›¸å…³ç­–ç•¥ï¼Œå¸®åŠ©ä½ æŒæ¡ã€‚è¿™äº”ä¸ªç±»åˆ«æ˜¯ï¼šæ—¶ç©ºç›¸äº’è½¬æ¢ã€å¹¶è¡Œ / å¼‚æ­¥æ“ä½œã€é¢„å…ˆ / å»¶åå¤„ç†ã€ç¼“å­˜ / æ‰¹é‡åˆå¹¶ã€ç®—æ³•è®¾è®¡å’Œæ•°æ®ç»“æ„ã€‚æˆ‘ä»¬ç°åœ¨ä¸€ä¸ªä¸ªæ¥è®²ã€‚\nä¸€ã€æ—¶ç©ºè½¬æ¢ ç¬¬ä¸€ä¸ªç­–ç•¥ç±»åˆ«æ˜¯â€œæ—¶ç©ºè½¬æ¢â€ã€‚æˆ‘ä»¬çœ‹ç§‘å¹»ç”µå½±å’Œå°è¯´çš„æ—¶å€™ï¼Œç»å¸¸ä¼šçœ‹åˆ°æ—¶ç©ºè½¬æ¢è¿™ä¸ªé¢˜æã€‚æ€§èƒ½ä¼˜åŒ–é‡Œé¢æœ‰ä¸¤ä¸ªç­–ç•¥æ°å¥½ç»„æˆäº†è¿™ä¸ªç±»åˆ«ï¼ŒåŒ…æ‹¬â€œç”¨æ—¶é—´æ¢ç©ºé—´â€å’Œâ€œç”¨ç©ºé—´æ¢ æ—¶é—´â€è¿™ä¸¤ä¸ªçœ‹ä¼¼äº’ç›¸å¯¹ç«‹çš„ç­–ç•¥ã€‚\n1. ç”¨æ—¶é—´æ¢ç©ºé—´\nç”¨æ—¶é—´æ¢ç©ºé—´çš„ç­–ç•¥ï¼Œå‡ºå‘ç‚¹æ˜¯å†…å­˜å’Œå­˜å‚¨è¿™æ ·çš„â€œç©ºé—´â€èµ„æºï¼Œæœ‰æ—¶ä¼šæˆä¸ºæœ€ç¨€ç¼ºçš„èµ„æºï¼Œæ‰€ä»¥éœ€è¦å°½é‡å‡å°‘å ç”¨çš„ç©ºé—´ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªç³»ç»Ÿçš„æœ€å¤§æ€§èƒ½ç“¶é¢ˆå¦‚æœæ˜¯å†…å­˜ä½¿ç”¨é‡ï¼Œé‚£ä¹ˆå‡å°‘å†…å­˜çš„ä½¿ç”¨å°±æ˜¯æœ€é‡è¦çš„æ€§èƒ½ä¼˜åŒ–ã€‚\nè¿™ä¸ªç­–ç•¥å…·ä½“çš„æ“ä½œæ–¹æ³•æœ‰å‡ ç§ï¼š\næ”¹å˜åº”ç”¨ç¨‹åºæœ¬èº«çš„æ•°æ®ç»“æ„æˆ–è€…æ•°æ®æ ¼å¼ï¼Œå‡å°‘éœ€è¦å­˜å‚¨çš„æ•°æ®çš„å¤§å°ï¼› æƒ³æ–¹è®¾æ³•å‹ç¼©å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ¯”å¦‚é‡‡ç”¨æŸç§å‹ç¼©ç®—æ³•ï¼ŒçœŸæ­£ä½¿ç”¨æ—¶å†è§£å‹ç¼©ï¼› æŠŠä¸€äº›å†…å­˜æ•°æ®ï¼Œå­˜æ”¾åˆ°å¤–éƒ¨çš„ã€æ›´åŠ ä¾¿å®œçš„å­˜å‚¨ç³»ç»Ÿé‡Œé¢ï¼Œåˆ°éœ€è¦æ—¶å†å–å›æ¥ã€‚ è¿™äº›èŠ‚çœå†…å­˜ç©ºé—´çš„æ–¹æ³•ï¼Œä¸€èˆ¬éƒ½éœ€è¦ä»˜å‡ºæ—¶é—´çš„ä»£ä»·ã€‚\né™¤äº†å†…å­˜ï¼Œè¿˜æœ‰ä¸€ç§å¸¸è§çš„åœºæ™¯æ˜¯ï¼Œé™ä½æ•°æ®çš„å¤§å°æ¥æ–¹ä¾¿ç½‘ç»œä¼ è¾“å’Œå¤–éƒ¨å­˜å‚¨ã€‚å‹ç¼©çš„æ–¹æ³•å’Œç®—æ³•æœ‰å¾ˆå¤šç§ï¼Œ æ¯”å¦‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„ ZStandardï¼ˆZSTDï¼‰å’Œ LZ4ã€‚è¿™äº›ç®—æ³•ä¹‹é—´æœ‰ç©ºé—´å’Œæ—¶é—´çš„å–èˆã€‚\nè¡¡é‡ä»»ä½•å‹ç¼©ç®—æ³•ï¼ŒåŸºæœ¬ä¸Šçœ‹ä¸‰ä¸ªæŒ‡æ ‡ï¼šå‹ç¼©æ¯”ä¾‹ã€å‹ç¼©é€Ÿåº¦ä»¥åŠä½¿ç”¨å†…å­˜ã€‚\nå¦‚æœç³»ç»Ÿçš„ç“¶é¢ˆåœ¨ç½‘ç»œä¼ è¾“é€Ÿåº¦æˆ–è€…å­˜å‚¨ç©ºé—´å¤§å°ä¸Šï¼Œé‚£å°±å°½é‡é‡‡å–é«˜å‹ç¼©æ¯”çš„ç®—æ³•ï¼Œè¿™æ ·ç”¨æ—¶é—´æ¥æ¢ç©ºé—´ï¼Œå°±èƒ½å¤ŸèŠ‚çœæ—¶é—´æˆ–è€…å…¶ä»–æ–¹é¢çš„æˆæœ¬ã€‚\n2. ç”¨ç©ºé—´æ¢æ—¶é—´\nâ€œç”¨ç©ºé—´æ¢æ—¶é—´â€å°±æ˜¯å¯¹â€œç”¨æ—¶é—´æ¢ç©ºé—´â€ç­–ç•¥åå…¶é“è€Œè¡Œä¹‹ã€‚æœ‰äº›åœºæ™¯ä¸‹ï¼Œæ—¶é—´å’Œé€Ÿåº¦æ›´åŠ é‡è¦ï¼Œä½†æ˜¯ç©ºé—´å°šæœ‰å¯Œä½™ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨ç©ºé—´æ¥æ¢æ—¶é—´ã€‚\nè¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬åé¢è¿˜ä¼šè®²ä¸€æ¡å…³äºä½¿ç”¨ç¼“å­˜çš„ç­–ç•¥ã€‚è™½ç„¶ç¼“å­˜çš„ç­–ç•¥ç†è®ºä¸Šä¹Ÿæ˜¯ä¸€ç§â€œç©ºé—´æ¢æ—¶é—´â€çš„æ–¹å¼ï¼Œä½†æˆ‘ä»¬åœ¨è¿™é‡ŒæŠŠå®ƒåˆ†å¼€æ¥è®²ï¼Œè¿™æ˜¯å› ä¸ºç¼“å­˜ç­–ç•¥çš„â€œç©ºé—´â€å®šä¹‰ä¸ä¸€èˆ¬çš„â€œç©ºé—´æ¢æ—¶é—´â€ä¸åŒã€‚ä¸€èˆ¬æ¥è®²ï¼Œâ€œç¼“å­˜â€ä½¿ç”¨çš„ç©ºé—´ï¼Œå’ŒåŸæ¥çš„ç©ºé—´ä¸åœ¨åŒä¸€ä¸ªå±‚æ¬¡ä¸Šï¼Œæ·»åŠ çš„ç¼“å­˜å¾€å¾€æ¯”åŸæ¥çš„ç©ºé—´é«˜å‡ºä¸€ä¸ªæ¡£æ¬¡ã€‚è€Œæˆ‘ä»¬è¿™é‡Œâ€œç©ºé—´æ¢æ—¶é—´â€çš„ç­–ç•¥ï¼Œé‡Œé¢çš„â€œç©ºé—´â€æ˜¯å’ŒåŸæ¥çš„ç©ºé—´ç›¸ä¼¼çš„ç©ºé—´ã€‚\näº’è”ç½‘çš„æœåŠ¡å¾€å¾€è§„æ¨¡å¾ˆå¤§ï¼Œæ¯”å¦‚å…¨å›½çš„æœåŠ¡ç”šè‡³æ˜¯å…¨çƒçš„æœåŠ¡ã€‚ç”¨æˆ·åˆ†å¸ƒåœ¨å„åœ°ï¼Œå®ƒä»¬å¯¹è®¿é—®æ—¶é—´çš„è¦æ±‚å¾ˆé«˜ï¼Œè¿™å°±è¦æ±‚è¢«è®¿é—®çš„æ•°æ®å’ŒæœåŠ¡ï¼Œè¦å°½é‡æ”¾åœ¨ç¦»ä»–ä»¬å¾ˆè¿‘çš„åœ°æ–¹ã€‚â€œç©ºé—´æ¢æ—¶é—´â€å°±æ˜¯å¯¹æ•°æ®å’ŒæœåŠ¡è¿›è¡Œå¤šä»½æ‹·è´ï¼Œå°½å¯èƒ½åœ°å®Œç¾è¦†ç›–å¤§å¤šæ•°çš„ç”¨æˆ·ã€‚æˆ‘ä»¬å‰é¢è®²è¿‡çš„ CDN å†…å®¹åˆ†å‘ç½‘ç»œæŠ€æœ¯å°±å¯ä»¥å½’ç±»äºæ­¤ã€‚\nå…¶å®æˆ‘ä»¬éƒ¨ç½²çš„ä»»ä½•å¤§è§„æ¨¡ç³»ç»Ÿï¼Œéƒ½æˆ–å¤šæˆ–å°‘åœ°é‡‡ç”¨äº†ç”¨ç©ºé—´æ¢æ—¶é—´çš„ç­–ç•¥ï¼Œæ¯”å¦‚åœ¨é›†ç¾¤å’ŒæœåŠ¡å™¨é—´è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå°±æ˜¯åŒæ—¶ç”¨å¾ˆå¤šä¸ªæœåŠ¡å™¨ï¼ˆç©ºé—´ï¼‰æ¥æ¢å–å»¶è¿Ÿçš„å‡å°‘ï¼ˆæ—¶é—´ï¼‰ã€‚\näºŒã€é¢„å…ˆå’Œå»¶åå¤„ç† ä¼˜åŒ–ç­–ç•¥çš„ç¬¬äºŒå¤§ç±»æ˜¯â€œé¢„å…ˆå’Œå»¶åå¤„ç†â€ï¼Œè¿™ä¸€ç±»åˆ«ä¹Ÿæœ‰ä¸¤ä¸ªäº’ç›¸å¯¹ç«‹çš„ç­–ç•¥ã€‚ä¸€ä¸ªæ˜¯é¢„å…ˆæˆ–è€…æå‰å¤„ç†ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å»¶åæˆ–è€…æƒ°æ€§å¤„ç†ã€‚\n3. é¢„å…ˆ / æå‰å¤„ç†\né¢„å…ˆ / æå‰å¤„ç†ç­–ç•¥åŒæ ·ä¹Ÿè¡¨ç°åœ¨å¾ˆå¤šé¢†åŸŸï¼Œæ¯”å¦‚ç½‘ç«™é¡µé¢èµ„æºçš„æå‰åŠ è½½ã€‚Web æ ‡å‡†è§„å®šäº†è‡³å°‘ä¸¤ç§æå‰åŠ è½½çš„æ–¹å¼ï¼špreload å’Œ prefetchï¼Œåˆ†åˆ«ç”¨ä¸åŒçš„ä¼˜å…ˆçº§æ¥åŠ è½½èµ„æºï¼Œå¯ä»¥æ˜¾è‘—åœ°æå‡é¡µé¢ä¸‹è½½æ€§èƒ½ã€‚\nå¾ˆå¤šæ–‡ä»¶ç³»ç»Ÿæœ‰é¢„è¯»çš„åŠŸèƒ½ï¼Œå°±æ˜¯æå‰ä»ç£ç›˜è¯»å–é¢å¤–çš„æ•°æ®ï¼Œä¸ºä¸‹æ¬¡ä¸Šå±‚åº”ç”¨ç¨‹åºè¯»æ•°æ®åšå‡†å¤‡ã€‚è¿™ä¸ªåŠŸèƒ½å¯¹é¡ºåºè¯»å–éå¸¸æœ‰æ•ˆï¼Œå¯ä»¥æ˜æ˜¾åœ°å‡å°‘ç£ç›˜è¯·æ±‚çš„æ•°é‡ï¼Œä»è€Œæå‡è¯»æ•°æ®çš„æ€§èƒ½ã€‚\nCPU å’Œå†…å­˜ä¹Ÿæœ‰ç›¸åº”çš„é¢„å–æ“ä½œï¼Œå°±æ˜¯å°†å†…å­˜ä¸­çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Œæå‰å­˜æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œä»è€ŒåŠ å¿«å¤„ç†å™¨æ‰§è¡Œé€Ÿåº¦ã€‚ç¼“å­˜é¢„å–å¯ä»¥é€šè¿‡ç¡¬ä»¶æˆ–è€…è½¯ä»¶å®ç°ï¼Œä¹Ÿå°±æ˜¯åˆ†ä¸ºç¡¬ä»¶é¢„å–å’Œè½¯ä»¶é¢„å–ä¸¤ç±»ã€‚\nç¡¬ä»¶é¢„å–æ˜¯é€šè¿‡å¤„ç†å™¨ä¸­çš„ç¡¬ä»¶æ¥å®ç°çš„ã€‚è¯¥ç¡¬ä»¶ä¼šä¸€ç›´ç›‘æ§æ­£åœ¨æ‰§è¡Œç¨‹åºä¸­è¯·æ±‚çš„æŒ‡ä»¤æˆ–æ•°æ®ï¼Œå¹¶ä¸”æ ¹æ®æ—¢å®šè§„åˆ™ï¼Œè¯†åˆ«ä¸‹ä¸€ä¸ªç¨‹åºéœ€è¦çš„æ•°æ®æˆ–æŒ‡ä»¤å¹¶é¢„å–ã€‚\nè½¯ä»¶é¢„å–æ˜¯åœ¨ç¨‹åºç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸»åŠ¨æ’å…¥é¢„å–æŒ‡ä»¤ï¼ˆprefetechï¼‰ï¼Œè¿™ä¸ªé¢„å–æŒ‡ä»¤å¯ä»¥æ˜¯ç¼–è¯‘å™¨è‡ªå·±åŠ çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æˆ‘ä»¬åŠ çš„ä»£ç ã€‚è¿™æ ·åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåœ¨æŒ‡å®šä½ç½®å°±ä¼šè¿›è¡Œé¢„å–çš„æ“ä½œã€‚\n4. å»¶å / æƒ°æ€§å¤„ç†\nå»¶å / æƒ°æ€§å¤„ç†ç­–ç•¥å’Œå‰é¢è¯´çš„é¢„å…ˆ / æå‰å¤„ç†æ­£å¥½ç›¸åã€‚å°±æ˜¯å°½é‡å°†æ“ä½œï¼ˆæ¯”å¦‚è®¡ç®—ï¼‰ï¼Œæ¨è¿Ÿåˆ°å¿…éœ€æ‰§è¡Œçš„æ—¶åˆ»ï¼Œè¿™æ ·å¾ˆå¯èƒ½é¿å…å¤šä½™çš„æ“ä½œï¼Œç”šè‡³æ ¹æœ¬ä¸ç”¨æ“ä½œã€‚\nè¿ç”¨è¿™ä¸€ç­–ç•¥æœ€æœ‰åçš„ä¾‹å­ï¼Œå°±æ˜¯ COWï¼ˆCopy On Writeï¼Œå†™æ—¶å¤åˆ¶ï¼‰ã€‚å‡è®¾å¤šä¸ªçº¿ç¨‹éƒ½æƒ³æ“ä½œä¸€ä»½æ•°æ®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¯ä»¥è‡ªå·±æ‹·è´ä¸€ä»½ï¼Œæ”¾åˆ°è‡ªå·±çš„ç©ºé—´é‡Œé¢ã€‚ä½†æ˜¯æ‹·è´çš„æ“ä½œå¾ˆè´¹æ—¶é—´ã€‚ç³»ç»Ÿå¦‚æœé‡‡ç”¨æƒ°æ€§å¤„ç†ï¼Œå°±ä¼šå°†æ‹·è´çš„æ“ä½œæ¨è¿Ÿã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹å¯¹è¿™ä»½æ•°æ®åªæœ‰è¯»çš„è¯·æ±‚ï¼Œé‚£ä¹ˆåŒä¸€ä¸ªæ•°æ®èµ„æºæ˜¯å¯ä»¥å…±äº«çš„ï¼Œå› ä¸ºâ€œè¯»â€çš„æ“ä½œä¸ä¼šæ”¹å˜è¿™ä»½æ•°æ®ã€‚å½“æŸä¸ªçº¿ç¨‹éœ€è¦ä¿®æ”¹è¿™ä¸€æ•°æ®æ—¶ï¼ˆå†™æ“ä½œï¼‰ï¼Œç³»ç»Ÿå°±å°†èµ„æºæ‹·è´ä¸€ä»½ç»™è¯¥çº¿ç¨‹ä½¿ç”¨ï¼Œå…è®¸æ”¹å†™ï¼Œè¿™æ ·å°±ä¸ä¼šå½±å“åˆ«çš„çº¿ç¨‹ã€‚\nCOW æœ€å¹¿ä¸ºäººçŸ¥çš„åº”ç”¨åœºæ™¯æœ‰ä¸¤ä¸ªã€‚ä¸€ä¸ªæ˜¯ Unix ç³»ç»Ÿ fork è°ƒç”¨äº§ç”Ÿçš„å­è¿›ç¨‹å…±äº«çˆ¶è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œåªæœ‰åˆ°æŸä¸ªå­è¿›ç¨‹éœ€è¦è¿›è¡Œå†™æ“ä½œæ‰ä¼šæ‹·è´ä¸€ä»½ã€‚å¦ä¸€ä¸ªæ˜¯é«˜çº§è¯­è¨€çš„ç±»å’Œ\nå®¹å™¨ï¼Œæ¯”å¦‚ Java ä¸­çš„ CopyOnWrite å®¹å™¨ï¼Œç”¨äºå¤šçº¿ç¨‹å¹¶å‘æƒ…å†µä¸‹çš„é«˜æ•ˆè®¿é—®ã€‚C++ é‡Œé¢ç»å¸¸ä½¿ç”¨çš„ STL æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„å¾ˆå¤šç±»ï¼Œæ¯”å¦‚ string ç±»ï¼Œä¹Ÿæ˜¯å…·æœ‰å†™æ—¶æ‰æ‹·è´æŠ€æœ¯çš„ç±»ã€‚\nä¸‰ã€å¹¶è¡Œ / å¼‚æ­¥æ“ä½œ ä¼˜åŒ–ç­–ç•¥çš„ç¬¬ä¸‰å¤§ç±»æ˜¯â€œå¹¶è¡Œ / å¼‚æ­¥æ“ä½œâ€ã€‚å¹¶è¡Œå’Œå¼‚æ­¥ä¸¤ç§æ“ä½œè™½ç„¶çœ‹èµ·æ¥å¾ˆä¸ä¸€æ ·ï¼Œå…¶å®æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œå°±æ˜¯éƒ½æŠŠä¸€æ¡æµæ°´çº¿å’Œå¤„ç†è¿‡ç¨‹åˆ†æˆäº†å‡ æ¡ï¼Œä¸ç®¡æ˜¯ç‰©ç†ä¸Šåˆ†è¿˜æ˜¯é€»è¾‘ä¸Šåˆ†ã€‚\n5. å¹¶è¡Œæ“ä½œ\nå¹¶è¡Œæ“ä½œæ˜¯ä¸€ç§ç‰©ç†ä¸ŠæŠŠä¸€æ¡æµæ°´çº¿åˆ†æˆå¥½å‡ æ¡çš„ç­–ç•¥ã€‚ç›´è§‚ä¸Šè¯´ï¼Œä¸€ä¸ªäººå¹²ä¸å®Œçš„æ´»ï¼Œé‚£å°±å¤šæ‰¾å‡ ä¸ªäººæ¥å¹²ã€‚å¹¶è¡Œæ“ä½œæ—¢å¢åŠ äº†ç³»ç»Ÿçš„ååé‡ï¼Œåˆå‡å°‘äº†ç”¨æˆ·çš„å¹³å‡ç­‰å¾…æ—¶é—´ã€‚æ¯”å¦‚ç°ä»£çš„ CPU éƒ½æœ‰å¾ˆå¤šæ ¸ï¼Œæ¯ä¸ªæ ¸ä¸Šéƒ½å¯ä»¥ç‹¬ç«‹åœ°è¿è¡Œçº¿ç¨‹ï¼Œè¿™å°±æ˜¯å¹¶è¡Œæ“ä½œã€‚\nå¹¶è¡Œæ“ä½œéœ€è¦æˆ‘ä»¬çš„ç¨‹åºæœ‰æ‰©å±•æ€§ï¼Œä¸èƒ½æ‰©å±•çš„ç¨‹åºï¼Œå°±æ— æ³•è¿›è¡Œå¹¶è¡Œå¤„ç†ã€‚è¿™é‡Œçš„å¹¶è¡Œæ¦‚å¿µæœ‰ä¸åŒçš„ç²’åº¦ï¼Œæ¯”å¦‚æ˜¯åœ¨æœåŠ¡å™¨çš„ç²’åº¦ï¼ˆæ‰€è°“çš„æ¨ªå‘æ‰©å±•ï¼‰ï¼Œè¿˜æ˜¯åœ¨å¤šçº¿ç¨‹çš„ç²’åº¦ï¼Œç”šè‡³æ˜¯åœ¨æŒ‡ä»¤çº§åˆ«çš„ç²’åº¦ã€‚\nç»å¤§å¤šæ•°äº’è”ç½‘æœåŠ¡å™¨ï¼Œè¦ä¹ˆä½¿ç”¨å¤šè¿›ç¨‹ï¼Œè¦ä¹ˆä½¿ç”¨å¤šçº¿ç¨‹æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼Œä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸ CPUã€‚å¦å¤–ä¸€ç§æƒ…å†µå°±æ˜¯åœ¨æœ‰ IO é˜»å¡çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯éå¸¸é€‚åˆä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œæ“ä½œçš„ï¼Œå› ä¸ºè¿™ç§æƒ…å†µ CPU åŸºæœ¬ä¸Šæ˜¯ç©ºé—²çŠ¶æ€ï¼Œå¤šçº¿ç¨‹å¯ä»¥è®© CPU å¤šå¹²ç‚¹æ´»ã€‚\n6. å¼‚æ­¥æ“ä½œ\nå¼‚æ­¥æ“ä½œè¿™ä¸€ç­–ç•¥å’Œå¹¶è¡Œæ“ä½œä¸åŒï¼Œè¿™æ˜¯ä¸€ç§é€»è¾‘ä¸ŠæŠŠä¸€æ¡æµæ°´çº¿åˆ†æˆå‡ æ¡çš„ç­–ç•¥ã€‚\næˆ‘ä»¬é¦–å…ˆåœ¨ç¼–ç¨‹çš„é¢†åŸŸæ¾„æ¸…ä¸€ä¸‹æ¦‚å¿µï¼šåŒæ­¥å’Œå¼‚æ­¥ã€‚åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«åœ¨äºä¸€ä¸ªå‡½æ•°è°ƒç”¨ä¹‹åï¼Œæ˜¯å¦ç›´æ¥è¿”å›ç»“æœã€‚å¦‚æœå‡½æ•°æŒ‚èµ·ï¼Œç›´åˆ°è·å¾—ç»“æœæ‰è¿”å›ï¼Œè¿™æ˜¯åŒæ­¥ï¼›å¦‚æœå‡½æ•°é©¬ä¸Šè¿”å›ï¼Œç­‰æ•°æ®åˆ°è¾¾å†é€šçŸ¥å‡½æ•°ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å¼‚æ­¥ã€‚\næˆ‘ä»¬çŸ¥é“ Unix ä¸‹çš„æ–‡ä»¶æ“ä½œï¼Œæ˜¯æœ‰ block å’Œ non-block çš„æ–¹å¼çš„ï¼Œæœ‰äº›ç³»ç»Ÿè°ƒç”¨ä¹Ÿæ˜¯block å¼çš„ï¼Œå¦‚ï¼šSocket ä¸‹çš„ select ç­‰ã€‚å¦‚æœæˆ‘ä»¬çš„ç¨‹åºä¸€ç›´æ˜¯åŒæ­¥æ“ä½œï¼Œé‚£ä¹ˆå°±ä¼šéå¸¸å½±å“æ€§èƒ½ã€‚é‡‡ç”¨å¼‚æ­¥æ“ä½œçš„è¯ï¼Œè™½ç„¶ç¨å¾®å¢åŠ ä¸€ç‚¹ç¨‹åºçš„å¤æ‚åº¦ï¼Œä½†ä¼šè®©æ€§èƒ½çš„ååç‡æœ‰å¾ˆå¤§æå‡ã€‚\nç°ä»£çš„è¯­è¨€å¾€å¾€å¯¹å¼‚æ­¥æ“ä½œæœ‰æ¯”è¾ƒå¥½çš„æ”¯æŒï¼Œä½¿å¾—å¼‚æ­¥ç¼–ç¨‹å˜å¾—æ›´åŠ ç®€å•ï¼Œå¯è¯»æ€§ä¹Ÿæ›´å¥½ã€‚\nå››ã€ç¼“å­˜ / æ‰¹é‡åˆå¹¶ â€œç¼“å­˜ / æ‰¹é‡åˆå¹¶â€æ˜¯ä¼˜åŒ–ç­–ç•¥ä¸­çš„ç¬¬å››å¤§ç±»ã€‚ç¼“å­˜å’Œæ‰¹é‡åˆå¹¶è¿™ä¸¤ä¸ªç­–ç•¥ï¼Œæœ‰äº›åœºæ™¯ä¸‹ä¼šåŒæ—¶èµ·ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·ã€‚\n7. ç¼“å­˜æ•°æ®\nç¼“å­˜çš„æœ¬è´¨æ˜¯åŠ é€Ÿè®¿é—®ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨å¾—éå¸¸æ™®éçš„ç­–ç•¥ï¼Œå‡ ä¹ä½“ç°åœ¨è®¡ç®—æœºç³»ç»Ÿé‡Œé¢æ¯ä¸€ä¸ªæ¨¡å—å’Œé¢†åŸŸï¼ŒCPUã€å†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿã€å­˜å‚¨ç³»ç»Ÿã€å†…å®¹åˆ†å¸ƒã€æ•°æ®åº“ç­‰ç­‰ï¼Œéƒ½ä¼šéµå¾ªè¿™æ ·çš„ç­–ç•¥ã€‚\næˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„åº”è¯¥å°±æ˜¯ CPU çš„å„çº§ç¼“å­˜äº†ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿã€å­˜å‚¨ç³»ç»Ÿå’Œæ•°æ®åº“ç³»ç»Ÿé‡Œé¢ï¼Œä¹Ÿæœ‰å¿«é€Ÿç¼“å­˜æ¥å­˜å‚¨ç»å¸¸è®¿é—®çš„æ•°æ®ï¼Œç›®çš„æ˜¯å°½é‡æé«˜ç¼“å­˜å‘½ä¸­ç‡ï¼Œä»è€Œé¿å…è®¿é—®æ¯”è¾ƒæ…¢çš„å­˜å‚¨ä»‹è´¨ã€‚\nå¯¹äºä¸€ä¸ªåŸºäº Web çš„åº”ç”¨æœåŠ¡ï¼Œå‰ç«¯ä¼šæœ‰æµè§ˆå™¨ç¼“å­˜ï¼Œæœ‰ CDN å­˜æ”¾åœ¨è¾¹ç¼˜æœåŠ¡å™¨ä¸Šï¼Œæœ‰åå‘ä»£ç†æä¾›çš„é™æ€å†…å®¹ç¼“å­˜ï¼›åç«¯åˆ™è¿˜ä¼šæœ‰æœåŠ¡å™¨æœ¬åœ°ç¼“å­˜ã€‚\nç¨‹åºè®¾è®¡ä¸­ï¼Œå¯¹äºå¯èƒ½é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œä¸”åˆ›å»ºé”€æ¯ä»£ä»·å¾ˆå¤§çš„å¯¹è±¡ï¼ˆæ¯”å¦‚å¥—æ¥å­—å’Œçº¿ç¨‹ï¼‰ï¼Œä¹Ÿå¯ä»¥ç¼“å­˜ï¼Œå¯¹åº”çš„ç¼“å­˜å½¢å¼ï¼Œå°±æ˜¯è¿æ¥æ± å’Œçº¿ç¨‹æ± ç­‰ã€‚\nå¯¹äºæ¶ˆè€—è¾ƒå¤§çš„è®¡ç®—ï¼Œä¹Ÿå¯ä»¥å°†è®¡ç®—ç»“æœç¼“å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥è¯»å–ç»“æœã€‚æ¯”å¦‚å¯¹é€’å½’ä»£ç çš„ä¸€ä¸ªæœ‰æ•ˆä¼˜åŒ–æ‰‹æ®µï¼Œå°±æ˜¯ç¼“å­˜ä¸­é—´ç»“æœã€‚\n8. æ‰¹é‡åˆå¹¶å¤„ç†\nåœ¨æœ‰ IOï¼ˆæ¯”å¦‚ç½‘ç»œ IO å’Œç£ç›˜ IOï¼‰çš„æ—¶å€™ï¼Œåˆå¹¶æ“ä½œå’Œæ‰¹é‡æ“ä½œå¾€å¾€èƒ½æå‡ååé‡ï¼Œæé«˜æ€§èƒ½ã€‚\næˆ‘ä»¬æœ€å¸¸è§çš„æ˜¯æ‰¹é‡ IO è¯»å†™ã€‚å°±æ˜¯åœ¨æœ‰å¤šæ¬¡ IO çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ƒä»¬åˆå¹¶æˆä¸€æ¬¡è¯»å†™æ•°æ®ã€‚è¿™æ ·å¯ä»¥å‡å°‘è¯»å†™æ—¶é—´å’Œåè®®è´Ÿæ‹…ã€‚æ¯”å¦‚ï¼ŒGFS å†™æ–‡ä»¶çš„æ—¶å€™ï¼Œå°½é‡æ‰¹é‡å†™ï¼Œä»¥å‡å°‘IO å¼€é”€ã€‚\nå¯¹æ•°æ®åº“çš„è¯»å†™æ“ä½œï¼Œä¹Ÿå¯ä»¥å°½é‡åˆå¹¶ã€‚æ¯”å¦‚ï¼Œå¯¹é”®å€¼æ•°æ®åº“çš„æŸ¥è¯¢ï¼Œæœ€å¥½ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªé”®ï¼Œè€Œä¸è¦åˆ†æˆå¤šæ¬¡ã€‚\næ¶‰åŠåˆ°ç½‘ç»œè¯·æ±‚çš„æ—¶å€™ï¼Œç½‘ç»œä¼ è¾“çš„æ—¶é—´å¯èƒ½è¿œå¤§äºè¯·æ±‚çš„å¤„ç†æ—¶é—´ï¼Œå› æ­¤åˆå¹¶ç½‘ç»œè¯·æ±‚ä¹Ÿå¾ˆæœ‰å¿…è¦ã€‚ä¸Šå±‚åè®®å‘¢ï¼Œç«¯åˆ°ç«¯å¯¹è¯æ¬¡æ•°å°½é‡ä¸è¦å¤ªé¢‘ç¹ï¼ˆChattyï¼‰ï¼Œå¦åˆ™çš„è¯ï¼Œæ€»çš„åº”ç”¨å±‚ååé‡ä¸ä¼šå¾ˆé«˜ã€‚\näº”ã€æ›´å…ˆè¿›ç®—æ³•å’Œæ•°æ®ç»“æ„ ä¼˜åŒ–ç­–ç•¥ä¸­çš„æœ€åä¸€ä¸ªå¤§ç±»å°±æ˜¯â€œæ›´å…ˆè¿›ç®—æ³•å’Œæ•°æ®ç»“æ„â€ã€‚è¿™ä¸¤ä¸ªç­–ç•¥æ˜¯ç´§å¯†é…åˆçš„ï¼Œæ¯”å¦‚å…ˆè¿›çš„ç®—æ³•æœ‰æ—¶å€™ä¼šéœ€è¦å…ˆè¿›çš„æ•°æ®ç»“æ„ï¼›è€Œä¸”å®ƒä»¬å¾€å¾€å’Œç¨‹åºçš„è®¾è®¡ä»£ç ç›´æ¥ç›¸å…³ï¼Œæ‰€ä»¥æ”¾åœ¨ä¸€èµ·ã€‚\n9. å…ˆè¿›çš„ç®—æ³•\nåŒä¸€ä¸ªé—®é¢˜ï¼Œè‚¯å®šä¼šæœ‰ä¸åŒçš„ç®—æ³•å®ç°ï¼Œè¿›è€Œå°±ä¼šæœ‰ä¸åŒçš„æ€§èƒ½ã€‚æ¯”å¦‚å„ç§æ’åºç®—æ³•ï¼Œå°±æ˜¯å„æœ‰åƒç§‹ã€‚æœ‰çš„å®ç°å¯èƒ½æ˜¯æ—¶é—´æ¢ç©ºé—´ï¼Œæœ‰çš„å®ç°å¯èƒ½æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼Œé‚£ä¹ˆå°±éœ€è¦æ ¹æ®ä½ è‡ªå·±çš„å®é™…æƒ…å†µåšæƒè¡¡ã€‚\nå¯¹æ¯ä¸€ç§å…·ä½“çš„åœºæ™¯ï¼ˆåŒ…æ‹¬è¾“å…¥é›†åˆå¤§å°ã€æ—¶é—´ç©ºé—´çš„è¦æ±‚ã€æ•°æ®çš„å¤§å°åˆ†å¸ƒç­‰ï¼‰ï¼Œæ€»ä¼šæœ‰ä¸€ç§ç®—æ³•æ˜¯æœ€é€‚åˆçš„ã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘å®é™…æƒ…å†µï¼Œæ¥é€‰æ‹©è¿™ä¸€æœ€ä¼˜çš„ç®—æ³•ã€‚\n10. é«˜æ•ˆçš„æ•°æ®ç»“æ„\nå’Œç®—æ³•çš„æƒ…å†µç±»ä¼¼ï¼Œä¸åŒçš„æ•°æ®ç»“æ„çš„ç‰¹æ€§ï¼Œä¹Ÿæ˜¯åƒå·®ä¸‡åˆ«ã€‚\næ²¡æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„æ˜¯åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯æœ€å¥½çš„ï¼Œæ¯”å¦‚ä½ å¯èƒ½ç»å¸¸ç”¨åˆ°çš„ Java é‡Œé¢åˆ—è¡¨çš„å„ç§å®ç°ï¼ŒåŒ…æ‹¬å„ç§å£å‘³çš„ Listã€Vectorã€LinkedListï¼Œå®ƒä»¬å­°ä¼˜å­°åŠ£ï¼Œå–å†³äºå¾ˆå¤šä¸ªæŒ‡æ ‡ï¼šæ·»åŠ å…ƒç´ ã€åˆ é™¤å…ƒç´ ã€æŸ¥è¯¢å…ƒç´ ã€éå†è€—æ—¶ç­‰ç­‰ã€‚æˆ‘ä»¬åŒæ ·è¦æƒè¡¡å–èˆï¼Œæ‰¾å‡ºå®é™…åœºåˆä¸‹æœ€é€‚åˆçš„é«˜æ•ˆçš„æ•°æ®ç»“æ„ã€‚\nå…­ã€æ€»ç»“ å„ç§æ€§èƒ½é—®é¢˜çš„è§£å†³ï¼Œéœ€è¦é‡‡ç”¨ä¸€äº›ç­–ç•¥ï¼›è€Œä¸”ä¸åŒçš„äººå’Œä¸åŒçš„åœºæ™¯ä¸­ï¼Œä¼šé‡‡ç”¨æœ‰æ—¶ç›¸åŒæœ‰æ—¶è¿¥å¼‚çš„ç­–ç•¥ï¼Œæ°å¦‚éŸ©æ„ˆæ‰€è¯´çš„â€œè‰æ ‘çŸ¥æ˜¥ä¸ä¹…å½’ï¼Œç™¾èˆ¬çº¢ç´«æ–—èŠ³è²â€ã€‚ä½†èŠ±è‰æ ‘æœ¨äº‰å¥‡æ–—è‰³ï¼Œè¯´åˆ°åº•æ˜¯å› ä¸ºâ€œçŸ¥æ˜¥ä¸ä¹…å½’â€ã€‚\nåŒæ ·çš„é“ç†ï¼Œè¿™äº›æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œæœ‰æ—¶å€™å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œæœ‰æ—¶å€™å¹¶ä¸æ˜¯é‚£ä¹ˆç›´è§‚ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç³»ç»Ÿåœ°æœ‰å±‚æ¬¡åœ°æ€è€ƒï¼Œè€Œè¿™ä¸€è®²å°±æ˜¯å¸®åŠ©ä½ å»ºç«‹è¿™æ ·çš„æ€è·¯ã€‚\né€šè¿‡æ€»ç»“åå¤§ç­–ç•¥ï¼Œå¸Œæœ›ä½ å¯ä»¥å¤šä»ä¸åŒè§’åº¦ï¼Œæ€è€ƒåŒä¸€ä¸ªé—®é¢˜ï¼›æœ‰æ—¶å€™ä¸€ä¸ªé—®é¢˜çœ‹ä¼¼æ— è§£ï¼Œä½†å¤šæ–¹ä½æ€è€ƒï¼Œå¯èƒ½ä¼šçªç„¶å‘ç°éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆã€‚\n","description":"\n","tags":[],"title":"\nåå¹´è€æ¶æ„å¸ˆæ€»ç»“ï¼šæ€§èƒ½ä¼˜åŒ–å…¶å®ä¸éš¾ï¼Œè®°ä½è¿™åæ¡ç­–ç•¥å°±å¤Ÿäº†","uri":"/posts/post-249/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æƒ…å†µæè¿° è™šæ‹Ÿæœºä¸­çš„ç³»ç»Ÿä¸ºCentOSï¼Œå……å½“æœåŠ¡å™¨ï¼Œä½†æ˜¯å¼€å¯Tomcatåï¼Œåœ¨å®¿ä¸»æœºMacä¸­æ— æ³•è®¿é—®ï¼Œæ˜¾ç¤ºè¯·æ±‚è¢«æ‹’æ¥ï¼Œå¦‚ä¸‹ï¼š\né™¤æ­¤ä¹‹å¤–ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨sshï¼Œä¹Ÿå¯ä»¥pingé€šã€‚\nåˆ†æ åˆæ­¥è®¤ä¸ºå°±æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œä½†æ˜¯å‚è€ƒiptablesçš„ä¸€äº›åœç”¨æ–¹æ³•ï¼Œç›´æ¥æ˜¾ç¤ºæ²¡æœ‰iptablesè¿™ä¸ªæœåŠ¡ï¼›åé¢æƒ³éªŒè¯åˆ°åº•æ˜¯å®¿ä¸»æœºè¿˜æ˜¯è™šæ‹Ÿæœºçš„é—®é¢˜ï¼Œåœ¨5000ç«¯å£ï¼Œè·‘äº†ä¸€ä¸ªç®€å•çš„FlaskæœåŠ¡å™¨ï¼ˆåœ¨è™šæ‹Ÿæœºä¸­å¯é€šè¿‡æœ¬æœºipåœ°å€+ç«¯å£å·è¿›è¡Œè®¿é—®ï¼‰ï¼Œåœ¨å®¿ä¸»æœºä¸­ä»ç„¶æ— æ³•è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿé€šè¿‡å…¶ä»–çš„ä¸€äº›è®¾å¤‡æ¥è®¿é—®ç›¸åº”çš„æœåŠ¡å™¨ï¼Œéƒ½æ— æ³•è®¿é—®ï¼Œä»è¿™é‡Œçœ‹æ¥ï¼Œé—®é¢˜è¿˜æ˜¯å‡ºåœ¨äº†è™šæ‹Ÿæœºä¸­ï¼›åé¢åˆåœ¨å®¿ä¸»æœºmacä¸­å¼€å¯äº†ä¸€ä¸ªæœåŠ¡å™¨ï¼Œåœ¨è™šæ‹Ÿæœºå’Œå…¶å®ƒå±€åŸŸç½‘è®¾å¤‡ä¸­éƒ½å¯ä»¥è®¿é—®ï¼Œå› æ­¤æ–­å®šè¿˜æ˜¯è™šæ‹Ÿæœºçš„é—®é¢˜ã€‚é‚£ä¹ˆï¼Œæ²¡æœ‰å®‰è£…iptablesçš„CentOSï¼Œç©¶ç«Ÿæ˜¯å‡ºäº†ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ\nè§£å†³åŠæ³• å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯CentOS 7ï¼Œä½¿ç”¨iptablesçš„ç‰ˆæœ¬æ˜¯7ä»¥å‰çš„ï¼ŒCentOS 7ä½¿ç”¨firewallä½œä¸ºé˜²ç«å¢™ã€‚\næŸ¥çœ‹å·²ç»å¼€æ”¾çš„ç«¯å£ï¼šfirewall-cmd --list-ports å¼€å¯ç«¯å£ï¼šfirewall-cmd --zone=public --add-port=80/tcp --permanent\nå‘½ä»¤å«ä¹‰ï¼š\nâ€“zone #ä½œç”¨åŸŸ â€“add-port=80/tcp #æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®® â€“permanent #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ123 é‡å¯ã€åœæ­¢ã€ç¦ç”¨ã€æŸ¥çœ‹é˜²ç«å¢™\n1 2 3 4 firewall-cmd --reload #é‡å¯firewall systemctl stop firewalld.service #åœæ­¢firewall systemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨ firewall-cmd --state #æŸ¥çœ‹é»˜è®¤é˜²ç«å¢™çŠ¶æ€ï¼ˆå…³é—­åæ˜¾ç¤ºnotrunningï¼Œå¼€å¯åæ˜¾ç¤ºrunningï¼‰1234 å› æ­¤ç»“åˆä¸Šè¿°å‘½ä»¤æ¥çœ‹ï¼Œéœ€è¦å°†8080ç«¯å£æ·»åŠ åˆ°é˜²ç«å¢™çš„å¼€æ”¾ç«¯å£ä¸­ï¼Œç„¶åé‡æ–°è½½å…¥é˜²ç«å¢™çš„é…ç½®å³å¯ã€‚å¦‚ä¸‹ï¼š\n1 2 3 sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent sudo firewall-cmd --reload sudo firewall-cmd --list-ports123 æœ€åé¢æ¥ä¸€å¼ æˆåŠŸè®¿é—®çš„æˆªå›¾ï¼š\n","description":"\n","tags":[],"title":"\nè§£å†³å®¿ä¸»æœºMACä¸èƒ½è®¿é—®è™šæ‹Ÿæœºä¸­CENTOSçš„TOMCATæœåŠ¡å™¨","uri":"/posts/post-250/"},{"categories":["è¿ç»´"],"content":"1. å®‰è£…çš„éœ€æ±‚èƒŒæ™¯ æˆ‘ä»¬çŸ¥é“ifconfig å‘½ä»¤å¯ä»¥ç”¨äºæŸ¥çœ‹ã€é…ç½®ã€å¯ç”¨æˆ–ç¦ç”¨æŒ‡å®šç½‘ç»œæ¥å£ï¼Œå¦‚é…ç½®ç½‘å¡çš„IPåœ°å€ã€æ©ç ã€å¹¿æ’­åœ°å€ã€ç½‘å…³ç­‰ï¼ŒåŠŸèƒ½ä¸å¯è°“ä¸ä¸°å¯Œã€‚\næ­¤å‘½ä»¤çš„åŠŸèƒ½å’ŒWndowsç³»ç»Ÿçš„ipconfigéå¸¸ç±»ä¼¼ã€‚\nä½†æ˜¯ï¼ŒCentos7 é»˜è®¤å·²ä¸å†å®‰è£…æ­¤å‘½ä»¤ï¼Œå…¶ä¸­å¾ˆå¤šåŠŸèƒ½ç”¨ ip addr æŒ‡ä»¤ æ›¿ä»£äº†ã€‚\nè€ƒè™‘åˆ° æ—¢æœ‰çš„å¾ˆå¤šç®¡ç†å·¥å…·æˆ–è„šæœ¬éƒ½è°ƒç”¨äº†æ­¤åŠŸèƒ½å‘½ä»¤ï¼ˆifconfigï¼‰ï¼Œå¦‚æœå°†è¿™äº›å·¥å…·ç›´æ¥è¿ç§»è¿‡æ¥ä¼šæŠ¥é”™ï¼Œå¦‚æœå¯¹è¿™ä¸ªæŒ‡ä»¤ç”¨å…¶å®ƒæŒ‡ä»¤è¿›è¡Œæ›¿æ¢ï¼ŒåŠå¯¹è¿™äº›å·¥å…·å‡çº§ï¼Œåˆ™å¢åŠ äº†å·¥ä½œé‡ï¼Œè¿˜å¢åŠ äº†å‡ºé”™çš„é£é™©ã€‚\næ‰€ä»¥ï¼Œåœ¨CentOS 7 ç³»ç»Ÿä¸­ å®‰è£… ifconfig å‘½ä»¤å¾ˆæœ‰å¿…è¦ã€‚\n2. æµ‹è¯•å®‰è£…çš„å…·ä½“æ­¥éª¤ CentOS 7 ç³»ç»Ÿé»˜è®¤ æ²¡æœ‰å®‰è£… ifconfig å‘½ä»¤ã€‚\nå¦‚æœç›´æ¥è¿è¡Œ ifconfig å‘½ä»¤ï¼Œåˆ™æç¤ºé”™è¯¯ ï¼š-bash: ifconfig: command not found\næ­¤æ—¶ï¼ŒæŸ¥çœ‹ /sbin ç›®å½•ä¸‹ï¼Œå…¶å®æ˜¯æ²¡æœ‰ ifconfig æ–‡ä»¶çš„ã€‚\né‚£ä¹ˆ å¦‚ä½•å®‰è£…ifconfig å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„æ˜¯ è¿è¡Œ yum install ifconfig ã€‚æ‰§è¡Œæ•ˆæœå¦‚ä½•å‘¢ï¼Ÿ\nç»“æœæ˜¯ï¼š\nNo package ifconfig available. Error: Nothing to do\nå•Šï¼Ÿï¼ æ²¡æœ‰ ifconfig å®‰è£…åŒ…ï¼Œæ˜¯ä¸æ˜¯ æˆ‘ä»¬å°±è¦æ”¾å¼ƒäº†å‘¢ï¼Ÿ\nå…¶å®ï¼Œæˆ‘ä»¬ è¿˜å¯ä»¥é€šè¿‡yum å‘½ä»¤çš„searché€‰é¡¹ æ¥å¯¹ åŒ… ï¼ˆpackageï¼‰è¿›è¡Œå†æ¬¡æœç´¢ã€‚\nsearchï¼šå¯ä»¥æœå¯»æŸä¸ªè½¯ä»¶åç§°æˆ–è€…æ˜¯æè¿°ï¼ˆdescriptionï¼‰çš„é‡è¦å…³é”®å­—ã€‚æ­¤æŒ‡ä»¤å¯ä»¥æŸ¥æ‰¾æ˜¾ç¤ºå‡ºç›¸å…³çš„è½¯ä»¶æœ‰å“ªäº›ã€‚\næ‰€ä»¥ï¼Œåœ¨æ”¾å¼ƒå‰ï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nyum search ifconfig\nä»¥ä¸Šè¿è¡Œç»“æœï¼Œæˆ‘ä»¬åªè¦åˆ†ææœ€å¥½ä¸€è¡Œå°±å¯ä»¥ã€‚Matched: ifconfig è¿™ä¸ª åˆ†å‰²è¡Œ æ˜¯ç”¨æ¥æ˜¾ç¤º åŒ¹é…ç»“æœçš„ã€‚\næœ€åä¸€è¡Œ ä¸­ å†’å·ï¼ˆï¼šï¼‰å‰é¢çš„æ•°æ®ï¼Œ ï¼ˆnet-tools.x86_64 ï¼‰ æ˜¯åŒ¹é…çš„è½¯ä»¶åŒ…ï¼›å†’å·ï¼ˆï¼šï¼‰åé¢çš„æ•°æ®ï¼Œï¼ˆBasic networking tools ï¼‰ æ˜¯å¯¹å‰é¢åŒ…çš„æè¿°ã€‚\nç»“åˆä¸Šé¢çš„ä¿¡æ¯ï¼Œå³ é€šè¿‡è¿è¡Œ yum search ifconfig æç¤ºæˆ‘ä»¬ï¼š å®‰è£…ifconfig åŒ… åªéœ€è¦å®‰è£… net-tools.x86_64 å³å¯ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬æ‰§è¡Œ yum install net-tools.x86_64\nå®‰è£…åï¼Œifconfig å‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚å› å«æœ‰ipæ•æ„Ÿä¿¡æ¯ï¼Œæˆªå›¾çœç•¥ã€‚\nå¹¶ä¸”ï¼ŒæŸ¥çœ‹/sbin ç›®å½•ï¼Œæ­¤æ—¶ ifconfig æ–‡ä»¶ä¹Ÿå‡ºç°äº†ã€‚\n3. æ€»ç»“\nCentOS 7 å®‰è£… ifconfig ç®¡ç†å‘½ä»¤ï¼Œé€šè¿‡yum å®‰è£…ï¼Œè¿è¡Œ yum install net-tools.x86_64 å³å¯å®‰è£…ã€‚\n","description":"\n","tags":[],"title":"\nCentOS 7å®‰è£… ifconfig ç®¡ç†å‘½ä»¤","uri":"/posts/post-251/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"åœ¨å®‰è£…é…ç½® SSL è¯ä¹¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ç§èƒ½ä½¿æ•°æ®ä¼ è¾“æ›´åŠ å®‰å…¨çš„Webå®‰å…¨åè®®ï¼Œå³åœ¨æœåŠ¡å™¨ç«¯ä¸Šå¼€å¯HSTS (HTTP Strict Transport Security)ã€‚å®ƒå‘Šè¯‰æµè§ˆå™¨åªèƒ½é€šè¿‡HTTPSè®¿é—®ï¼Œè€Œç»å¯¹ç¦æ­¢HTTPæ–¹å¼ã€‚\nHTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through the use of a special response header. Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP to the specified domain and will instead send all communications over HTTPS. It also prevents HTTPS click through prompts on browsers.\nä½†æ˜¯ï¼Œåœ¨æ—¥å¸¸å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¼šæƒ³æµ‹è¯•é¡µé¢åœ¨ HTTP è¿æ¥ä¸­çš„è¡¨ç°æƒ…å†µï¼Œè¿™æ—¶ HSTS çš„å­˜åœ¨ä¼šè®©è°ƒè¯•ä¸èƒ½æ–¹ä¾¿çš„è¿›è¡Œä¸‹å»ã€‚è€Œä¸”ç”±äº HSTS å¹¶ä¸æ˜¯åƒ cookie ä¸€æ ·å­˜æ”¾åœ¨æµè§ˆå™¨ç¼“å­˜é‡Œï¼Œç®€å•çš„æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜æ“ä½œå¹¶æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œé¡µé¢ä¾ç„¶é€šè¿‡ HTTPS çš„æ–¹å¼ä¼ è¾“ã€‚ é‚£ä¹ˆæ€æ ·æ‰èƒ½å…³é—­æµè§ˆå™¨çš„ HSTS å‘¢ï¼Œå„ç§è°·æ­Œåº¦å¨˜ä¹‹åï¼Œåœ¨è¿™é‡Œæ±‡æ€»ä¸€ä¸‹å‡ å¤§å¸¸è§æµè§ˆå™¨ HSTS çš„å…³é—­æ–¹æ³•ã€‚\nSafari æµè§ˆå™¨ å®Œå…¨å…³é—­ Safari åˆ é™¤ ~/Library/Cookies/HSTS.plist è¿™ä¸ªæ–‡ä»¶ é‡æ–°æ‰“å¼€ Safari å³å¯ æå°‘æ•°æƒ…å†µä¸‹ï¼Œéœ€è¦é‡å¯ç³»ç»Ÿ Chrome æµè§ˆå™¨ åœ°å€æ ä¸­è¾“å…¥ chrome://net-internals/#hsts åœ¨ Delete domain ä¸­è¾“å…¥é¡¹ç›®çš„åŸŸåï¼Œå¹¶Delete åˆ é™¤ å¯ä»¥åœ¨ Query domain æµ‹è¯•æ˜¯å¦åˆ é™¤æˆåŠŸ Opera æµè§ˆå™¨ å’Œ Chrome æ–¹æ³•ä¸€æ ·\nFirefox æµè§ˆå™¨ å…³é—­æ‰€æœ‰å·²æ‰“å¼€çš„é¡µé¢ æ¸…ç©ºå†å²è®°å½•å’Œç¼“å­˜ åœ°å€æ è¾“å…¥about:permissions æœç´¢é¡¹ç›®åŸŸåï¼Œå¹¶ç‚¹å‡» Forget About This Site ","description":"\n","tags":[],"title":"\nå¦‚ä½•å…³é—­å¸¸è§æµè§ˆå™¨çš„ HSTS åŠŸèƒ½","uri":"/posts/post-252/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸‹è½½ä¸å®‰è£… é¦–å…ˆä» Redis å®˜ç½‘ä¸‹è½½ Redis æºä»£ç å¹¶è§£å‹ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ redis-6.0.8.tar.gz ç‰ˆæœ¬\n# åˆ›å»ºç›®å½• mkdir /usr/local/redis/redis-cluster # è¿›å…¥ç›®å½• cd /usr/local/redis/redis-cluster # ä¸‹è½½å®‰è£…åŒ… wget http://download.redis.io/releases/redis-6.0.8.tar.gz # è§£å‹ tar -zxzf redis-6.0.8.tar.gz #è¿›å…¥ç›®å½• cd redis-6.0.8 # ç¼–è¯‘ç”¨ å¦‚æœä¸å®‰è£…ä¼šç¼–è¯‘æŠ¥é”™ yum -y install gcc-c++ #åŠ  MALLOC=libc ä¸ºäº†é˜²æ­¢ç¼–è¯‘å‡ºé”™ï¼Œå…·ä½“ç™¾åº¦ make MALLOC=libc make MALLOC=libc make install PREFIX=/apprun/redis # ç›®æ ‡å®‰è£…è·¯å¾„ åˆ›å»ºæ•°æ® #åˆ›å»ºç›®å½• cd /usr/local/redis/redis-cluster mkdir logs conf data pid #åˆ›å»ºæ•°æ®ç›®å½• cd data mkdir data1111 data2222 data3333 data4444 data5555 data6666 ä¿®æ”¹é…ç½®æ–‡ä»¶ cd /usr/local/redis/redis-cluster/conf cp /usr/local/redis/redis-cluster/redis/redis.conf . mv redis.conf redis1111.conf vim redis1111.conf # ä¿®æ”¹ç»‘å®šåœ°å€ bind 192.168.5.199 protected-mode yes # ä¿®æ”¹ç«¯å£å·,ä½†é›†ç¾¤çŠ¶æ€ä¸‹éœ€è¦æ³¨æ„,é›†ç¾¤ä½¿ç”¨ç«¯å£ä¼šåœ¨æ­¤ç«¯å£ä¸Šå¢åŠ 10000,æ‰€ä»¥redisè‡ªèº«ç«¯å£+10000ä¸èƒ½è¶…è¿‡65535 port 1111 tcp-backlog 511 timeout 0 tcp-keepalive 300 # Redisæ˜¯å¦åå°è¿è¡Œ daemonize yes supervised no # è¿›ç¨‹æ–‡ä»¶å­˜å‚¨åœ°å€ pidfile /usr/local/redis/redis-cluster/pid/redis1111.pid loglevel notice # æ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ°å€ logfile \"/usr/local/redis/redis-cluster/logs/redis1111.log\" databases 16 always-show-logo yes save 900 1 save 300 10 save 60 10000 stop-writes-on-bgsave-error yes # æŒä¹…åŒ–é”™è¯¯ä¹‹åï¼Œåœæ­¢å†™å…¥Redis rdbcompression yes # å¿«ç…§æ˜¯å¦å‹ç¼©å­˜å‚¨ï¼ˆå‹ç¼©æ¶ˆè€—CPUã€å ç”¨ç©ºé—´å°ï¼‰ rdbchecksum yes # å­˜å‚¨çš„å¿«ç…§è¿›è¡Œæ•°æ®æ ¡éªŒï¼ˆå¢åŠ çº¦10%çš„æ€§èƒ½æ¶ˆè€—ï¼‰ dbfilename dump.rdb rdb-del-sync-files no # æ•°æ®å­˜æ”¾ç›®å½• dir /usr/local/redis/redis-cluster/data/data1111 # ä¸»è¦æ˜¯é’ˆå¯¹masterå¯¹åº”çš„slaveèŠ‚ç‚¹è®¾ç½®çš„ï¼Œåœ¨slaveèŠ‚ç‚¹æ•°æ®åŒæ­¥çš„æ—¶å€™ç”¨åˆ° masterauth redis123 replica-serve-stale-data yes replica-read-only yes repl-diskless-sync no repl-diskless-sync-delay 5 repl-diskless-load disabled repl-disable-tcp-nodelay no replica-priority 100 acllog-max-len 128 # å¯¹ç™»å½•æƒé™åšé™åˆ¶ï¼Œredisæ¯ä¸ªèŠ‚ç‚¹çš„requirepasså¯ä»¥æ˜¯ç‹¬ç«‹ã€ä¸åŒçš„ requirepass redis123 lazyfree-lazy-eviction no lazyfree-lazy-expire no lazyfree-lazy-server-del no replica-lazy-flush no lazyfree-lazy-user-del no oom-score-adj no oom-score-adj-values 0 200 800 # aofæ—¥å¿—å¼€å¯ï¼Œæœ‰éœ€è¦å°±å¼€å¯ appendonly yes appendfilename \"appendonly.aof\" appendfsync everysec # æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆalways æ¯æ¬¡ä¿®æ”¹åŒæ­¥ä¸€æ¬¡ï¼‰ no-appendfsync-on-rewrite no auto-aof-rewrite-percentage 100 auto-aof-rewrite-min-size 64mb aof-load-truncated yes aof-use-rdb-preamble yes lua-time-limit 5000 # å¼€å¯é›†ç¾¤æ¨¡å¼ cluster-enabled yes # é›†ç¾¤çš„é…ç½®æ–‡ä»¶ï¼Œé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆ cluster-config-file /usr/local/redis/redis-cluster/conf/nodes1111.conf # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤15s cluster-node-timeout 10000 slowlog-log-slower-than 10000 slowlog-max-len 128 latency-monitor-threshold 0 notify-keyspace-events \"\" hash-max-ziplist-entries 512 hash-max-ziplist-value 64 list-max-ziplist-size -2 list-compress-depth 0 set-max-intset-entries 512 zset-max-ziplist-entries 128 zset-max-ziplist-value 64 hll-sparse-max-bytes 3000 stream-node-max-bytes 4096 stream-node-max-entries 100 activerehashing yes client-output-buffer-limit normal 0 0 0 client-output-buffer-limit replica 256mb 64mb 60 client-output-buffer-limit pubsub 32mb 8mb 60 hz 10 dynamic-hz yes aof-rewrite-incremental-fsync yes rdb-save-incremental-fsync yes å¤åˆ¶é…ç½® Redis é›†ç¾¤ä¸€èˆ¬ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ•°é‡è‡³å°‘ä¸º 6 ä¸ªï¼Œæ‰èƒ½ä¿è¯ç»„æˆå®Œæ•´é«˜å¯ç”¨çš„é›†ç¾¤ï¼Œæ‰€ä»¥å†å¤åˆ¶ 5 ä»½é…ç½®æ–‡ä»¶\ncp redis1111.conf redis2222.conf cp redis1111.conf redis3333.conf cp redis1111.conf redis4444.conf cp redis1111.conf redis5555.conf cp redis1111.conf redis6666.conf # vim è¿›å»é‡Œè¾¹ä¿®æ”¹ï¼šæ¯”å¦‚ï¼š% s/1111/2222/ é…ç½®å¯åŠ¨å‘½ä»¤åŠå¯åŠ¨é›†ç¾¤ cd /usr/local/redis/redis-cluster/redis/src # è¿™æ ·å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥å‘½ä»¤ï¼Œä¸éœ€è¦å†è¿›å…¥è¯¥å‘½ä»¤ç›®å½• cp redis-cli redis-server /usr/bin/ #ç¼–å†™ç»Ÿä¸€å¯åŠ¨è„šæœ¬ã€å¯åŠ¨ cd /usr/local/redis/redis-cluster vi redis-start.sh #!/bin/bash redis-server /usr/local/redis/redis-cluster/conf/redis1111.conf redis-server /usr/local/redis/redis-cluster/conf/redis2222.conf redis-server /usr/local/redis/redis-cluster/conf/redis3333.conf redis-server /usr/local/redis/redis-cluster/conf/redis4444.conf redis-server /usr/local/redis/redis-cluster/conf/redis5555.conf redis-server /usr/local/redis/redis-cluster/conf/redis6666.conf # èµ‹äºˆæƒé™ chmod 755 redis-start.sh ./redis-start.sh #å¯åŠ¨é›†ç¾¤ æ‰§è¡Œå‘½ä»¤ï¼šredis-cli --cluster create 192.168.5.199:1111 192.168.5.199:2222 192.168.5.199:3333 192.168.5.199:4444 192.168.5.199:5555 192.168.5.199:6666 --cluster-replicas 1 -a redis123 å‚æ•°è¯´æ˜ï¼šæ³¨æ„ redis-5.0.0 ç‰ˆæœ¬å¼€å§‹æ‰æ”¯æŒ â€œ â€“cluster â€\ncreate è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªredisé›†ç¾¤ã€‚\n--cluster-replicas 1 è¡¨ç¤ºä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸€ä¸ªä¸»èŠ‚ç‚¹æŒ‡å®šä¸€ä¸ªä»èŠ‚ç‚¹ï¼Œå³ä¸€æ¯”ä¸€çš„å¤åˆ¶ã€‚\nWarning: Using a password with '-a' or '-u' option on the command line interface may not be safe. \u003e\u003e\u003e Performing hash slots allocation on 6 nodes... Master[0] -\u003e Slots 0 - 5460 Master[1] -\u003e Slots 5461 - 10922 Master[2] -\u003e Slots 10923 - 16383 Adding replica 192.168.5.199:5555 to 192.168.5.199:1111 Adding replica 192.168.5.199:6666 to 192.168.5.199:2222 Adding replica 192.168.5.199:4444 to 192.168.5.199:3333 \u003e\u003e\u003e Trying to optimize slaves allocation for anti-affinity [WARNING] Some slaves are in the same host as their master M: 3c09b846d56efc9c3d3367b7db74317ff0c54980 192.168.5.199:1111 slots:[0-5460] (5461 slots) master M: f35e954bd158848b5dc09358752daf7db35c7d7e 192.168.5.199:2222 slots:[5461-10922] (5462 slots) master M: 2e54db41b7916b64d7689b22a0f456dd099086fc 192.168.5.199:3333 slots:[10923-16383] (5461 slots) master S: edf74be3f4784f0d560505ad0ca10bcd76d57d42 192.168.5.199:4444 replicates 3c09b846d56efc9c3d3367b7db74317ff0c54980 S: 609822d35d216b3bea5a308f25fa537055d85089 192.168.5.199:5555 replicates f35e954bd158848b5dc09358752daf7db35c7d7e S: ee9838644056c360a88399b3acb5f905e17eebc5 192.168.5.199:6666 replicates 2e54db41b7916b64d7689b22a0f456dd099086fc Can I set the above configuration? (type 'yes' to accept): yes \u003e\u003e\u003e Nodes configuration updated \u003e\u003e\u003e Assign a different config epoch to each node \u003e\u003e\u003e Sending CLUSTER MEET messages to join the cluster Waiting for the cluster to join . \u003e\u003e\u003e Performing Cluster Check (using node 192.168.5.199:1111) M: 3c09b846d56efc9c3d3367b7db74317ff0c54980 192.168.5.199:1111 slots:[0-5460] (5461 slots) master 1 additional replica(s) S: edf74be3f4784f0d560505ad0ca10bcd76d57d42 192.168.5.199:4444 slots: (0 slots) slave replicates 3c09b846d56efc9c3d3367b7db74317ff0c54980 S: ee9838644056c360a88399b3acb5f905e17eebc5 192.168.5.199:6666 slots: (0 slots) slave replicates 2e54db41b7916b64d7689b22a0f456dd099086fc M: 2e54db41b7916b64d7689b22a0f456dd099086fc 192.168.5.199:3333 slots:[10923-16383] (5461 slots) master 1 additional replica(s) S: 609822d35d216b3bea5a308f25fa537055d85089 192.168.5.199:5555 slots: (0 slots) slave replicates f35e954bd158848b5dc09358752daf7db35c7d7e M: f35e954bd158848b5dc09358752daf7db35c7d7e 192.168.5.199:2222 slots:[5461-10922] (5462 slots) master 1 additional replica(s) [OK] All nodes agree about slots configuration. \u003e\u003e\u003e Check for open slots... \u003e\u003e\u003e Check slots coverage... [OK] All 16384 slots covered. æ£€æµ‹é›†ç¾¤å®Œæ•´æ€§ #æ‰§è¡Œå‘½ä»¤ redis-cli --cluster check 192.168.121.128:1111 -a redis123 [root@localhost ~]# redis-cli --cluster check 192.168.5.199:1111 -a \"redis123\" Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe. 192.168.5.199:1111 (3c09b846...) -\u003e 0 keys | 5461 slots | 1 slaves. 192.168.5.199:3333 (2e54db41...) -\u003e 1 keys | 5461 slots | 1 slaves. 192.168.5.199:2222 (f35e954b...) -\u003e 1 keys | 5462 slots | 1 slaves. [OK] 2 keys in 3 masters. 0.00 keys per slot on average. \u003e\u003e\u003e Performing Cluster Check (using node 192.168.5.199:1111) M: 3c09b846d56efc9c3d3367b7db74317ff0c54980 192.168.5.199:1111 slots:[0-5460] (5461 slots) master 1 additional replica(s) S: edf74be3f4784f0d560505ad0ca10bcd76d57d42 192.168.5.199:4444 slots: (0 slots) slave replicates 3c09b846d56efc9c3d3367b7db74317ff0c54980 S: ee9838644056c360a88399b3acb5f905e17eebc5 192.168.5.199:6666 slots: (0 slots) slave replicates 2e54db41b7916b64d7689b22a0f456dd099086fc M: 2e54db41b7916b64d7689b22a0f456dd099086fc 192.168.5.199:3333 slots:[10923-16383] (5461 slots) master 1 additional replica(s) S: 609822d35d216b3bea5a308f25fa537055d85089 192.168.5.199:5555 slots: (0 slots) slave replicates f35e954bd158848b5dc09358752daf7db35c7d7e M: f35e954bd158848b5dc09358752daf7db35c7d7e 192.168.5.199:2222 slots:[5461-10922] (5462 slots) master 1 additional replica(s) [OK] All nodes agree about slots configuration. \u003e\u003e\u003e Check for open slots... \u003e\u003e\u003e Check slots coverage... [OK] All 16384 slots covered. ç™»å½•éªŒè¯ #æ‰§è¡Œå‘½ä»¤ redis-cli -h 192.168.5.199 -p 1111 -a \"redis123\" Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe. 192.168.5.199:1111\u003e info cluster # Cluster cluster_enabled:1 192.168.5.199:1111\u003e cluster info cluster_state:ok cluster_slots_assigned:16384 cluster_slots_ok:16384 cluster_slots_pfail:0 cluster_slots_fail:0 cluster_known_nodes:6 cluster_size:3 cluster_current_epoch:6 cluster_my_epoch:1 cluster_stats_messages_ping_sent:67776 cluster_stats_messages_pong_sent:71182 cluster_stats_messages_sent:138958 cluster_stats_messages_ping_received:71177 cluster_stats_messages_pong_received:67776 cluster_stats_messages_meet_received:5 cluster_stats_messages_received:138958 192.168.5.199:1111\u003e ","description":"\n","tags":[],"title":"\nRedis 6.0.8 é›†ç¾¤æ­å»º(ä¸‰ä¸»ä¸‰ä»)","uri":"/posts/post-253/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"#!/bin/bash # # This script gets the beautiful wallpapers from http://wallhaven.cc # This script is brought to you by MacEarl and is based on the # script for wallbase.cc (https://github.com/sevensins/Wallbase-Downloader) # # This Script is written for GNU Linux, it should work under Mac OS REVISION=0.2.6 ##################################### ### Needed for NSFW/Favorites ### ##################################### # Enter your API key # you can get it here: https://wallhaven.cc/settings/account APIKEY=\"beYBHQ89MncZeTt96JXRyrqmwBFifWUr\" ##################################### ### End needed for NSFW/Favorites ### ##################################### ##################################### ### Configuration Options ### ##################################### # Where should the Wallpapers be stored? LOCATION=/Volumes/photo # How many Wallpapers should be downloaded, should be multiples of the # value in the THUMBS Variable WPNUMBER=48 # What page to start downloading at, default and minimum of 1. STARTPAGE=1 # Type standard (newest, oldest, random, hits, mostfav), search, collections # (for now only the default collection), useruploads (if selected, only # FILTER variable will change the outcome) TYPE=standard # From which Categories should Wallpapers be downloaded, first number is # for General, second for Anime, third for People, 1 to enable category, # 0 to disable it CATEGORIES=110 # filter wallpapers before downloading, first number is for sfw content, # second for sketchy content, third for nsfw content, 1 to enable, # 0 to disable FILTER=111 # Which Resolutions should be downloaded, leave empty for all (most common # resolutions possible, for details see wallhaven site), separate multiple # resolutions with , eg. 1920x1080,1920x1200 RESOLUTION= # alternatively specify a minimum resolution, please note that specifying # both resolutions and a minimum resolution will result in the desired # resolutions being ignored, to avoid unwanted behavior only set one of the # two options and leave the other blank ATLEAST= # Which aspectratios should be downloaded, leave empty for all (possible # values: 4x3, 5x4, 16x9, 16x10, 21x9, 32x9, 48x9, 9x16, 10x16), separate mutliple ratios # with , eg. 4x3,16x9 ASPECTRATIO= # Which Type should be displayed (relevance, random, date_added, views, # favorites, toplist, toplist-beta) MODE=date_added # if MODE is set to toplist show the toplist for the given timeframe # possible values: 1d (last day), 3d (last 3 days), 1w (last week), # 1M (last month), 3M (last 3 months), 6M (last 6 months), 1y (last year) TOPRANGE= # How should the wallpapers be ordered (desc, asc) ORDER=desc # Collections, only used if TYPE = collections # specify the name of the collection you want to download # Default is the default collection name on wallhaven # If you want to download your own Collections make sure USR is set to your username # If you want to download someone elses public collection enter the name here # and the username under USR # Please note that the only filter option applied to Collections is the Number # of Wallpapers to download, there is no filter for resolution, purity, ... COLLECTION=\"Default\" # Searchterm, only used if TYPE = search # you can also search by tags, use id:TAGID # to get the tag id take a look at: https://wallhaven.cc/tags/ # for example: to search for nature related wallpapers via the nature tag # instead of the keyword use QUERY=\"id:37\" QUERY=\"nature\" # Search images containing color # values are RGB (000000 = black, ffffff = white, ff0000 = red, ...) COLOR=\"\" # Should the search results be saved to a separate subfolder? # 0 for no separate folder, 1 for separate subfolder SUBFOLDER=0 # User from which wallpapers should be downloaded # used for TYPE=useruploads and TYPE=collections # If you want to download your own Collection this has to be set to your username USR=\"AksumkA\" # use gnu parallel to speed up the download (0, 1), if set to 1 make sure # you have gnuparallel installed, see normal.vs.parallel.txt for # speed improvements # using this option can lead to cloudflare blocking some of the downloads PARALLEL=0 # custom thumbnails per page # changeable here: https://wallhaven.cc/settings/browsing # valid values: 24, 32, 64 # if set to 32 or 64 you need to provide an api key THUMBS=24 ##################################### ### End Configuration Options ### ##################################### function checkDependencies { printf \"Checking dependencies...\" dependencies=(wget jq sed) [[ $PARALLEL == 1 ]] \u0026\u0026 dependencies+=(parallel) for name in \"${dependencies[@]}\" do [[ $(command -v \"$name\" 2\u003e/dev/null) ]] || { printf \"\\n%s needs to be installed. Use your package manager to do so, e.g. 'sudo apt install %s'\" \"$name\" \"$name\";deps=1; } done if [[ $deps -ne 1 ]] then printf \"OK\\n\" else printf \"\\nInstall the above and rerun this script\\n\" exit 1 fi } # /checkDependencies # # sets the authentication header/API key to give the user more functionality # requires 1 arguments: # arg1: API key # function setAPIkeyHeader { # checking parameters -\u003e if not ok print error and exit script if [ $# -lt 1 ] || [ \"$1\" == '' ] then printf \"Please make sure to enter a valid API key,\\n\" printf \"it is needed for NSFW Content and downloading \\n\" printf \"your Collections also make sure your Thumbnails per\\n\" printf \"Page Setting matches the THUMBS Variable\\n\\n\" printf \"Press any key to exit\\n\" read -r exit fi # everythings ok --\u003e set api key header httpHeader=\"X-API-Key: $APIKEY\" } # /setAPIkeyHeader # # downloads Page with Thumbnails # function getPage { # checking parameters -\u003e if not ok print error and exit script if [ $# -lt 1 ] then printf \"getPage expects at least 1 argument\\\\n\" printf \"arg1:\\\\tparameters for the wget -q command\\\\n\\\\n\" printf \"press any key to exit\\\\n\" read -r exit fi # parameters ok --\u003e get page WGET -O tmp \"https://wallhaven.cc/api/v1/$1\" } # /getPage # # downloads all the wallpaper from a wallpaperfile # arg1: the file containing the wallpapers # function downloadWallpapers { if (( \"$page\" \u003e= \"$(jq -r \".meta.last_page\" tmp)\" )) then downloadEndReached=true fi for ((i=0; i\u003cTHUMBS; i++)) do imgURL=$(jq -r \".data[$i].path\" tmp) filename=$(echo \"$imgURL\"| sed \"s/.*\\///\" ) if grep -w \"$filename\" downloaded.txt \u003e/dev/null then printf \"\\\\tWallpaper %s already downloaded!\\\\n\" \"$imgURL\" elif [ $PARALLEL == 1 ] then echo \"$imgURL\" \u003e\u003e download.txt else # check if downloadWallpaper was successful if downloadWallpaper \"$imgURL\" then echo \"$filename\" \u003e\u003e downloaded.txt fi fi done if [ $PARALLEL == 1 ] \u0026\u0026 [ -f ./download.txt ] then # export wget wrapper and download function to make it # available for parallel export -f WGET coolDown downloadWallpaper # shellcheck disable=SC2016 SHELL=$(type -p bash) parallel --gnu --no-notice \\ 'imgURL={} \u0026\u0026 downloadWallpaper $imgURL \u0026\u0026 echo \"$imgURL\"| sed \"s/.*\\///\" \u003e\u003e downloaded.txt' \u003c download.txt rm tmp download.txt else rm tmp fi } # /downloadWallpapers # # downloads a single Wallpaper by guessing its extension, this eliminates # the need to download each wallpaper page, now only the thumbnail page # needs to be downloaded # function downloadWallpaper { if [[ \"$1\" != null ]] then WGET \"$1\" else return 1 fi } # /downloadWallpaper # # Waits for 30 seconds if rate limiting is detected # function coolDown { printf \"\\\\t -Rate Limiting detected, sleeping for 30 seconds\\\\n\" sleep 30 WGET \"$@\" } # /coolDown # # wrapper for wget with some default arguments # arg0: additional arguments for wget (optional) # arg1: file to download # function WGET { # checking parameters -\u003e if not ok print error and exit script if [ $# -lt 1 ] then printf \"WGET expects at least 1 argument\\\\n\" printf \"arg0:\\\\tadditional arguments for wget (optional)\\\\n\" printf \"arg1:\\\\tfile to download\\\\n\\\\n\" printf \"press any key to exit\\\\n\" read -r exit fi # default wget command wget --server-response -q --header=\"$httpHeader\" --keep-session-cookies \\ --save-cookies cookies.txt --load-cookies cookies.txt \"$@\" 2\u003e\u00261 | \\ grep \"429 Too Many Requests\" \u003e/dev/null \u0026\u0026 coolDown \"$@\" return \"${PIPESTATUS[0]}\" } # /WGET # # displays help text (valid command line arguments) # function helpText { printf \"Usage: ./wallhaven.sh [OPTIONS]\\\\n\" printf \"Download wallpapers from wallhaven.cc\\\\n\\\\n\" printf \"If no options are specified, default values from within the \" printf \"script will be used\\\\n\\\\n\" printf \" -l, --location\\\\t\\\\tlocation where the wallpapers will be \" printf \"stored\\\\n\" printf \" -n, --number\\\\t\\\\tNumber of Wallpapers to download\\\\n\" printf \" -s, --startpage\\\\tpage to start downloading from\\\\n\" printf \" -t, --type\\\\t\\\\tType of download Operation: standard, search, \" printf \"\\\\n\\\\t\\\\t\\\\tcollections, useruploads\\\\n\" printf \" -c, --categories\\\\tcategories to download from, eg. 111 for \" printf \"General,\\\\n\\\\t\\\\t\\\\tAnime and People, 1 to include, 0 to exclude\\\\n\" printf \" -f, --filter\\\\t\\\\tfilter out content based on purity rating, \" printf \"eg. 111 \\\\n\\\\t\\\\t\\\\tfor SFW, sketchy and NSFW content, 1 to \" printf \"include, \\\\n\\\\t\\\\t\\\\t0 to exclude\\\\n\" printf \" -r, --resolution\\\\tresolutions to download, separate mutliple\" printf \" \\\\n\\\\t\\\\t\\\\tresolutions by ,\\\\n\" printf \" -g, --atleast\\\\t\\\\tminimum resolution, show all images with a\" printf \"\\\\n\\\\t\\\\t\\\\tresolution greater than the specified value\" printf \"\\\\n\\\\t\\\\t\\\\tdo not use in combination with -r (--resolution)\\\\n\" printf \" -a, --aspectratio\\\\tonly download wallpaper with given \" printf \"aspectratios, \\\\n\\\\t\\\\t\\\\tseparate multiple aspectratios by ,\\\\n\" printf \" -m, --mode\\\\t\\\\tsorting mode for wallpapers: relevance, random\" printf \",\\\\n\\\\t\\\\t\\\\tdate_added, views, favorites \\\\n\" printf \" -o, --order\\\\t\\\\torder ascending (asc) or descending \" printf \"(desc)\\\\n\" printf \" -b, --collection\\\\tname of the collections to download\\\\n\" printf \" -q, --query\\\\t\\\\tsearch query, eg. 'mario', single \" printf \"quotes needed,\\\\n\\\\t\\\\t\\\\tfor searching exact phrases use double \" printf \"quotes \\\\n\\\\t\\\\t\\\\tinside single quotes, eg. '\"super mario\"'\" printf \"\\\\n\" printf \" -d, --dye, --color\\\\tsearch for wallpapers containing the \" printf \"given color,\\\\n\" printf \"\\\\t\\\\t\\\\tcolor values are RGB without a leading #\\\\n\" printf \" -u, --user\\\\t\\\\tdownload wallpapers from given user\\\\n\" printf \" -p, --parallel\\\\t\\\\tmake use of gnu parallel (1 to enable, 0 \" printf \"to disable)\\\\n\" printf \" -v, --version\\\\t\\\\tshow current version\\\\n\" printf \" -h, --help\\\\t\\\\tshow this help text and exit\\\\n\\\\n\" printf \"Examples:\\\\n\" printf \"./wallhaven.sh\\\\t-l ~/wp/ -n 48 -s 1 -t standard -c 101 -f 111\" printf \" -r 1920x1080 \\\\n\\\\t\\\\t-a 16x9 -m random -o desc -p 1\\\\n\\\\n\" printf \"Download 48 random wallpapers with a resolution of 1920x1080 \" printf \"and \\\\nan aspectratio of 16x9 to ~/wp/ starting with page 1 \" printf \"from the \\\\ncategories general and people including SFW, sketchy\" printf \" and NSWF Content\\\\nwhile utilizing gnu parallel\\\\n\\\\n\" printf \"./wallhaven.sh\\\\t-l ~/wp/ -n 48 -s 1 -t search -c 111 -f 100 -r \" printf \"1920x1080 -a 16x9\\\\n\\\\t\\\\t-m relevance -o desc -q \" printf \"'\"super mario\"' -d cc0000 -p 1\\\\n\\\\n\" printf \"Download 48 wallpapers related to the search query \" printf \"\"super mario\" containing \\\\nthe color #cc0000 with a resolution\" printf \" of 1920x1080 and an aspectratio of 16x9\\\\nto ~/wp/ starting \" printf \"with page 1 from the categories general, anime and people,\\\\n\" printf \"including SFW Content and excluding sketchy and NSWF Content \" printf \"while utilizing\\\\ngnu parallel\\\\n\\\\n\\\\n\" printf \"latest version available at: \" printf \"\u003chttps://github.com/macearl/Wallhaven-Downloader\u003e\\\\n\" } # /helptext # Command line Arguments while [[ $# -ge 1 ]] do key=\"$1\" case $key in -l|--location) LOCATION=\"$2\" shift;; -n|--number) WPNUMBER=\"$2\" shift;; -s|--startpage) STARTPAGE=\"$2\" shift;; -t|--type) TYPE=\"$2\" shift;; -c|--categories) CATEGORIES=\"$2\" shift;; -f|--filter) FILTER=\"$2\" shift;; -r|--resolution) RESOLUTION=\"$2\" shift;; -g|--atleast) ATLEAST=\"$2\" shift;; -a|--aspectratio) ASPECTRATIO=\"$2\" shift;; -m|--mode) MODE=\"$2\" shift;; -o|--order) ORDER=\"$2\" shift;; -b|--collection) COLLECTION=\"$2\" shift;; -q|--query) QUERY=${2//\\'/} shift;; -d|--dye|--color) COLOR=\"$2\" shift;; -u|--user) USR=\"$2\" shift;; -p|--parallel) PARALLEL=\"$2\" shift;; -h|--help) helpText exit ;; -v|--version) printf \"Wallhaven Downloader %s\\\\n\" \"$REVISION\" exit ;; *) printf \"unknown option: %s\\\\n\" \"$1\" helpText exit ;; esac shift # past argument or value done checkDependencies # optionally create a separate subfolder for each search query # might download duplicates as each search query has its own list of # downloaded wallpapers if [ \"$TYPE\" == search ] \u0026\u0026 [ \"$SUBFOLDER\" == 1 ] then LOCATION+=/$(echo \"$QUERY\" | sed -e \"s/ /_/g\" -e \"s/+/_/g\" -e \"s/\\\\//_/g\") fi # creates Location folder if it does not exist if [ ! -d \"$LOCATION\" ] then mkdir -p \"$LOCATION\" fi cd \"$LOCATION\" || exit # creates downloaded.txt if it does not exist if [ ! -f ./downloaded.txt ] then touch downloaded.txt fi # set auth header only when it is required ( for example to download your # own collections or nsfw content... ) if [ \"$FILTER\" == 001 ] || [ \"$FILTER\" == 011 ] || [ \"$FILTER\" == 111 ] \\ || [ \"$TYPE\" == collections ] || [ \"$THUMBS\" != 24 ] then setAPIkeyHeader \"$APIKEY\" fi if [ \"$TYPE\" == standard ] then for (( count=0, page=\"$STARTPAGE\"; count\u003c \"$WPNUMBER\"; count=count+\"$THUMBS\", page=page+1 )); do printf \"Download Page %s\\\\n\" \"$page\" s1=\"search?page=$page\u0026categories=$CATEGORIES\u0026purity=$FILTER\u0026\" s1+=\"atleast=$ATLEAST\u0026resolutions=$RESOLUTION\u0026ratios=$ASPECTRATIO\" s1+=\"\u0026sorting=$MODE\u0026order=$ORDER\u0026topRange=$TOPRANGE\u0026colors=$COLOR\" getPage \"$s1\" printf \"\\\\t- done!\\\\n\" printf \"Download Wallpapers from Page %s\\\\n\" \"$page\" downloadWallpapers printf \"\\\\t- done!\\\\n\" if [ \"$downloadEndReached\" = true ] then break fi done elif [ \"$TYPE\" == search ] || [ \"$TYPE\" == useruploads ] then for (( count=0, page=\"$STARTPAGE\"; count\u003c \"$WPNUMBER\"; count=count+\"$THUMBS\", page=page+1 )); do printf \"Download Page %s\\\\n\" \"$page\" s1=\"search?page=$page\u0026categories=$CATEGORIES\u0026purity=$FILTER\u0026\" s1+=\"atleast=$ATLEAST\u0026resolutions=$RESOLUTION\u0026ratios=$ASPECTRATIO\" s1+=\"\u0026sorting=$MODE\u0026order=desc\u0026topRange=$TOPRANGE\u0026colors=$COLOR\" if [ \"$TYPE\" == search ] then s1+=\"\u0026q=$QUERY\" elif [ \"$TYPE\" == useruploads ] then s1+=\"\u0026q=@$USR\" fi getPage \"$s1\" printf \"\\\\t- done!\\\\n\" printf \"Download Wallpapers from Page %s\\\\n\" \"$page\" downloadWallpapers printf \"\\\\t- done!\\\\n\" if [ \"$downloadEndReached\" = true ] then break fi done elif [ \"$TYPE\" == collections ] then if [ \"$USR\" == \"\" ] then printf \"Please check the value specified for USR\\\\n\" printf \"to download a Collection it is necessary to specify a User\\\\n\\\\n\" printf \"Press any key to exit\\\\n\" read -r exit fi getPage \"collections/$USR\" i=0 while label=$(jq -e -r \".data[$i].label\" tmp) id=$(jq -e -r \".data[$i].id\" tmp) collectionsize=$(jq -e -r \".data[$i].count\" tmp) [[ $label != \"$COLLECTION\" \u0026\u0026 $label != null ]] do (( i++ )) done if [ -z \"$id\" ] then printf \"Please check the value specified for COLLECTION\\\\n\" printf \"it seems that a collection with the name \"%s\" does not exist\\\\n\\\\n\" \\ \"$COLLECTION\" printf \"Press any key to exit\\\\n\" read -r exit fi for (( count=0, page=\"$STARTPAGE\"; count\u003c \"$WPNUMBER\" \u0026\u0026 count\u003c \"$collectionsize\"; count=count+\"$THUMBS\", page=page+1 )); do printf \"Download Page %s\\\\n\" \"$page\" getPage \"collections/$USR/$id?page=$page\" printf \"\\\\t- done!\\\\n\" printf \"Download Wallpapers from Page %s\\\\n\" \"$page\" downloadWallpapers printf \"\\\\t- done!\\\\n\" done else printf \"error in TYPE please check Variable\\\\n\" fi rm -f cookies.txt ","description":"\n","tags":[],"title":"\næ‰¹é‡ä¸‹è½½wallhavenå£çº¸","uri":"/posts/post-254/"},{"categories":["è™šæ‹Ÿæœº"],"content":"å‰è¨€\nå¤§å®¶éƒ½çŸ¥é“ï¼Œjvmåœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œé»˜è®¤çš„ä¸€äº›å‚æ•°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™äº›è®¾ç½®çš„é»˜è®¤å‚æ•°åº”å¯¹ä¸€äº›å¹³å¸¸çš„é¡¹ç›®ä¹Ÿå¤Ÿç”¨äº†ã€‚ä½†æ˜¯å¦‚æœé¡¹ç›®ç‰¹åˆ«å¤§äº†ï¼Œéœ€è¦å¢åŠ ä¸€ä¸‹å †å†…å­˜çš„å¤§å°ã€æˆ–è€…æ˜¯ç³»ç»Ÿè€æ˜¯è«æ˜çš„æŒ‚æ‰ï¼Œæƒ³æŸ¥çœ‹ä¸‹gcæ—¥å¿—æ¥æ’æŸ¥ä¸€ä¸‹é”™è¯¯çš„åŸå› ï¼Œéƒ½éœ€è¦å’±ä»¬æ‰‹åŠ¨è®¾ç½®è¿™äº›å‚æ•°ã€‚\n1.verbose:gc è¡¨ç¤ºï¼Œå¯åŠ¨jvmçš„æ—¶å€™ï¼Œè¾“å‡ºjvmé‡Œé¢çš„gcä¿¡æ¯ã€‚æ ¼å¼å¦‚ä¸‹ï¼š\n[Full GC 178K-\u003e99K(1984K)ï¼Œ 0.0253877 secs] è§£è¯» ï¼šFull GC å°±è¡¨ç¤ºæ‰§è¡Œäº†ä¸€æ¬¡Full GCçš„æ“ä½œï¼Œ178K å’Œ99K å°±è¡¨ç¤ºæ‰§è¡ŒGCå‰å†…å­˜å®¹é‡å’Œæ‰§è¡ŒGCåçš„å†…å­˜å®¹é‡ã€‚1984Kå°±è¡¨ç¤ºå†…å­˜æ€»å®¹é‡ã€‚åé¢é‚£ä¸ªæ˜¯æ‰§è¡Œæœ¬æ¬¡GCæ‰€æ¶ˆè€—çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚\n2.-XX:+printGC è¿™ä¸ªæ‰“å°çš„GCä¿¡æ¯è·Ÿä¸Šä¸ªä¸€æ ·ï¼Œå°±ä¸åšä»‹ç»äº†ã€‚\n3.-XX:+PrintGCDetails æ‰“å°GCçš„è¯¦ç»†ä¿¡æ¯ã€‚æ ¼å¼å¦‚ä¸‹ï¼š\nâ€“Heap â€“ def new generation total 13824K, used 11223K [0x27e80000, 0x28d80000, 0x28d80000) â€“ eden space 12288K, 91% used [0x27e80000, 0x28975f20, 0x28a80000) â€“ from space 1536K, 0% used [0x28a80000, 0x28a80000, 0x28c00000) â€“ to space 1536K, 0% used [0x28c00000, 0x28c00000, 0x28d80000) â€“ tenured generation total 5120K, used 0K [0x28d80000, 0x29280000, 0x34680000) â€“ the space 5120K, 0% used [0x28d80000, 0x28d80000, 0x28d80200, 0x29280000) â€“ compacting perm gen total 12288K, used 142K [0x34680000, 0x35280000, 0x38680000) â€“ the space 12288K, 1% used [0x34680000, 0x346a3a90, 0x346a3c00, 0x35280000) â€“ ro space 10240K, 44% used [0x38680000, 0x38af73f0, 0x38af7400, 0x39080000) â€“ rw space 12288K, 52% used [0x39080000, 0x396cdd28, 0x396cde00, 0x39c80000) è§£è¯»ï¼šnew generation å°±æ˜¯å †å†…å­˜é‡Œé¢çš„æ–°ç”Ÿä»£ã€‚totalçš„æ„æ€å°±æ˜¯ä¸€å…±çš„ï¼Œæ‰€ä»¥åé¢è·Ÿçš„å°±æ˜¯æ–°ç”Ÿä»£ä¸€å…±çš„å†…å­˜å¤§å°ã€‚usedä¹Ÿå°±æ˜¯ä½¿ç”¨äº†å¤šå°‘å†…å­˜å¤§å°ã€‚0xå¼€å¤´çš„é‚£ä¸‰ä¸ªåˆ†åˆ«ä»£è¡¨çš„æ˜¯ åº•è¾¹ç•Œï¼Œå½“å‰è¾¹ç•Œï¼Œé«˜è¾¹ç•Œã€‚ä¹Ÿå°±æ˜¯æ–°ç”Ÿä»£è¿™ç‰‡å†…å­˜çš„èµ·å§‹ç‚¹ï¼Œå½“å‰ä½¿ç”¨åˆ°çš„åœ°æ–¹å’Œæœ€å¤§çš„å†…å­˜åœ°ç‚¹ã€‚\neden space è¿™ä¸ªé€šå¸¸è¢«ç¿»è¯‘æˆä¼Šç”¸å›­åŒºï¼Œæ˜¯åœ¨æ–°ç”Ÿä»£é‡Œé¢çš„ï¼Œä¸€äº›åˆ›å»ºçš„å¯¹è±¡éƒ½ä¼šå…ˆè¢«æ”¾è¿›è¿™é‡Œã€‚åé¢é‚£ä¸ª12288Kå°±è¡¨ç¤ºä¼Šç”¸å›­åŒºä¸€å…±çš„å†…å­˜å¤§å°ï¼Œ91% usedï¼Œå¾ˆæ˜æ˜¾ï¼Œè¡¨ç¤ºå·²ç»ä½¿ç”¨äº†ç™¾åˆ†ä¹‹å¤šå°‘ã€‚åé¢çš„é‚£ä¸ª0xè·Ÿä¸Šä¸€è¡Œçš„è§£é‡Šä¸€æ ·ã€‚\nfrom space å’Œto space æ˜¯å¹¸å­˜è€…çš„ä¸¤ä¸ªåŒºã€‚ä¹Ÿæ˜¯å±äºæ–°ç”Ÿä»£çš„ã€‚ä»–ä¸¤ä¸ªåŒºçš„å¤§å°å¿…é¡»æ˜¯ä¸€æ ·çš„ã€‚å› ä¸ºæ–°ç”Ÿä»£çš„GCé‡‡ç”¨çš„æ˜¯å¤åˆ¶ç®—æ³•ï¼Œæ¯æ¬¡åªä¼šç”¨åˆ°ä¸€ä¸ªå¹¸å­˜åŒºï¼Œå½“ä¸€ä¸ªå¹¸å­˜åŒºæ»¡äº†çš„æ—¶å€™ï¼ŒæŠŠè¿˜æ˜¯æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸ªå¹¸å­˜åŒºï¼Œä¸Šä¸ªç›´æ¥æ¸…ç©ºã€‚è¿™æ ·åšå°±ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡äº†ã€‚\ntenured generation å°±è¡¨ç¤ºè€å¹´ä»£ã€‚\ncompacting perm è¡¨ç¤ºæ°¸ä¹…ä»£ã€‚ç”±äºè¿™ä¸¤ä¸ªçš„æ ¼å¼è·Ÿå‰é¢æˆ‘ä»‹ç»çš„é‚£ä¸ªå‡ ä¹ä¸€æ ·ï¼Œæˆ‘å°±ä¸å¿…ä»‹ç»äº†ã€‚\n4.-XX:+PrintGCTimeStamps æ‰“å°GCå‘ç”Ÿçš„æ—¶é—´æˆ³ã€‚æ ¼å¼å¦‚ä¸‹ï¼š\n289.556: [GC [PSYoungGen: 314113K-\u003e15937K(300928K)] 405513K-\u003e107901K(407680K), 0.0178568 secs] [Times: user=0.06 sys=0.00, real=0.01 secs] 293.271: [GC [PSYoungGen: 300865K-\u003e6577K(310720K)] 392829K-\u003e108873K(417472K), 0.0176464 secs] [Times: user=0.06 sys=0.00, real=0.01 secs] è§£è¯»ï¼š289.556è¡¨ç¤ºä»jvmå¯åŠ¨åˆ°å‘ç”Ÿåƒåœ¾å›æ”¶æ‰€ç»å†çš„çš„æ—¶é—´ã€‚GCè¡¨ç¤ºè¿™æ˜¯æ–°ç”Ÿä»£GCï¼ˆMinor GCï¼‰ã€‚PSYoungGenè¡¨ç¤ºæ–°ç”Ÿä»£ä½¿ç”¨çš„æ˜¯å¤šçº¿ç¨‹åƒåœ¾å›æ”¶å™¨Parallel Scavengeã€‚314113K-\u003e15937K(300928K)]è¿™ä¸ªè·Ÿä¸Šé¢é‚£ä¸ªGCæ ¼å¼ä¸€æ ·ï¼Œåªä¸è¿‡ï¼Œè¿™ä¸ªæ˜¯è¡¨ç¤ºçš„æ˜¯æ–°ç”Ÿä»£ï¼Œå¹¸å­˜è€…åŒºã€‚åé¢é‚£ä¸ªæ˜¯æ•´ä¸ªå †çš„å¤§å°ï¼ŒGCå‰å’ŒGCåçš„æƒ…å†µã€‚Timesè¿™ä¸ªæ˜¾è€Œæ˜“è§ï¼Œä»£è¡¨GCçš„æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼Œç”¨æˆ·åƒåœ¾å›æ”¶çš„æ—¶é—´å’Œç³»ç»Ÿæ¶ˆè€—çš„æ—¶é—´å’Œæœ€ç»ˆçœŸå®çš„æ¶ˆè€—æ—¶é—´ã€‚\n5.-X:loggc:log/gc.log è¿™ä¸ªå°±è¡¨ç¤ºï¼ŒæŒ‡å®šè¾“å‡ºgc.logçš„æ–‡ä»¶ä½ç½®ã€‚ï¼ˆæˆ‘è¿™é‡Œå†™çš„log/gc.logå°±è¡¨ç¤ºåœ¨å½“å‰logçš„ç›®å½•é‡Œï¼ŒæŠŠGCæ—¥å¿—å†™åˆ°å«gc.logçš„æ–‡ä»¶é‡Œã€‚ï¼‰\n6.-XX:+PrintHeapAtGC è¡¨ç¤ºæ¯æ¬¡GCåï¼Œéƒ½æ‰“å°å †çš„ä¿¡æ¯ã€‚ï¼ˆè¿™ä¸ªæ‰“å°çš„åŸºæœ¬æ ¼å¼è·Ÿä¸Šé¢ç¬¬äºŒæ¡çš„åŸºæœ¬ç±»ä¼¼ï¼Œæˆ‘ä¹Ÿå°±ä¸æ¯”å¤šè¯´äº†ã€‚ï¼‰\n7.-XX:+TraceClassLoading ç›‘æ§ç±»çš„åŠ è½½ã€‚æ ¼å¼å¦‚ä¸‹ï¼š\nâ€¢[Loaded java.lang.Object from shared objects file] â€¢[Loaded java.io.Serializable from shared objects file] â€¢[Loaded java.lang.Comparable from shared objects file] â€¢[Loaded java.lang.CharSequence from shared objects file] â€¢[Loaded java.lang.String from shared objects file] â€¢[Loaded java.lang.reflect.GenericDeclaration from shared objects file] â€¢[Loaded java.lang.reflect.Type from shared objects file] ä½¿ç”¨è¿™ä¸ªå‚æ•°å°±èƒ½å¾ˆæ¸…æ¥šçš„çœ‹åˆ°é‚£äº›ç±»è¢«åŠ è½½çš„æƒ…å†µäº†ã€‚\n8.-XX:+PrintClassHistogram è·Ÿè¸ªå‚æ•°ã€‚è¿™ä¸ªæŒ‰ä¸‹Ctrl+Breakåï¼Œå°±ä¼šæ‰“å°ä¸€ä¸‹ä¿¡æ¯ï¼š\nnum #instances #bytes class name ---------------------------------------------- 1: 890617 470266000 [B 2: 890643 21375432 java.util.HashMap$Node 3: 890608 14249728 java.lang.Long 4: 13 8389712 [Ljava.util.HashMap$Node; 5: 2062371680 [C 6: 46341904 java.lang.Class â€“åˆ†åˆ«æ˜¾ç¤ºï¼šåºå·ã€å®ä¾‹æ•°é‡ã€æ€»å¤§å°ã€ç±»å‹ã€‚\nè¿™é‡Œé¢é‚£ä¸ªç±»å‹ï¼ŒBå’ŒCçš„å…¶å®å°±æ˜¯byteå’Œcharç±»å‹ã€‚\n9.-Xmx -Xms è¿™ä¸ªå°±è¡¨ç¤ºè®¾ç½®å †å†…å­˜çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚è¿™ä¸ªè®¾ç½®äº†æœ€å¤§å€¼å’Œæœ€å°å€¼åï¼Œjvmå¯åŠ¨åï¼Œå¹¶ä¸ä¼šç›´æ¥è®©å †å†…å­˜å°±æ‰©å¤§åˆ°æŒ‡å®šçš„æœ€å¤§æ•°å€¼ã€‚è€Œæ˜¯ä¼šå…ˆå¼€è¾ŸæŒ‡å®šçš„æœ€å°å †å†…å­˜ï¼Œå¦‚æœç»è¿‡æ•°æ¬¡GCåï¼Œè¿˜ä¸èƒ½ï¼Œæ»¡è¶³ç¨‹åºçš„è¿è¡Œï¼Œæ‰ä¼šé€æ¸çš„æ‰©å®¹å †çš„å¤§å°ï¼Œä½†ä¹Ÿä¸æ˜¯ç›´æ¥æ‰©å¤§åˆ°æœ€å¤§å†…å­˜ã€‚\n10.-Xmn è®¾ç½®æ–°ç”Ÿä»£çš„å†…å­˜å¤§å°ã€‚\n11.-XX:NewRatio æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ¯”ä¾‹ã€‚æ¯”å¦‚ï¼š1ï¼š4ï¼Œå°±æ˜¯æ–°ç”Ÿä»£å äº”åˆ†ä¹‹ä¸€ã€‚\n12.-XX:SurvivorRatio è®¾ç½®ä¸¤ä¸ªSurvivoråŒºå’ŒedenåŒºçš„æ¯”ä¾‹ã€‚æ¯”å¦‚ï¼š2ï¼š8 ï¼Œå°±æ˜¯ä¸€ä¸ªSurvivoråŒºå ååˆ†ä¹‹ä¸€ã€‚\n13.-XX:+HeapDumpOnOutMemoryError å‘ç”ŸOOMæ—¶ï¼Œå¯¼å‡ºå †çš„ä¿¡æ¯åˆ°æ–‡ä»¶ã€‚\n14.-XX:+HeapDumpPath è¡¨ç¤ºï¼Œå¯¼å‡ºå †ä¿¡æ¯çš„æ–‡ä»¶è·¯å¾„ã€‚\n15.-XX:OnOutOfMemoryError å½“ç³»ç»Ÿäº§ç”ŸOOMæ—¶ï¼Œæ‰§è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬å¯ä»¥æ˜¯ä»»æ„åŠŸèƒ½çš„ã€‚æ¯”å¦‚ç”Ÿæˆå½“å‰çº¿ç¨‹çš„dumpæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯å‘é€é‚®ä»¶å’Œé‡å¯ç³»ç»Ÿã€‚\n16.-XX:PermSize -XX:MaxPermSize è®¾ç½®æ°¸ä¹…åŒºçš„å†…å­˜å¤§å°å’Œæœ€å¤§å€¼ã€‚æ°¸ä¹…åŒºå†…å­˜ç”¨å…‰ä¹Ÿä¼šå¯¼è‡´OOMçš„å‘ç”Ÿã€‚\n17.-Xss è®¾ç½®æ ˆçš„å¤§å°ã€‚æ ˆéƒ½æ˜¯æ¯ä¸ªçº¿ç¨‹ç‹¬æœ‰ä¸€ä¸ªï¼Œæ‰€æœ‰ä¸€èˆ¬éƒ½æ˜¯å‡ ç™¾kçš„å¤§å°ã€‚\n","description":"\n","tags":[],"title":"\nå¸¸ç”¨çš„JVMå‚æ•°ï¼Œä½ ç°åœ¨å°±è®°å¥½ï¼","uri":"/posts/post-255/"},{"categories":["æ•°æ®åº“"],"content":"æ•°æ®åº“å¯¹è±¡å‘½åè§„èŒƒ æ•°æ®åº“å¯¹è±¡ æ•°æ®åº“å¯¹è±¡æ˜¯æ•°æ®åº“çš„ç»„æˆéƒ¨åˆ†ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼šè¡¨ï¼ˆTable ï¼‰ã€ç´¢å¼•ï¼ˆIndexï¼‰ã€è§†å›¾ï¼ˆViewï¼‰ã€å›¾è¡¨ï¼ˆDiagramï¼‰ã€ç¼ºçœå€¼ï¼ˆDefaultï¼‰ã€è§„åˆ™ï¼ˆRuleï¼‰ã€è§¦å‘å™¨ï¼ˆTriggerï¼‰ã€å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰ã€ ç”¨æˆ·ï¼ˆUserï¼‰ç­‰ã€‚å‘½åè§„èŒƒæ˜¯æŒ‡æ•°æ®åº“å¯¹è±¡å¦‚æ•°æ®åº“ï¼ˆSCHEMAï¼‰ã€è¡¨ï¼ˆTABLEï¼‰ã€ç´¢å¼•ï¼ˆINDEXï¼‰ã€çº¦æŸï¼ˆCONSTRAINTSï¼‰ç­‰çš„å‘½åçº¦å®šã€‚\næ•°æ®åº“å¯¹è±¡å…¨å±€å‘½åè§„èŒƒ 1ã€å‘½åä½¿ç”¨å…·æœ‰æ„ä¹‰çš„è‹±æ–‡è¯æ±‡ï¼Œè¯æ±‡ä¸­é—´ä»¥ä¸‹åˆ’çº¿åˆ†éš”\n2ã€å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œä»¥è‹±æ–‡å­—æ¯å¼€å¤´\n3ã€é¿å…ç”¨MySQLçš„ä¿ç•™å­—å¦‚ï¼šbackupã€callã€groupç­‰\n4ã€æ‰€æœ‰æ•°æ®åº“å¯¹è±¡ä½¿ç”¨å°å†™å­—æ¯ï¼Œå®é™…ä¸ŠMySQLä¸­æ˜¯å¯ä»¥è®¾ç½®å¤§å°å†™æ˜¯å¦æ•æ„Ÿçš„ï¼Œä¸ºäº†ä¿è¯ç»Ÿä¸€æ€§ï¼Œæˆ‘ä»¬è¿™è¾¹è§„èŒƒå…¨éƒ¨å°å†™è¡¨ç¤ºã€‚\næ•°æ®åº“å‘½åè§„èŒƒ 1ã€æ•°æ®åº“å‘½åå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ã€‚\n2ã€æ•°æ®åº“å‘½åä¸€èˆ¬ä¸ºé¡¹ç›®åç§°+ä»£è¡¨åº“å«ä¹‰çš„ç®€å†™ï¼Œæ¯”å¦‚IMé¡¹ç›®çš„å·¥ä½œæµæ•°æ®åº“ï¼Œå¯ä»¥æ˜¯ im_flowã€‚\n3ã€æ•°æ®åº“åˆ›å»ºæ—¶å¿…é¡»æ·»åŠ é»˜è®¤å­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™å­å¥ã€‚é»˜è®¤å­—ç¬¦é›†ä¸ºUTF8ï¼ˆå·²è¿ç§»dumboçš„ä½¿ç”¨utf8mb4ï¼‰\n4ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\nè¡¨å‘½åè§„èŒƒ 1ã€å¸¸è§„è¡¨è¡¨åä»¥t_å¼€å¤´ï¼Œtä»£è¡¨tableçš„æ„æ€ï¼Œå‘½åè§„åˆ™å³ t + æ¨¡å—ï¼ˆåŒ…å«æ¨¡å—å«ä¹‰çš„ç®€å†™ï¼‰+ è¡¨ï¼ˆåŒ…å«è¡¨å«ä¹‰çš„ç®€å†™ï¼‰ï¼Œæ¯”å¦‚ç”¨æˆ·æ¨¡å—çš„æ•™è‚²ä¿¡æ¯è¡¨ï¼št_user_eduinfoã€‚\n2ã€ä¸´æ—¶è¡¨ï¼ˆRDã€QAæˆ–DBAåŒå­¦ç”¨äºæ•°æ®ä¸´æ—¶å¤„ç†çš„è¡¨ï¼‰ï¼Œå‘½åè§„åˆ™ï¼štempå‰ç¼€+æ¨¡å—+è¡¨+æ—¥æœŸåç¼€ï¼štemp_user_eduinfo_20210719\n3ã€å¤‡ä»½è¡¨ï¼ˆç”¨äºä¿å­˜å’Œå½’æ¡£å†å²æ•°æ®æˆ–è€…ä½œä¸ºç¾å¤‡æ¢å¤çš„æ•°æ®ï¼‰å‘½åè§„åˆ™ï¼Œbakå‰ç¼€+æ¨¡å—+è¡¨+æ—¥æœŸåç¼€ï¼šbak_user_eduinfo_20210719\n4ã€åŒä¸€ä¸ªæ¨¡å—çš„è¡¨å°½å¯èƒ½ä½¿ç”¨ç›¸åŒçš„å‰ç¼€ï¼Œè¡¨åç§°å°½å¯èƒ½è¡¨è¾¾å«ä¹‰\n5ã€å¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ _ åˆ†éš”\n6ã€å¸¸è§„è¡¨è¡¨åå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ï¼Œtempè¡¨å’Œbakè¡¨è§†æƒ…å†µè€Œå®šï¼Œä¹Ÿå°½é‡ç®€çŸ­ä¸ºå®œï¼Œå‘½ååº”ä½¿ç”¨å°å†™\nå­—æ®µå‘½åè§„èŒƒ 1ã€å­—æ®µå‘½åéœ€è¦è¡¨ç¤ºå…¶å®é™…å«ä¹‰çš„è‹±æ–‡å•è¯æˆ–ç®€å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿ _ è¿›è¡Œè¿æ¥ï¼Œå¦‚ service_ipã€service_portã€‚\n2ã€å„è¡¨ä¹‹é—´ç›¸åŒæ„ä¹‰çš„å­—æ®µå¿…é¡»åŒåï¼Œæ¯”å¦‚aè¡¨å’Œbè¡¨éƒ½æœ‰åˆ›å»ºæ—¶é—´ï¼Œåº”è¯¥ç»Ÿä¸€ä¸ºcreate_timeï¼Œä¸ä¸€è‡´ä¼šå¾ˆæ··ä¹±ã€‚\n3ã€å¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ _ åˆ†éš”\n4ã€å­—æ®µåå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ï¼Œå‘½ååº”è¯¥ä½¿ç”¨å°å†™\nç´¢å¼•å‘½åè§„èŒƒ 1ã€å”¯ä¸€ç´¢å¼•ä½¿ç”¨uni + å­—æ®µå æ¥å‘½åï¼šcreate unique index uni_uid on t_user_basic(uid) ã€‚\n2ã€éå”¯ä¸€ç´¢å¼•ä½¿ç”¨idx + å­—æ®µå æ¥å‘½åï¼šcreate index idx_uname_mobile on t_user_basic(uname,mobile) ã€‚\n3ã€å¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ _ åˆ†éš”ã€‚\n4ã€ç´¢å¼•åå°½é‡ä¸è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œå‘½ååº”è¯¥ä½¿ç”¨å°å†™ï¼Œç»„åˆç´¢å¼•çš„å­—æ®µä¸å®œå¤ªå¤šï¼Œä¸ç„¶ä¹Ÿä¸åˆ©äºæŸ¥è¯¢æ•ˆç‡çš„æå‡ã€‚\n5ã€å¤šå•è¯ç»„æˆçš„åˆ—åï¼Œå–å°½å¯èƒ½ä»£è¡¨æ„ä¹‰çš„ç¼©å†™ï¼Œå¦‚ test_contactè¡¨member_idå’Œfriend_idä¸Šçš„ç»„åˆç´¢å¼•ï¼šidx_mid_fidã€‚\n6ã€ç†è§£ç»„åˆç´¢å¼•æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œé¿å…é‡å¤å»ºè®¾ç´¢å¼•ï¼Œå¦‚æœå»ºç«‹äº†(a,b,c)ï¼Œç›¸å½“äºå»ºç«‹äº†(a), (a,b), (a,b,c)ã€‚\nè§†å›¾å‘½åè§„èŒƒ 1ã€è§†å›¾åä»¥vå¼€å¤´ï¼Œè¡¨ç¤ºviewï¼Œå®Œæ•´ç»“æ„æ˜¯v+è§†å›¾å†…å®¹å«ä¹‰ç¼©å†™ã€‚\n2ã€å¦‚æœè§†å›¾åªæ¥æºå•ä¸ªè¡¨ï¼Œåˆ™ä¸ºv+è¡¨åã€‚å¦‚æœè§†å›¾ç”±å‡ ä¸ªè¡¨å…³è”äº§ç”Ÿå°±ç”¨v+ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰è¿æ¥å‡ ä¸ªè¡¨åï¼Œè§†å›¾åå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ã€‚å¦‚è¶…è¿‡30ä¸ªå­—ç¬¦åˆ™å–ç®€å†™ã€‚\n3ã€å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œä¸¥ç¦å¼€å‘äººå‘˜åˆ›å»ºè§†å›¾ã€‚\n4ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\nå­˜å‚¨è¿‡ç¨‹å‘½åè§„èŒƒ 1ã€å­˜å‚¨è¿‡ç¨‹åä»¥spå¼€å¤´ï¼Œè¡¨ç¤ºå­˜å‚¨è¿‡ç¨‹ï¼ˆstorage procedureï¼‰ã€‚ä¹‹åå¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰è¿›è¡Œè¿æ¥ã€‚å­˜å‚¨è¿‡ç¨‹å‘½åä¸­åº”ä½“ç°å…¶åŠŸèƒ½ã€‚å­˜å‚¨è¿‡ç¨‹åå°½é‡ä¸èƒ½è¶…è¿‡30ä¸ªå­—ç¬¦ã€‚\n2ã€å­˜å‚¨è¿‡ç¨‹ä¸­çš„è¾“å…¥å‚æ•°ä»¥i_å¼€å¤´ï¼Œè¾“å‡ºå‚æ•°ä»¥o_å¼€å¤´ã€‚\n3ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\ncreate procedure sp_multi_param(in i_id bigint,in i_name varchar(32),out o_memo varchar(100)) å‡½æ•°å‘½åè§„èŒƒ 1ã€å‡½æ•°åä»¥funcå¼€å§‹ï¼Œè¡¨ç¤ºfunctionã€‚ä¹‹åå¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰è¿›è¡Œè¿æ¥ï¼Œå‡½æ•°å‘½åä¸­åº”ä½“ç°å…¶åŠŸèƒ½ã€‚å‡½æ•°åå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ã€‚\n2ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\ncreate function func_format_date(ctime datetime) è§¦å‘å™¨å‘½åè§„èŒƒ 1ã€è§¦å‘å™¨ä»¥trigå¼€å¤´ï¼Œè¡¨ç¤ºtrigger è§¦å‘å™¨ã€‚\n2ã€åŸºæœ¬éƒ¨åˆ†ï¼Œæè¿°è§¦å‘å™¨æ‰€åŠ çš„è¡¨ï¼Œè§¦å‘å™¨åå°½é‡ä¸è¶…è¿‡30ä¸ªå­—ç¬¦ã€‚\n3ã€åç¼€ï¼ˆ_i,_u,_dï¼‰,è¡¨ç¤ºè§¦å‘æ¡ä»¶çš„è§¦å‘æ–¹å¼ï¼ˆinsert,updateæˆ–deleteï¼‰ã€‚\n4ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\nDROP TRIGGER IF EXISTS trig_attach_log_d; CREATE TRIGGER trig_attach_log_d AFTER DELETE ON t_dept FOR EACH ROW; çº¦æŸå‘½åè§„èŒƒ 1ã€å”¯ä¸€çº¦æŸï¼šuk_è¡¨åç§°_å­—æ®µåã€‚ukæ˜¯UNIQUE KEYçš„ç¼©å†™ã€‚æ¯”å¦‚ç»™ä¸€ä¸ªéƒ¨é—¨çš„éƒ¨é—¨åç§°åŠ ä¸Šå”¯ä¸€çº¦æŸï¼Œæ¥ä¿è¯ä¸é‡åï¼Œå¦‚ä¸‹ï¼šALTER TABLE t_dept ADD CONSTRAINT un_name UNIQUE(name);\n2ã€å¤–é”®çº¦æŸï¼šfk_è¡¨åï¼Œåé¢ç´§è·Ÿè¯¥å¤–é”®æ‰€åœ¨çš„è¡¨åå’Œå¯¹åº”çš„ä¸»è¡¨åï¼ˆä¸å«t_ï¼‰ã€‚å­è¡¨åå’Œçˆ¶è¡¨åç”¨ä¸‹åˆ’çº¿(_)åˆ†éš”ã€‚å¦‚ä¸‹ï¼šALTER TABLE t_user ADD CONSTRAINT fk_user_dept FOREIGN KEY(depno) REFERENCES t_dept (id);\n3ã€éç©ºçº¦æŸï¼šå¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œå»ºè®®æ‰€æœ‰å­—æ®µé»˜è®¤éç©º(not null)ï¼Œä¸åŒæ•°æ®ç±»å‹å¿…é¡»ç»™å‡ºé»˜è®¤å€¼(default)ã€‚\n`id` int(11) NOT NULL, `name` varchar(30) DEFAULT '', `deptId` int(11) DEFAULT 0, `salary` float DEFAULT NULL, 4ã€å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œå»ºè®®ä¸ä½¿ç”¨å¤–é”®ã€‚å‚ç…§å®Œæ•´æ€§ç”±ä»£ç æ§åˆ¶ã€‚è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬æ™®éçš„åšæ³•ï¼Œä»ç¨‹åºè§’åº¦è¿›è¡Œå®Œæ•´æ€§æ§åˆ¶ï¼Œä½†æ˜¯å¦‚æœä¸æ³¨æ„ï¼Œä¹Ÿä¼šäº§ç”Ÿè„æ•°æ®ã€‚\n5ã€å‘½ååº”ä½¿ç”¨å°å†™ã€‚\nç”¨æˆ·å‘½åè§„èŒƒ 1ã€ ç”Ÿäº§ä½¿ç”¨çš„ç”¨æˆ·å‘½åæ ¼å¼ä¸º code_åº”ç”¨\n2ã€ åªè¯»ç”¨æˆ·å‘½åè§„åˆ™ä¸º read_åº”ç”¨\n[æ•°æ®åº“å¯¹è±¡è®¾è®¡è§„èŒƒ å­˜å‚¨å¼•æ“çš„é€‰æ‹© 1ã€å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œå¿…é¡»ä½¿ç”¨innodbå­˜å‚¨å¼•æ“ã€‚\nå¯ä»¥é€šè¿‡ show variables like â€˜default_storage_engineâ€™ æ¥æŸ¥çœ‹å½“å‰é»˜è®¤å¼•æ“ã€‚ä¸»è¦æœ‰MyISAM å’Œ InnoDBï¼Œä»5.5ç‰ˆæœ¬å¼€å§‹é»˜è®¤ä½¿ç”¨ InnoDB å¼•æ“ã€‚\nåŸºæœ¬çš„å·®åˆ«ä¸ºï¼šMyISAMç±»å‹ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ç­‰é«˜çº§å¤„ç†ï¼Œè€ŒInnoDBç±»å‹æ”¯æŒã€‚MyISAMç±»å‹çš„è¡¨å¼ºè°ƒçš„æ˜¯æ€§èƒ½ï¼Œå…¶æ‰§è¡Œé€Ÿåº¦æ¯”InnoDBç±»å‹æ›´å¿«ï¼Œä½†æ˜¯ä¸æä¾›äº‹åŠ¡æ”¯æŒï¼Œè€ŒInnoDBæä¾›äº‹åŠ¡æ”¯æŒä»¥åŠå¤–éƒ¨é”®ç­‰é«˜çº§æ•°æ®åº“åŠŸèƒ½ã€‚\nå­—ç¬¦é›†çš„é€‰æ‹© 1ã€å¦‚æ— ç‰¹æ®Šè¦æ±‚ï¼Œå¿…é¡»ä½¿ç”¨utf8æˆ–utf8mb4ã€‚\nåœ¨å›½å†…ï¼Œé€‰æ‹©å¯¹ä¸­æ–‡å’Œå„è¯­è¨€æ”¯æŒéƒ½éå¸¸å®Œå–„çš„utf8æ ¼å¼æ˜¯æœ€å¥½çš„æ–¹å¼ï¼ŒMySQLåœ¨5.5ä¹‹åå¢åŠ utf8mb4ç¼–ç ï¼Œmb4å°±æ˜¯most bytes 4çš„æ„æ€ï¼Œä¸“é—¨ç”¨æ¥å…¼å®¹å››å­—èŠ‚çš„unicodeã€‚\næ‰€ä»¥utf8mb4æ˜¯utf8çš„è¶…é›†ï¼Œé™¤äº†å°†ç¼–ç æ”¹ä¸ºutf8mb4å¤–ä¸éœ€è¦åšå…¶ä»–è½¬æ¢ã€‚å½“ç„¶ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨utf8ä¹Ÿå°±å¤Ÿäº†ã€‚\nå¯ä»¥ä½¿ç”¨å¦‚ä¸‹è„šæœ¬æ¥æŸ¥çœ‹æ•°æ®åº“çš„ç¼–ç æ ¼å¼\n1 SHOW VARIABLES WHERE Variable_name LIKE 'character_set_%' OR Variable_name LIKE 'collation%'; 2 -- æˆ– 3 SHOW VARIABLES Like '%char%'; è¡¨è®¾è®¡è§„èŒƒ 1ã€ä¸åŒåº”ç”¨é—´æ‰€å¯¹åº”çš„æ•°æ®åº“è¡¨ä¹‹é—´çš„å…³è”åº”å°½å¯èƒ½å‡å°‘ï¼Œä¸å…è®¸ä½¿ç”¨å¤–é”®å¯¹è¡¨ä¹‹é—´è¿›è¡Œå…³è”ï¼Œç¡®ä¿ç»„ä»¶å¯¹åº”çš„è¡¨ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼Œä¸ºç³»ç»Ÿæˆ–è¡¨ç»“æ„çš„é‡æ„æä¾›å¯èƒ½æ€§ã€‚ç›®å‰ä¸šå†…çš„åšæ³•ä¸€èˆ¬ ç”±ç¨‹åºæ§åˆ¶å‚ç…§å®Œæ•´æ€§ã€‚\n2ã€è¡¨è®¾è®¡çš„è§’åº¦ä¸åº”è¯¥é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œæ•°æ®åº“è®¾è®¡ï¼Œè€Œåº”è¯¥æ ¹æ®ç³»ç»Ÿæ¶æ„ä¸­ç»„ä»¶åˆ’åˆ†ï¼Œé’ˆå¯¹æ¯ä¸ªç»„ä»¶æ‰€å¤„ç†çš„ä¸šåŠ¡è¿›è¡Œæ•°æ®åº“è®¾è®¡ã€‚\n3ã€è¡¨å¿…é¡»è¦æœ‰PKï¼Œä¸»é”®çš„ä¼˜åŠ¿æ˜¯å”¯ä¸€æ ‡è¯†ã€æœ‰æ•ˆå¼•ç”¨ã€é«˜æ•ˆæ£€ç´¢ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹å°½é‡æœ‰ä¸»é”®å­—æ®µã€‚\n4ã€ä¸€ä¸ªå­—æ®µåªè¡¨ç¤ºä¸€ä¸ªå«ä¹‰ã€‚\n5ã€è¡¨ä¸åº”è¯¥æœ‰é‡å¤åˆ—ã€‚\n6ã€ç¦æ­¢ä½¿ç”¨å¤æ‚æ•°æ®ç±»å‹(æ•°ç»„,è‡ªå®šä¹‰ç­‰)ï¼ŒJsonç±»å‹çš„ä½¿ç”¨è§†æƒ…å†µè€Œå®šã€‚\n7ã€éœ€è¦joinçš„å­—æ®µ(è¿æ¥é”®)ï¼Œæ•°æ®ç±»å‹å¿…é¡»ä¿æŒç»å¯¹ä¸€è‡´ï¼Œé¿å…éšå¼è½¬æ¢ã€‚æ¯”å¦‚å…³è”çš„å­—æ®µéƒ½æ˜¯intç±»å‹ã€‚\n8ã€è®¾è®¡åº”è‡³å°‘æ»¡è¶³ç¬¬ä¸‰èŒƒå¼,å°½é‡å‡å°‘æ•°æ®å†—ä½™ã€‚ä¸€äº›ç‰¹æ®Šåœºæ™¯å…è®¸åèŒƒå¼åŒ–è®¾è®¡ï¼Œä½†åœ¨é¡¹ç›®è¯„å®¡æ—¶éœ€è¦å¯¹å†—ä½™å­—æ®µçš„è®¾è®¡ç»™å‡ºè§£é‡Šã€‚\n9ã€TEXTå­—æ®µä½œä¸ºå¤§ä½“é‡æ–‡æœ¬å­˜å‚¨ï¼Œå¿…é¡»æ”¾åœ¨ç‹¬ç«‹çš„è¡¨ä¸­ , ç”¨PKä¸ä¸»è¡¨å…³è”ã€‚å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œç¦æ­¢ä½¿ç”¨TEXTã€BLOBå­—æ®µã€‚\n10ã€éœ€è¦å®šæœŸåˆ é™¤(æˆ–è€…è½¬ç§»)è¿‡æœŸæ•°æ®çš„è¡¨ï¼Œé€šè¿‡åˆ†è¡¨è§£å†³ï¼Œæˆ‘ä»¬çš„åšæ³•æ˜¯æŒ‰ç…§2/8æ³•åˆ™å°†æ“ä½œé¢‘ç‡è¾ƒä½çš„å†å²æ•°æ®è¿ç§»åˆ°å†å²è¡¨ä¸­ï¼ŒæŒ‰ç…§æ—¶é—´æˆ–è€…åˆ™æ›¾Idåšåˆ‡å‰²ç‚¹ã€‚\n11ã€å•è¡¨å­—æ®µæ•°ä¸è¦å¤ªå¤šï¼Œå»ºè®®æœ€å¤šä¸è¦å¤§äº50ä¸ªã€‚è¿‡åº¦çš„å®½è¡¨å¯¹æ€§èƒ½ä¹Ÿæ˜¯å¾ˆå¤§çš„å½±å“ã€‚\n12ã€MySQLåœ¨å¤„ç†å¤§è¡¨æ—¶ï¼Œæ€§èƒ½å°±å¼€å§‹æ˜æ˜¾é™ä½ï¼Œæ‰€ä»¥å»ºè®®å•è¡¨ç‰©ç†å¤§å°é™åˆ¶åœ¨16GBï¼Œè¡¨ä¸­æ•°æ®è¡Œæ•°æ§åˆ¶åœ¨2000Wå†…ã€‚\nä¸šå†…çš„è§„åˆ™æ˜¯è¶…è¿‡2000Wæ€§èƒ½å¼€å§‹æ˜æ˜¾é™ä½ã€‚ä½†æ˜¯è¿™ä¸ªå€¼æ˜¯çµæ´»çš„ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œæµ‹è¯•æ¥åˆ¤æ–­ï¼Œæ¯”å¦‚é˜¿é‡Œçš„æ ‡å‡†å°±æ˜¯500Wï¼Œç™¾åº¦çš„ç¡®æ˜¯2000Wã€‚å®é™…ä¸Šæ˜¯å¦å®½è¡¨ï¼Œå•è¡Œæ•°æ®æ‰€å ç”¨çš„ç©ºé—´éƒ½æœ‰èµ·åˆ°ä½œç”¨çš„ã€‚\n13ã€å¦‚æœæ•°æ®é‡æˆ–æ•°æ®å¢é•¿åœ¨å‰æœŸè§„åˆ’æ—¶å°±è¾ƒå¤§ï¼Œé‚£ä¹ˆåœ¨è®¾è®¡è¯„å®¡æ—¶å°±åº”åŠ å…¥åˆ†è¡¨ç­–ç•¥ï¼Œåç»­ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« æ¥åˆ†ææ•°æ®æ‹†åˆ†çš„åšæ³•ï¼šå‚ç›´æ‹†åˆ†ï¼ˆå‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ï¼‰ã€æ°´å¹³æ‹†åˆ†ï¼ˆåˆ†åº“åˆ†è¡¨å’Œåº“å†…åˆ†è¡¨ï¼‰ï¼›\n14ã€æ— ç‰¹æ®Šéœ€æ±‚ï¼Œä¸¥ç¦ä½¿ç”¨åˆ†åŒºè¡¨\nå­—æ®µè®¾è®¡è§„èŒƒ 1ã€INTï¼šå¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œå­˜æ”¾æ•´å‹æ•°å­—ä½¿ç”¨UNSIGNED INTå‹ï¼Œæ•´å‹å­—æ®µåçš„æ•°å­—ä»£è¡¨æ˜¾ç¤ºé•¿åº¦ã€‚æ¯”å¦‚ id int(11) NOT NULL\n2ã€DATETIMEï¼šæ‰€æœ‰éœ€è¦ç²¾ç¡®åˆ°æ—¶é—´(æ—¶åˆ†ç§’)çš„å­—æ®µå‡ä½¿ç”¨DATETIME,ä¸è¦ä½¿ç”¨TIMESTAMPç±»å‹ã€‚\nå¯¹äºTIMESTAMPï¼Œå®ƒæŠŠå†™å…¥çš„æ—¶é—´ä»å½“å‰æ—¶åŒºè½¬åŒ–ä¸ºUTCï¼ˆä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼‰è¿›è¡Œå­˜å‚¨ã€‚æŸ¥è¯¢æ—¶ï¼Œå°†å…¶åˆè½¬åŒ–ä¸ºå®¢æˆ·ç«¯å½“å‰æ—¶åŒºè¿›è¡Œè¿”å›ã€‚è€Œå¯¹äºDATETIMEï¼Œä¸åšä»»ä½•æ”¹å˜ï¼ŒåŸºæœ¬ä¸Šæ˜¯åŸæ ·è¾“å…¥å’Œè¾“å‡ºã€‚\nå¦å¤–DATETIMEå­˜å‚¨çš„èŒƒå›´ä¹Ÿæ¯”è¾ƒå¤§ï¼š\ntimestampæ‰€èƒ½å­˜å‚¨çš„æ—¶é—´èŒƒå›´ä¸ºï¼šâ€˜1970-01-01 00:00:01.000000â€™ åˆ° â€˜2038-01-19 03:14:07.999999â€™ã€‚\ndatetimeæ‰€èƒ½å­˜å‚¨çš„æ—¶é—´èŒƒå›´ä¸ºï¼šâ€˜1000-01-01 00:00:00.000000â€™ åˆ° â€˜9999-12-31 23:59:59.999999â€™ã€‚\nä½†æ˜¯ç‰¹æ®Šæƒ…å†µï¼Œå¯¹äºè·¨æ—¶åŒºçš„ä¸šåŠ¡ï¼ŒTIMESTAMPæ›´ä¸ºåˆé€‚ã€‚\n3ã€VARCHARï¼šæ‰€æœ‰åŠ¨æ€é•¿åº¦å­—ç¬¦ä¸² å…¨éƒ¨ä½¿ç”¨VARCHARç±»å‹,ç±»ä¼¼äºçŠ¶æ€ç­‰æœ‰é™ç±»åˆ«çš„å­—æ®µ,ä¹Ÿä½¿ç”¨å¯ä»¥æ¯”è¾ƒæ˜æ˜¾è¡¨ç¤ºå‡ºå®é™…æ„ä¹‰çš„å­—ç¬¦ä¸²,è€Œä¸åº”è¯¥ä½¿ç”¨INTä¹‹ç±»çš„æ•°å­—æ¥ä»£æ›¿ï¼›VARCHAR(N)ï¼Œ\nNè¡¨ç¤ºçš„æ˜¯å­—ç¬¦æ•°è€Œä¸æ˜¯å­—èŠ‚æ•°ã€‚æ¯”å¦‚VARCHAR(255)ï¼Œå¯ä»¥æœ€å¤§å¯å­˜å‚¨255ä¸ªå­—ç¬¦ï¼ˆå­—ç¬¦åŒ…æ‹¬è‹±æ–‡å­—æ¯ï¼Œæ±‰å­—ï¼Œç‰¹æ®Šå­—ç¬¦ç­‰ï¼‰ã€‚ä½†Nåº”å°½å¯èƒ½å°ï¼Œå› ä¸ºMySQLä¸€ä¸ªè¡¨ä¸­æ‰€æœ‰çš„VARCHARå­—æ®µæœ€å¤§é•¿åº¦æ˜¯65535ä¸ªå­—èŠ‚ï¼Œä¸”å­˜å‚¨å­—ç¬¦ä¸ªæ•°ç”±æ‰€é€‰å­—ç¬¦é›†å†³å®šã€‚\nå¦‚UTF8å­˜å‚¨ä¸€ä¸ªå­—ç¬¦æœ€å¤§è¦3ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆvarcharåœ¨å­˜æ”¾å ç”¨3ä¸ªå­—èŠ‚é•¿åº¦çš„å­—ç¬¦æ—¶ä¸åº”è¶…è¿‡21845ä¸ªå­—ç¬¦ã€‚åŒæ—¶ï¼Œåœ¨è¿›è¡Œæ’åºå’Œåˆ›å»ºä¸´æ—¶è¡¨ä¸€ç±»çš„å†…å­˜æ“ä½œæ—¶ï¼Œä¼šä½¿ç”¨Nçš„é•¿åº¦ç”³è¯·å†…å­˜ã€‚(å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼ŒåŸåˆ™ä¸Šå•ä¸ªvarcharå‹å­—æ®µä¸å…è®¸è¶…è¿‡255ä¸ªå­—ç¬¦)\n4ã€TEXTï¼šä»…ä»…å½“å­—ç¬¦æ•°é‡å¯èƒ½è¶…è¿‡20000ä¸ªçš„æ—¶å€™,æ‰å¯ä»¥ä½¿ç”¨TEXTç±»å‹æ¥å­˜æ”¾å­—ç¬¦ç±»æ•°æ®,å› ä¸ºæ‰€æœ‰MySQLæ•°æ®åº“éƒ½ä¼šä½¿ç”¨UTF8å­—ç¬¦é›†ã€‚\næ‰€æœ‰ä½¿ç”¨TEXTç±»å‹çš„å­—æ®µå¿…é¡»å’ŒåŸè¡¨è¿›è¡Œåˆ†æ‹†ï¼Œä¸åŸè¡¨ä¸»é”®å•ç‹¬ç»„æˆå¦å¤–ä¸€ä¸ªè¡¨è¿›è¡Œå­˜æ”¾ï¼Œä¸å¤§æ–‡æœ¬å­—æ®µçš„éš”ç¦»ï¼Œç›®çš„æ˜¯ã€‚å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œä¸ä½¿ç”¨MEDIUMTEXTã€TEXTã€LONGTEXTç±»å‹\n5ã€å¯¹äºç²¾ç¡®æµ®ç‚¹å‹æ•°æ®å­˜å‚¨ï¼Œéœ€è¦ä½¿ç”¨DECIMALï¼Œä¸¥ç¦ä½¿ç”¨FLOATå’ŒDOUBLEã€‚\n6ã€å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œå°½é‡ä¸ä½¿ç”¨BLOBç±»å‹\n7ã€å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œå­—æ®µå»ºè®®ä½¿ç”¨NOT NULLå±æ€§ï¼Œå¯ç”¨é»˜è®¤å€¼ä»£æ›¿NULL\n8ã€è‡ªå¢å­—æ®µç±»å‹å¿…é¡»æ˜¯æ•´å‹ä¸”å¿…é¡»ä¸ºUNSIGNEDï¼Œæ¨èç±»å‹ä¸ºINTæˆ–BIGINTï¼Œå¹¶ä¸”è‡ªå¢å­—æ®µå¿…é¡»æ˜¯ä¸»é”®æˆ–è€…ä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚\nç´¢å¼•è®¾è®¡è§„èŒƒ 1ã€ç´¢å¼•åŒºåˆ†åº¦\nç´¢å¼•å¿…é¡»åˆ›å»ºåœ¨ç´¢å¼•é€‰æ‹©æ€§ï¼ˆåŒºåˆ†åº¦ï¼‰è¾ƒé«˜çš„åˆ—ä¸Šï¼Œé€‰æ‹©æ€§çš„è®¡ç®—æ–¹å¼ä¸º: selecttivity = count(distinct c_name)/count(*) ; å¦‚æœåŒºåˆ†åº¦ç»“æœå°äº0.2ï¼Œåˆ™ä¸å»ºè®®åœ¨æ­¤åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå¦åˆ™å¤§æ¦‚ç‡ä¼šæ‹–æ…¢SQLæ‰§è¡Œ\n2ã€éµå¾ªæœ€å·¦å‰ç¼€\nå¯¹äºç¡®å®šéœ€è¦ç»„æˆç»„åˆç´¢å¼•çš„å¤šä¸ªå­—æ®µï¼Œè®¾è®¡æ—¶å»ºè®®å°†é€‰æ‹©æ€§é«˜çš„å­—æ®µé å‰æ”¾ã€‚ä½¿ç”¨æ—¶ï¼Œç»„åˆç´¢å¼•çš„é¦–å­—æ®µï¼Œå¿…é¡»åœ¨whereæ¡ä»¶ä¸­ï¼Œä¸”éœ€è¦æŒ‰ç…§æœ€å·¦å‰ç¼€è§„åˆ™å»åŒ¹é…ã€‚\n3ã€ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼Œå¯ä»¥åœ¨ç¨‹åºçº§åˆ«æ¥çº¦æŸå®Œæ•´æ€§\n4ã€Textç±»å‹å­—æ®µå¦‚æœéœ€è¦åˆ›å»ºç´¢å¼•ï¼Œå¿…é¡»ä½¿ç”¨å‰ç¼€ç´¢å¼•\n5ã€å•å¼ è¡¨çš„ç´¢å¼•æ•°é‡ç†è®ºä¸Šåº”æ§åˆ¶åœ¨5ä¸ªä»¥å†…ã€‚ç»å¸¸æœ‰å¤§æ‰¹é‡æ’å…¥ã€æ›´æ–°æ“ä½œè¡¨ï¼Œåº”å°½é‡å°‘å»ºç´¢å¼•ï¼Œç´¢å¼•å»ºç«‹çš„åŸåˆ™ç†è®ºä¸Šæ˜¯å¤šè¯»å°‘å†™çš„åœºæ™¯ã€‚\n6ã€ORDER BYï¼ŒGROUP BYï¼ŒDISTINCTçš„å­—æ®µéœ€è¦æ·»åŠ åœ¨ç´¢å¼•çš„åé¢ï¼Œå½¢æˆè¦†ç›–ç´¢å¼•\n7ã€æ­£ç¡®ç†è§£å’Œè®¡ç®—ç´¢å¼•å­—æ®µçš„åŒºåˆ†åº¦ï¼Œæ–‡ä¸­æœ‰è®¡ç®—è§„åˆ™ï¼ŒåŒºåˆ†åº¦é«˜çš„ç´¢å¼•ï¼Œå¯ä»¥å¿«é€Ÿå¾—å®šä½æ•°æ®ï¼ŒåŒºåˆ†åº¦å¤ªä½ï¼Œæ— æ³•æœ‰æ•ˆçš„åˆ©ç”¨ç´¢å¼•ï¼Œå¯èƒ½éœ€è¦æ‰«æå¤§é‡æ•°æ®é¡µï¼Œå’Œä¸ä½¿ç”¨ç´¢å¼•æ²¡ä»€ä¹ˆå·®åˆ«ã€‚\n8ã€æ­£ç¡®ç†è§£å’Œè®¡ç®—å‰ç¼€ç´¢å¼•çš„å­—æ®µé•¿åº¦ï¼Œæ–‡ä¸­æœ‰åˆ¤æ–­è§„åˆ™ï¼Œåˆé€‚çš„é•¿åº¦è¦ä¿è¯é«˜çš„åŒºåˆ†åº¦å’Œæœ€æ°å½“çš„ç´¢å¼•å­˜å‚¨å®¹é‡ï¼Œåªæœ‰è¾¾åˆ°æœ€ä½³çŠ¶æ€ï¼Œæ‰æ˜¯ä¿è¯é«˜æ•ˆç‡çš„ç´¢å¼•ã€‚\n9ã€è”åˆç´¢å¼•æ³¨æ„æœ€å·¦åŒ¹é…åŸåˆ™ï¼šå¿…é¡»æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºåŒ¹é…ï¼ŒMySQLä¼šä¸€ç›´å‘å³åŒ¹é…ç´¢å¼•ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢(\u003eã€\u003cã€betweenã€like)ç„¶ååœæ­¢åŒ¹é…ã€‚\nå¦‚ï¼šdepno=1 and empname\u003eâ€™â€™ and job=1 å¦‚æœå»ºç«‹(depno,empname,job)é¡ºåºçš„ç´¢å¼•ï¼Œjobæ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„ã€‚\n10ã€åº”éœ€è€Œå–ç­–ç•¥ï¼ŒæŸ¥è¯¢è®°å½•çš„æ—¶å€™ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±ä½¿ç”¨*ï¼Œåªå–éœ€è¦çš„æ•°æ®ï¼Œå¯èƒ½çš„è¯å°½é‡åªåˆ©ç”¨ç´¢å¼•è¦†ç›–ï¼Œå¯ä»¥å‡å°‘å›è¡¨æ“ä½œï¼Œæå‡æ•ˆç‡ã€‚\n11ã€æ­£ç¡®åˆ¤æ–­æ˜¯å¦ä½¿ç”¨è”åˆç´¢å¼•ï¼ˆä¸Šé¢è”åˆç´¢å¼•çš„ä½¿ç”¨é‚£ä¸€å°èŠ‚æœ‰è¯´æ˜åˆ¤æ–­è§„åˆ™ï¼‰ï¼Œä¹Ÿå¯ä»¥è¿›ä¸€æ­¥åˆ†æåˆ°ç´¢å¼•ä¸‹æ¨ï¼ˆIPCï¼‰ï¼Œå‡å°‘å›è¡¨æ“ä½œï¼Œæå‡æ•ˆç‡ã€‚\n12ã€é¿å…ç´¢å¼•å¤±æ•ˆçš„åŸåˆ™ï¼šç¦æ­¢å¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°ã€è¿ç®—ç¬¦æ“ä½œï¼Œä¼šä½¿ç´¢å¼•å¤±æ•ˆã€‚è¿™æ˜¯å®é™…ä¸Šå°±æ˜¯éœ€è¦ä¿è¯ç´¢å¼•æ‰€å¯¹åº”å­—æ®µçš„â€å¹²å‡€åº¦â€œã€‚\n13ã€é¿å…éå¿…è¦çš„ç±»å‹è½¬æ¢ï¼Œå­—ç¬¦ä¸²å­—æ®µä½¿ç”¨æ•°å€¼è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ä¼šå¯¼è‡´ç´¢å¼•æ— æ•ˆã€‚\n14ã€æ¨¡ç³ŠæŸ¥è¯¢â€™%value%â€˜ä¼šä½¿ç´¢å¼•æ— æ•ˆï¼Œå˜ä¸ºå…¨è¡¨æ‰«æï¼Œå› ä¸ºæ— æ³•åˆ¤æ–­æ‰«æçš„åŒºé—´ï¼Œä½†æ˜¯â€™value%â€˜æ˜¯å¯ä»¥æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•ã€‚\n15ã€ç´¢å¼•è¦†ç›–æ’åºå­—æ®µï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ’åºæ­¥éª¤ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡\n16ã€å°½é‡çš„æ‰©å±•ç´¢å¼•ï¼Œéå¿…è¦ä¸æ–°å»ºç´¢å¼•ã€‚æ¯”å¦‚è¡¨ä¸­å·²ç»æœ‰açš„ç´¢å¼•ï¼Œç°åœ¨è¦åŠ (a,b)çš„ç´¢å¼•ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹åŸæ¥çš„ç´¢å¼•å³å¯ã€‚\nä¸¾ä¾‹å­ï¼šæ¯”å¦‚ä¸€ä¸ªå“ç‰Œè¡¨ï¼Œå»ºç«‹çš„çš„ç´¢å¼•å¦‚ä¸‹ï¼Œä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œä¸€ä¸ªå”¯ä¸€ç´¢å¼•\nPRIMARY KEY (`id`), UNIQUE KEY `uni_brand_define` (`app_id`,`define_id`) å½“ä½ åŒäº‹ä¸šåŠ¡ä»£ç ä¸­çš„æ£€ç´¢è¯­å¥å¦‚ä¸‹çš„æ—¶å€™ï¼Œåº”è¯¥ç«‹å³è­¦å‘Šäº†ï¼Œå³æ²¡æœ‰è¦†ç›–ç´¢å¼•ï¼Œä¹Ÿæ²¡æŒ‰ç…§æœ€å·¦å‰ç¼€åŸåˆ™ï¼š\nselect brand_id,brand_name from ds_brand_system where status=? and define_id=? and app_id=? å»ºè®®æ”¹æˆå¦‚ä¸‹ï¼š\nselect brand_id,brand_name from ds_brand_system where app_id=? and define_id=? and status=? çº¦æŸè®¾è®¡è§„èŒƒ 1ã€PKåº”è¯¥æ˜¯æœ‰åºå¹¶ä¸”æ— æ„ä¹‰çš„ï¼Œç”±å¼€å‘äººå‘˜è‡ªå®šä¹‰ï¼Œå°½å¯èƒ½ç®€çŸ­ï¼Œå¹¶ä¸”æ˜¯è‡ªå¢åºåˆ—ã€‚\n2ã€è¡¨ä¸­é™¤PKä»¥å¤–,è¿˜å­˜åœ¨å”¯ä¸€æ€§çº¦æŸçš„,å¯ä»¥åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä»¥â€œuk_â€ä½œä¸ºå‰ç¼€çš„å”¯ä¸€çº¦æŸç´¢å¼•ã€‚\n3ã€PKå­—æ®µä¸å…è®¸æ›´æ–°ã€‚\n4ã€ç¦æ­¢åˆ›å»ºå¤–é”®çº¦æŸï¼Œå¤–é”®çº¦æŸç”±ç¨‹åºæ§åˆ¶ã€‚\n5ã€å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œæ‰€æœ‰å­—æ®µå¿…é¡»æ·»åŠ éç©ºçº¦æŸï¼Œå³not nullã€‚\n6ã€å¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œæ‰€æœ‰å­—æ®µå¿…é¡»æœ‰é»˜è®¤å€¼ã€‚\nSQLä½¿ç”¨è§„èŒƒ select æ£€ç´¢çš„è§„èŒƒæ€§ 1ã€å°½é‡é¿å…ä½¿ç”¨select *ï¼Œjoinè¯­å¥ä½¿ç”¨select *å¯èƒ½å¯¼è‡´åªéœ€è¦è®¿é—®ç´¢å¼•å³å¯å®Œæˆçš„æŸ¥è¯¢éœ€è¦å›è¡¨å–æ•°ã€‚\nä¸€ç§æ˜¯å¯èƒ½å–å‡ºå¾ˆå¤šä¸éœ€è¦çš„æ•°æ®ï¼Œå¯¹äºå®½è¡¨æ¥è¯´ï¼Œè¿™æ˜¯ç¾éš¾ï¼›ä¸€ç§æ˜¯å°½å¯èƒ½é¿å…å›è¡¨ï¼Œå› ä¸ºå–ä¸€äº›æ ¹æœ¬ä¸éœ€è¦çš„æ•°æ®è€Œå›è¡¨å¯¼è‡´æ€§èƒ½ä½ä¸‹ï¼Œæ˜¯å¾ˆä¸åˆç®—ã€‚\n2ã€ä¸¥ç¦ä½¿ç”¨ select * from t_name ï¼Œè€Œä¸åŠ ä»»ä½•whereæ¡ä»¶ï¼Œé“ç†ä¸€æ ·ï¼Œè¿™æ ·ä¼šå˜æˆå…¨è¡¨å…¨å­—æ®µæ‰«æã€‚\n3ã€MySQLä¸­çš„textç±»å‹å­—æ®µå­˜å‚¨ï¼š\n3.1ã€ä¸ä¸å…¶ä»–æ™®é€šå­—æ®µå­˜æ”¾åœ¨ä¸€èµ·,å› ä¸ºè¯»å–æ•ˆç‡ä½ï¼Œä¹Ÿä¼šå½±å“å…¶ä»–è½»é‡å­—æ®µå­˜å–æ•ˆç‡ã€‚\n3.2ã€å¦‚æœä¸éœ€è¦textç±»å‹å­—æ®µï¼Œåˆä½¿ç”¨äº†select *ï¼Œä¼šè®©è¯¥æ‰§è¡Œæ¶ˆè€—å¤§é‡ioï¼Œæ•ˆç‡ä¹Ÿå¾ˆä½ä¸‹\n4ã€åœ¨å–å‡ºå­—æ®µä¸Šå¯ä»¥ä½¿ç”¨ç›¸å…³å‡½æ•°ï¼Œä½†åº”å°½å¯èƒ½é¿å…å‡ºç° now() , rand() , sysdate() ç­‰ä¸ç¡®å®šç»“æœçš„å‡½æ•°ï¼Œåœ¨Whereæ¡ä»¶ä¸­çš„è¿‡æ»¤æ¡ä»¶å­—æ®µä¸Šä¸¥ç¦ä½¿ç”¨ä»»ä½•å‡½æ•°ï¼ŒåŒ…æ‹¬æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°ã€‚å¤§é‡çš„è®¡ç®—å’Œè½¬æ¢ä¼šé€ æˆæ•ˆç‡ä½ä¸‹ï¼Œè¿™ä¸ªåœ¨ç´¢å¼•é‚£è¾¹ä¹Ÿæè¿°è¿‡äº†ã€‚\n5ã€åˆ†é¡µæŸ¥è¯¢è¯­å¥å…¨éƒ¨éƒ½éœ€è¦å¸¦æœ‰æ’åºæ¡ä»¶ , å¦åˆ™å¾ˆå®¹æ˜“å¼•èµ·ä¹±åº\n6ã€ç”¨in()/unionæ›¿æ¢orï¼Œæ•ˆç‡ä¼šå¥½ä¸€äº›ï¼Œå¹¶æ³¨æ„inçš„ä¸ªæ•°å°äº300\n7ã€ä¸¥ç¦ä½¿ç”¨%å‰ç¼€è¿›è¡Œæ¨¡ç³Šå‰ç¼€æŸ¥è¯¢:å¦‚ï¼šselect a,b,c from t_name where a like â€˜%nameâ€™; å¯ä»¥ä½¿ç”¨%æ¨¡ç³Šåç¼€æŸ¥è¯¢å¦‚ï¼šselect a,b from t_name where a like â€˜name%â€™;\n8ã€é¿å…ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸ºjoinæ“ä½œ\né€šå¸¸å­æŸ¥è¯¢åœ¨inå­å¥ä¸­ï¼Œä¸”å­æŸ¥è¯¢ä¸­ä¸ºç®€å•SQL(ä¸åŒ…å«unionã€group byã€order byã€limitä»å¥)æ—¶ï¼Œæ‰å¯ä»¥æŠŠå­æŸ¥è¯¢è½¬åŒ–ä¸ºå…³è”æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ã€‚\nå­æŸ¥è¯¢æ€§èƒ½å·®çš„åŸå› ï¼š\nÂ· å­æŸ¥è¯¢çš„ç»“æœé›†æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œé€šå¸¸å­æŸ¥è¯¢çš„ç»“æœé›†ä¼šè¢«å­˜å‚¨åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œä¸è®ºæ˜¯å†…å­˜ä¸´æ—¶è¡¨è¿˜æ˜¯ç£ç›˜ä¸´æ—¶è¡¨éƒ½ä¸ä¼šå­˜åœ¨ç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢æ€§èƒ½ ä¼šå—åˆ°ä¸€å®šçš„å½±å“ï¼›\nÂ· ç‰¹åˆ«æ˜¯å¯¹äºè¿”å›ç»“æœé›†æ¯”è¾ƒå¤§çš„å­æŸ¥è¯¢ï¼Œå…¶å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“ä¹Ÿå°±è¶Šå¤§ï¼›\nÂ· ç”±äºå­æŸ¥è¯¢ä¼šäº§ç”Ÿå¤§é‡çš„ä¸´æ—¶è¡¨ä¹Ÿæ²¡æœ‰ç´¢å¼•ï¼Œæ‰€ä»¥ä¼šæ¶ˆè€—è¿‡å¤šçš„CPUå’ŒIOèµ„æºï¼Œäº§ç”Ÿå¤§é‡çš„æ…¢æŸ¥è¯¢ã€‚\næ“ä½œçš„è§„èŒƒæ€§ 1ã€ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„INSERTè¯­å¥\nå¦‚ï¼šinsert into values (â€˜aâ€™,â€˜bâ€™,â€˜câ€™); åº”ä½¿ç”¨ insert into t_name(c1,c2,c3) values (â€˜aâ€™,â€˜bâ€™,â€˜câ€™); ã€‚\n2ã€å¤§æ‰¹é‡å†™æ“ä½œï¼ˆUPDATEã€DELETEã€INSERTï¼‰ï¼Œéœ€è¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ\nÂ· å¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿï¼Œç‰¹åˆ«æ˜¯ä¸»ä»æ¨¡å¼ä¸‹ï¼Œå¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿï¼Œå› ä¸ºéœ€è¦slaveä»masterçš„binlogä¸­è¯»å–æ—¥å¿—æ¥è¿›è¡Œæ•°æ®åŒæ­¥ã€‚\nÂ· binlogæ—¥å¿—ä¸ºrowæ ¼å¼æ—¶ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—\nç¨‹åºä¸Šçš„çº¦æŸ åç»­æˆ‘ä»¬å›¢é˜Ÿçš„ç›®æ ‡æ˜¯ç ”å‘è¯„å®¡å·¥å…·å¯¹å¼€å‘åŒå­¦æäº¤çš„å»ºåº“ã€å»ºè¡¨ã€åˆ·æ•°æ®ã€æŸ¥è¯¢çš„è¯­å¥è¿›è¡Œåˆ†æï¼Œçœ‹çœ‹æ˜¯å¦ç¬¦åˆåº”æœ‰çš„è§„èŒƒã€‚å¦‚æœä¸ç¬¦åˆï¼Œé©³å›ä¿®æ”¹ã€‚\n","description":"\n","tags":[],"title":"\nå…¬å¸ç”¨çš„ MySQL å›¢é˜Ÿå¼€å‘è§„èŒƒï¼Œå¤ªè¯¦ç»†äº†ï¼Œå»ºè®®æ”¶è—ï¼","uri":"/posts/post-256/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç”±äºJavaå­—èŠ‚ç çš„æŠ½è±¡çº§åˆ«è¾ƒé«˜ï¼Œå› æ­¤å®ƒä»¬è¾ƒå®¹æ˜“è¢«åç¼–è¯‘ã€‚æœ¬èŠ‚ä»‹ç»äº†å‡ ç§å¸¸ç”¨çš„æ–¹æ³•ï¼Œç”¨äºä¿æŠ¤Javaå­—èŠ‚ç ä¸è¢«åç¼–è¯‘ã€‚é€šå¸¸ï¼Œè¿™äº›æ–¹æ³•ä¸èƒ½å¤Ÿç»å¯¹é˜²æ­¢ç¨‹åºè¢«åç¼–è¯‘ï¼Œè€Œæ˜¯åŠ å¤§åç¼–è¯‘çš„éš¾åº¦è€Œå·²ï¼Œå› ä¸ºè¿™äº›æ–¹æ³•éƒ½æœ‰è‡ªå·±çš„ä½¿ç”¨ç¯å¢ƒå’Œå¼±ç‚¹ã€‚\néš”ç¦»Javaç¨‹åº æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯è®©ç”¨æˆ·ä¸èƒ½å¤Ÿè®¿é—®åˆ°Java Classç¨‹åºï¼Œè¿™ç§æ–¹æ³•æ˜¯æœ€æ ¹æœ¬çš„æ–¹æ³•ï¼Œå…·ä½“å®ç°æœ‰å¤šç§æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†å…³é”®çš„Java Classæ”¾åœ¨æœåŠ¡å™¨ç«¯ï¼Œå®¢æˆ·ç«¯é€šè¿‡è®¿é—®æœåŠ¡å™¨çš„ç›¸å…³æ¥å£æ¥è·å¾—æœåŠ¡ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¿é—®Classæ–‡ä»¶ã€‚\nè¿™æ ·é»‘å®¢å°±æ²¡æœ‰åŠæ³•[åç¼–è¯‘Classæ–‡ä»¶ã€‚ç›®å‰ï¼Œé€šè¿‡æ¥å£æä¾›æœåŠ¡çš„æ ‡å‡†å’Œåè®®ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œä¾‹å¦‚ HTTPã€Web Serviceã€RPCç­‰ã€‚ä½†æ˜¯æœ‰å¾ˆå¤šåº”ç”¨éƒ½ä¸é€‚åˆè¿™ç§ä¿æŠ¤æ–¹å¼ï¼Œä¾‹å¦‚å¯¹äºå•æœºè¿è¡Œçš„ç¨‹åºå°±æ— æ³•éš”ç¦»Javaç¨‹åºã€‚è¿™ç§ä¿æŠ¤æ–¹å¼è§å›¾1æ‰€ç¤ºã€‚\nå¯¹Classæ–‡ä»¶è¿›è¡ŒåŠ å¯† ä¸ºäº†é˜²æ­¢Classæ–‡ä»¶è¢«ç›´æ¥åç¼–è¯‘ï¼Œè®¸å¤šå¼€å‘äººå‘˜å°†ä¸€äº›å…³é”®çš„Classæ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼Œä¾‹å¦‚å¯¹æ³¨å†Œç ã€åºåˆ—å·ç®¡ç†ç›¸å…³çš„ç±»ç­‰ã€‚åœ¨ä½¿ç”¨è¿™äº›è¢«åŠ å¯†çš„ç±»ä¹‹å‰ï¼Œç¨‹åºé¦–å…ˆéœ€è¦å¯¹è¿™äº›ç±»è¿›è¡Œè§£å¯†ï¼Œè€Œåå†å°†è¿™äº›ç±»è£…è½½åˆ°JVMå½“ä¸­ã€‚è¿™äº›ç±»çš„è§£å¯†å¯ä»¥ç”±ç¡¬ä»¶å®Œæˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è½¯ä»¶å®Œæˆã€‚\nåœ¨å®ç°æ—¶ï¼Œå¼€å‘äººå‘˜å¾€å¾€é€šè¿‡è‡ªå®šä¹‰ClassLoaderç±»æ¥å®ŒæˆåŠ å¯†ç±»çš„è£…è½½(æ³¨æ„ç”±äºå®‰å…¨æ€§çš„åŸå› ï¼ŒAppletä¸èƒ½å¤Ÿæ”¯æŒè‡ªå®šä¹‰çš„ ClassLoader)ã€‚è‡ªå®šä¹‰çš„ClassLoaderé¦–å…ˆæ‰¾åˆ°åŠ å¯†çš„ç±»ï¼Œè€Œåè¿›è¡Œè§£å¯†ï¼Œæœ€åå°†è§£å¯†åçš„ç±»è£…è½½åˆ°JVMå½“ä¸­ã€‚\nåœ¨è¿™ç§ä¿æŠ¤æ–¹å¼ä¸­ï¼Œè‡ªå®šä¹‰çš„ClassLoaderæ˜¯éå¸¸å…³é”®çš„ç±»ã€‚ç”±äºå®ƒæœ¬èº«ä¸æ˜¯è¢«åŠ å¯†çš„ï¼Œå› æ­¤å®ƒå¯èƒ½æˆä¸ºé»‘å®¢æœ€å…ˆæ”»å‡»çš„ç›®æ ‡ã€‚å¦‚æœç›¸å…³çš„è§£å¯†å¯†é’¥å’Œç®—æ³•è¢«æ”»å…‹ï¼Œé‚£ä¹ˆè¢«åŠ å¯†çš„ç±»ä¹Ÿå¾ˆå®¹æ˜“è¢«è§£å¯†ã€‚è¿™ç§ä¿æŠ¤æ–¹å¼ç¤ºæ„å›¾è§å›¾2ã€‚\nè½¬æ¢æˆæœ¬åœ°ä»£ç  å°†ç¨‹åºè½¬æ¢æˆæœ¬åœ°ä»£ç ä¹Ÿæ˜¯ä¸€ç§é˜²æ­¢åç¼–è¯‘çš„æœ‰æ•ˆæ–¹æ³•ã€‚å› ä¸ºæœ¬åœ°ä»£ç å¾€å¾€éš¾ä»¥è¢«åç¼–è¯‘ã€‚å¼€å‘äººå‘˜å¯ä»¥é€‰æ‹©å°†æ•´ä¸ªåº”ç”¨ç¨‹åºè½¬æ¢æˆæœ¬åœ°ä»£ç ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å…³é”®æ¨¡å—è½¬æ¢ã€‚å¦‚æœä»…ä»…è½¬æ¢å…³é”®éƒ¨åˆ†æ¨¡å—ï¼ŒJavaç¨‹åºåœ¨ä½¿ç”¨è¿™äº›æ¨¡å—æ—¶ï¼Œéœ€è¦ä½¿ç”¨JNIæŠ€æœ¯è¿›è¡Œè°ƒç”¨ã€‚\nå½“ç„¶ï¼Œåœ¨ä½¿ç”¨è¿™ç§æŠ€æœ¯ä¿æŠ¤Javaç¨‹åºçš„åŒæ—¶ï¼Œä¹Ÿç‰ºç‰²äº†Javaçš„è·¨å¹³å°ç‰¹æ€§ã€‚å¯¹äºä¸åŒçš„å¹³å°ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸åŒç‰ˆæœ¬çš„æœ¬åœ°ä»£ç ï¼Œè¿™å°†åŠ é‡è½¯ä»¶æ”¯æŒå’Œç»´æŠ¤çš„å·¥ä½œã€‚ä¸è¿‡å¯¹äºä¸€äº›å…³é”®çš„æ¨¡å—ï¼Œæœ‰æ—¶è¿™ç§æ–¹æ¡ˆå¾€å¾€æ˜¯å¿…è¦çš„ã€‚\nä¸ºäº†ä¿è¯è¿™äº›æœ¬åœ°ä»£ç ä¸è¢«ä¿®æ”¹å’Œæ›¿ä»£ï¼Œé€šå¸¸éœ€è¦å¯¹è¿™äº›ä»£ç è¿›è¡Œæ•°å­—ç­¾åã€‚åœ¨ä½¿ç”¨è¿™äº›æœ¬åœ°ä»£ç ä¹‹å‰ï¼Œå¾€å¾€éœ€è¦å¯¹è¿™äº›æœ¬åœ°ä»£ç è¿›è¡Œè®¤è¯ï¼Œç¡®ä¿è¿™äº›ä»£ç æ²¡æœ‰è¢«é»‘å®¢æ›´æ”¹ã€‚å¦‚æœç­¾åæ£€æŸ¥é€šè¿‡ï¼Œåˆ™è°ƒç”¨ç›¸å…³JNIæ–¹æ³•ã€‚è¿™ç§ä¿æŠ¤æ–¹å¼ç¤ºæ„å›¾è§å›¾3ã€‚\nä»£ç æ··æ·† ä»£ç æ··æ·†æ˜¯å¯¹Classæ–‡ä»¶è¿›è¡Œé‡æ–°ç»„ç»‡å’Œå¤„ç†ï¼Œä½¿å¾—å¤„ç†åçš„ä»£ç ä¸å¤„ç†å‰ä»£ç å®Œæˆç›¸åŒçš„åŠŸèƒ½(è¯­ä¹‰)ã€‚ä½†æ˜¯æ··æ·†åçš„ä»£ç å¾ˆéš¾è¢«[åç¼–è¯‘ï¼Œå³[åç¼–è¯‘åå¾—å‡ºçš„ä»£ç æ˜¯éå¸¸éš¾æ‡‚ã€æ™¦æ¶©çš„ï¼Œå› æ­¤[åç¼–è¯‘äººå‘˜å¾ˆéš¾å¾—å‡ºç¨‹åºçš„çœŸæ­£è¯­ä¹‰ã€‚\nä»ç†è®ºä¸Šæ¥è¯´ï¼Œé»‘å®¢å¦‚æœæœ‰è¶³å¤Ÿçš„æ—¶é—´ï¼Œè¢«æ··æ·†çš„ä»£ç ä»ç„¶å¯èƒ½è¢«ç ´è§£ï¼Œç”šè‡³ç›®å‰æœ‰äº›äººæ­£åœ¨ç ”åˆ¶åæ··æ·†çš„å·¥å…·ã€‚ä½†æ˜¯ä»å®é™…æƒ…å†µæ¥çœ‹ï¼Œç”±äºæ··æ·†æŠ€æœ¯çš„å¤šå…ƒåŒ–å‘å±•ï¼Œæ··æ·†ç†è®ºçš„æˆç†Ÿï¼Œç»è¿‡æ··æ·†çš„Javaä»£ç è¿˜æ˜¯èƒ½å¤Ÿå¾ˆå¥½åœ°é˜²æ­¢[åç¼–è¯‘ã€‚ä¸‹é¢æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»æ··æ·†æŠ€æœ¯ï¼Œå› ä¸ºæ··æ·†æ˜¯ä¸€ç§ä¿æŠ¤Javaç¨‹åºçš„é‡è¦æŠ€æœ¯ã€‚å›¾4æ˜¯ä»£ç æ··æ·†çš„ç¤ºå›¾ã€‚\nå›¾4 ä»£ç æ··æ·†ç¤ºæ„å›¾\nå‡ ç§æŠ€æœ¯çš„æ€»ç»“ ä»¥ä¸Šå‡ ç§æŠ€æœ¯éƒ½æœ‰ä¸åŒçš„åº”ç”¨ç¯å¢ƒï¼Œå„è‡ªéƒ½æœ‰è‡ªå·±çš„å¼±ç‚¹ï¼Œè¡¨1æ˜¯ç›¸å…³ç‰¹ç‚¹çš„æ¯”è¾ƒã€‚\næ··æ·†æŠ€æœ¯ä»‹ç»\nè¡¨1 ä¸åŒä¿æŠ¤æŠ€æœ¯æ¯”è¾ƒè¡¨\nåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¯¹äºJavaç¨‹åºçš„ä¿æŠ¤ï¼Œæ··æ·†æŠ€æœ¯è¿˜æ˜¯æœ€åŸºæœ¬çš„ä¿æŠ¤æ–¹æ³•ã€‚Javaæ··æ·†å·¥å…·ä¹Ÿéå¸¸å¤šï¼ŒåŒ…æ‹¬å•†ä¸šçš„ã€å…è´¹çš„ã€å¼€æ”¾æºä»£ç çš„ã€‚Sunå…¬å¸ä¹Ÿæä¾›äº†è‡ªå·±çš„æ··æ·†å·¥å…·ã€‚å®ƒä»¬å¤§å¤šéƒ½æ˜¯å¯¹Classæ–‡ä»¶è¿›è¡Œæ··æ·†å¤„ç†ï¼Œä¹Ÿæœ‰å°‘é‡å·¥å…·é¦–å…ˆå¯¹æºä»£ç è¿›è¡Œå¤„ç†ï¼Œç„¶åå†å¯¹Classè¿›è¡Œå¤„ç†ï¼Œè¿™æ ·åŠ å¤§äº†æ··æ·†å¤„ç†çš„åŠ›åº¦ã€‚\nç›®å‰ï¼Œå•†ä¸šä¸Šæ¯”è¾ƒæˆåŠŸçš„æ··æ·†å·¥å…·åŒ…æ‹¬JProofå…¬å¸çš„1stBarrierç³»åˆ—ã€Eastridgeå…¬å¸çš„JShrinkå’Œ 4thpass.comçš„SourceGuardç­‰ã€‚ä¸»è¦çš„æ··æ·†æŠ€æœ¯æŒ‰ç…§æ··æ·†ç›®æ ‡å¯ä»¥è¿›è¡Œå¦‚ä¸‹åˆ†ç±»ï¼Œå®ƒä»¬åˆ†åˆ«ä¸ºç¬¦å·æ··æ·†(Lexical Obfuscation)ã€æ•°æ®æ··æ·†(Data Obfuscation)ã€æ§åˆ¶æ··æ·†(Control Obfuscation)ã€é¢„é˜²æ€§æ··æ·†(Prevent Transformation)ã€‚\nç¬¦å·æ··æ·† åœ¨Classä¸­å­˜åœ¨è®¸å¤šä¸ç¨‹åºæ‰§è¡Œæœ¬èº«æ— å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ–¹æ³•åç§°ã€å˜é‡åç§°ï¼Œè¿™äº›ç¬¦å·çš„åç§°å¾€å¾€å¸¦æœ‰ä¸€å®šçš„å«ä¹‰ã€‚ä¾‹å¦‚æŸä¸ªæ–¹æ³•åä¸º getKeyLength()ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å¾ˆå¯èƒ½å°±æ˜¯ç”¨æ¥è¿”å›Keyçš„é•¿åº¦ã€‚\nç¬¦å·æ··æ·†å°±æ˜¯å°†è¿™äº›ä¿¡æ¯æ‰“ä¹±ï¼ŒæŠŠè¿™äº›ä¿¡æ¯å˜æˆæ— ä»»ä½•æ„ä¹‰çš„è¡¨ç¤ºï¼Œä¾‹å¦‚å°†æ‰€æœ‰çš„å˜é‡ä»vairant_001å¼€å§‹ç¼–å·ï¼›å¯¹äºæ‰€æœ‰çš„æ–¹æ³•ä»method_001å¼€å§‹ç¼–å·ã€‚\nè¿™å°†å¯¹åç¼–è¯‘å¸¦æ¥ä¸€å®šçš„å›°éš¾ã€‚å¯¹äºç§æœ‰å‡½æ•°ã€å±€éƒ¨å˜é‡ï¼Œé€šå¸¸å¯ä»¥æ”¹å˜å®ƒä»¬çš„ç¬¦å·ï¼Œè€Œä¸å½±å“ç¨‹åºçš„è¿è¡Œã€‚ä½†æ˜¯å¯¹äºä¸€äº›æ¥å£åç§°ã€å…¬æœ‰å‡½æ•°ã€æˆå‘˜å˜é‡ï¼Œå¦‚æœæœ‰å…¶å®ƒå¤–éƒ¨æ¨¡å—éœ€è¦å¼•ç”¨è¿™äº›ç¬¦å·ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ä¿ç•™è¿™äº›åç§°ï¼Œå¦åˆ™å¤–éƒ¨æ¨¡å—æ‰¾ä¸åˆ°è¿™äº›åç§°çš„æ–¹æ³•å’Œå˜é‡ã€‚å› æ­¤ï¼Œå¤šæ•°çš„æ··æ·†å·¥å…·å¯¹äºç¬¦å·æ··æ·†ï¼Œéƒ½æä¾›äº†ä¸°å¯Œçš„é€‰é¡¹ï¼Œè®©ç”¨æˆ·é€‰æ‹©æ˜¯å¦ã€å¦‚ä½•è¿›è¡Œç¬¦å·æ··æ·†ã€‚\næ•°æ®æ··æ·† æ•°æ®æ··æ·†æ˜¯å¯¹ç¨‹åºä½¿ç”¨çš„æ•°æ®è¿›è¡Œæ··æ·†ã€‚æ··æ·†çš„æ–¹æ³•ä¹Ÿæœ‰å¤šç§ï¼Œä¸»è¦å¯ä»¥åˆ†ä¸ºæ”¹å˜æ•°æ®å­˜å‚¨åŠç¼–ç (Store and Encode Transform)ã€æ”¹å˜æ•°æ®è®¿é—®(Access Transform)ã€‚\næ”¹å˜æ•°æ®å­˜å‚¨å’Œç¼–ç å¯ä»¥æ‰“ä¹±ç¨‹åºä½¿ç”¨çš„æ•°æ®å­˜å‚¨æ–¹å¼ã€‚ä¾‹å¦‚å°†ä¸€ä¸ªæœ‰10ä¸ªæˆå‘˜çš„æ•°ç»„ï¼Œæ‹†å¼€ä¸º10ä¸ªå˜é‡ï¼Œå¹¶ä¸”æ‰“ä¹±è¿™äº›å˜é‡çš„åå­—ï¼›å°†ä¸€ä¸ªä¸¤ç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ä¸ªä¸€ç»´æ•°ç»„ç­‰ã€‚å¯¹äºä¸€äº›å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å°†æ‰“ä¹±å®ƒçš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ç”¨å¤šä¸ªç±»ä»£æ›¿ä¸€ä¸ªå¤æ‚çš„ç±»ç­‰ã€‚\nå¦å¤–ä¸€ç§æ–¹å¼æ˜¯æ”¹å˜æ•°æ®è®¿é—®ã€‚ä¾‹å¦‚è®¿é—®æ•°ç»„çš„ä¸‹æ ‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€å®šçš„è®¡ç®—ï¼Œå›¾5å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚\nåœ¨å®è·µæ··æ·†å¤„ç†ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•é€šå¸¸æ˜¯ç»¼åˆä½¿ç”¨çš„ï¼Œåœ¨æ‰“ä¹±æ•°æ®å­˜å‚¨çš„åŒæ—¶ï¼Œä¹Ÿæ‰“ä¹±æ•°æ®è®¿é—®çš„æ–¹å¼ã€‚ç»è¿‡å¯¹æ•°æ®æ··æ·†ï¼Œç¨‹åºçš„è¯­ä¹‰å˜å¾—å¤æ‚äº†ï¼Œè¿™æ ·å¢å¤§äº†åç¼–è¯‘çš„éš¾åº¦ã€‚\næ§åˆ¶æ··æ·† æ§åˆ¶æ··æ·†å°±æ˜¯å¯¹ç¨‹åºçš„æ§åˆ¶æµè¿›è¡Œæ··æ·†ï¼Œä½¿å¾—ç¨‹åºçš„æ§åˆ¶æµæ›´åŠ éš¾ä»¥[åç¼–è¯‘ï¼Œé€šå¸¸æ§åˆ¶æµçš„æ”¹å˜éœ€è¦å¢åŠ ä¸€äº›é¢å¤–çš„è®¡ç®—å’Œæ§åˆ¶æµï¼Œå› æ­¤åœ¨æ€§èƒ½ä¸Šä¼šç»™ç¨‹åºå¸¦æ¥ä¸€å®šçš„è´Ÿé¢å½±å“ã€‚æœ‰æ—¶ï¼Œéœ€è¦åœ¨ç¨‹åºçš„æ€§èƒ½å’Œæ··æ·†ç¨‹åº¦ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚æ§åˆ¶æ··æ·†çš„æŠ€æœ¯æœ€ä¸ºå¤æ‚ï¼ŒæŠ€å·§ä¹Ÿæœ€å¤šã€‚è¿™äº›æŠ€æœ¯å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ï¼š\nå¢åŠ æ··æ·†æ§åˆ¶é€šè¿‡å¢åŠ é¢å¤–çš„ã€å¤æ‚çš„æ§åˆ¶æµï¼Œå¯ä»¥å°†ç¨‹åºåŸæ¥çš„è¯­ä¹‰éšè—èµ·æ¥ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæŒ‰æ¬¡åºæ‰§è¡Œçš„ä¸¤ä¸ªè¯­å¥Aã€Bï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€ä¸ªæ§åˆ¶æ¡ä»¶ï¼Œä»¥å†³å®šBçš„æ‰§è¡Œã€‚é€šè¿‡è¿™ç§æ–¹å¼åŠ å¤§åæ±‡ç¼–çš„éš¾åº¦ã€‚ä½†æ˜¯æ‰€æœ‰çš„å¹²æ‰°æ§åˆ¶éƒ½ä¸åº”è¯¥å½±å“Bçš„æ‰§è¡Œã€‚å›¾6å°±ç»™å‡ºä¸‰ç§æ–¹å¼ï¼Œä¸ºè¿™ä¸ªä¾‹å­å¢åŠ æ··æ·†æ§åˆ¶ã€‚\nå›¾6 å¢åŠ æ··æ·†æ§åˆ¶çš„ä¸‰ç§æ–¹å¼\næ§åˆ¶æµé‡ç»„é‡ç»„æ§åˆ¶æµä¹Ÿæ˜¯é‡è¦çš„æ··æ·†æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œç¨‹åºè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨æ··æ·†åï¼Œå¯ä»¥å°†è¯¥æ–¹æ³•ä»£ç åµŒå…¥åˆ°è°ƒç”¨ç¨‹åºå½“ä¸­ã€‚åè¿‡æ¥ï¼Œç¨‹åºä¸­çš„ä¸€æ®µä»£ç ä¹Ÿå¯ä»¥è½¬å˜ä¸ºä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚å¦å¤–ï¼Œå¯¹äºä¸€ä¸ªå¾ªç¯çš„æ§åˆ¶æµï¼Œä¸ºå¯ä»¥æ‹†åˆ†å¤šä¸ªå¾ªç¯çš„æ§åˆ¶æµï¼Œæˆ–è€…å°†å¾ªç¯è½¬åŒ–æˆä¸€ä¸ªé€’å½’è¿‡ç¨‹ã€‚è¿™ç§æ–¹æ³•æœ€ä¸ºå¤æ‚ï¼Œç ”ç©¶çš„äººå‘˜ä¹Ÿéå¸¸å¤šã€‚\né¢„é˜²æ€§æ··æ·† è¿™ç§æ··æ·†é€šå¸¸æ˜¯é’ˆå¯¹ä¸€äº›ä¸“ç”¨çš„åç¼–è¯‘å™¨è€Œè®¾è®¡çš„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™äº›æŠ€æœ¯åˆ©ç”¨åç¼–è¯‘å™¨çš„å¼±ç‚¹æˆ–è€…Bugæ¥è®¾è®¡æ··æ·†æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œæœ‰äº›åç¼–è¯‘å™¨å¯¹äº Returnåé¢çš„æŒ‡ä»¤ä¸è¿›è¡Œåç¼–è¯‘ï¼Œè€Œæœ‰äº›æ··æ·†æ–¹æ¡ˆæ°æ°å°†ä»£ç æ”¾åœ¨Returnè¯­å¥åé¢ã€‚è¿™ç§æ··æ·†çš„æœ‰æ•ˆæ€§å¯¹äºä¸åŒåç¼–è¯‘å™¨çš„ä½œç”¨ä¹Ÿä¸å¤ªç›¸åŒçš„ã€‚ä¸€ä¸ªå¥½çš„æ··æ·†å·¥å…·ï¼Œé€šå¸¸ä¼šç»¼åˆä½¿ç”¨è¿™äº›æ··æ·†æŠ€æœ¯ã€‚\næ¡ˆä¾‹åˆ†æ åœ¨å®è·µå½“ä¸­ï¼Œä¿æŠ¤ä¸€ä¸ªå¤§å‹Javaç¨‹åºç»å¸¸éœ€è¦ç»¼åˆä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œè€Œä¸æ˜¯å•ä¸€ä½¿ç”¨æŸä¸€ç§æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶å¼±ç‚¹å’Œåº”ç”¨ç¯å¢ƒã€‚ç»¼åˆä½¿ç”¨è¿™äº›æ–¹æ³•ä½¿å¾—Javaç¨‹åºçš„ä¿æŠ¤æ›´åŠ æœ‰æ•ˆã€‚å¦å¤–ï¼Œæˆ‘ä»¬ç»å¸¸è¿˜éœ€è¦ä½¿ç”¨å…¶å®ƒçš„ç›¸å…³å®‰å…¨æŠ€æœ¯ï¼Œä¾‹å¦‚å®‰å…¨è®¤è¯ã€æ•°å­—ç­¾åã€PKIç­‰ã€‚\næœ¬æ–‡ç»™å‡ºçš„ä¾‹å­æ˜¯ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œå®ƒæ˜¯ä¸€ä¸ªSCJP(Sun Certificate Java Programmer)çš„æ¨¡æ‹Ÿè€ƒè¯•è½¯ä»¶ã€‚è¯¥åº”ç”¨ç¨‹åºå¸¦æœ‰å¤§é‡çš„æ¨¡æ‹Ÿé¢˜ç›®ï¼Œæ‰€æœ‰çš„é¢˜ç›®éƒ½è¢«åŠ å¯†åå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ã€‚ç”±äºå®ƒæ‰€å¸¦çš„é¢˜åº“æ˜¯è¯¥è½¯ä»¶çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæ‰€ä»¥å…³äºé¢˜åº“çš„å­˜å–å’Œè®¿é—®å°±æˆä¸ºéå¸¸æ ¸å¿ƒçš„ç±»ã€‚ä¸€æ—¦è¿™äº›ç›¸å…³çš„ç±»è¢«åç¼–è¯‘ï¼Œåˆ™æ‰€æœ‰çš„é¢˜åº“å°†è¢«ç ´è§£ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘å¦‚ä½•ä¿æŠ¤è¿™äº›é¢˜åº“åŠç›¸å…³çš„ç±»ã€‚\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ç»¼åˆä¿æŠ¤æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬æœ¬åœ°ä»£ç å’Œæ··æ·†æŠ€æœ¯ã€‚å› ä¸ºè¯¥è½¯ä»¶ä¸»è¦å‘å¸ƒåœ¨Windowsä¸Šï¼Œå› æ­¤è½¬æ¢æˆæœ¬åœ°ä»£ç åï¼Œä»…ä»…éœ€è¦ç»´æŠ¤ä¸€ä¸ªç‰ˆæœ¬çš„æœ¬åœ°ä»£ç ã€‚å¦å¤–ï¼Œæ··æ·†å¯¹Javaç¨‹åºä¹Ÿæ˜¯éå¸¸æœ‰æ•ˆçš„ï¼Œé€‚ç”¨äºè¿™ç§ç‹¬ç«‹å‘å¸ƒçš„åº”ç”¨ç³»ç»Ÿã€‚\nåœ¨å…·ä½“çš„æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬å°†ç¨‹åºåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ç”±æœ¬åœ°ä»£ç ç¼–å†™çš„é¢˜åº“è®¿é—®çš„æ¨¡å—ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ç”±Javaå¼€å‘çš„å…¶å®ƒæ¨¡å—ã€‚è¿™æ ·å¯ä»¥æ›´é«˜ç¨‹åº¦åœ°ä¿æŠ¤é¢˜ç›®ç®¡ç†æ¨¡å—ä¸è¢«[åç¼–è¯‘ã€‚å¯¹äºJavaå¼€å‘çš„æ¨¡å—ï¼Œæˆ‘ä»¬ä»ç„¶è¦ä½¿ç”¨æ··æ·†æŠ€æœ¯ã€‚è¯¥æ–¹æ¡ˆçš„ç¤ºæ„å›¾å‚è§å›¾7ã€‚\nå›¾7 SCJPä¿æŠ¤æŠ€æœ¯æ–¹æ¡ˆå›¾\nå¯¹äºé¢˜ç›®ç®¡ç†æ¨¡å—ï¼Œç”±äºç¨‹åºä¸»è¦åœ¨Windowsä¸‹ä½¿ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨C++å¼€å‘é¢˜åº“è®¿é—®æ¨¡å—ï¼Œå¹¶ä¸”æä¾›äº†ä¸€å®šçš„è®¿é—®æ¥å£ã€‚ä¸ºäº†ä¿æŠ¤é¢˜åº“è®¿é—®çš„æ¥å£ï¼Œæˆ‘ä»¬è¿˜å¢åŠ äº†ä¸€ä¸ªåˆå§‹åŒ–æ¥å£ï¼Œç”¨äºæ¯æ¬¡ä½¿ç”¨é¢˜åº“è®¿é—®æ¥å£ä¹‹å‰çš„åˆå§‹åŒ–å·¥ä½œã€‚å®ƒçš„æ¥å£ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š\nåˆå§‹åŒ–æ¥å£ åœ¨ä½¿ç”¨é¢˜åº“æ¨¡å—ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆè°ƒç”¨åˆå§‹åŒ–æ¥å£ã€‚åœ¨è°ƒç”¨è¯¥æ¥å£æ—¶ï¼Œå®¢æˆ·ç«¯éœ€è¦æä¾›ä¸€ä¸ªéšæœºæ•°ä½œä¸ºå‚æ•°ã€‚é¢˜åº“ç®¡ç†æ¨¡å—å’Œå®¢æˆ·ç«¯é€šè¿‡è¿™ä¸ªéšæœºæ•°ï¼ŒæŒ‰ä¸€å®šçš„ç®—æ³•åŒæ—¶ç”Ÿæˆç›¸åŒçš„SessionKeyï¼Œç”¨äºåŠ å¯†ä»¥åè¾“å…¥å’Œè¾“å‡ºçš„æ‰€æœ‰æ•°æ®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªæœ‰æˆæƒ(æœ‰æ•ˆ)çš„å®¢æˆ·ç«¯æ‰èƒ½å¤Ÿè¿æ¥æ­£ç¡®çš„è¿æ¥ï¼Œç”Ÿæˆæ­£ç¡®çš„ SessionKeyï¼Œç”¨äºè®¿é—®é¢˜åº“ä¿¡æ¯ã€‚éæ³•çš„å®¢æˆ·å¾ˆéš¾ç”Ÿæˆæ­£ç¡®çš„SessionKeyï¼Œå› æ­¤æ— æ³•è·å¾—é¢˜åº“çš„ä¿¡æ¯ã€‚å¦‚æœéœ€è¦å»ºç«‹æ›´é«˜çš„ä¿å¯†çº§åˆ«ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨åŒå‘è®¤è¯æŠ€æœ¯ã€‚\næ•°æ®è®¿é—®æ¥å£ è®¤è¯å®Œæˆä¹‹åï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥æ­£å¸¸çš„è®¿é—®é¢˜åº“æ•°æ®ã€‚ä½†æ˜¯ï¼Œè¾“å…¥å’Œè¾“å‡ºçš„æ•°æ®éƒ½æ˜¯ç”±SessionKeyæ‰€åŠ å¯†çš„æ•°æ®ã€‚å› æ­¤ï¼Œåªæœ‰æ­£ç¡®çš„é¢˜åº“ç®¡ç†æ¨¡å—æ‰èƒ½å¤Ÿä½¿ç”¨é¢˜åº“ç®¡ç†æ¨¡å—ã€‚å›¾8æ—¶åºå›¾è¡¨ç¤ºäº†é¢˜åº“ç®¡ç†æ¨¡å—å’Œå…¶å®ƒéƒ¨åˆ†çš„äº¤äº’è¿‡ç¨‹ã€‚\n","description":"\n","tags":[],"title":"\nå¦‚ä½•é˜²æ­¢ Java ä»£ç è¢«åç¼–è¯‘","uri":"/posts/post-257/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"\n","description":"\n","tags":[],"title":"\nè™šæ‹ŸæœºæŒ‚äº†æ€ä¹ˆåŠï¼Ÿä¸€å¼ å›¾ç»™ä½ è§£å†³äº†ï¼","uri":"/posts/post-258/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"SpringBoot å·²ç»æˆä¸º Java å±Šçš„ No.1 æ¡†æ¶ï¼Œæ¯å¤©éƒ½åœ¨è¹‚èºç€æ•°ç™¾ä¸‡çš„ç¨‹åºå‘˜ä»¬ã€‚å½“æœåŠ¡çš„å‹åŠ›ä¸Šå‡ï¼Œå¯¹ SpringBoot æœåŠ¡çš„ä¼˜åŒ–å°±ä¼šè¢«æä¸Šè®®ç¨‹ã€‚\næœ¬æ–‡å°†è¯¦ç»†è®²è§£ SpringBoot æœåŠ¡ä¼˜åŒ–çš„ä¸€èˆ¬æ€è·¯ï¼Œé€‚åˆæ”¶è—ä¹‹ã€‚\næœ‰ç›‘æ§æ‰æœ‰æ–¹å‘ åœ¨å¼€å§‹å¯¹ SpringBoot æœåŠ¡è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡ï¼ŒæŠŠ SpringBoot æœåŠ¡çš„ä¸€äº›æ•°æ®æš´éœ²å‡ºæ¥ã€‚\næ¯”å¦‚ï¼Œä½ çš„æœåŠ¡ç”¨åˆ°äº†ç¼“å­˜ï¼Œå°±éœ€è¦æŠŠç¼“å­˜å‘½ä¸­ç‡è¿™äº›æ•°æ®è¿›è¡Œæ”¶é›†ï¼›ç”¨åˆ°äº†æ•°æ®åº“è¿æ¥æ± ï¼Œå°±éœ€è¦æŠŠè¿æ¥æ± çš„å‚æ•°ç»™æš´éœ²å‡ºæ¥ã€‚\næˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„ç›‘æ§å·¥å…·æ˜¯ Prometheusï¼Œå®ƒæ˜¯ä¸€ä¸ªæ˜¯æ—¶åºæ•°æ®åº“ï¼Œèƒ½å¤Ÿå­˜å‚¨æˆ‘ä»¬çš„æŒ‡æ ‡ã€‚SpringBoot å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ¥å…¥åˆ° Prometheus ä¸­ã€‚\nåˆ›å»ºä¸€ä¸ª SpringBoot é¡¹ç›®åï¼Œé¦–å…ˆï¼ŒåŠ å…¥ maven ä¾èµ–ã€‚\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-actuator\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eio.micrometer\u003c/groupId\u003e \u003cartifactId\u003emicrometer-registry-prometheus\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eio.micrometer\u003c/groupId\u003e \u003cartifactId\u003emicrometer-core\u003c/artifactId\u003e \u003c/dependency\u003e ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åœ¨ application.properties é…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€æ”¾ç›¸å…³çš„ç›‘æ§æ¥å£ã€‚\nmanagement.endpoint.metrics.enabled=true management.endpoints.web.exposure.include=* management.endpoint.prometheus.enabled=true management.metrics.export.prometheus.enabled=true å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è®¿é—® http://localhost:8080/actuator/prometheus æ¥è·å–ç›‘æ§æ•°æ®ã€‚\næƒ³è¦ç›‘æ§ä¸šåŠ¡æ•°æ®ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ã€‚ä½ åªéœ€è¦æ³¨å…¥ä¸€ä¸ªMeterRegistryå®ä¾‹å³å¯ã€‚\nä¸‹é¢æ˜¯ä¸€æ®µç¤ºä¾‹ä»£ç ï¼š\n@Autowired MeterRegistry registry; @GetMapping(\"/test\") @ResponseBody public String test() { registry.counter(\"test\", \"from\", \"127.0.0.1\", \"method\", \"test\" ).increment(); return \"ok\"; } ä»ç›‘æ§è¿æ¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åˆšåˆšæ·»åŠ çš„ç›‘æ§ä¿¡æ¯ã€‚\ntest_total{from=\"127.0.0.1\",method=\"test\",} 5.0 è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹æµè¡Œçš„ Prometheus ç›‘æ§ä½“ç³»ï¼ŒPrometheus ä½¿ç”¨æ‹‰çš„æ–¹å¼è·å–ç›‘æ§æ•°æ®ï¼Œè¿™ä¸ªæš´éœ²æ•°æ®çš„è¿‡ç¨‹å¯ä»¥äº¤ç»™åŠŸèƒ½æ›´åŠ é½å…¨çš„ telegraf ç»„ä»¶ã€‚\nå¦‚å›¾ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ Grafana è¿›è¡Œç›‘æ§æ•°æ®çš„å±•ç¤ºï¼Œä½¿ç”¨ AlertManager ç»„ä»¶è¿›è¡Œæå‰é¢„è­¦ã€‚è¿™ä¸€éƒ¨åˆ†çš„æ­å»ºå·¥ä½œä¸æ˜¯æˆ‘ä»¬çš„é‡ç‚¹ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯è‡ªè¡Œç ”ç©¶ã€‚\nä¸‹å›¾ä¾¿æ˜¯ä¸€å¼ å…¸å‹çš„ç›‘æ§å›¾ï¼Œå¯ä»¥çœ‹åˆ° Redis çš„ç¼“å­˜å‘½ä¸­ç‡ç­‰æƒ…å†µã€‚\nJavaç”Ÿæˆç«ç„°å›¾ ç«ç„°å›¾æ˜¯ç”¨æ¥åˆ†æç¨‹åºè¿è¡Œç“¶é¢ˆçš„å·¥å…·ã€‚åœ¨çºµå‘ï¼Œè¡¨ç¤ºçš„æ˜¯è°ƒç”¨æ ˆçš„æ·±åº¦ï¼›æ¨ªå‘è¡¨æ˜çš„æ˜¯æ¶ˆè€—çš„æ—¶é—´ã€‚æ‰€ä»¥æ ¼å­çš„å®½åº¦è¶Šå¤§ï¼Œè¶Šè¯´æ˜å®ƒå¯èƒ½æ˜¯ä¸€ä¸ªç“¶é¢ˆã€‚\nç«ç„°å›¾ä¹Ÿå¯ä»¥ç”¨æ¥åˆ†æ Java åº”ç”¨ã€‚å¯ä»¥ä» github ä¸Šä¸‹è½½ async-profiler çš„å‹ç¼©åŒ…è¿›è¡Œç›¸å…³æ“ä½œã€‚\næ¯”å¦‚ï¼Œæˆ‘ä»¬æŠŠå®ƒè§£å‹åˆ° /root/ ç›®å½•ã€‚ç„¶åä»¥ javaagent çš„æ–¹å¼æ¥å¯åŠ¨ Java åº”ç”¨ã€‚\nå‘½ä»¤è¡Œå¦‚ä¸‹ï¼š\njava -agentpath:/root/build/libasyncProfiler.so=start,svg,file=profile.svg -jar spring-petclinic-2.3.1.BUILD-SNAPSHOT.jar è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œåœæ­¢è¿›ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œç”Ÿæˆäº† profile.svg æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯å¯ä»¥ç”¨æµè§ˆå™¨æ‰“å¼€çš„ï¼Œä¸€å±‚å±‚å‘ä¸‹æµè§ˆï¼Œå³å¯æ‰¾åˆ°éœ€è¦ä¼˜åŒ–çš„ç›®æ ‡ã€‚\nSkywalking å¯¹äºä¸€ä¸ª web æœåŠ¡æ¥è¯´ï¼Œæœ€ç¼“æ…¢çš„åœ°æ–¹å°±åœ¨äºæ•°æ®åº“æ“ä½œã€‚æ‰€ä»¥ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜ä¼˜åŒ–ï¼Œèƒ½å¤Ÿè·å¾—æœ€å¤§çš„æ€§èƒ½æå‡ã€‚\nå¯¹äºå¦‚ä½•å®šä½åˆ°å¤æ‚åˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„é—®é¢˜ï¼Œæˆ‘è¿™é‡Œæƒ³è¦åˆ†äº«å¦å¤–ä¸€ä¸ªå·¥å…·ï¼šSkywalkingã€‚\nSkywalking æ˜¯ä½¿ç”¨æ¢é’ˆæŠ€æœ¯ï¼ˆJavaAgentï¼‰æ¥å®ç°çš„ã€‚é€šè¿‡åœ¨ Java çš„å¯åŠ¨å‚æ•°ä¸­ï¼ŒåŠ å…¥ javaagent çš„ Jar åŒ…ï¼Œå³å¯å°†æ€§èƒ½æ•°æ®å’Œè°ƒç”¨é“¾æ•°æ®å°è£…ã€å‘é€åˆ° Skywalking çš„æœåŠ¡å™¨ã€‚\nä¸‹è½½ç›¸åº”çš„å®‰è£…åŒ…ï¼ˆå¦‚æœä½¿ç”¨ ES å­˜å‚¨ï¼Œéœ€è¦ä¸‹è½½ä¸“ç”¨çš„å®‰è£…åŒ…ï¼‰ï¼Œé…ç½®å¥½å­˜å‚¨ä¹‹åï¼Œå³å¯ä¸€é”®å¯åŠ¨ã€‚\nå°† agent çš„å‹ç¼©åŒ…ï¼Œè§£å‹åˆ°ç›¸åº”çš„ç›®å½•ã€‚\ntar xvf skywalking-agent.tar.gz -C /opt/ åœ¨ä¸šåŠ¡å¯åŠ¨å‚æ•°ä¸­åŠ å…¥ agent çš„åŒ…ã€‚æ¯”å¦‚ï¼ŒåŸæ¥çš„å¯åŠ¨å‘½ä»¤æ˜¯ï¼š\njava -jar /opt/test-service/spring-boot-demo.jar --spring.profiles.active=dev æ”¹é€ åçš„å¯åŠ¨å‘½ä»¤æ˜¯ï¼š\njava -javaagent:/opt/skywalking-agent/skywalking-agent.jar -Dskywalking.agent.service_name=the-demo-name -jar /opt/test-service/spring-boot-demo.ja --spring.profiles.active=dev è®¿é—®ä¸€äº›æœåŠ¡çš„é“¾æ¥ï¼Œæ‰“å¼€ Skywalking çš„ UIï¼Œå³å¯çœ‹åˆ°ä¸‹å›¾çš„ç•Œé¢ã€‚æˆ‘ä»¬å¯ä»¥ä»å›¾ä¸­æ‰¾åˆ°å“åº”æ¯”è¾ƒæ…¢ QPS åˆæ¯”è¾ƒé«˜çš„çš„æ¥å£ï¼Œè¿›è¡Œä¸“é¡¹ä¼˜åŒ–ã€‚\nä¼˜åŒ–æ€è·¯ å¯¹ä¸€ä¸ªæ™®é€šçš„ Web æœåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œè¦è®¿é—®åˆ°å…·ä½“çš„æ•°æ®ï¼Œéƒ½è¦ç»å†å“ªäº›ä¸»è¦çš„ç¯èŠ‚ã€‚\nå¦‚ä¸‹å›¾ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç›¸åº”çš„åŸŸåï¼Œéœ€è¦é€šè¿‡ DNS è§£æåˆ°å…·ä½“çš„ IP åœ°å€ä¸Šã€‚ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œæˆ‘ä»¬çš„æœåŠ¡ä¸€èˆ¬éƒ½ä¼šéƒ¨ç½²å¤šä»½ï¼Œç„¶åä½¿ç”¨ Nginx åšåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ã€‚\nNginx æ ¹æ®èµ„æºçš„ç‰¹æ€§ï¼Œä¼šæ‰¿æ‹…ä¸€éƒ¨åˆ†åŠ¨é™åˆ†ç¦»çš„åŠŸèƒ½ã€‚å…¶ä¸­ï¼ŒåŠ¨æ€åŠŸèƒ½éƒ¨åˆ†ï¼Œä¼šè¿›å…¥æˆ‘ä»¬çš„ SpringBoot æœåŠ¡\nSpringBoot é»˜è®¤ä½¿ç”¨å†…åµŒçš„ tomcat ä½œä¸º Web å®¹å™¨ï¼Œä½¿ç”¨å…¸å‹çš„ MVC æ¨¡å¼ï¼Œæœ€ç»ˆè®¿é—®åˆ°æˆ‘ä»¬çš„æ•°æ®ã€‚\nHTTPä¼˜åŒ– ä¸‹é¢æˆ‘ä»¬ä¸¾ä¾‹æ¥çœ‹ä¸€ä¸‹ï¼Œå“ªäº›åŠ¨ä½œèƒ½å¤ŸåŠ å¿«ç½‘é¡µçš„è·å–ã€‚ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä»…è®¨è®º HTTP1.1 åè®®çš„ã€‚\nä½¿ç”¨ CDN åŠ é€Ÿæ–‡ä»¶è·å– æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå°½é‡ä½¿ç”¨ CDNï¼ˆContent Delivery Networkï¼‰åˆ†å‘ã€‚ç”šè‡³æ˜¯ä¸€äº›å¸¸ç”¨çš„å‰ç«¯è„šæœ¬ã€æ ·å¼ã€å›¾ç‰‡ç­‰ï¼Œéƒ½å¯ä»¥æ”¾åˆ° CDN ä¸Šã€‚CDN é€šå¸¸èƒ½å¤ŸåŠ å¿«è¿™äº›æ–‡ä»¶çš„è·å–ï¼Œç½‘é¡µåŠ è½½ä¹Ÿæ›´åŠ è¿…é€Ÿã€‚\nåˆç†è®¾ç½® Cache-Control å€¼ æµè§ˆå™¨ä¼šåˆ¤æ–­ HTTP å¤´ Cache-Control çš„å†…å®¹ï¼Œç”¨æ¥å†³å®šæ˜¯å¦ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œè¿™åœ¨ç®¡ç†ä¸€äº›é™æ€æ–‡ä»¶çš„æ—¶å€™ï¼Œéå¸¸æœ‰ç”¨ã€‚\nç›¸åŒä½œç”¨çš„å¤´ä¿¡æ¯è¿˜æœ‰ Expiresã€‚Cache-Control è¡¨ç¤ºå¤šä¹…ä¹‹åè¿‡æœŸï¼ŒExpires åˆ™è¡¨ç¤ºä»€ä¹ˆæ—¶å€™è¿‡æœŸã€‚\nè¿™ä¸ªå‚æ•°å¯ä»¥åœ¨ Nginx çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ï¼š\nlocation ~* ^.+\\.(ico|gif|jpg|jpeg|png)$ { # ç¼“å­˜1å¹´ add_header Cache-Control: no-cache, max-age=31536000; } å‡å°‘å•é¡µé¢è¯·æ±‚åŸŸåçš„æ•°é‡ å‡å°‘æ¯ä¸ªé¡µé¢è¯·æ±‚çš„åŸŸåæ•°é‡ï¼Œå°½é‡ä¿è¯åœ¨ 4 ä¸ªä¹‹å†…ã€‚è¿™æ˜¯å› ä¸ºï¼Œæµè§ˆå™¨æ¯æ¬¡è®¿é—®åç«¯çš„èµ„æºï¼Œéƒ½éœ€è¦å…ˆæŸ¥è¯¢ä¸€æ¬¡ DNSï¼Œç„¶åæ‰¾åˆ° DNS å¯¹åº”çš„ IP åœ°å€ï¼Œå†è¿›è¡ŒçœŸæ­£çš„è°ƒç”¨ã€‚\nDNS æœ‰å¤šå±‚ç¼“å­˜ï¼Œæ¯”å¦‚æµè§ˆå™¨ä¼šç¼“å­˜ä¸€ä»½ã€æœ¬åœ°ä¸»æœºä¼šç¼“å­˜ã€ISP æœåŠ¡å•†ç¼“å­˜ç­‰ã€‚ä» DNS åˆ° IP åœ°å€çš„è½¬å˜ï¼Œé€šå¸¸ä¼šèŠ±è´¹ 20-120ms çš„æ—¶é—´ã€‚å‡å°‘åŸŸåçš„æ•°é‡ï¼Œå¯åŠ å¿«èµ„æºçš„è·å–ã€‚\nå¼€å¯ gzip å¼€å¯ gzipï¼Œå¯ä»¥å…ˆæŠŠå†…å®¹å‹ç¼©åï¼Œæµè§ˆå™¨å†è¿›è¡Œè§£å‹ã€‚ç”±äºå‡å°‘äº†ä¼ è¾“çš„å¤§å°ï¼Œä¼šå‡å°‘å¸¦å®½çš„ä½¿ç”¨ï¼Œæé«˜ä¼ è¾“æ•ˆç‡ã€‚\nåœ¨ Nginx ä¸­å¯ä»¥å¾ˆå®¹æ˜“çš„å¼€å¯ã€‚é…ç½®å¦‚ä¸‹ï¼š\ngzip on; gzip_min_length 1k; gzip_buffers 4 16k; gzip_comp_level 6; gzip_http_version 1.1; gzip_types text/plain application/javascript text/css; å¯¹èµ„æºè¿›è¡Œå‹ç¼© å¯¹ JavaScript å’Œ CSSï¼Œç”šè‡³æ˜¯ HTML è¿›è¡Œå‹ç¼©ã€‚é“ç†ç±»ä¼¼ï¼Œç°åœ¨æµè¡Œçš„å‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯¹è¿™äº›èµ„æºè¿›è¡Œå‹ç¼©çš„ã€‚\nä½¿ç”¨ keepalive ç”±äºè¿æ¥çš„åˆ›å»ºå’Œå…³é—­ï¼Œéƒ½éœ€è¦è€—è´¹èµ„æºã€‚ç”¨æˆ·è®¿é—®æˆ‘ä»¬çš„æœåŠ¡åï¼Œåç»­ä¹Ÿä¼šæœ‰æ›´å¤šçš„äº’åŠ¨ï¼Œæ‰€ä»¥ä¿æŒé•¿è¿æ¥å¯ä»¥æ˜¾è‘—å‡å°‘ç½‘ç»œäº¤äº’ï¼Œæé«˜æ€§èƒ½ã€‚\nnginx é»˜è®¤å¼€å¯äº†å¯¹å®¢æˆ·ç«¯çš„ keep avlide æ”¯æŒã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å®ƒçš„è¡Œä¸ºã€‚\nhttp { keepalive_timeout 120s 120s; keepalive_requests 10000; } nginx ä¸åç«¯ upstream çš„é•¿è¿æ¥ï¼Œéœ€è¦æ‰‹å·¥å¼€å¯ï¼Œå‚è€ƒé…ç½®å¦‚ä¸‹ï¼š\nlocation ~ /{ proxy_pass http://backend; proxy_http_version 1.1; proxy_set_header Connection \"\"; } Tomcatä¼˜åŒ– Tomcat æœ¬èº«çš„ä¼˜åŒ–ï¼Œä¹Ÿæ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚å¯ä»¥ç›´æ¥å‚è€ƒï¼šã€Šæå®štomcaté‡è¦å‚æ•°è°ƒä¼˜ï¼ã€‹\nè‡ªå®šä¹‰Webå®¹å™¨ å¦‚æœä½ çš„é¡¹ç›®å¹¶å‘é‡æ¯”è¾ƒé«˜ï¼Œæƒ³è¦ä¿®æ”¹æœ€å¤§çº¿ç¨‹æ•°ã€æœ€å¤§è¿æ¥æ•°ç­‰é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ Web å®¹å™¨çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n@SpringBootApplication(proxyBeanMethods = false) public class App implements WebServerFactoryCustomizer\u003cConfigurableServletWebServerFactory\u003e { public static void main(String[] args) { SpringApplication.run(PetClinicApplication.class, args); } @Override public void customize(ConfigurableServletWebServerFactory factory) { TomcatServletWebServerFactory f = (TomcatServletWebServerFactory) factory; f.setProtocol(\"org.apache.coyote.http11.Http11Nio2Protocol\"); f.addConnectorCustomizers(c -\u003e { Http11NioProtocol protocol = (Http11NioProtocol) c.getProtocolHandler(); protocol.setMaxConnections(200); protocol.setMaxThreads(200); protocol.setSelectorTimeout(3000); protocol.setSessionTimeout(3000); protocol.setConnectionTimeout(3000); }); } } æ³¨æ„ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬è®¾ç½®äº†å®ƒçš„åè®®ä¸º org.apache.coyote.http11.Http11Nio2Protocolï¼Œæ„æ€å°±æ˜¯å¼€å¯äº† Nio2ã€‚\nè¿™ä¸ªå‚æ•°åœ¨ Tomcat8.0 ä¹‹åæ‰æœ‰ï¼Œå¼€å¯ä¹‹åä¼šå¢åŠ ä¸€éƒ¨åˆ†æ€§èƒ½ã€‚å¯¹æ¯”å¦‚ä¸‹ï¼š\né»˜è®¤ï¼š\n[root@localhost wrk2-master]# ./wrk -t2 -c100 -d30s -R2000 http://172.16.1.57:8080/owners?lastName= Running 30s test @ http://172.16.1.57:8080/owners?lastName= 2 threads and 100 connections Thread calibration: mean lat.: 4588.131ms, rate sampling interval: 16277ms Thread calibration: mean lat.: 4647.927ms, rate sampling interval: 16285ms Thread Stats Avg Stdev Max +/- Stdev Latency 16.49s 4.98s 27.34s 63.90% Req/Sec 106.50 1.50 108.00 100.00% 6471 requests in 30.03s, 39.31MB read Socket errors: connect 0, read 0, write 0, timeout 60 Requests/sec: 215.51 Transfer/sec: 1.31MB Nio2ï¼š\n[root@localhost wrk2-master]# ./wrk -t2 -c100 -d30s -R2000 http://172.16.1.57:8080/owners?lastName= Running 30s test @ http://172.16.1.57:8080/owners?lastName= 2 threads and 100 connections Thread calibration: mean lat.: 4358.805ms, rate sampling interval: 15835ms Thread calibration: mean lat.: 4622.087ms, rate sampling interval: 16293ms Thread Stats Avg Stdev Max +/- Stdev Latency 17.47s 4.98s 26.90s 57.69% Req/Sec 125.50 2.50 128.00 100.00% 7469 requests in 30.04s, 45.38MB read Socket errors: connect 0, read 0, write 0, timeout 4 Requests/sec: 248.64 Transfer/sec: 1.51MB ä½ ç”šè‡³å¯ä»¥å°† tomcat æ›¿æ¢æˆ undertowã€‚undertow ä¹Ÿæ˜¯ä¸€ä¸ª Web å®¹å™¨ï¼Œæ›´åŠ è½»é‡çº§ä¸€äº›ï¼Œå ç”¨çš„å†…å®¹æ›´å°‘ï¼Œå¯åŠ¨çš„å®ˆæŠ¤è¿›ç¨‹ä¹Ÿæ›´å°‘ï¼Œæ›´æ”¹æ–¹å¼å¦‚ä¸‹ï¼š\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-web\u003c/artifactId\u003e \u003cexclusions\u003e \u003cexclusion\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-tomcat\u003c/artifactId\u003e \u003c/exclusion\u003e \u003c/exclusions\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-undertow\u003c/artifactId\u003e \u003c/dependency\u003e å„ä¸ªå±‚æ¬¡çš„ä¼˜åŒ–æ–¹å‘ Controller å±‚ controller å±‚ç”¨äºæ¥æ”¶å‰ç«¯çš„æŸ¥è¯¢å‚æ•°ï¼Œç„¶åæ„é€ æŸ¥è¯¢ç»“æœã€‚ç°åœ¨å¾ˆå¤šé¡¹ç›®éƒ½é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ï¼Œæ‰€ä»¥ controller å±‚çš„æ–¹æ³•ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ @ResponseBody æ³¨è§£ï¼ŒæŠŠæŸ¥è¯¢çš„ç»“æœï¼Œè§£ææˆ JSON æ•°æ®è¿”å›ï¼ˆå…¼é¡¾æ•ˆç‡å’Œå¯è¯»æ€§ï¼‰ã€‚\nç”±äº controller åªæ˜¯å……å½“äº†ä¸€ä¸ªç±»ä¼¼åŠŸèƒ½ç»„åˆå’Œè·¯ç”±çš„è§’è‰²ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†å¯¹æ€§èƒ½çš„å½±å“å°±ä¸»è¦ä½“ç°åœ¨æ•°æ®é›†çš„å¤§å°ä¸Šã€‚å¦‚æœç»“æœé›†åˆéå¸¸å¤§ï¼ŒJSON è§£æç»„ä»¶å°±è¦èŠ±è´¹è¾ƒå¤šçš„æ—¶é—´è¿›è¡Œè§£æã€‚\nå¤§ç»“æœé›†ä¸ä»…ä¼šå½±å“è§£ææ—¶é—´ï¼Œè¿˜ä¼šé€ æˆå†…å­˜æµªè´¹ã€‚å‡å¦‚ç»“æœé›†åœ¨è§£ææˆ JSON ä¹‹å‰ï¼Œå ç”¨çš„å†…å­˜æ˜¯ 10MBï¼Œé‚£ä¹ˆåœ¨è§£æè¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šä½¿ç”¨ 20M æˆ–è€…æ›´å¤šçš„å†…å­˜å»åšè¿™ä¸ªå·¥ä½œã€‚\næˆ‘è§è¿‡å¾ˆå¤šæ¡ˆä¾‹ï¼Œç”±äºè¿”å›å¯¹è±¡çš„åµŒå¥—å±‚æ¬¡å¤ªæ·±ã€å¼•ç”¨äº†ä¸è¯¥å¼•ç”¨çš„å¯¹è±¡ï¼ˆæ¯”å¦‚éå¸¸å¤§çš„ byte[] å¯¹è±¡ï¼‰ï¼Œé€ æˆäº†å†…å­˜ä½¿ç”¨çš„é£™å‡ã€‚\næ‰€ä»¥ï¼Œå¯¹äºä¸€èˆ¬çš„æœåŠ¡ï¼Œä¿æŒç»“æœé›†çš„ç²¾ç®€ï¼Œæ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œè¿™ä¹Ÿæ˜¯ DTOï¼ˆdata transfer objectï¼‰å­˜åœ¨çš„å¿…è¦ã€‚\nå¦‚æœä½ çš„é¡¹ç›®ï¼Œè¿”å›çš„ç»“æœç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œå¯¹ç»“æœé›†è¿›è¡Œä¸€æ¬¡è½¬æ¢æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚\nå¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨å¼‚æ­¥ Servlet å¯¹ Controller å±‚è¿›è¡Œä¼˜åŒ–ã€‚å®ƒçš„åŸç†å¦‚ä¸‹ï¼šServlet æ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œå°†è¯·æ±‚è½¬äº¤ç»™ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹æ¥æ‰§è¡Œä¸šåŠ¡å¤„ç†ï¼Œçº¿ç¨‹æœ¬èº«è¿”å›è‡³å®¹å™¨ï¼Œå¼‚æ­¥çº¿ç¨‹å¤„ç†å®Œä¸šåŠ¡ä»¥åï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆå“åº”æ•°æ®ï¼Œæˆ–è€…å°†è¯·æ±‚ç»§ç»­è½¬å‘ç»™å…¶å®ƒ Servletã€‚\nService å±‚ service å±‚ç”¨äºå¤„ç†å…·ä½“çš„ä¸šåŠ¡ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½éœ€æ±‚éƒ½æ˜¯åœ¨è¿™é‡Œå®Œæˆçš„ã€‚service å±‚ä¸€èˆ¬æ˜¯ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼ˆprototypeï¼‰ï¼Œå¾ˆå°‘ä¼šä¿å­˜çŠ¶æ€ï¼Œè€Œä¸”å¯ä»¥è¢« controller å¤ç”¨ã€‚\nservice å±‚çš„ä»£ç ç»„ç»‡ï¼Œå¯¹ä»£ç çš„å¯è¯»æ€§ã€æ€§èƒ½å½±å“éƒ½æ¯”è¾ƒå¤§ã€‚æˆ‘ä»¬å¸¸è¯´çš„è®¾è®¡æ¨¡å¼ï¼Œå¤§å¤šæ•°éƒ½æ˜¯é’ˆå¯¹äº service å±‚æ¥è¯´çš„ã€‚\nè¿™é‡Œè¦ç€é‡æåˆ°çš„ä¸€ç‚¹ï¼Œå°±æ˜¯åˆ†å¸ƒå¼äº‹åŠ¡ã€‚\nå¦‚ä¸Šå›¾ï¼Œå››ä¸ªæ“ä½œåˆ†æ•£åœ¨ä¸‰ä¸ªä¸åŒçš„èµ„æºä¸­ã€‚è¦æƒ³è¾¾åˆ°ä¸€è‡´æ€§ï¼Œéœ€è¦ä¸‰ä¸ªä¸åŒçš„èµ„æºè¿›è¡Œç»Ÿä¸€åè°ƒã€‚\nå®ƒä»¬åº•å±‚çš„åè®®ï¼Œä»¥åŠå®ç°æ–¹å¼ï¼Œéƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚é‚£å°±æ— æ³•é€šè¿‡ Spring æä¾›çš„ Transaction æ³¨è§£æ¥è§£å†³ï¼Œéœ€è¦å€ŸåŠ©å¤–éƒ¨çš„ç»„ä»¶æ¥å®Œæˆã€‚\nå¾ˆå¤šäººéƒ½ä½“éªŒè¿‡ï¼ŒåŠ å…¥äº†ä¸€äº›ä¿è¯ä¸€è‡´æ€§çš„ä»£ç ï¼Œä¸€å‹æµ‹ï¼Œæ€§èƒ½æ‰çš„æƒŠæ‰ä¸‹å·´ã€‚åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯æ€§èƒ½æ€æ‰‹ï¼Œå› ä¸ºå®ƒè¦ä½¿ç”¨é¢å¤–çš„æ­¥éª¤å»ä¿è¯ä¸€è‡´æ€§ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼šä¸¤é˜¶æ®µæäº¤æ–¹æ¡ˆã€TCCã€æœ¬åœ°æ¶ˆæ¯è¡¨ã€MQ äº‹åŠ¡æ¶ˆæ¯ã€åˆ†å¸ƒå¼äº‹åŠ¡ä¸­é—´ä»¶ç­‰ã€‚\nå¦‚ä¸Šå›¾ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡è¦åœ¨æ”¹é€ æˆæœ¬ã€æ€§èƒ½ã€å®æ•ˆç­‰æ–¹é¢è¿›è¡Œç»¼åˆè€ƒè™‘ã€‚æœ‰ä¸€ä¸ªä»‹äºåˆ†å¸ƒå¼äº‹åŠ¡å’Œéäº‹åŠ¡ä¹‹é—´çš„åè¯ï¼Œå«åšæŸ”æ€§äº‹åŠ¡ã€‚æŸ”æ€§äº‹åŠ¡çš„ç†å¿µæ˜¯å°†ä¸šåŠ¡é€»è¾‘å’Œäº’æ–¥æ“ä½œï¼Œä»èµ„æºå±‚ä¸Šç§»è‡³ä¸šåŠ¡å±‚é¢ã€‚\nå…³äºä¼ ç»Ÿäº‹åŠ¡å’ŒæŸ”æ€§äº‹åŠ¡ï¼Œæˆ‘ä»¬æ¥ç®€å•æ¯”è¾ƒä¸€ä¸‹ã€‚\n***ACIDï¼š***å…³ç³»æ•°æ®åº“, æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯äº‹åŠ¡å¤„ç†ï¼Œå³æ»¡è¶³ ACIDã€‚\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšã€‚ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šç³»ç»Ÿå¿…é¡»å§‹ç»ˆå¤„åœ¨å¼ºä¸€è‡´çŠ¶æ€ä¸‹ã€‚ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡æ‰€å¹²æ‰°ã€‚ æŒç»­æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªå·²æäº¤çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜æ˜¯æ°¸ä¹…æ€§çš„ã€‚ ***BASEï¼š***BASE æ–¹æ³•é€šè¿‡ç‰ºç‰²ä¸€è‡´æ€§å’Œå­¤ç«‹æ€§æ¥æé«˜å¯ç”¨æ€§å’Œç³»ç»Ÿæ€§èƒ½ã€‚\nBASE ä¸º Basically Availableï¼ŒSoft-stateï¼ŒEventually consistent ä¸‰è€…çš„ç¼©å†™ï¼Œå…¶ä¸­ BASE åˆ†åˆ«ä»£è¡¨ï¼š\nåŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ï¼šç³»ç»Ÿèƒ½å¤ŸåŸºæœ¬è¿è¡Œã€ä¸€ç›´æä¾›æœåŠ¡ã€‚ è½¯çŠ¶æ€ï¼ˆSoft-stateï¼‰ï¼šç³»ç»Ÿä¸è¦æ±‚ä¸€ç›´ä¿æŒå¼ºä¸€è‡´çŠ¶æ€ã€‚ æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventual consistencyï¼‰ï¼šç³»ç»Ÿéœ€è¦åœ¨æŸä¸€æ—¶åˆ»åè¾¾åˆ°ä¸€è‡´æ€§è¦æ±‚ã€‚ äº’è”ç½‘ä¸šåŠ¡ï¼Œæ¨èä½¿ç”¨è¡¥å¿äº‹åŠ¡ï¼Œå®Œæˆæœ€ç»ˆä¸€è‡´æ€§ã€‚æ¯”å¦‚ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„å®šæ—¶ä»»åŠ¡ï¼Œå®Œæˆå¯¹æ•°æ®çš„ä¿®å¤ã€‚\nDao å±‚ ç»è¿‡åˆç†çš„æ•°æ®ç¼“å­˜ï¼Œæˆ‘ä»¬éƒ½ä¼šå°½é‡é¿å…è¯·æ±‚ç©¿é€åˆ° Dao å±‚ã€‚é™¤éä½ å¯¹ ORM æœ¬èº«æä¾›çš„ç¼“å­˜ç‰¹æ€§ç‰¹åˆ«çš„ç†Ÿæ‚‰ï¼Œå¦åˆ™ï¼Œéƒ½æ¨èä½ ä½¿ç”¨æ›´åŠ é€šç”¨çš„æ–¹å¼å»ç¼“å­˜æ•°æ®ã€‚\nDao å±‚ï¼Œä¸»è¦åœ¨äºå¯¹ ORM æ¡†æ¶çš„ä½¿ç”¨ä¸Šã€‚æ¯”å¦‚ï¼Œåœ¨ JPA ä¸­ï¼Œå¦‚æœåŠ äº†ä¸€å¯¹å¤šæˆ–è€…å¤šå¯¹å¤šçš„æ˜ å°„å…³ç³»ï¼Œè€Œåˆæ²¡æœ‰å¼€å¯æ‡’åŠ è½½ï¼Œçº§è”æŸ¥è¯¢çš„æ—¶å€™å°±å®¹æ˜“é€ æˆæ·±å±‚æ¬¡çš„æ£€ç´¢ï¼Œé€ æˆäº†å†…å­˜å¼€é”€å¤§ã€æ‰§è¡Œç¼“æ…¢çš„åæœã€‚\nåœ¨ä¸€äº›æ•°æ®é‡æ¯”è¾ƒå¤§çš„ä¸šåŠ¡ä¸­ï¼Œå¤šé‡‡ç”¨åˆ†åº“åˆ†è¡¨çš„æ–¹å¼ã€‚åœ¨è¿™äº›åˆ†åº“åˆ†è¡¨ç»„ä»¶ä¸­ï¼Œå¾ˆå¤šç®€å•çš„æŸ¥è¯¢è¯­å¥ï¼Œéƒ½ä¼šè¢«é‡æ–°è§£æååˆ†æ•£åˆ°å„ä¸ªèŠ‚ç‚¹è¿›è¡Œè¿ç®—ï¼Œæœ€åè¿›è¡Œç»“æœåˆå¹¶ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œselect count(*) from a è¿™å¥ç®€å•çš„ count è¯­å¥ï¼Œå°±å¯èƒ½å°†è¯·æ±‚è·¯ç”±åˆ°åå‡ å¼ è¡¨ä¸­å»è¿ç®—ï¼Œæœ€ååœ¨åè°ƒèŠ‚ç‚¹è¿›è¡Œç»Ÿè®¡ï¼Œæ‰§è¡Œæ•ˆç‡æ˜¯å¯æƒ³è€ŒçŸ¥çš„ã€‚\nç›®å‰ï¼Œåˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ˜¯é©±åŠ¨å±‚çš„ ShardingJdbc å’Œä»£ç†å±‚çš„ MyCatï¼Œå®ƒä»¬éƒ½æœ‰è¿™æ ·çš„é—®é¢˜ã€‚\nè¿™äº›ç»„ä»¶æä¾›ç»™ä½¿ç”¨è€…çš„è§†å›¾æ˜¯ä¸€è‡´çš„ï¼Œä½†æˆ‘ä»¬åœ¨ç¼–ç çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„è¿™äº›åŒºåˆ«ã€‚\næ€» ç»“ ä¸‹é¢æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ã€‚æˆ‘ä»¬ç®€å•çœ‹äº†ä¸€ä¸‹ SpringBoot å¸¸è§çš„ä¼˜åŒ–æ€è·¯ï¼Œä»‹ç»äº†ä¸‰ä¸ªæ–°çš„æ€§èƒ½åˆ†æå·¥å…·ã€‚\nä¸€ä¸ªæ˜¯ç›‘æ§ç³»ç»Ÿ Prometheusï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›å…·ä½“çš„æŒ‡æ ‡å¤§å°ï¼›ä¸€ä¸ªæ˜¯ç«ç„°å›¾ï¼Œå¯ä»¥çœ‹åˆ°å…·ä½“çš„ä»£ç çƒ­ç‚¹ï¼›ä¸€ä¸ªæ˜¯ Skywalkingï¼Œå¯ä»¥åˆ†æåˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„è°ƒç”¨é“¾ã€‚\nåœ¨å¯¹æ€§èƒ½æœ‰ç–‘æƒ‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šé‡‡ç”¨ç±»ä¼¼äºç¥å†œæ°å°ç™¾è‰çš„æ–¹å¼ï¼Œç»¼åˆå„ç§æµ‹è¯„å·¥å…·çš„ç»“æœè¿›è¡Œåˆ†æã€‚\nSpringBoot è‡ªèº«çš„ Web å®¹å™¨æ˜¯ Tomcatï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å¯¹ Tomcat çš„è°ƒä¼˜æ¥è·å–æ€§èƒ½æå‡ã€‚å½“ç„¶ï¼Œå¯¹äºæœåŠ¡ä¸Šå±‚çš„è´Ÿè½½å‡è¡¡ Nginxï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†ä¸€ç³»åˆ—çš„ä¼˜åŒ–æ€è·¯ã€‚\næœ€åï¼Œæˆ‘ä»¬çœ‹äº†åœ¨ç»å…¸çš„ MVC æ¶æ„ä¸‹ï¼ŒControllerã€Serviceã€Dao çš„ä¸€äº›ä¼˜åŒ–æ–¹å‘ï¼Œå¹¶ç€é‡çœ‹äº† Service å±‚çš„åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚\nSpringBoot ä½œä¸ºä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„æœåŠ¡æ¡†æ¶ï¼Œåœ¨æ€§èƒ½ä¼˜åŒ–æ–¹é¢å·²ç»åšäº†å¾ˆå¤šå·¥ä½œï¼Œé€‰ç”¨äº†å¾ˆå¤šé«˜é€Ÿç»„ä»¶ã€‚\næ¯”å¦‚ï¼Œæ•°æ®åº“è¿æ¥æ± é»˜è®¤ä½¿ç”¨ hikaricpï¼ŒRedis ç¼“å­˜æ¡†æ¶é»˜è®¤ä½¿ç”¨ lettuceï¼Œæœ¬åœ°ç¼“å­˜æä¾› caffeine ç­‰ã€‚\nå¯¹äºä¸€ä¸ªæ™®é€šçš„äºæ•°æ®åº“äº¤äº’çš„ Web æœåŠ¡æ¥è¯´ï¼Œç¼“å­˜æ˜¯æœ€ä¸»è¦çš„ä¼˜åŒ–æ‰‹ï¼Œä½†ç»†èŠ‚å†³å®šæˆè´¥ã€‚\n","description":"\n","tags":[],"title":"\nSpringBootæ€§èƒ½ä¼˜åŒ–å¤§å…¨ï¼Œè´¼å¥½ä½¿ï¼","uri":"/posts/post-259/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸€ã€SpringBoot Dedevtools ä»–æ˜¯ä¸€ä¸ªè®©SpringBootæ”¯æŒçƒ­éƒ¨ç½²çš„å·¥å…·ï¼Œä¸‹é¢æ˜¯å¼•ç”¨çš„æ–¹æ³•\nè¦ä¹ˆåœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ç›´æ¥å‹¾é€‰ä¸‹é¢çš„é…ç½®ï¼š\nè¦ä¹ˆç»™springBooté¡¹ç›®æ·»åŠ ä¸‹é¢çš„ä¾èµ–ï¼š\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-devtools\u003c/artifactId\u003e \u003coptional\u003etrue\u003c/optional\u003e \u003c/dependency\u003e ideaä¿®æ”¹å®Œä»£ç åå†æŒ‰ä¸‹ ctrl + f9 ä½¿å…¶é‡æ–°ç¼–è¯‘ä¸€ä¸‹ï¼Œå³å®Œæˆäº†çƒ­éƒ¨ç½²åŠŸèƒ½ eclipseæ˜¯æŒ‰ctrl + sä¿å­˜ å³å¯è‡ªåŠ¨ç¼–è¯‘ å¦‚æœä½ æƒ³ä¸€ä¿®æ”¹ä»£ç å°±è‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼Œæ— éœ€æŒ‰ctrl+f9ã€‚åªéœ€è¦ä¸‹é¢çš„æ“ä½œï¼š\n1.åœ¨ideaçš„settingä¸­æŠŠä¸‹é¢çš„å‹¾éƒ½æ‰“ä¸Š 2.è¿›å…¥pom.xml,åœ¨buildçš„åæ ‡ç­¾åç»™ä¸ªå…‰æ ‡ï¼Œç„¶åæŒ‰Alt+Shift+ctrl+/ 3.ç„¶åå‹¾é€‰ä¸‹é¢çš„ä¸œè¥¿ï¼Œæ¥ç€é‡å¯ideaå³å¯ äºŒã€Lombok Lombokæ˜¯ç®€åŒ–JavaBeanå¼€å‘çš„å·¥å…·ï¼Œè®©å¼€å‘è€…çœå»æ„é€ å™¨ï¼Œgetter,setterçš„ä¹¦å†™ã€‚å¦å¤–ï¼Œæœç´¢å…¬ä¼—å·äº’è”ç½‘æ¶æ„å¸ˆåå°å›å¤â€œé¢è¯•â€ï¼Œè·å–ä¸€ä»½æƒŠå–œç¤¼åŒ…ã€‚\nåœ¨é¡¹ç›®åˆå§‹åŒ–æ—¶å‹¾é€‰ä¸‹é¢çš„é…ç½®ï¼Œå³å¯ä½¿ç”¨Lombok\næˆ–è€…åœ¨é¡¹ç›®ä¸­å¯¼å…¥ä¸‹é¢çš„ä¾èµ–ï¼š\n\u003cdependency\u003e \u003cgroupId\u003eorg.projectlombok\u003c/groupId\u003e \u003cartifactId\u003elombok\u003c/artifactId\u003e \u003coptional\u003etrue\u003c/optional\u003e \u003c/dependency\u003e ä½¿ç”¨æ—¶ï¼Œideaè¿˜éœ€è¦ä¸‹è½½ä¸‹é¢çš„æ’ä»¶ï¼š\nä¸‹é¢çš„ä½¿ç”¨çš„ä¾‹å­\nimport com.baomidou.mybatisplus.annotation.TableField; import com.baomidou.mybatisplus.annotation.TableName; import lombok.AllArgsConstructor; import lombok.Data; import lombok.NoArgsConstructor; @AllArgsConstructor//å…¨å‚æ„é€ å™¨ @NoArgsConstructor//æ— å‚æ„é€ å™¨ @Data//getter + setter public class User { private Long id; private String name; private Integer age; private String email; } ä¸‰ã€Spring Configuration Processor è¯¥å·¥å…·æ˜¯ç»™å®ä½“ç±»çš„å±æ€§æ³¨å…¥å¼€å¯æç¤ºï¼Œè‡ªæˆ‘æ„Ÿè§‰è¯¥å·¥å…·æ„ä¹‰ä¸æ˜¯ç‰¹åˆ«å¤§ï¼\nå› ä¸ºSpringBootå­˜åœ¨å±æ€§æ³¨å…¥ï¼Œæ¯”å¦‚ä¸‹é¢çš„å®ä½“ç±»ï¼š\npackage org.lzl.HelloWorld.entity; import org.springframework.boot.context.properties.ConfigurationProperties; import org.springframework.stereotype.Component; /** * @author Lenovo * */ @Component @ConfigurationProperties(prefix = \"mypet\") public class Pet { private String nickName; private String strain; public String getNickName() { return nickName; } public void setNickName(String nickName) { this.nickName = nickName; } public String getStrain() { return strain; } public void setStrain(String strain) { this.strain = strain; } @Override public String toString() { return \"Pet [nickName=\" + nickName + \", strain=\" + strain + \"]\"; } } æƒ³è¦åœ¨application.propertieså’Œapplication.ymlä¸­ç»™mypetæ³¨å…¥å±æ€§ï¼Œå´æ²¡æœ‰ä»»ä½•çš„æç¤ºï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºSpringBootçš„æ—¶å€™å‹¾é€‰ä¸‹é¢çš„åœºæ™¯ï¼š\næˆ–è€…ç›´æ¥åœ¨é¡¹ç›®ä¸­æ·»åŠ ä¸‹é¢çš„ä¾èµ–:\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-configuration-processor\u003c/artifactId\u003e \u003coptional\u003etrue\u003c/optional\u003e \u003c/dependency\u003e å¹¶åœ¨buildçš„æ ‡ç­¾ä¸­æ’é™¤å¯¹è¯¥å·¥å…·çš„æ‰“åŒ…ï¼šï¼ˆå‡å°‘æ‰“æˆjaråŒ…çš„å¤§å°ï¼‰\n\u003cbuild\u003e \u003cplugins\u003e \u003cplugin\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-maven-plugin\u003c/artifactId\u003e \u003cconfiguration\u003e \u003cexcludes\u003e \u003cexclude\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-configuration-processor\u003c/artifactId\u003e \u003c/exclude\u003e \u003c/excludes\u003e \u003c/configuration\u003e \u003c/plugin\u003e \u003c/plugins\u003e \u003c/build\u003e ","description":"\n","tags":[],"title":"\nSpringBoot ä¸‰å¤§å¼€å‘å·¥å…·ï¼Œä½ éƒ½ç”¨è¿‡ä¹ˆï¼Ÿ","uri":"/posts/post-260/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç”µå­é‚®ä»¶æ˜¯å› ç‰¹ç½‘ä¸Šä½¿ç”¨å¾—éå¸¸å¤šçš„ä¸€ç§åº”ç”¨ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿çš„ä½¿ç›¸éš”å¾ˆè¿œçš„äººè¿›è¡Œé€šä¿¡ï¼Œå®ƒä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯æ“ä½œç®€å•ï¼Œå¿«æ·ã€‚ç°åœ¨çš„ç”µå­é‚®ä»¶ç³»ç»Ÿä»¥æ˜¯å­˜å‚¨ä¸è½¬å‘çš„æ¨¡å‹ä¸ºåŸºç¡€ã€‚é‚®ä»¶æœåŠ¡å™¨æ¥å—ã€è½¬å‘ã€æäº¤åŠå­˜å‚¨é‚®ä»¶ã€‚å¯„ä¿¡äººã€æ”¶ä¿¡äººåŠä»–ä»¬çš„è®¡ç®—æœºéƒ½ä¸ç”¨åŒæ—¶åœ¨çº¿ã€‚å¯„ä¿¡äººå’Œæ”¶ä¿¡äººåªéœ€åœ¨å¯„ä¿¡æˆ–æ”¶ä¿¡æ—¶ç®€çŸ­çš„è¿çº¿åˆ°é‚®ä»¶æœåŠ¡å™¨å³å¯ã€‚\näº’è”ç½‘å‘å±•åˆ°ç°åœ¨ï¼Œé‚®ä»¶æœåŠ¡å·²ç»æˆä¸ºäº’è”ç½‘ä¼ä¸šä¸­å¿…å¤‡åŠŸèƒ½ä¹‹ä¸€ï¼Œåº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ï¼šç”¨æˆ·æ³¨å†Œã€å¿˜è®°å¯†ç ã€ç›‘æ§æé†’ã€ä¼ä¸šè¥é”€ç­‰ã€‚å¤§å¤šæ•°äº’è”ç½‘ä¼ä¸šéƒ½ä¼šå°†é‚®ä»¶å‘é€æŠ½å–ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œå¯¹å¤–æä¾›æ¥å£æ¥æ”¯æŒå„ç§ç±»å‹çš„é‚®ä»¶å‘é€ã€‚\næœ¬ç¯‡å†…å®¹ä¼šä»ä»¥ä¸‹å‡ éƒ¨åˆ†æ¥ç»™å¤§å®¶ä»‹ç»å¦‚ä½•å¼€å‘ä¸€ä¸ªé‚®ä»¶ç³»ç»Ÿï¼š\nç”µå­é‚®ä»¶çš„å†å² å‘é€é‚®ä»¶æ¶‰åŠåˆ°å“ªäº›åè®® ä»‹ç»ä¸€ä¸ªå®Œæ•´çš„é‚®ä»¶å‘é€æµç¨‹ å¿«é€Ÿä½“éªŒé‚®ä»¶å‘é€æµç¨‹ ä»‹ç»å¦‚ä½•å¼€å‘æ–‡æœ¬ã€HTMLã€é™„ä»¶ã€å›¾ç‰‡çš„é‚®ä»¶ åšä¸€ä¸ªé‚®ä»¶ç³»ç»Ÿéœ€è¦è€ƒè™‘çš„å› ç´  é‚®ä»¶å†å² æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æ•´ä¸ªé‚®ä»¶çš„å‘å±•å†å²ã€‚\nç”µå­é‚®ä»¶çš„å‘å±• ç”µå­é‚®ä»¶å‘æ˜åœ¨ 70 å¹´ä»£ï¼Œå´åœ¨ 80 å¹´æ‰å¼€å§‹æœ‰äººä½¿ç”¨ã€‚70 å¹´ä»£çš„æ²‰å¯‚ä¸»è¦æ˜¯ç”±äºå½“æ—¶ä½¿ç”¨ Arpanet ç½‘ç»œçš„äººå¤ªå°‘ï¼Œç½‘ç»œçš„é€Ÿåº¦ä¹Ÿä»…ä¸ºç›®å‰ 56Kbps æ ‡å‡†é€Ÿåº¦çš„äºŒååˆ†ä¹‹ä¸€ï¼Œå—ç½‘ç»œé€Ÿåº¦çš„é™åˆ¶ï¼Œé‚£æ—¶çš„ç”¨æˆ·åªèƒ½å‘é€äº›ç®€çŸ­çš„ä¿¡æ¯ï¼Œæ ¹æœ¬åˆ«æƒ³è±¡ç°åœ¨é‚£æ ·å‘é€å¤§é‡ç…§ç‰‡ã€‚\nåˆ° 80 å¹´ä»£ä¸­æœŸï¼Œä¸ªäººç”µè„‘å…´èµ·ï¼Œç”µå­é‚®ä»¶å¼€å§‹åœ¨ç”µè„‘è¿·ä»¥åŠå¤§å­¦ç”Ÿä¸­å¹¿æ³›ä¼ æ’­å¼€æ¥ï¼›åˆ° 90 å¹´ä»£ä¸­æœŸï¼Œäº’è”ç½‘æµè§ˆå™¨è¯ç”Ÿï¼Œå…¨çƒç½‘æ°‘äººæ•°æ¿€å¢ï¼Œç”µå­é‚®ä»¶è¢«å¹¿ä¸ºä½¿ç”¨ã€‚2000 é›¶å‡ å¹´çš„æ—¶å€™ï¼Œé‚£æ—¶å€™æ²¡æœ‰ç½‘ç›˜ï¼Œä¸Šå¤§å­¦çš„æ—¶å€™å¸¸å¸¸ä½¿ç”¨é‚®ç®±å­˜å‚¨ä¸œè¥¿ï¼Œé‚£æ—¶å€™çš„é‚®ç®±ä¹Ÿä¸»è¦ä»¥ç½‘æ˜“ä¸ºä¸»ï¼›åˆ°äº†ç°åœ¨ï¼Œå‡ ä¹æ¯ä¸ªäººéƒ½æœ‰å¥½å‡ ä¸ªé‚®ç®±ï¼ŒQQ é‚®ç®±ã€126 é‚®ç®±ã€å…¬å¸é‚®ç®±ç­‰ç­‰ï¼Œç”µå­é‚®ä»¶å·²ç»æˆä¸ºäººä»¬ç”Ÿæ´»å’Œå·¥ä½œä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚\nç”µå­é‚®ä»¶å‘å±•å†ç¨‹ï¼š\n1974 å¹´ï¼Œå› ä¸º ARPANET çš„æ¨å¹¿ï¼Œç”µå­é‚®ä»¶çš„ç”¨æˆ·å·²ç»è¾¾åˆ°äº†æ•°ç™¾äººï¼Œä¸è¿‡ä»–ä»¬å¤§éƒ½æ˜¯å†›æ–¹ç”¨æˆ·ã€‚è‡ªé‚£ä¹‹åï¼Œç”µå­é‚®ä»¶å¼€å§‹äº†é£é€Ÿçš„å‘å±•ã€‚Lawrence Robertsï¼Œè¿™ä½å½“æ—¶ä¸º ARPANET æœåŠ¡çš„ç§‘å­¦å®¶ä¸ºä»–çš„ä¸Šå¸å‘æ˜äº†é‚®ä»¶ä¸­çš„æ–‡ä»¶å¤¹ï¼Œä»¥ä¾¿å…¶èƒ½å¤Ÿæ›´å¥½åœ°æ¢³ç†è‡ªå·±çš„é‚®ä»¶ã€‚ 1975 å¹´ï¼Œå—åŠ å·å¤§å­¦çš„ John Vittal ç¬¬ä¸€æ¬¡å‘æ˜äº†é‚®ä»¶ç›¸å…³çš„æœåŠ¡è½¯ä»¶ã€‚ 1977 å¹´ï¼Œç°ä»£çš„ç”µå­é‚®ä»¶ç³»ç»Ÿå¼€å§‹å‡ºç°ã€‚ä½¿ç”¨åŒä¸€æ¬¾è½¯ä»¶å¹¶ä¸”è”ç½‘äº†çš„è®¡ç®—æœºéƒ½å¯ä»¥ä½¿ç”¨ Tomlinson çš„æ–¹æ³•å»å‘é‚®ä»¶ã€‚ 1982 å¹´ï¼Œæœ‰å…³ç”µå­é‚®ä»¶ç¬¬ä¸€ä¸ªé‡è¦çš„æ ‡å‡†å‡ºå°äº†ï¼Œè¿™å°±æ˜¯ SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®® Simple Mail Transfer Protocolï¼‰ï¼Œå®ƒæ˜¯ç¬¬ä¸€ä¸ªåŸºäºäº’è”ç½‘åŸºç¡€ä¼ è¾“ç”µå­é‚®ä»¶çš„æ ‡å‡†ã€‚æ—¶è‡³ä»Šæ—¥å®ƒè¿˜åœ¨è¢«äººä½¿ç”¨ã€‚è€Œä¹Ÿæ˜¯åœ¨è¿™ä¸€å¹´ï¼Œã€Œemailã€è¿™ä¸ªè¯ç¬¬ä¸€æ¬¡å‡ºç°äº†ã€‚ 1983 å¹´ 1 æœˆ 1 æ—¥ï¼ŒARPANET æ­£å¼ä½¿ç”¨ TCP/IP å–ä»£æ—§çš„ç½‘ç»œæ§åˆ¶åè®®ï¼ˆNCPï¼ŒNetwork Control Protocolï¼‰ï¼Œä»è€Œæˆä¸ºä»Šå¤©çš„äº’è”ç½‘çš„åŸºçŸ³ã€‚ ä» 80 å¹´ä»£ä¸­æœŸå¼€å§‹ï¼Œç”µå­é‚®ä»¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚æˆ‘å›½å‘å‡ºçš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶å°±åœ¨ 1987 å¹´ï¼Œæ˜¯ç”±åŒ—äº¬è®¡ç®—æœºåº”ç”¨æŠ€æœ¯ç ”ç©¶æ‰€å‘é€åˆ°å¾·å›½çš„ã€‚ 1988 å¹´ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªå•†ç”¨é‚®ä»¶ç³»ç»Ÿ Eudora å‡ºç°ï¼Œå‘æ˜è€…æ˜¯ç¾å›½è½¯ä»¶å·¥ç¨‹å¸ˆ Steve Dornerã€‚ 1990 å¹´ï¼ŒHTML æ ¼å¼çš„é‚®ä»¶å‡ºç°ï¼Œé™¤äº†æ–‡å­—ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½åœ¨é‚®ä»¶ä¸­çœ‹åˆ°å›¾ç‰‡äº†ã€‚ 1992 å¹´ï¼ŒMIME åè®®ï¼ˆå¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ï¼ŒMultipurpose Internet Mail Extensionsï¼‰è¯ç”Ÿï¼Œå®ƒæ‰©å±•äº†ç”µå­é‚®ä»¶æ ‡å‡†ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æ´æ›´å¤šç§å½¢å¼çš„å†…å®¹ã€‚ä¹Ÿæ˜¯åœ¨è¿™ä¸€å¹´ï¼Œå¾®è½¯åœ¨ MS-DOS ç³»ç»Ÿä¸Šï¼Œæ¨å‡ºäº† Outlook é‚®ä»¶åº”ç”¨ã€‚ 1996 å¹´ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªä»¥ç½‘é¡µä¸ºåŸºç¡€çš„é‚®ä»¶åº”ç”¨ Hotmail è¯ç”Ÿï¼Œç„¶åå¾®è½¯åœ¨ä¸‹ä¸€å¹´èŠ±äº† 4 äº¿ç¾å…ƒä¹°ä¸‹äº†å®ƒã€‚ â€¦â€¦ ä¸–ç•Œçš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶ 1969 å¹´ 10 æœˆä¸–ç•Œä¸Šçš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶æ˜¯ç”±è®¡ç®—æœºç§‘å­¦å®¶ Leonard K. æ•™æˆå‘ç»™ä»–çš„åŒäº‹çš„ä¸€æ¡ç®€çŸ­æ¶ˆæ¯ã€‚\næ®ã€Šäº’è”ç½‘å‘¨åˆŠã€‹æŠ¥é“ä¸–ç•Œä¸Šçš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶æ˜¯ç”±è®¡ç®—æœºç§‘å­¦å®¶Leonard K.æ•™æˆå‘ç»™ä»–çš„åŒäº‹çš„ä¸€æ¡ç®€çŸ­æ¶ˆæ¯(æ—¶é—´åº”è¯¥æ˜¯1969å¹´10æœˆ)ï¼Œè¿™æ¡æ¶ˆæ¯åªæœ‰ä¸¤ä¸ªå­—æ¯ï¼šâ€œLOâ€ã€‚Leonard K. æ•™æˆå› æ­¤è¢«ç§°ä¸ºç”µå­é‚®ä»¶ä¹‹çˆ¶ã€‚æ‰€ä»¥ç¬¬ä¸€æ¡ç½‘ä¸Šä¿¡æ¯å°±æ˜¯â€˜LOâ€™ï¼Œæ„æ€æ˜¯â€˜ä½ å¥½ï¼â€™â€\nå½“ç„¶è¿™ä¸ªè¯´æ³•ä¹Ÿæœ‰ä¸€ç‚¹äº‰è®®ï¼Œå¦å¤–ä¸€ç§è¯´æ³•æ˜¯éº»çœç†å·¥å­¦é™¢åšå£« Ray Tomlinson å‘é€çš„ç¬¬ä¸€å°é‚®ä»¶ï¼Œè¿™é‡Œä¸å†å±•å¼€è®¨è®ºã€‚\nä¸­å›½çš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶ 1987 å¹´ 9 æœˆ 14 æ—¥ä¸­å›½ç¬¬ä¸€å°ç”µå­é‚®ä»¶æ˜¯ç”±â€œå¾·å›½äº’è”ç½‘ä¹‹çˆ¶â€ç»´çº³Â·æªæ©ä¸ç‹è¿ä¸°åœ¨å½“æ—¶çš„å…µå™¨å·¥ä¸šéƒ¨ä¸‹å±å•ä½â€”è®¡ç®—æœºåº”ç”¨æŠ€æœ¯ç ”ç©¶æ‰€ï¼ˆç®€ç§° ICAï¼‰å‘å¾€å¾·å›½å¡å°”æ–¯é²å„å¤§å­¦çš„ï¼Œå…¶å†…å®¹ä¸ºå¾·æ–‡å’Œè‹±æ–‡åŒè¯­ï¼Œç¬¬ä¸€æ®µå¤§æ„å¦‚ä¸‹ï¼š\nåŸæ–‡ï¼šâ€œ Across the Great Wall we can reach every corner in the world. â€\nä¸­æ–‡å¤§æ„ï¼šâ€œ è¶Šè¿‡é•¿åŸï¼Œæˆ‘ä»¬å¯ä»¥åˆ°è¾¾ä¸–ç•Œçš„æ¯ä¸€ä¸ªè§’è½ã€‚ â€\nè¿™æ˜¯ä¸­å›½é€šè¿‡åŒ—äº¬ä¸å¾·å›½å¡å°”æ–¯é²å„å¤§å­¦ä¹‹é—´çš„ç½‘ç»œè¿æ¥ï¼Œå‘å‡ºçš„ç¬¬ä¸€å°ç”µå­é‚®ä»¶ã€‚ç°åœ¨çœ‹è¿™å°é‚®ä»¶å†…å®¹ï¼Œé¢‡å…·æ·±æ„ï¼\né‚®ä»¶åè®® å‘é€é‚®ä»¶çš„æœ¬è´¨æ˜¯å°†ä¸€ä¸ªäººçš„ä¿¡æ¯ä¼ è¾“ç»™å¦å¤–ä¸€ä¸ªäººï¼Œé‚£ä¹ˆå¦‚ä½•ä¼ è¾“å°±éœ€è¦å•†é‡å¥½æ ‡å‡†ï¼Œè¿™äº›æ ‡å‡†å°±æ˜¯åè®®ã€‚æœ€åˆåªæœ‰ä¸¤ä¸ªåè®®ï¼š\nSMTP åè®® SMTP çš„å…¨ç§°æ˜¯ â€œSimple Mail Transfer Protocolâ€ï¼Œå³ç®€å•é‚®ä»¶ä¼ è¾“åè®®ã€‚å®ƒæ˜¯ä¸€ç»„ç”¨äºä»æºåœ°å€åˆ°ç›®çš„åœ°å€ä¼ è¾“é‚®ä»¶çš„è§„èŒƒï¼Œé€šè¿‡å®ƒæ¥æ§åˆ¶é‚®ä»¶çš„ä¸­è½¬æ–¹å¼ã€‚å®ƒçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯å®ƒèƒ½å¤Ÿåœ¨ä¼ é€ä¸­æ¥åŠ›ä¼ é€é‚®ä»¶ï¼Œå³é‚®ä»¶å¯ä»¥é€šè¿‡ä¸åŒç½‘ç»œä¸Šçš„ä¸»æœºæ¥åŠ›å¼ä¼ é€ã€‚\nSMTP è®¤è¯ï¼Œç®€å•åœ°è¯´å°±æ˜¯è¦æ±‚å¿…é¡»åœ¨æä¾›äº†è´¦æˆ·åå’Œå¯†ç ä¹‹åæ‰å¯ä»¥ç™»å½• SMTP æœåŠ¡å™¨ï¼Œè¿™å°±ä½¿å¾—é‚£äº›åƒåœ¾é‚®ä»¶çš„æ•£æ’­è€…æ— å¯ä¹˜ä¹‹æœºã€‚å¢åŠ  SMTP è®¤è¯çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨æˆ·é¿å…å—åˆ°åƒåœ¾é‚®ä»¶çš„ä¾µæ‰°ã€‚SMTPä¸»è¦è´Ÿè´£åº•å±‚çš„é‚®ä»¶ç³»ç»Ÿå¦‚ä½•å°†é‚®ä»¶ä»ä¸€å°æœºå™¨ä¼ è‡³å¦å¤–ä¸€å°æœºå™¨ã€‚\nPOP3 åè®® POP3 æ˜¯ Post Office Protocol 3 çš„ç®€ç§°ï¼Œå³é‚®å±€åè®®çš„ç¬¬3ä¸ªç‰ˆæœ¬ï¼Œå®ƒè§„å®šæ€æ ·å°†ä¸ªäººè®¡ç®—æœºè¿æ¥åˆ° Internet çš„é‚®ä»¶æœåŠ¡å™¨å’Œä¸‹è½½ç”µå­é‚®ä»¶çš„ç”µå­åè®®ã€‚å®ƒæ˜¯å› ç‰¹ç½‘ç”µå­é‚®ä»¶çš„ç¬¬ä¸€ä¸ªç¦»çº¿åè®®æ ‡å‡†ï¼ŒPOP3 å…è®¸ç”¨æˆ·ä»æœåŠ¡å™¨ä¸ŠæŠŠé‚®ä»¶å­˜å‚¨åˆ°æœ¬åœ°ä¸»æœºï¼ˆå³è‡ªå·±çš„è®¡ç®—æœºï¼‰ä¸Šï¼ŒåŒæ—¶åˆ é™¤ä¿å­˜åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ã€‚\nPOP åè®®æ”¯æŒâ€œç¦»çº¿â€é‚®ä»¶å¤„ç†ã€‚å…¶å…·ä½“è¿‡ç¨‹æ˜¯ï¼šé‚®ä»¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šï¼Œç”µå­é‚®ä»¶å®¢æˆ·ç«¯è°ƒç”¨é‚®ä»¶å®¢æˆ·æœºç¨‹åºä»¥è¿æ¥æœåŠ¡å™¨ï¼Œå¹¶ä¸‹è½½æ‰€æœ‰æœªé˜…è¯»çš„ç”µå­é‚®ä»¶ã€‚è¿™ç§ç¦»çº¿è®¿é—®æ¨¡å¼æ˜¯ä¸€ç§å­˜å‚¨è½¬å‘æœåŠ¡ï¼Œå°†é‚®ä»¶ä»é‚®ä»¶æœåŠ¡å™¨ç«¯é€åˆ°ä¸ªäººç»ˆç«¯æœºå™¨ä¸Šï¼Œä¸€èˆ¬æ˜¯ PCæœºæˆ– MACã€‚ä¸€æ—¦é‚®ä»¶å‘é€åˆ° PC æœºæˆ– MACä¸Šï¼Œé‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶å°†ä¼šè¢«åˆ é™¤ã€‚ä½†ç›®å‰çš„POP3é‚®ä»¶æœåŠ¡å™¨å¤§éƒ½å¯ä»¥â€œåªä¸‹è½½é‚®ä»¶ï¼ŒæœåŠ¡å™¨ç«¯å¹¶ä¸åˆ é™¤â€ï¼Œä¹Ÿå°±æ˜¯æ”¹è¿›çš„POP3åè®®ã€‚\n** SMTP å’Œ POP3 æ˜¯æœ€åˆçš„ä¿©ä¸ªåè®®ï¼Œéšç€é‚®ä»¶çš„ä¸æ–­å‘å±•åæ¥åˆå¢åŠ äº†ä¸¤ä¸ªåè®®ï¼š**\nIMAP åè®® å…¨ç§° Internet Mail Access Protocolï¼ˆäº¤äº’å¼é‚®ä»¶å­˜å–åè®®ï¼‰ï¼ŒIMAP æ˜¯æ–¯å¦ç¦å¤§å­¦åœ¨1986å¹´å¼€å‘çš„ç ”å‘çš„ä¸€ç§é‚®ä»¶è·å–åè®®ï¼Œå³äº¤äº’å¼é‚®ä»¶å­˜å–åè®®ï¼Œå®ƒæ˜¯è·Ÿ POP3 ç±»ä¼¼é‚®ä»¶è®¿é—®æ ‡å‡†åè®®ä¹‹ä¸€ã€‚ä¸åŒçš„æ˜¯ï¼Œå¼€å¯äº† IMAP åï¼Œåœ¨ç”µå­é‚®ä»¶å®¢æˆ·ç«¯æ”¶å–çš„é‚®ä»¶ä»ç„¶ä¿ç•™åœ¨æœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶åœ¨å®¢æˆ·ç«¯ä¸Šçš„æ“ä½œéƒ½ä¼šåé¦ˆåˆ°æœåŠ¡å™¨ä¸Šï¼Œå¦‚ï¼šåˆ é™¤é‚®ä»¶ï¼Œæ ‡è®°å·²è¯»ç­‰ï¼ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¹Ÿä¼šåšç›¸åº”çš„åŠ¨ä½œã€‚æ‰€ä»¥æ— è®ºä»æµè§ˆå™¨ç™»å½•é‚®ç®±æˆ–è€…å®¢æˆ·ç«¯è½¯ä»¶ç™»å½•é‚®ç®±ï¼Œçœ‹åˆ°çš„é‚®ä»¶ä»¥åŠçŠ¶æ€éƒ½æ˜¯ä¸€è‡´çš„ã€‚\nIMAP çš„ä¸€ä¸ªä¸ POP3 çš„åŒºåˆ«æ˜¯ï¼šIMAP å®ƒåªä¸‹è½½é‚®ä»¶çš„ä¸»é¢˜ï¼Œå¹¶ä¸æ˜¯æŠŠæ‰€æœ‰çš„é‚®ä»¶å†…å®¹éƒ½ä¸‹è½½ä¸‹æ¥ï¼Œè€Œæ˜¯ä½ é‚®ç®±å½“ä¸­è¿˜ä¿ç•™ç€é‚®ä»¶çš„å‰¯æœ¬ï¼Œæ²¡æœ‰æŠŠä½ åŸé‚®ç®±ä¸­çš„é‚®ä»¶åˆ é™¤ï¼Œä½ ç”¨é‚®ä»¶å®¢æˆ·è½¯ä»¶é˜…è¯»é‚®ä»¶æ—¶æ‰ä¸‹è½½é‚®ä»¶çš„å†…å®¹ã€‚è¾ƒå¥½æ”¯æŒè¿™ä¸¤ç§åè®®çš„é‚®ä»¶å®¢æˆ·ç«¯æœ‰ï¼šFoxmailã€Outlook ç­‰ã€‚\nMime åè®® ç”±äº SMTP è¿™ä¸ªåè®®å¼€å§‹æ˜¯åŸºäºçº¯ ASCâ…¡æ–‡æœ¬çš„ï¼Œåœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šå¤„ç†å¾—å¹¶ä¸å¥½ã€‚åæ¥å¼€å‘äº†ç”¨æ¥ç¼–ç äºŒè¿›åˆ¶æ–‡ä»¶çš„æ ‡å‡†ï¼Œå¦‚ MIMEï¼Œä»¥ä½¿å…¶é€šè¿‡ SMTP æ¥ä¼ è¾“ã€‚ä»Šå¤©ï¼Œå¤§å¤šæ•° SMTP æœåŠ¡å™¨éƒ½æ”¯æŒ 8 ä½ MIME æ‰©å±•ï¼Œå®ƒä½¿äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¼ è¾“å˜å¾—å‡ ä¹å’Œçº¯æ–‡æœ¬ä¸€æ ·ç®€å•ã€‚\nç”¨ä¸€å¼ å›¾æ¥çœ‹å‘é€é‚®ä»¶è¿‡ç¨‹ä¸­çš„åè®®ä½¿ç”¨ï¼š\nå®çº¿ä»£è¡¨ neo@126.com å‘é€é‚®ä»¶ç»™ itclub@aa.comï¼›è™šçº¿ä»£è¡¨ itclub@aa.com å‘é€é‚®ä»¶ç»™ neo@126.com\né‚®ä»¶å‘é€æµç¨‹ å‘ä¿¡äººåœ¨ç”¨æˆ·ä»£ç†ä¸Šç¼–è¾‘é‚®ä»¶ï¼Œå¹¶å†™æ¸…æ¥šæ”¶ä»¶äººçš„é‚®ç®±åœ°å€ï¼› ç”¨æˆ·ä»£ç†æ ¹æ®å‘ä¿¡äººç¼–è¾‘çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€å°ç¬¦åˆé‚®ä»¶æ ¼å¼çš„é‚®ä»¶ï¼› ç”¨æˆ·ä»£ç†æŠŠé‚®ä»¶å‘é€åˆ°å‘ä¿¡äººçš„çš„é‚®ä»¶æœåŠ¡å™¨ä¸Šï¼Œé‚®ä»¶æœåŠ¡å™¨ä¸Šé¢æœ‰ä¸€ä¸ªç¼“å†²é˜Ÿåˆ—ï¼Œå‘é€åˆ°é‚®ä»¶æœåŠ¡å™¨ä¸Šé¢çš„é‚®ä»¶éƒ½ä¼šåŠ å…¥åˆ°ç¼“å†²é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„ SMTP å®¢æˆ·ç«¯è¿›è¡Œå‘é€ï¼› å‘ä¿¡äººçš„é‚®ä»¶æœåŠ¡å™¨ä½¿ç”¨ SMTP åè®®æŠŠè¿™å°é‚®ä»¶å‘é€åˆ°æ”¶ä»¶äººçš„é‚®ä»¶æœåŠ¡å™¨ä¸Š æ”¶ä»¶äººçš„é‚®ä»¶æœåŠ¡å™¨æ”¶åˆ°é‚®ä»¶åï¼ŒæŠŠè¿™å°é‚®ä»¶æ”¾åˆ°æ”¶ä»¶äººåœ¨è¿™ä¸ªæœåŠ¡å™¨ä¸Šçš„ä¿¡ç®±ä¸­ï¼› æ”¶ä»¶äººä½¿ç”¨ç”¨æˆ·ä»£ç†æ¥æ”¶å–é‚®ä»¶ã€‚é¦–å…ˆç”¨æˆ·ä»£ç†ä½¿ç”¨ POP3 åè®®æ¥è¿æ¥æ”¶ä»¶äººæ‰€åœ¨çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œèº«ä»½éªŒè¯æˆåŠŸåï¼Œç”¨æˆ·ä»£ç†å°±å¯ä»¥æŠŠé‚®ä»¶æœåŠ¡å™¨ä¸Šé¢çš„æ”¶ä»¶äººé‚®ç®±é‡Œé¢çš„é‚®ä»¶è¯»å–å‡ºæ¥ï¼Œå¹¶å±•ç¤ºç»™æ”¶ä»¶äººã€‚ è¿™å°±æ˜¯é‚®ä»¶å‘é€çš„ä¸€ä¸ªå®Œæ•´æµç¨‹ã€‚\nç®€å•ä½¿ç”¨ æœ€æ—©æœŸçš„æ—¶å€™ä½¿ç”¨ JavaMail ç›¸å…³ API æ¥å¼€å‘ï¼Œéœ€è¦è‡ªå·±å»å°è£…æ¶ˆæ¯ä½“ï¼Œä»£ç é‡æ¯”è¾ƒåºå¤§ï¼›åæ¥ Spring æ¨å‡ºäº† JavaMailSender ç®€åŒ–äº†é‚®ä»¶å‘é€è¿‡ç¨‹ï¼ŒJavaMailSender æä¾›äº†å¼ºå¤§çš„é‚®ä»¶å‘é€åŠŸèƒ½ï¼Œå¯æ”¯æŒå„ç§ç±»å‹çš„é‚®ä»¶å‘é€ã€‚\nç°åœ¨ Spring Boot åœ¨ JavaMailSender çš„åŸºç¡€ä¸Šåˆè¿›è¡Œäº†å°è£…ï¼Œå°±æœ‰äº†ç°åœ¨çš„ spring-boot-starter-mailï¼Œè®©é‚®ä»¶å‘é€æµç¨‹æ›´åŠ ç®€æ´å’Œå®Œå–„ã€‚ä¸‹é¢ç»™å¤§å®¶ä»‹ç»å¦‚ä½•ä½¿ç”¨ Spring Boot å‘é€é‚®ä»¶ã€‚\n1ã€pom åŒ…é…ç½® å¼•å…¥åŠ  spring-boot-starter-mail ä¾èµ–åŒ…ï¼š\n\u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-mail\u003c/artifactId\u003e \u003c/dependency\u003e \u003c/dependencies\u003e 2ã€é…ç½®æ–‡ä»¶ åœ¨ application.properties ä¸­æ·»åŠ é‚®ç®±é…ç½®ï¼Œä¸åŒçš„é‚®ç®±å‚æ•°ç¨æœ‰ä¸åŒï¼Œä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨é‚®ç®±é…ç½®ï¼š\n163é‚®ç®±é…ç½®ï¼š\nspring.mail.host=smtp.163.com //é‚®ç®±æœåŠ¡å™¨åœ°å€ spring.mail.username=xxx@oo.com //ç”¨æˆ·å spring.mail.password=xxyyooo //å¯†ç  spring.mail.default-encoding=UTF-8 //è¶…æ—¶æ—¶é—´ï¼Œå¯é€‰ spring.mail.properties.mail.smtp.connectiontimeout=5000 spring.mail.properties.mail.smtp.timeout=3000 spring.mail.properties.mail.smtp.writetimeout=5000 126 é‚®ç®±é…ç½®\nspring.mail.host=smtp.126.com spring.mail.username=yourEmail@126.com spring.mail.password=yourPassword spring.mail.default-encoding=UTF-8 qq é‚®ç®±é…ç½®å¦‚ä¸‹ï¼š\nspring.mail.host=smtp.qq.com spring.mail.username=ityouknow@qq.com spring.mail.password=yourPassword spring.mail.default-encoding=UTF-8 æ³¨æ„ï¼šæµ‹è¯•æ—¶éœ€è¦å°† spring.mail.username å’Œ spring.mail.password æ”¹æˆè‡ªå·±é‚®ç®±å¯¹åº”çš„ç™»å½•åå’Œå¯†ç ï¼Œè¿™é‡Œçš„å¯†ç ä¸æ˜¯é‚®ç®±çš„ç™»å½•å¯†ç ï¼Œæ˜¯å¼€å¯ POP3 ä¹‹åè®¾ç½®çš„å®¢æˆ·ç«¯æˆæƒå¯†ç ã€‚\nè¿™é‡Œä»¥ 126 ä¸ºé‚®ä»¶ä¸¾ä¾‹ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦é‚®ç®±ä¸­è®¾ç½®ï¼š\nå¼€å¯ POP3/SMTP æœåŠ¡ã€IMAP/SMTP æœåŠ¡\nå›¾ç‰‡ä¸‹æ–¹ä¼šæœ‰ smtp ç­‰ç›¸å…³ä¿¡æ¯çš„é…ç½®æç¤ºã€‚\nå¼€é€šè®¾ç½®å®¢æˆ·ç«¯æˆæƒå¯†ç \nè®¾ç½®å®¢æˆ·ç«¯æˆæƒå¯†ç ä¸€èˆ¬éœ€æ±‚æ‰‹æœºéªŒè¯ç éªŒè¯ã€‚\n3ã€æ–‡æœ¬é‚®ä»¶å‘é€ Spring å·²ç»å¸®æˆ‘ä»¬å†…ç½®äº† JavaMailSenderï¼Œç›´æ¥åœ¨é¡¹ç›®ä¸­å¼•ç”¨å³å¯ã€‚æˆ‘ä»¬å°è£…ä¸€ä¸ª MailService ç±»æ¥å®ç°æ™®é€šçš„é‚®ä»¶å‘é€æ–¹æ³•ã€‚\n@Component public class MailServiceImpl implements MailService{ private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Autowired private JavaMailSender mailSender; @Value(\"${spring.mail.username}\") private String from; @Override public void sendSimpleMail(String to, String subject, String content) { SimpleMailMessage message = new SimpleMailMessage(); message.setFrom(from); message.setTo(to); message.setSubject(subject); message.setText(content); try { mailSender.send(message); logger.info(\"ç®€å•é‚®ä»¶å·²ç»å‘é€ã€‚\"); } catch (Exception e) { logger.error(\"å‘é€ç®€å•é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼\", e); } } } æ–‡æœ¬é‚®ä»¶æŠ„é€ä½¿ç”¨ï¼šmessage.copyTo(copyTo) æ¥å®ç°ã€‚\nfromï¼Œå³ä¸ºé‚®ä»¶å‘é€è€…ï¼Œä¸€èˆ¬è®¾ç½®åœ¨é…ç½®æ–‡ä»¶ä¸­ toï¼Œé‚®ä»¶æ¥æ”¶è€…ï¼Œæ­¤å‚æ•°å¯ä»¥ä¸ºæ•°ç»„ï¼ŒåŒæ—¶å‘é€å¤šäºº subjectï¼Œé‚®ä»¶ä¸»é¢˜ contentï¼Œé‚®ä»¶çš„ä¸»ä½“ é‚®ä»¶å‘é€è€… from ä¸€èˆ¬é‡‡ç”¨å›ºå®šçš„å½¢å¼å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚\n4ã€ç¼–å†™ test ç±»è¿›è¡Œæµ‹è¯• @RunWith(SpringRunner.class) @Spring BootTest public class MailServiceTest { @Autowired private MailService MailService; @Test public void testSimpleMail() throws Exception { mailService.sendSimpleMail(\"ityouknow@126.com\",\"è¿™æ˜¯ä¸€å°ç®€å•é‚®ä»¶\",\"å¤§å®¶å¥½ï¼Œè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€å°é‚®ä»¶ï¼\"); } } ç¨å¾®ç­‰å¾…å‡ ç§’ï¼Œå°±å¯ä»¥åœ¨é‚®ç®±ä¸­æ‰¾åˆ°æ­¤é‚®ä»¶å†…å®¹äº†ã€‚è‡³æ­¤ä¸€ä¸ªç®€å•çš„æ–‡æœ¬é‚®ä»¶å‘é€å°±å®Œæˆäº†ã€‚\nå¯Œæ–‡æœ¬é‚®ä»¶ åœ¨æ—¥å¸¸ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨é‚®ä»¶ä¸­åŠ å…¥å›¾ç‰‡æˆ–è€…é™„ä»¶æ¥ä¸°å¯Œé‚®ä»¶çš„å†…å®¹ï¼Œä¸‹é¢è®²ä»‹ç»å¦‚ä½•ä½¿ç”¨ Spring Boot æ¥å‘é€å¯Œæ–‡æœ¬é‚®ä»¶ã€‚\nå‘é€ HTML æ ¼å¼é‚®ä»¶ é‚®ä»¶å‘é€æ”¯æŒä»¥ HTML è¯­æ³•å»æ„å»ºè‡ªå®šä¹‰çš„é‚®ä»¶æ ¼å¼ï¼ŒSpring Boot æ”¯æŒä½¿ç”¨ HTML å‘é€é‚®ä»¶ã€‚\næˆ‘ä»¬åœ¨ MailService ä¸­æ·»åŠ æ”¯æŒ HTML é‚®ä»¶å‘é€çš„æ–¹æ³•.\npublic void sendHtmlMail(String to, String subject, String content) { MimeMessage message = mailSender.createMimeMessage(); try { //true è¡¨ç¤ºéœ€è¦åˆ›å»ºä¸€ä¸ª multipart message MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); mailSender.send(message); logger.info(\"htmlé‚®ä»¶å‘é€æˆåŠŸ\"); } catch (MessagingException e) { logger.error(\"å‘é€htmlé‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼\", e); } } å¯Œæ–‡æœ¬é‚®ä»¶æŠ„é€ä½¿ç”¨ï¼šhelper.addCc(cc) æ¥å®ç°ã€‚\nå’Œæ–‡æœ¬é‚®ä»¶å‘é€ä»£ç å¯¹æ¯”ï¼Œå¯Œæ–‡æœ¬é‚®ä»¶å‘é€ä½¿ç”¨ MimeMessageHelper ç±»ã€‚MimeMessageHelper æ”¯æŒå‘é€å¤æ‚é‚®ä»¶æ¨¡æ¿ï¼Œæ”¯æŒæ–‡æœ¬ã€é™„ä»¶ã€HTMLã€å›¾ç‰‡ç­‰ï¼Œæ¥ä¸‹æ¥ä¼šä¸€ä¸€ä½¿ç”¨åˆ°ã€‚\nåœ¨æµ‹è¯•ç±»ä¸­æ„å»º HTML å†…å®¹ï¼Œæµ‹è¯•å‘é€\n@Test public void testHtmlMail() throws Exception { String content=\"\u003chtml\u003e\\n\" + \"\u003cbody\u003e\\n\" + \" \u003ch3\u003ehello world ! è¿™æ˜¯ä¸€å°htmlé‚®ä»¶!\u003c/h3\u003e\\n\" + \"\u003c/body\u003e\\n\" + \"\u003c/html\u003e\"; mailService.sendHtmlMail(\"ityouknow@126.com\",\"è¿™æ˜¯ä¸€å°HTMLé‚®ä»¶\",content); } é‚®ä»¶å†…å®¹å¤§å†™äº†ä¸€æ®µè¯ï¼Œä¸‹é¢ä¸ºæ¥æ”¶åˆ°çš„æ•ˆæœï¼š\nç”±æ­¤æˆ‘ä»¬å‘ç°å‘é€ HTML é‚®ä»¶ï¼Œå°±æ˜¯éœ€è¦æ‹¼æ¥ä¸€æ®µ HTML çš„ String å­—ç¬¦ä¸²äº¤ç»™ MimeMessageHelper æ¥å¤„ç†ï¼Œæœ€åç”±é‚®ä»¶å®¢æˆ·ç«¯è´Ÿè´£æ¸²æŸ“æ˜¾ç¤ºå†…å®¹ã€‚\nå‘é€å¸¦é™„ä»¶çš„é‚®ä»¶ åœ¨ MailService æ·»åŠ  sendAttachmentsMail æ–¹æ³•ï¼Œå‘é€å¸¦é™„ä»¶çš„é‚®ä»¶ä¸»è¦æ˜¯ä½¿ç”¨ FileSystemResource å¯¹æ–‡ä»¶è¿›è¡Œå°è£…ï¼Œåœ¨æ·»åŠ åˆ° MimeMessageHelper ä¸­ã€‚\npublic void sendAttachmentsMail(String to, String subject, String content, String filePath){ MimeMessage message = mailSender.createMimeMessage(); try { MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource file = new FileSystemResource(new File(filePath)); String fileName = file.getFilename(); helper.addAttachment(fileName, file); //helper.addAttachment(\"test\"+fileName, file); mailSender.send(message); logger.info(\"å¸¦é™„ä»¶çš„é‚®ä»¶å·²ç»å‘é€ã€‚\"); } catch (MessagingException e) { logger.error(\"å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼\", e); } } æ·»åŠ å¤šä¸ªé™„ä»¶å¯ä»¥ä½¿ç”¨å¤šæ¡ helper.addAttachment(fileName, file)\nåœ¨æµ‹è¯•ç±»ä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•\n@Test public void sendAttachmentsMail() { String filePath=\"e:\\\\temp\\\\fastdfs-client-java-5.0.0.jar\"; mailService.sendAttachmentsMail(\"ityouknow@126.com\", \"ä¸»é¢˜ï¼šå¸¦é™„ä»¶çš„é‚®ä»¶\", \"æœ‰é™„ä»¶ï¼Œè¯·æŸ¥æ”¶ï¼\", filePath); } é™„ä»¶å¯ä»¥æ˜¯å›¾ç‰‡ã€å‹ç¼©åŒ…ã€Word ç­‰ä»»ä½•æ–‡ä»¶ï¼Œä½†æ˜¯é‚®ä»¶å‚å•†ä¸€èˆ¬éƒ½ä¼šå¯¹é™„ä»¶å¤§å°æœ‰é™åˆ¶ï¼Œå¤ªå¤§çš„é™„ä»¶å»ºè®®ä½¿ç”¨ç½‘ç›˜ä¸Šä¼ åï¼Œåœ¨é‚®ä»¶ä¸­ç»™å‡ºé“¾æ¥ã€‚\næ•ˆæœå›¾å¦‚ä¸‹ï¼š\nå‘é€å¸¦é™æ€èµ„æºçš„é‚®ä»¶ é‚®ä»¶ä¸­çš„é™æ€èµ„æºä¸€èˆ¬æŒ‡å›¾ç‰‡ï¼Œåœ¨ MailService æ·»åŠ  sendInlineResourceMail æ–¹æ³•ã€‚\npublic void sendInlineResourceMail(String to, String subject, String content, String rscPath, String rscId){ MimeMessage message = mailSender.createMimeMessage(); try { MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource res = new FileSystemResource(new File(rscPath)); helper.addInline(rscId, res); mailSender.send(message); logger.info(\"åµŒå…¥é™æ€èµ„æºçš„é‚®ä»¶å·²ç»å‘é€ã€‚\"); } catch (MessagingException e) { logger.error(\"å‘é€åµŒå…¥é™æ€èµ„æºçš„é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼\", e); } } åœ¨æµ‹è¯•ç±»ä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•\n@Test public void sendInlineResourceMail() { String rscId = \"neo006\"; String content=\"\u003chtml\u003e\u003cbody\u003eè¿™æ˜¯æœ‰å›¾ç‰‡çš„é‚®ä»¶ï¼š\u003cimg src=\\'cid:\" + rscId + \"\\' \u003e\u003c/body\u003e\u003c/html\u003e\"; String imgPath = \"e:\\\\temp\\\\weixin.jpg\"; mailService.sendInlineResourceMail(\"ityouknow@126.com\", \"ä¸»é¢˜ï¼šè¿™æ˜¯æœ‰å›¾ç‰‡çš„é‚®ä»¶\", content, imgPath, rscId); } æ·»åŠ å¤šä¸ªå›¾ç‰‡å¯ä»¥ä½¿ç”¨å¤šæ¡ \u003cimg src='cid:\" + rscId + \"' \u003e å’Œ helper.addInline(rscId, res) æ¥å®ç°\næ•ˆæœå›¾å¦‚ä¸‹ï¼š\nä»¥ä¸Šæ˜¯é‚®ä»¶å‘é€çš„åŸºç¡€æœåŠ¡ï¼Œå·²æ¼”ç¤ºæ”¯æŒå„ç§ç±»å‹é‚®ä»¶ã€‚\né‚®ä»¶ç³»ç»Ÿ å¦‚æœåªæ˜¯æƒ³åœ¨ç³»ç»Ÿä¸­åšä¸€ä¸ªé‚®ä»¶å·¥å…·ç±»çš„è¯ï¼Œä»¥ä¸Šçš„å†…å®¹åŸºæœ¬å°±å¯ä»¥æ»¡è¶³è¦æ±‚äº†ã€‚è¦åšæˆä¸€ä¸ªé‚®ä»¶ç³»ç»Ÿçš„è¯è¿˜éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ æ–¹é¢ï¼š\nå¯¹å¤–æä¾›å‘é€é‚®ä»¶çš„æœåŠ¡æ¥å£ å›ºå®šæ ¼å¼é‚®ä»¶æ˜¯å¦è€ƒè™‘ä½¿ç”¨æ¨¡æ¿ å‘é€é‚®ä»¶æ—¶å‡ºç°ç½‘ç»œé”™è¯¯ï¼Œæ˜¯å¦è€ƒè™‘é€‚å½“çš„é‡è¯•æœºåˆ¶ é‚®ä»¶ç³»ç»Ÿæ˜¯å¦è€ƒè™‘å¼‚æ­¥åŒ–ï¼Œæå‡æœåŠ¡å“åº”æ—¶é—´ æ˜¯å¦å¼€å‘é‚®ä»¶åå°ç®¡ç†ç³»ç»Ÿï¼Œå¼€å‘å‡ºå¯¹åº”çš„ç®¡ç†è½¯ä»¶ï¼Œé€šè¿‡é¡µé¢å‘é€é‚®ä»¶ï¼Œç»Ÿè®¡å‘é€é‚®ä»¶æˆåŠŸç‡ç­‰æ•°æ®ã€‚ å¸¸è§å¼‚å¸¸å¤„ç†æªæ–½ å¯¹å¤–æä¾›æ¥å£ ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„é‚®ä»¶ç³»ç»Ÿï¼Œéœ€è¦å¯¹å¤–æä¾›æ¥å£è°ƒç”¨ï¼Œæˆ‘ä»¬ä»¥ç®€å•æ–‡æœ¬é‚®ä»¶ä¸ºä¾‹åšä¸ªæ¼”ç¤ºï¼š\né¦–å…ˆéœ€è¦å®šä¹‰ä¸ªå®ä¾‹è¿”å›å¯¹è±¡ï¼š\npublic class MailResult { private String rspCode; private String rspMsg; public MailResult() { this.rspCode = \"00\"; this.rspMsg = \"å‘é€æˆåŠŸ\"; } //çœç•¥ setter/getter } é»˜è®¤æˆåŠŸçš„è¿”å›ç ä¸ºï¼š00ï¼Œè¿”å›æ¶ˆæ¯ä¸ºï¼šå‘é€æˆåŠŸã€‚\nåˆ›å»ºä¸€ä¸ª MailController ç±»å¯¹å¤–æä¾› HTTP è¯·æ±‚æ¥å£ã€‚\n@RestController public class MailController { private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Resource private MailService mailService; @RequestMapping(\"/sendSimpleMail\") public MailResult sendSimpleMail(String to, String subject, String content) { MailResult result=new MailResult(); if(StringUtils.isEmpty(to) || !to.contains(\"@\")){ result.setRspCode(\"01\"); result.setRspCode(\"æ‰‹æœºäººé‚®ä»¶æ ¼å¼ä¸æ­£ç¡®\"); } if(StringUtils.isEmpty(content) ){ result.setRspCode(\"03\"); result.setRspCode(\"é‚®ä»¶æ­£æ–‡ä¸èƒ½ä¸ºç©º\"); } try { mailService.sendSimpleMail(to,subject,content); logger.info(\"ç®€å•é‚®ä»¶å·²ç»å‘é€ã€‚\"); } catch (Exception e) { result.setRspCode(\"04\"); result.setRspCode(\"é‚®ä»¶å‘é€å‡ºç°å¼‚å¸¸\"); logger.error(\"sendSimpleMail Exception \", e); } return result; } } å¤–éƒ¨è¯·æ±‚è¿‡æ¥æ—¶é¦–å…ˆè¿›è¡Œå‚æ•°æ ¡éªŒï¼Œå¦‚æœå‚æ•°æœ‰è¯¯è¿”å›è¯·æ±‚ï¼›å‘é€é‚®ä»¶å‡ºç°å¼‚å¸¸æ—¶è¿”å›é”™è¯¯ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¿”å› 00ï¼›æ³¨æ„åœ¨ Service å±‚å¦‚æœå¯¹å¼‚å¸¸ä¿¡æ¯è¿›è¡Œäº†æ•è·çš„è¯ï¼Œéœ€è¦å°†å¼‚å¸¸ä¿¡æ¯æŠ›åˆ°ä¸Šå±‚ã€‚\ntry { mailSender.send(message); logger.info(\"ç®€å•é‚®ä»¶å·²ç»å‘é€ã€‚\"); } catch (Exception e) { logger.error(\"å‘é€ç®€å•é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼\", e); throw e; } ç±»ä¼¼ä¸Šè¿°ä»£ç ã€‚\næŒ‰ç…§è¿™ä¸ªæ€è·¯ä¹Ÿå¯ä»¥æä¾›å‘é€å¸¦å›¾ç‰‡ã€å¸¦é™„ä»¶çš„é‚®ä»¶ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å°è£…å‘é€å¤šäººé‚®ä»¶ï¼Œç¾¤å‘é‚®ä»¶ç­‰å¤æ‚æƒ…å†µã€‚\né‚®ä»¶æ¨¡æ¿ é€šå¸¸æˆ‘ä»¬ä½¿ç”¨é‚®ä»¶å‘é€æœåŠ¡çš„æ—¶å€™ï¼Œéƒ½ä¼šæœ‰ä¸€äº›å›ºå®šçš„åœºæ™¯ï¼Œæ¯”å¦‚é‡ç½®å¯†ç ã€æ³¨å†Œç¡®è®¤ç­‰ï¼Œç»™æ¯ä¸ªç”¨æˆ·å‘é€çš„å†…å®¹å¯èƒ½åªæœ‰å°éƒ¨åˆ†æ˜¯å˜åŒ–çš„ã€‚æ‰€ä»¥ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨æ¨¡æ¿å¼•æ“æ¥ä¸ºå„ç±»é‚®ä»¶è®¾ç½®æˆæ¨¡æ¿ï¼Œè¿™æ ·æˆ‘ä»¬åªéœ€è¦åœ¨å‘é€æ—¶å»æ›¿æ¢å˜åŒ–éƒ¨åˆ†çš„å‚æ•°å³å¯ã€‚\næˆ‘ä»¬ä¼šç»å¸¸æ”¶åˆ°è¿™æ ·çš„é‚®ä»¶ï¼š\nå°Šæ•¬çš„ neo ç”¨æˆ·ï¼š æ­å–œæ‚¨æ³¨å†Œæˆä¸ºxxxç½‘çš„ç”¨æˆ·,åŒæ—¶æ„Ÿè°¢æ‚¨å¯¹xxxçš„å…³æ³¨ä¸æ”¯æŒå¹¶æ¬¢è¿æ‚¨ä½¿ç”¨xxçš„äº§å“ä¸æœåŠ¡ã€‚ ... é‚®ä»¶æ­£æ–‡åªæœ‰ neo è¿™ä¸ªç”¨æˆ·ååœ¨å˜åŒ–ï¼Œé‚®ä»¶å…¶å®ƒå†…å®¹å‡ä¸å˜ï¼Œå¦‚æœæ¯æ¬¡å‘é€é‚®ä»¶éƒ½éœ€æ‹¼æ¥ HTML ä»£ç ï¼Œç¨‹åºä¸å¤Ÿä¼˜é›…ï¼Œå¹¶ä¸”æ¯æ¬¡é‚®ä»¶æ­£æ–‡æœ‰å˜åŒ–éƒ½éœ€ä¿®æ”¹ä»£ç éå¸¸ä¸æ–¹ä¾¿ã€‚å› æ­¤å¯¹äºè¿™ç±»é‚®ä»¶ï¼Œéƒ½å»ºè®®åšæˆé‚®ä»¶æ¨¡æ¿æ¥å¤„ç†ï¼Œæ¨¡æ¿çš„æœ¬è´¨å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ¨¡æ¿ä¸­æ›¿æ¢å˜åŒ–çš„å‚æ•°ï¼Œè½¬æ¢ä¸º HTML å­—ç¬¦ä¸²å³å¯ï¼Œè¿™é‡Œä»¥ Thymeleaf ä¸ºä¾‹æ¥æ¼”ç¤ºã€‚\nThymeleaf æ˜¯ Spring å®˜æ–¹æ¨èçš„å‰ç«¯æ¨¡æ¿å¼•æ“ï¼Œç±»ä¼¼ Velocityã€FreeMarker ç­‰æ¨¡æ¿å¼•æ“ï¼Œç›¸è¾ƒä¸å…¶ä»–çš„æ¨¡æ¿å¼•æ“ï¼ŒThymeleaf å¼€ç®±å³ç”¨çš„ç‰¹æ€§ã€‚å®ƒæä¾›æ ‡å‡†å’Œ Spring æ ‡å‡†ä¸¤ç§æ–¹è¨€ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨æ¨¡æ¿å®ç° JSTLã€ OGNL è¡¨è¾¾å¼æ•ˆæœï¼Œé¿å…æ¯å¤©å¥—æ¨¡æ¿ã€è¯¥ Jstlã€æ”¹æ ‡ç­¾çš„å›°æ‰°ã€‚Thymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚\nä¸‹é¢æˆ‘ä»¬æ¥æ¼”ç¤ºä½¿ç”¨ Thymeleaf åˆ¶ä½œé‚®ä»¶æ¨¡æ¿ã€‚\n1ã€æ·»åŠ ä¾èµ–åŒ…\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-thymeleaf\u003c/artifactId\u003e \u003c/dependency\u003e 2ã€åœ¨ resorces/templates ä¸‹åˆ›å»º emailTemplate.html\nemailTemplate.html æ–‡ä»¶å†…å®¹å³ä¸ºé‚®ä»¶çš„æ­£æ–‡å†…å®¹æ¨¡æ¿ã€‚\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"zh\" xmlns:th=\"http://www.thymeleaf.org\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"/\u003e \u003ctitle\u003eé‚®ä»¶æ¨¡æ¿\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e æ‚¨å¥½,æ„Ÿè°¢æ‚¨çš„æ³¨å†Œï¼Œè¿™æ˜¯ä¸€å°éªŒè¯é‚®ä»¶ï¼Œè¯·ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥å®Œæˆæ³¨å†Œï¼Œæ„Ÿè°¢æ‚¨çš„æ”¯æŒ\u003cbr/\u003e \u003ca href=\"#\" th:href=\"@{http://www.ityouknow.com/register/{id}(id=${id}) }\"\u003eæ¿€æ´»è´¦å·\u003c/a\u003e \u003c/body\u003e \u003c/html\u003e æˆ‘ä»¬å‘ç°ä¸Šè¿°çš„æ¨¡æ¿ä¸­åªæœ‰ id æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å€¼ï¼Œå‘é€è¿‡ç¨‹ä¸­ä¼šæ ¹æ®ä¼ å…¥çš„ id å€¼æ¥æ›¿æ¢é“¾æ¥ä¸­çš„ {id}ã€‚\n3ã€è§£ææ¨¡æ¿å¹¶å‘é€\n@Test public void sendTemplateMail() { //åˆ›å»ºé‚®ä»¶æ­£æ–‡ Context context = new Context(); //è®¾ç½®æ¨¡æ¿éœ€è¦æ›¿æ¢çš„å‚æ•° context.setVariable(\"id\", \"006\"); //ä½¿ç”¨ templateEngine æ›¿æ¢æ‰åŠ¨æ€å‚æ•°ç”Ÿäº§å‡ºæœ€åçš„ HTML å†…å®¹ã€‚ String emailContent = templateEngine.process(\"emailTemplate\", context); //æœ€åè°ƒç”¨ sendHtmlMail å‘é€é‚®ä»¶ mailService.sendHtmlMail(\"ityouknow@126.com\",\"ä¸»é¢˜ï¼šè¿™æ˜¯æ¨¡æ¿é‚®ä»¶\",emailContent); } æˆ‘ä»¬å‘ç°æœ€åè°ƒç”¨çš„è¿˜æ˜¯ sendHtmlMail çš„æ–¹æ³•ï¼Œé‚®ä»¶æ¨¡æ¿çš„ä½œç”¨åªæ˜¯å¤„ç† HTML ç”Ÿæˆéƒ¨åˆ†ï¼Œé€šè¿‡ Thymeleaf æ¨¡æ¿å¼•æ“è§£æå›ºå®šçš„æ¨¡æ¿ï¼Œå†æ›´å…·å‚æ•°æ¥åŠ¨æ€æ›¿æ¢å…¶ä¸­çš„å˜é‡ï¼Œæœ€åé€šè¿‡å‰é¢çš„ HTML å‘é€çš„æ–¹æ³•å‘é€é‚®ä»¶ã€‚\næ•ˆæœå›¾å¦‚ä¸‹ï¼š\nç‚¹å‡»â€œæ¿€æ´»è´¦å·â€è·³è½¬çš„é“¾æ¥ä¸ºï¼šhttp://www.ityouknow.com/register/006\nå‘é€å¤±è´¥ å› ä¸ºå„ç§åŸå› ï¼Œæ€»ä¼šæœ‰é‚®ä»¶å‘é€å¤±è´¥çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼šé‚®ä»¶å‘é€è¿‡äºé¢‘ç¹ã€ç½‘ç»œå¼‚å¸¸ç­‰ã€‚åœ¨å‡ºç°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè€ƒè™‘é‡æ–°é‡è¯•å‘é€é‚®ä»¶ï¼Œä¼šåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤æ¥å®ç°ï¼š\næ¥æ”¶åˆ°å‘é€é‚®ä»¶è¯·æ±‚ï¼Œé¦–å…ˆè®°å½•è¯·æ±‚å¹¶ä¸”å…¥åº“ã€‚ è°ƒç”¨é‚®ä»¶å‘é€æ¥å£å‘é€é‚®ä»¶ï¼Œå¹¶ä¸”å°†å‘é€ç»“æœè®°å½•å…¥åº“ã€‚ å¯åŠ¨å®šæ—¶ç³»ç»Ÿæ‰«ææ—¶é—´æ®µå†…ï¼Œæœªå‘é€æˆåŠŸå¹¶ä¸”é‡è¯•æ¬¡æ•°å°äº3æ¬¡çš„é‚®ä»¶ï¼Œè¿›è¡Œå†æ¬¡å‘é€. é‡æ–°å‘é€é‚®ä»¶çš„æ—¶é—´ï¼Œå»ºè®®ä»¥ 2 çš„æ¬¡æ–¹é—´éš”æ—¶é—´ï¼Œæ¯”å¦‚ï¼š2ã€4ã€8ã€16 â€¦ å¸¸è§çš„é”™è¯¯è¿”å›ç ï¼š\n421 HL:ICC è¯¥IPåŒæ—¶å¹¶å‘è¿æ¥æ•°è¿‡å¤§ï¼Œè¶…è¿‡äº†ç½‘æ˜“çš„é™åˆ¶ï¼Œè¢«ä¸´æ—¶ç¦æ­¢è¿æ¥ã€‚ 451 Requested mail action not taken: too much fail authentication ç™»å½•å¤±è´¥æ¬¡æ•°è¿‡å¤šï¼Œè¢«ä¸´æ—¶ç¦æ­¢ç™»å½•ã€‚è¯·æ£€æŸ¥å¯†ç ä¸å¸å·éªŒè¯è®¾ç½® 553 authentication is requiredï¼Œå¯†ç é…ç½®ä¸æ­£ç¡® 554 DT:SPM å‘é€çš„é‚®ä»¶å†…å®¹åŒ…å«äº†æœªè¢«è®¸å¯çš„ä¿¡æ¯ï¼Œæˆ–è¢«ç³»ç»Ÿè¯†åˆ«ä¸ºåƒåœ¾é‚®ä»¶ã€‚è¯·æ£€æŸ¥æ˜¯å¦æœ‰ç”¨æˆ·å‘é€ç—…æ¯’æˆ–è€…åƒåœ¾é‚®ä»¶ï¼› 550 Invalid User è¯·æ±‚çš„ç”¨æˆ·ä¸å­˜åœ¨ 554 MI:STC å‘ä»¶äººå½“å¤©å†…ç´¯è®¡é‚®ä»¶æ•°é‡è¶…è¿‡é™åˆ¶ï¼Œå½“å¤©ä¸å†æ¥å—è¯¥å‘ä»¶äººçš„æŠ•ä¿¡ã€‚ å¦‚æœä½¿ç”¨ä¸€ä¸ªé‚®ç®±é¢‘ç¹å‘é€ç›¸åŒå†…å®¹é‚®ä»¶ï¼Œä¹Ÿä¼šè¢«è®¤å®šä¸ºåƒåœ¾é‚®ä»¶ï¼ŒæŠ¥ 554 DT:SPM é”™è¯¯\nå¦‚æœä½¿ç”¨ç½‘æ˜“é‚®ç®±å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æç¤ºï¼šä¼ä¸šé€€ä¿¡çš„å¸¸è§é—®é¢˜ï¼Ÿ\nå…¶å®ƒ å¼‚æ­¥å‘é€\nå¾ˆå¤šæ—¶å€™é‚®ä»¶å‘é€å¹¶ä¸æ˜¯ä¸»ä¸šåŠ¡å¿…é¡»å…³æ³¨çš„ç»“æœï¼Œæ¯”å¦‚é€šçŸ¥ç±»ã€æé†’ç±»çš„ä¸šåŠ¡å¯ä»¥å…è®¸å»¶æ—¶æˆ–è€…å¤±è´¥ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥é‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼æ¥å‘é€é‚®ä»¶ï¼ŒåŠ å¿«ä¸»äº¤æ˜“æ‰§è¡Œé€Ÿåº¦ã€‚åœ¨å®é™…é¡¹ç›®ä¸­å¯ä»¥é‡‡ç”¨æ¶ˆæ¯ä¸­é—´ä»¶ MQ å‘é€é‚®ä»¶ï¼Œå…·ä½“åšæ³•æ˜¯åˆ›å»ºä¸€ä¸ªé‚®ä»¶å‘é€çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨ä¸šåŠ¡ä¸­æœ‰éœ€è¦ç”¨åˆ°é‚®ä»¶å‘é€åŠŸèƒ½æ—¶ï¼Œç»™å¯¹åº”æ¶ˆæ¯é˜Ÿåˆ—æŒ‰ç…§è§„å®šå‚æ•°å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œé‚®ä»¶ç³»ç»Ÿç›‘å¬æ­¤é˜Ÿåˆ—ï¼Œå½“æœ‰æ¶ˆæ¯è¿‡æ¥æ—¶ï¼Œå¤„ç†é‚®ä»¶å‘é€çš„é€»è¾‘ã€‚\nç®¡ç†åå°\nè€ƒè™‘åšä¸€ä¸ªå®Œå–„çš„é‚®ä»¶ç³»ç»Ÿï¼Œå¯ä»¥è®¾è®¡ä¸€ä¸ªç‹¬ç«‹çš„é‚®ä»¶ç®¡ç†åå°ï¼Œä¸ä½†å¯ä»¥è®©ç³»ç»Ÿä¹‹é—´è°ƒç”¨æ—¶ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æä¾›å›¾å½¢åŒ–ç•Œé¢è®©å…¬å¸çš„è¿è¥ã€å¸‚åœºéƒ¨çš„åŒäº‹æ¥å‘é€é‚®ä»¶ï¼ŒæŸ¥è¯¢é‚®ä»¶çš„å‘é€è¿›åº¦ï¼Œç»Ÿè®¡é‚®ä»¶å‘é€æˆåŠŸç‡ã€‚ä¹Ÿå¯ä»¥è®¾ç½®ä¸€äº›ä»£ç é’©å­ï¼Œç»Ÿè®¡ç”¨æˆ·ç‚¹å‡»å›ºå®šé“¾æ¥æ¬¡æ•°ï¼Œæ–¹ä¾¿å…¬å¸è¥é”€äººå‘˜ç›‘æ§é‚®ä»¶è¥é”€è½¬åŒ–ç‡ã€‚\nä¸€ä¸ªéå¸¸å®Œå–„çš„é‚®ä»¶ç³»ç»Ÿéœ€è¦è€ƒè™‘çš„å› ç´ éå¸¸å¤šï¼Œæ¯”å¦‚æ˜¯å¦è®¾ç½®ç™½åå•ã€é»‘åå•æ¥åšé‚®ä»¶æ¥æ”¶äººçš„è¿‡æ»¤æœºåˆ¶ï¼Œæ˜¯å¦ç»™ç”¨æˆ·æä¾›é‚®ä»¶é€€è®¢çš„æ¥å£ç­‰ã€‚å› æ­¤åœ¨åˆæœŸé‚®ä»¶å‘é€çš„åŸºæœ¬åŠŸèƒ½å®Œæˆä¹‹åï¼Œå†ç»“åˆå…¬å¸ä¸šåŠ¡ï¼Œå¿«é€Ÿè¿­ä»£çš„é€æ­¥å®Œå–„é‚®ä»¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªæ¨èçš„åšæ³•ã€‚\næ€»ç»“ ä½¿ç”¨ Spring Boot é›†æˆå‘é€é‚®ä»¶çš„åŠŸèƒ½éå¸¸ç®€å•ï¼Œåªéœ€è¦ç®€å•ç¼–ç å°±å¯ä»¥å®ç°å‘é€æ™®é€šæ–‡æœ¬é‚®ä»¶ã€å¸¦é™„ä»¶é‚®ä»¶ã€HTML æ ¼å¼é‚®ä»¶ã€å¸¦å›¾ç‰‡é‚®ä»¶ç­‰ã€‚å¦‚æœéœ€è¦åšæˆä¸€ä¸ªé‚®ä»¶ç³»ç»Ÿè¿˜éœ€è¦è€ƒè™‘å¾ˆå¤šå› ç´ ï¼Œæ¯”å¦‚ï¼šé‚®ç®±å‘é€å¤±è´¥é‡è¯•æœºåˆ¶ã€é˜²æ­¢é‚®ä»¶è¢«è¯†åˆ«ä¸ºåƒåœ¾é‚®ä»¶ï¼Œå›ºå®šæ—¶é—´å†…å‘é€é‚®ä»¶çš„é™åˆ¶ç­‰ã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå¸¸å¸¸å°†ä¸€äº›åŸºç¡€åŠŸèƒ½ä¸‹æ²‰ä¸‹æ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡æ¥ä½¿ç”¨ï¼Œé‚®ä»¶ç³»ç»Ÿä½œä¸ºå¹³å°çš„åŸºç¡€åŠŸèƒ½ï¼Œç‰¹åˆ«é€‚åˆåšä¸ºç‹¬ç«‹çš„å¾®æœåŠ¡æ¥æ”¯æŒæ•´ä¸ªç³»ç»Ÿã€‚\nç‚¹å‡»è¿™é‡Œä¸‹è½½æºç \nå‚è€ƒï¼š\nhttps://www.geekpark.net/news/214789 ","description":"\n","tags":[],"title":"\nä½¿ç”¨ Spring Boot å¼€å‘é‚®ä»¶ç³»ç»Ÿ","uri":"/posts/post-261/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"è‡ªåŠ¨åŒ–æµ‹è¯•\nä¸€ã€æ¥å£å®šä¹‰ è½¯ä»¶ä¸åŒéƒ¨åˆ†ä¹‹é—´çš„äº¤äº’æ¥å£ã€‚é€šå¸¸å°±æ˜¯æ‰€è°“çš„ APIâ€•â€•åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼Œå…¶è¡¨ç°çš„å½¢å¼æ˜¯æºä»£ç ã€‚ â€”â€” [ ç™¾åº¦ç™¾ç§‘ ]\næˆ‘ä»¬å¸¸è¯´çš„æ¥å£ä¸€èˆ¬æŒ‡ä¸¤ç§ï¼š\nAPIï¼šåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ã€‚ç¨‹åºé—´çš„æ¥å£ GUIï¼šå›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚äººä¸ç¨‹åºçš„æ¥å£ è¿™é‡Œæˆ‘ä»¬æ‰€è¯´çš„æ¥å£ç‰¹æŒ‡ API æ¥å£ã€‚API æ¥å£å®šä¹‰ï¼šå¯¹åè®®è¿›è¡Œå®šä¹‰çš„å¼•ç”¨ç±»å‹ã€‚\nå¥½å¤šå…¬å¸å¼€å‘äººå‘˜åˆ†å‰åç«¯ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•é…åˆå·¥ä½œçš„ï¼Œå°±æ˜¯å…¶ä¸­ä¸€æ–¹å®šä¹‰æ¥å£ï¼Œå¦ä¸€æ–¹æ¥è°ƒç”¨æ¥å£ï¼Œä»¥å®ç°é¢„æœŸåŠŸèƒ½ã€‚\näºŒã€æ¥å£çš„åˆ†ç±» 1. æ¥å£åˆ†ç±» HTTP æ¥å£ Webservice æ¥å£ RESTful æ¥å£ WebService æ¥å£æ˜¯èµ° soap åè®®ï¼Œè¯·æ±‚æŠ¥æ–‡å’Œè¿”å›æŠ¥æ–‡éƒ½æ˜¯ xml æ ¼å¼ï¼Œé€šè¿‡ SoapUI å·¥å…·è¿›è¡Œæµ‹è¯•ï¼›\nHTTP API æ¥å£èµ° HTTP åè®®ï¼Œé€šè¿‡è·¯å¾„æ¥åŒºåˆ†è°ƒç”¨çš„æ–¹æ³•ï¼Œè¯·æ±‚æŠ¥æ–‡å…¥å‚æœ‰å¤šç§å½¢å¼ï¼Œè¿”å›æŠ¥æ–‡ä¸€èˆ¬ä¸º json ä¸²ï¼Œæœ€å¸¸è§çš„æ˜¯ get å’Œ post æ–¹æ³•ã€‚\nä¸‰ã€ä¸ºä½•è¦è¿›è¡Œæ¥å£æµ‹è¯• 1. æ¥å£æµ‹è¯•å¿…è¦æ€§ å½“ä»Šçš„ç³»ç»Ÿå¤æ‚åº¦ä¸æ–­ä¸Šå‡ï¼Œä¼ ç»Ÿçš„æµ‹è¯•æ–¹æ³•æˆæœ¬æ€¥å‰§å¢åŠ ä¸”æµ‹è¯•æ•ˆç‡å¤§å¹…ä¸‹é™ï¼Œæ‰€ä»¥å°±è¦åšæ¥å£æµ‹è¯•ã€‚\nåŒæ—¶ï¼Œæ¥å£æµ‹è¯•ç›¸å¯¹å®¹æ˜“å®ç°è‡ªåŠ¨åŒ–æŒç»­é›†æˆï¼Œä¸”ç›¸å¯¹ UI è‡ªåŠ¨åŒ–ä¹Ÿæ¯”è¾ƒç¨³å®šï¼Œå¯ä»¥å‡å°‘äººå·¥å›å½’æµ‹è¯•äººåŠ›æˆæœ¬ä¸æ—¶é—´ï¼Œç¼©çŸ­æµ‹è¯•å‘¨æœŸï¼Œæ”¯æŒåç«¯å¿«é€Ÿå‘ç‰ˆéœ€æ±‚ã€‚\næ¥å£æŒç»­é›†æˆæ˜¯ä¸ºä»€ä¹ˆèƒ½ä½æˆæœ¬é«˜æ”¶ç›Šçš„æ ¹æºã€‚ç°åœ¨å¾ˆå¤šç³»ç»Ÿå‰åç«¯æ¶æ„æ˜¯åˆ†ç¦»çš„ï¼Œä»å®‰å…¨å±‚é¢æ¥è¯´ï¼Œåªä¾èµ–å‰ç«¯è¿›è¡Œé™åˆ¶å·²ç»å®Œå…¨ä¸èƒ½æ»¡è¶³ç³»ç»Ÿçš„å®‰å…¨è¦æ±‚ï¼ˆç»•è¿‡å‰é¢å®åœ¨å¤ªå®¹æ˜“ï¼‰ï¼Œ éœ€è¦åç«¯åŒæ ·è¿›è¡Œæ§åˆ¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å°±éœ€è¦ä»æ¥å£å±‚é¢è¿›è¡ŒéªŒè¯ã€‚\nå‰åç«¯ä¼ è¾“ã€æ—¥å¿—æ‰“å°ç­‰ä¿¡æ¯æ˜¯å¦åŠ å¯†ä¼ è¾“ä¹Ÿæ˜¯éœ€è¦éªŒè¯çš„ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåˆ°ç”¨æˆ·çš„éšç§ä¿¡æ¯ï¼Œå¦‚èº«ä»½è¯ï¼Œé“¶è¡Œå¡ç­‰ã€‚\n2. æ¥å£æµ‹è¯•åŸç† æ¨¡æ‹Ÿå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æŠ¥æ–‡ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚æŠ¥æ–‡åå¯¹ç›¸åº”çš„æŠ¥æ–‡åšå¤„ç†å¹¶å‘å®¢æˆ·ç«¯è¿”å›åº”ç­”ï¼Œå®¢æˆ·ç«¯å†æ¥æ”¶åº”ç­”çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚\n3. æ¥å£æµ‹è¯•èŒƒå›´ æ¥å£çš„åŠŸèƒ½ã€æ€§èƒ½ã€å®‰å…¨æ€§ã€‚é‡ç‚¹å…³æ³¨æ•°æ®çš„äº¤æ¢ï¼Œä¼ é€’å’Œæ§åˆ¶ç®¡ç†è¿‡ç¨‹ï¼Œè¿˜åŒ…æ‹¬å¤„ç†çš„æ¬¡æ•°ã€‚\næ¥å£æµ‹è¯•å¯¹è±¡æ˜¯æ¥å£ï¼Œä½†éšç€ç³»ç»Ÿå¤æ‚åº¦è¶Šæ¥è¶Šé«˜ï¼Œæ¥å£è¶Šæ¥è¶Šå¤šï¼Œå®Œå…¨è¦†ç›–æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹æƒ…ã€‚\né€šå¸¸æƒ…å†µä¸‹ä¸»è¦æµ‹è¯•æœ€å¤–å±‚çš„ä¸¤ç±»æ¥å£ï¼šæ•°æ®è¿›å…¥ç³»ç»Ÿçš„æ¥å£ï¼ˆè°ƒç”¨å¤–éƒ¨ç³»ç»Ÿçš„å‚æ•°ä¸ºæœ¬ç³»ç»Ÿä½¿ç”¨ï¼‰ã€æ•°æ®æµå‡ºç³»ç»Ÿæ¥å£ï¼ˆéªŒè¯ç³»ç»Ÿå¤„ç†åçš„æ•°æ®æ˜¯å¦æ­£å¸¸ï¼‰\nå››ã€æ¥å£æ–‡æ¡£ç¤ºä¾‹ 1. æ¥å£æ–‡æ¡£åº”è¯¥åŒ…æ‹¬å“ªå‡ éƒ¨åˆ†ï¼Ÿ æ¥å£è¯´æ˜ è°ƒç”¨çš„ url è¯·æ±‚æ–¹æ³•ï¼ˆgetã€postï¼‰ è¯·æ±‚å‚æ•°ï¼Œå‚æ•°ç±»å‹ã€è¯·æ±‚å‚æ•°è¯´æ˜ è¿”å›å‚æ•°è¯´æ˜ è¿”å›ç¤ºä¾‹ 2. ç¤ºä¾‹ æ³¨ï¼šä¸Šå›¾æ¥å£æ–‡æ¡£å·¥å…·ä¸º ShowDoc\näº”ã€Postman å·¥å…·ç®€ä»‹ 1. Sidebar ä¾§è¾¹æ  Postman ä¾§è¾¹æ å…è®¸ä½ æŸ¥æ‰¾ã€ç®¡ç†è¯·æ±‚å’Œé›†åˆã€‚ä¾§è¾¹æ åˆ†ä¸ºä¸¤ä¸ªä¸»è¦çš„é€‰é¡¹å¡ï¼ŒåŒ…æ‹¬å†å²å’Œé›†åˆé€‰é¡¹å¡ã€‚å¯ä»¥æ‹–åŠ¨å³è¾¹çš„è¾¹æ¥è°ƒæ•´ä¾§è¾¹æ çš„å®½åº¦ã€‚ä¾§è¾¹æ ä¹Ÿå¯ä»¥éšè—åˆ°å°å±å¹•ï¼ˆæ ‡é¢˜æ  viewâ€”\u003etoggle side barï¼‰ã€‚\nï¼ˆ1ï¼‰å†å²é€‰é¡¹å¡\né€šè¿‡ Postman åº”ç”¨ç¨‹åºå‘é€çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¿å­˜åœ¨ä¾§è¾¹æ çš„ History é€‰é¡¹å¡ä¸­ã€‚\nï¼ˆ2ï¼‰é›†åˆé€‰é¡¹å¡\nåœ¨ä¾§æ ä¸­åˆ›å»ºå’Œç®¡ç†é›†åˆé€‰é¡¹å¡çš„é›†åˆã€‚\n2. Header toolbar Postman çš„é¡¶éƒ¨å·¥å…·æ åŒ…å«ä»¥ä¸‹é€‰é¡¹ï¼š\næ–°å»ºæŒ‰é’®â€”â€”å¯ä»¥æ–°å»ºè¯·æ±‚ï¼Œé›†åˆï¼Œç¯å¢ƒç­‰ è¿è¡ŒæŒ‰é’®-æ‰“å¼€é›†åˆè¿è¡Œé¡µé¢ å¯¼å…¥æŒ‰é’®â€”â€”å¯¼å…¥ Postman æ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€form link ç­‰ æ–°çª—å£å›¾æ ‡-æ‰“å¼€ä¸€ä¸ªæ–°çš„ tab é¡µã€æ–°çš„çª—å£ã€æ–°çš„ runner ç­‰ æ„å»ºå™¨å’Œå›¢é˜Ÿåº“é€‰é¡¹å¡â€”â€”åœ¨è¯·æ±‚ç”Ÿæˆå™¨å’Œ Team Library è§†å›¾ä¹‹é—´åˆ‡æ¢ æŠ“å– API è¯·æ±‚å›¾æ ‡â€”â€”ä½¿ç”¨ postman æŠ“å– API è¯·æ±‚ åŒæ­¥çŠ¶æ€å›¾æ ‡â€”â€”åŒæ­¥ API è¯·æ±‚å›¾æ ‡ ç”¨æˆ·ä¸‹æ‹‰â€”â€”ç®¡ç†é›†åˆé“¾æ¥å’Œä½ çš„ä¸ªäººèµ„æ–™æˆ–ç™»å½• / ç™»å‡ºï¼Œä½ çš„ Postman å¸æˆ· å¼€æ”¾ API é›†åˆï¼ˆç‚¹å‡»æ‰“å¼€ä¸€ä¸ªç½‘å€ï¼‰ é€šçŸ¥å›¾æ ‡-æ¥æ”¶é€šçŸ¥æˆ–å¹¿æ’­ è®¾ç½®å›¾æ ‡â€”â€”ç®¡ç† Postman åº”ç”¨ç¨‹åºè®¾ç½®ï¼Œå¹¶æ‰¾åˆ°å…¶ä»–æ”¯æŒèµ„æº â¤â€”â€”åˆ†äº«æŒ‰é’® 3. Builder Postman é€šè¿‡é€‰é¡¹å¡å¸ƒå±€ï¼Œç”¨äºåœ¨æ„å»ºå™¨ä¸­å‘é€å’Œç®¡ç† API è¯·æ±‚ã€‚ä¸ŠåŠéƒ¨åˆ†æ˜¯è¯·æ±‚æ„å»ºå™¨ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯å“åº”æŸ¥çœ‹å™¨ã€‚\nCookiesâ€”â€”ç®¡ç† cookie æ¨¡å¼æ˜¯é€šè¿‡ç‚¹å‡» cookie é“¾æ¥è®¿é—®çš„ã€‚è¯¥ç‰¹æ€§å…è®¸ä½ ç®¡ç†ä¸è¯·æ±‚ç›¸å…³çš„ cookieã€‚ Codeâ€”â€”ç”Ÿæˆçš„ä»£ç ç‰‡æ®µæ¨¡å¼é€šè¿‡ä¿å­˜æŒ‰é’®ä¸‹é¢çš„æœ€å³è¾¹çš„ Code é“¾æ¥ã€‚è¯¥ç‰¹æ€§å…è®¸ä½ ç”Ÿæˆä¸è¯·æ±‚ç›¸å…³çš„ä»£ç ç‰‡æ®µï¼Œè¯¥è¯·æ±‚æ”¯æŒ 20 å¤šç§è¯­è¨€ï¼ˆhttpã€javaã€go ç­‰è¯­è¨€ï¼‰ 4. Console Postman æœ‰ä¸¤ä¸ªæ§åˆ¶å°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£ç³»ç»Ÿåå°åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚\nPostman Consoleâ€”â€”åŒ…å« HTTP è¯·æ±‚å’Œå“åº”çš„è¿è¡Œæ—¥å¿—ã€‚æ¥è‡ªè„šæœ¬çš„æ—¥å¿—æ¶ˆæ¯ (å¦‚åœ¨ console. Log ä¸­)ã€‚è¿™ä¸ªåŠŸèƒ½åªèƒ½åœ¨ Postman çš„æœ¬åœ°åº”ç”¨ä¸­ä½¿ç”¨ã€‚ DevTools Consoleâ€”â€”å¯ä»¥åœ¨å¼€å‘æœŸé—´è®°å½•è¯Šæ–­ä¿¡æ¯ã€‚ å…­ã€å€ŸåŠ© Postman å®Œæˆ HTTP è¯·æ±‚æ¥å£æµ‹è¯• 1. å€ŸåŠ© Postman Echo æ¼”ç¤ºä¸‹å„ç§è¯·æ±‚çš„æ„å»ºæ–¹æ³• ï¼ˆ1ï¼‰Get è¯·æ±‚\nhttps://postman-echo.com/get?foo1=bar1\u0026foo2=bar2\nHTTP GET è¯·æ±‚æ–¹æ³•æ˜¯ä»æœåŠ¡å™¨æ£€ç´¢æ•°æ®ã€‚æ•°æ®ç”±æƒŸä¸€ URI(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦) æ ‡è¯†ã€‚GET è¯·æ±‚å¯ä»¥ä½¿ç”¨ â€œæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°â€ å°†å‚æ•°ä¼ é€’ç»™æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹åˆ—è¯·æ±‚ä¸­ï¼Œhttp://example.com/hi/there?hand=waveï¼Œå‚æ•° â€œhandâ€ çš„å€¼ç­‰äº â€œwaveâ€ã€‚\nï¼ˆ2ï¼‰POSTï¼šURI ä¼ å‚\nï¼ˆ3ï¼‰POSTï¼šForm-data ä¼ å‚\nï¼ˆ4ï¼‰POSTï¼šx-www-form-urlencoded ä¼ å‚\nï¼ˆ5ï¼‰POSTï¼šraw ä¼ å‚\nï¼ˆ6ï¼‰POSTï¼šbinary ä¼ å‚\nï¼ˆ7ï¼‰Authentication Methodâ€”â€”æƒé™è®¤è¯æ–¹æ³•\nGET Basic Auth\nå¢åŠ  auth ä¿¡æ¯ï¼š\nDigestAuth\nHawk Auth\nOAuth1.0(verify signature)\nï¼ˆ8ï¼‰Headersâ€”â€”æ·»åŠ  header\n2. æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‹¿ä¸ªå¼€æ”¾ API æ¥æ¼”ç¤ºä¸‹å•ä¸€æ¥å£æµ‹è¯•æµç¨‹ ç¤ºä¾‹ APIï¼šhttps://developers.douban.com/wiki/?title=book_v2#get_book\næ­¥éª¤ä¸€ï¼šä½¿ç”¨ Postman å·¥å…·å‘é€è¯¥ Get è¯·æ±‚ï¼Œå¦‚ä¸‹å›¾ã€‚\næ­¥éª¤äºŒï¼šæ·»åŠ æµ‹è¯•ã€‚\nä¸Šå›¾é’ˆå¯¹è¯¥ API æ·»åŠ äº† 3 ä¸ªæµ‹è¯•ï¼š\nè¦æ±‚å“åº”æ—¶é—´å°äº 200ms\nè¦æ±‚ status code ç­‰äº 200\nè¦æ±‚ Response body ä¸­åŒ…å«å­—ç¬¦ä¸² â€œé‡‘åº¸â€\næ³¨ï¼šå½“ç„¶ä½ è¿˜å¯ä»¥å¢åŠ æ›´å¤šçš„æµ‹è¯•ç‚¹ã€‚\nä¸ƒã€Postman + Newman + Jenkins å®ç°æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯• 1. å‡†å¤‡å·¥ä½œï¼ˆå…·ä½“æ­¥éª¤å‚è€ƒé™„ä»¶æ–‡æ¡£-ä½œè€…æä¾›ï¼‰ ï¼ˆ1ï¼‰å®‰è£… Newman å·¥å…·\nå®‰è£… Node.js å®‰è£… Newman æŸ¥çœ‹ Newman å‘½ä»¤ ï¼ˆ2ï¼‰éƒ¨ç½² Jenkins\n2. å°†æ¥å£ä¿å­˜åˆ°é›†åˆ ç‚¹å‡» Save æŒ‰é’®ï¼Œå°†æ¥å£ä¿å­˜åˆ°ä¸€ä¸ªé›†åˆï¼ˆå¯ä»¥ä¿å­˜åˆ°ä¸€ä¸ªç°æœ‰é›†åˆä¸­æˆ–è€…æ–°å»ºä¸€ä¸ªé›†åˆï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š\n3. å°†é›†åˆä¿å­˜åˆ°æœ¬åœ° å°†é›†åˆä¿å­˜åˆ°æœ¬åœ°ï¼Œæ–‡ä»¶ä¸º .json æ ¼å¼ï¼Œå¦‚ä¸‹å›¾ï¼š\n4. å‘½ä»¤è¡Œé€šè¿‡ Newman è¿è¡Œé›†åˆ ï¼ˆ1ï¼‰æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\nD:\\git-local\u003enewman run MyCollection1.postman_collection.json -g globals.postman_globals1.json\nï¼ˆ2ï¼‰æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nå¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¸­ä¸¤æ¡æ–­è¨€ passedï¼Œä¸€æ¡æ–­è¨€ failedï¼Œå¤±è´¥çš„åŸå› æ˜¯ï¼Œæˆ‘ä»¬æœŸæœ›æ¥å£å“åº”æ—¶é—´å°äº 200 msï¼Œä½†æ˜¯æœ¬æ¬¡æ¥å£è¯·æ±‚å“åº”æ—¶é—´æ˜¯ 270 msã€‚\n5. é€šè¿‡ Jenkins è°ƒç”¨ Newmanï¼Œæ‰§è¡Œæ¥å£æµ‹è¯• æ‰§è¡Œä¸€æ¬¡æ„å»ºï¼Œæ„å»ºå¤±è´¥ï¼ˆä¸Šé¢çš„æ–­è¨€å¤±è´¥ï¼Œæˆ‘ä»¬å¹¶æœªä¿®å¤ï¼‰ï¼ŒæŸ¥çœ‹æ„å»ºå¤±è´¥åŸå› ã€‚\n6. å‡è®¾å¼€å‘ä¿®å¤äº†æ¥å£ bug æ¥å£å“åº”æ—¶é—´å‡å°‘äº†ï¼Œæˆ‘ä»¬éœ€è¦å›å½’æµ‹è¯•ã€‚ï¼ˆæˆ‘ä»¬å°†æ–­è¨€å“åº”å°äº 200 msï¼Œä¿®æ”¹æˆ 1000 msï¼Œè®©æ–­è¨€ passedï¼‰\n7. æ¼”ç¤ºä¸€ä¸ªå¦‚ä½•è°ƒç”¨ data file å‚æ•°åŒ–ç”¨ä¾‹ æˆ‘è¿™é‡Œæœ‰ä¸€ä¸ªé›†åˆï¼Œ3 ä¸ªæ¥å£ï¼Œç¬¬ä¸€ä¸ªæ¥å£ä¸ºç™»å½•æ¥å£ï¼Œç¬¬äºŒä¸ªæ¥å£ä¸ºè·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼Œç¬¬ä¸‰ä¸ªæ¥å£ä¸ºä¿®æ”¹å¯†ç æ¥å£ã€‚ç™»å½•æ¥å£å¦‚ä¸‹ï¼š\næµ‹è¯•è„šæœ¬å¦‚ä¸‹ï¼š\nå‚æ•°åŒ– json æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n[{ \"loginName\": \"duzl\", \"password\": \"admin123\", \"verifyCode\": \"adf\", \"value\": \"/index\" }, { \"loginName\": \"duzl\", \"password\": \"admin\", \"verifyCode\": \"adf\", \"value\": \" è´¦å·æˆ–å¯†ç é”™è¯¯ \" }, { \"loginName\": \"duzl\", \"password\": \"\", \"verifyCode\": \"adf\", \"value\": \" å‚æ•° password ä¸èƒ½ä¸ºç©º \" }] ï¼ˆ1ï¼‰å¥½æˆ‘ä»¬è°ƒç”¨ json æ–‡ä»¶ï¼Œæ‰§è¡Œä¸‹é›†åˆï¼Œç»“æœå¦‚ä¸‹ï¼š\nç»“æœè¿˜ä¸é”™ï¼Œæ‰§è¡Œäº† 3 æ¬¡ï¼Œå‚æ•°éƒ½æ˜¯å–è‡ªç”¨ä¾‹æ–‡ä»¶ï¼ˆjson æ–‡ä»¶ï¼‰ï¼Œæ–­è¨€ä¹Ÿå–è‡ªç”¨ä¾‹æ–‡ä»¶ã€‚\nç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªæ¥å£ä¹Ÿè·Ÿç€è¿­ä»£äº† 3 æ¬¡ï¼ˆè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼‰ï¼Œè¿™æ˜¯å› ä¸ºé›†åˆè¿è¡Œå™¨ä¸­çš„è¿­ä»£æ¬¡æ•°æ˜¯é’ˆå¯¹æ‰€æœ‰æ¥å£çš„è®¾ç½®ã€‚\nï¼ˆ2ï¼‰é‚£å¦‚æœï¼Œæˆ‘ä»¬æƒ³ç¬¬ä¸€ä¸ªæ¥å£è¿è¡Œ 3 éï¼Œç¬¬äºŒã€ä¸‰ä¸ªæ¥å£åªè¿è¡Œä¸€éï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼ŸPostman ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå†…ç½®æ–¹æ³•ï¼Œè®¾ç½®æ¥å£è¿è¡Œé¡ºåºpostman.setNextRequest('');ã€‚\næ³¨æ„ï¼šè¿­ä»£æ¬¡æ•°ä» 0 å¼€å§‹ã€‚\nå½“è¿­ä»£æ¬¡æ•° !==0 æ—¶ï¼Œå°±åœæ­¢æœ¬æ¬¡è¿­ä»£ï¼ˆæ„æ€å°±æ˜¯ï¼Œç¬¬ä¸€æ¬¡è¿­ä»£å…¨è¿è¡Œï¼Œç¬¬äºŒæ¬¡è¿­ä»£å¼€å§‹å°±ä¸æ‰§è¡Œç¬¬äºŒã€ä¸‰ä¸ªæ¥å£äº†ï¼‰ï¼Œå¥½ï¼Œå†æ¬¡è¿è¡Œé›†åˆï¼Œçœ‹çœ‹ç»“æœï¼š\nå¾ˆå¥½ï¼Œç¬¬ä¸€æ¬¡è¿­ä»£ï¼Œæ‰§è¡Œäº† 3 ä¸ªæ¥å£ï¼›ç¬¬äºŒã€ä¸‰æ¬¡è¿­ä»£åªæ‰§è¡Œäº†ç¬¬ä¸€ä¸ªæ¥å£ã€‚\n","description":"\n","tags":[],"title":"\næ¥å£æµ‹è¯•å·¥å…· Postman ä½¿ç”¨å®è·µ","uri":"/posts/post-262/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å†™åœ¨å‰é¢ ä¸Šä¸€ç¯‡æ–‡ç« ç”Ÿè‚²å‡æ”¿ç­–-æˆéƒ½ä»‹ç»äº†æˆéƒ½çš„ç”Ÿè‚²å‡é—®é¢˜ï¼Œæˆ‘ä»¬è¯´åˆ°äº†å¥³æ€§åœ¨æˆéƒ½çš„ç”Ÿè‚²å‡æœŸæ˜¯98+60=158å¤©ã€‚å…¶ä¸­60å¤©æ˜¯å››å·çœåœ¨å›½å®¶æ”¿ç­–åŸºç¡€ä¸Šè¡¥å……çš„ç¦åˆ©ï¼Œä»2016å¹´çš„æ—¶å€™å¼€å§‹å®æ–½çš„ã€‚ç”±äºè¿™60å¤©ä¸æ˜¯å›½å®¶å±‚é¢çš„æ³•å¾‹æ³•è§„çš„ï¼Œæ‰€ä»¥åœ¨æŠ¥é”€ç”Ÿè‚²æ´¥è´´çš„æ—¶å€™ä¼šæœ‰ä¸€äº›ç–‘é—®ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦è§£é‡Šç”Ÿè‚²æ´¥è´´é—®é¢˜ä»¥åŠä¸€äº›å’Œç”Ÿè‚²æ´¥è´´ç›¸å…³é—®é¢˜ã€‚\nç”Ÿè‚²ä¿é™© è¿™é‡ŒæŒ‡çš„ç”Ÿè‚²ä¿é™©æ˜¯æŒ‡ç”Ÿè‚²åŒ»ç–—ä¿é™©ï¼Œæ´¥è´´éƒ¨åˆ†è¯´æ˜åœ¨æ–‡ç« ä¸‹ä¸€éƒ¨åˆ†ã€‚\nå…ˆå†™ç»“è®º æŠ¥é”€çš„å¯¹è±¡ åŸºæœ¬åŒ»ç–—ä¿é™©å‚ä¿äººå‘˜ã€‚\nä¼ä¸šåœ¨ç¤¾ä¿å±€ç»™å‘˜å·¥è´­ä¹°ç¤¾ä¿æ—¶ï¼Œå¿…é¡»äº”é™©ä¸€èµ·è´­ä¹°ï¼Œäº”é™©åˆ†åˆ«æ˜¯ï¼šå…»è€ã€åŒ»ç–—ã€å¤±ä¸šã€å·¥ä¼¤ã€ç”Ÿè‚²ã€‚\nå›½å®¶è§„å®šä¼ä¸šæ˜¯å¿…é¡»è¦ç»™èŒå·¥è´­ä¹°äº”é™©çš„ã€‚å¦‚æœä¼ä¸šä¸è´­ä¹°ï¼Œåˆ™æ„æˆè¿æ³•ã€‚\nåŒ»ç–—å¾…é‡è¡¥åŠ©é‡‘é¢ æˆéƒ½ç”Ÿè‚²åŒ»ç–—å¾…é‡éƒ½æ˜¯å®šé¢çš„ï¼Œå…¶ä¸­é¡ºäº§2700ï¼Œå‰–è…¹äº§3700ã€‚\nç”Ÿè‚²ä¿é™©æ˜¯ä»€ä¹ˆ å‚è§ä¸­å›½æ”¿åºœç½‘çš„ä¾¿æ°‘é—®ç­”æ–‡ç« â€“ä»€ä¹ˆæ˜¯ç”Ÿè‚²ä¿é™©ï¼Ÿ\nç”Ÿè‚²ä¿é™©æ˜¯é€šè¿‡å›½å®¶ç«‹æ³•è§„å®šï¼Œåœ¨åŠ³åŠ¨è€…å› ç”Ÿè‚²å­å¥³è€Œå¯¼è‡´åŠ³åŠ¨åŠ›æš‚æ—¶ä¸­æ–­æ—¶ï¼Œç”±å›½å®¶å’Œç¤¾ä¼šåŠæ—¶ç»™äºˆç‰©è´¨å¸®åŠ©çš„ä¸€é¡¹ç¤¾ä¼šä¿é™©åˆ¶åº¦ã€‚\næˆ‘å›½ç”Ÿè‚²ä¿é™©å¾…é‡ä¸»è¦åŒ…æ‹¬ä¸¤é¡¹ã€‚ä¸€æ˜¯ç”Ÿè‚²æ´¥è´´ï¼Œç”¨äºä¿éšœå¥³èŒå·¥äº§å‡æœŸé—´çš„åŸºæœ¬ç”Ÿæ´»éœ€è¦ï¼›äºŒæ˜¯ç”Ÿè‚²åŒ»ç–—å¾…é‡ï¼Œç”¨äºä¿éšœå¥³èŒå·¥æ€€å­•ã€åˆ†å¨©æœŸé—´ä»¥åŠèŒå·¥å®æ–½èŠ‚è‚²æ‰‹æœ¯æ—¶çš„åŸºæœ¬åŒ»ç–—ä¿å¥éœ€è¦ã€‚\nç”Ÿè‚²ä¿é™©çš„æ³•å¾‹ä¾æ®æ˜¯ï¼š1994å¹´7æœˆ5æ—¥é¢å¸ƒçš„ã€Šä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨æ³•ã€‹ï¼›åŸåŠ³åŠ¨éƒ¨äº1994å¹´12æœˆ14æ—¥å‘å¸ƒçš„ã€Šä¼ä¸šèŒå·¥ç”Ÿè‚²ä¿é™©è¯•è¡ŒåŠæ³•ã€‹ï¼ˆåŠ³éƒ¨å‘ã€”1994ã€•504å·ï¼‰ã€‚ç›¸å…³è§„å®šæœ‰ï¼š1988å¹´7æœˆ21æ—¥é¢å¸ƒçš„ã€Šå¥³èŒå·¥åŠ³åŠ¨ä¿æŠ¤è§„å®šã€‹ï¼ˆå›½åŠ¡é™¢ä»¤ç¬¬9å·ï¼‰ï¼›åŸåŠ³åŠ¨éƒ¨äº1988å¹´9æœˆ4æ—¥å‘å¸ƒçš„ã€Šå…³äºå¥³èŒå·¥ç”Ÿè‚²å¾…é‡è‹¥å¹²é—®é¢˜çš„é€šçŸ¥ã€‹ï¼ˆåŠ³é™©å­—ã€”1988ã€•2å·ï¼‰ã€‚\nç”Ÿè‚²ä¿é™©æŠ¥é”€æµç¨‹ ä¸€èˆ¬åœ¨åŒ»é™¢åŠç†å‡ºé™¢æ—¶åˆ·ç¤¾ä¿å¡è‡ªåŠ¨æŠ¥é”€ã€‚\nç”Ÿè‚²ä¿é™©æŠ¥é”€ææ–™ å‡†ç”Ÿè¯ã€å¥³æ–¹åŒ»ä¿å¡ã€å¤«å¦»åŒæ–¹èº«ä»½è¯ã€å‡ºç”Ÿè¯æ˜çš„åŸä»¶ä»¥åŠä¸€ä»½å¤å°ä»¶ï¼Œå…¶ä¸­é™¤å‡†ç”Ÿè¯å’ŒåŒ»ä¿å¡ï¼Œéƒ½æ˜¯å‡ºé™¢å‰å…ˆåœ¨åŒ»é™¢åŠç†ï¼Œä¸éœ€è¦åŒ»é™¢ç¤¾åŒºæ¥å›è·‘ã€‚\nä»¥åŒæµå¦‡å¹¼ä¿å¥é™¢ä¸ºä¾‹ï¼Œéœ€è¦çš„çš„å‡†å¤‡èµ„æ–™å¦‚ä¸‹ï¼š\nç”Ÿè‚²æ´¥è´´ æå‰è¯´æ˜ æˆéƒ½ä¼ä¸šå¥³æ€§èŒå·¥é¢†å–ç”Ÿè‚²æ´¥è´´æ˜¯éœ€è¦ç¤¾ä¿æ»¡ä¸€å¹´ï¼›å¦‚æœæ˜¯ç”·æ–¹è´­ä¹°ç¤¾ä¿ï¼Œå¥³æ–¹æ²¡æœ‰è´­ä¹°ç¤¾ä¿ï¼Œåˆ™æ— æ³•é¢†å–ç”Ÿè‚²æ´¥è´´ã€‚\nè€Œä¸”ç”Ÿè‚²æ´¥è´´çš„é¢†å–æ˜¯æ ¹æ®å…¬å¸ç»™å‘˜å·¥è´­ä¹°ç¤¾ä¿çš„åŸºæ•°è¿›è¡Œè®¡ç®—çš„ã€‚ç¤¾ä¿åŸºæ•°è¶Šé«˜ï¼Œæ´¥è´´è¶Šé«˜ã€‚\nå¦å¤–ï¼Œæ´¥è´´åªæœ‰å›½å®¶è§„å®šçš„98å¤©ï¼Œå‰©ä½™60å¤©ï¼ˆä¸¤ä¸ªæœˆï¼‰ï¼Œéœ€è¦å…¬å¸ä»¥å‘˜å·¥å®é™…æœˆå·¥èµ„è¿›è¡Œå‘æ”¾ã€‚\næˆéƒ½2022å¹´ç¤¾ä¿çš„åŸºæ•°é™åˆ¶ æ²¡é”™ï¼Œä½ æ²¡çœ‹é”™ï¼Œè´­ä¹°ç¤¾ä¿æ—¶çš„ç¤¾ä¿åŸºæ•°ï¼Œæ˜¯æœ‰é™åˆ¶çš„ï¼Œæ˜¯åœ¨ä¸€ä¸ªèŒƒå›´å†…çš„ã€‚\nä¸ºä»€ä¹ˆç½‘ä¸Šæœ‰çš„è¯´å·¥èµ„å’Œæ´¥è´´é€‰é«˜çš„é¢†å–ï¼Ÿ éœ€è¦æ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå…¬å¸è´­ä¹°çš„äº”é™©ä¸€ç›´æ˜¯æœ€ä½åŸºæ•°ï¼Œè€Œä½ çš„å·¥èµ„é«˜äºæœ€ä½ç¼´è´¹åŸºæ•°ï¼ˆå³æ˜¯å·¥èµ„\u003eåŸºæ•°ï¼‰ï¼Œè¿™å°±æ˜¯ä¸åˆæ³•çš„ï¼Œè™½ç„¶ç°åœ¨ä¾æ—§æœ‰å¾ˆå¤šå…¬å¸åœ¨è¿™æ ·åšã€‚\nä½†æ˜¯ä¸Šè¿°æƒ…å†µå®¢è§‚å­˜åœ¨ï¼Œè€Œå¤§å¤šæ•°äººå› ä¸ºä¸€äº›æƒ…å†µï¼Œæ²¡æœ‰å‘åŠ³åŠ¨å±€æŠ•è¯‰/ä¸¾æŠ¥å…¬å¸ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¨è®ºåœ¨è¿™ç§æƒ…å†µä¸‹å¦‚ä½•é€‰æ‹©å·¥èµ„å’Œæ´¥è´´è¿›è¡Œé¢†å–ã€‚\né¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œå®é™…æ¯æœˆåŸºæ•°é—®é¢˜ï¼šä¸€èˆ¬æ¥è¯´ï¼Œæ–°å‘˜å·¥æŒ‰ç…§å…¥èŒå½“æœˆçš„å·¥èµ„æ€»é¢ä½œä¸ºç¤¾ä¿åŸºæ•°ï¼Œä»å…¥èŒç¬¬äºŒå¹´èµ·ï¼ŒæŒ‰ç…§ä¸Šä¸€å¹´åº”å‘å·¥èµ„çš„æœˆå¹³å‡å·¥èµ„ä½œä¸ºç¤¾ä¿åŸºæ•°ã€‚\nç„¶åï¼Œæœ‰çš„å…¬å¸å·¥èµ„æ˜¯ä½äºç¤¾ä¿æœ€ä½ç¼´è´¹åŸºæ•°çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦ä»¥ç¤¾ä¿å±€è¦æ±‚çš„æœ€ä½è´­ä¹°åŸºæ•°è¿›è¡Œè´­ä¹°ï¼›åŒç†ï¼Œå·¥èµ„é«˜äºæœ€é«˜ç¼´è´¹åŸºæ•°çš„ï¼ŒæŒ‰ç…§æœ€é«˜ç¼´è´¹åŸºæ•°è¿›è¡Œç¼´çº³ã€‚\nä¾‹å¦‚ï¼šå¼ ä¸‰ä¸Šä¸€å¹´æœˆå¹³å‡å·¥èµ„ä¸º2ä¸‡å…ƒï¼Œæœ¬å¹´ç¼´è´¹åº”åŸºæ•°ä¸º18630å…ƒï¼Œç”Ÿè‚²æ´¥è´´æŒ‰ç…§18630å…ƒ/æœˆè®¡ç®—ï¼Œ98å¤©åº”é¢†å–18630Ã·30Ã—98=60858å…ƒï¼›ä½†æ˜¯ï¼Œå¼ ä¸‰é€‰æ‹©é¢†å·¥èµ„æ˜¯20000Ã·30Ã—98â‰ˆ65333.33å…ƒã€‚ï¼ˆå½“ç„¶ï¼Œè¿™é‡Œæ˜¯ç¨å‰å·¥èµ„ï¼Œéœ€è¦ç¼´çº³äº”é™©ä¸€é‡‘ä»¥åŠä¸ªç¨çš„ï¼‰\næ‰€ä»¥ï¼Œç½‘ä¸Šå…³äºâ€œå·¥èµ„å’Œæ´¥è´´é€‰é«˜çš„é¢†å–â€çš„é—®é¢˜ï¼Œåªé’ˆå¯¹ï¼Œå·¥èµ„ä½äºæœ€ä½ç¼´è´¹åŸºæ•°æˆ–é«˜äºæœ€é«˜ç¼´è´¹åŸºæ•°çš„æƒ…å†µã€‚\n60å¤©çš„å·¥èµ„é—®é¢˜ æˆ‘ä»¬çŸ¥é“ï¼Œè¿™60å¤©ï¼Œæ˜¯å››å·çœåœ¨æ³•å¾‹ã€æ³•è§„è§„å®šå¤–æ–°å»¶é•¿å‡ºæ¥çš„ï¼Œä½†æ˜¯ç”Ÿè‚²æ´¥è´´åªæœ‰98å¤©çš„ï¼Œé‚£ä¹ˆï¼Œå‰©ä¸‹è¿™60å¤©å°±æ²¡æœ‰é’±å—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šä¸æ˜¯ï¼ï¼ï¼\næ ¹æ®ã€Šå››å·çœäººå£ä¸è®¡åˆ’ç”Ÿè‚²æ¡ä¾‹ï¼ˆ2021å¹´ä¿®æ­£ï¼‰ã€‹ ç¬¬äºŒåå››æ¡è§„å®šï¼š\nç¬¦åˆæœ¬æ¡ä¾‹è§„å®šç”Ÿè‚²å­å¥³çš„å¤«å¦»ï¼Œé™¤æ³•å¾‹ã€æ³•è§„è§„å®šå¤–ï¼Œå»¶é•¿å¥³æ–¹ç”Ÿè‚²å‡60å¤©ï¼Œç»™äºˆç”·æ–¹æŠ¤ç†å‡ 20å¤©ã€‚ç”Ÿè‚²å‡ã€æŠ¤ç†å‡è§†ä¸ºå‡ºå‹¤ï¼Œå·¥èµ„ç¦åˆ©å¾…é‡ä¸å˜ã€‚\næˆ‘ä»¬çŸ¥é“ï¼Œè¿™60å¤©æ˜¯ç”Ÿè‚²å‡ï¼Œè€Œç”Ÿè‚²å‡ï¼Œè§†ä¸ºå‡ºå‹¤ï¼Œå·¥èµ„ç¦åˆ©å¾…é‡ä¸é™ã€‚å› æ­¤ï¼Œè¿™60å¤©éœ€è¦ç”±å…¬å¸å‘æ”¾å·¥èµ„ï¼Œå…¬å¸ä¸èƒ½å› ä¸ºå‘˜å·¥åœ¨å®¶å°±ä¸èƒ½è¿›è¡Œå·¥èµ„å‘æ”¾ï¼\n","description":"\n","tags":["ç”Ÿè‚²å‡","ç”Ÿè‚²æ´¥è´´","ç”Ÿè‚²ä¿é™©","ç¤¾ä¿"],"title":"\nç”Ÿè‚²ä¿é™©ä»¥åŠç”Ÿè‚²æ´¥è´´ç›¸å…³-æˆéƒ½","uri":"/posts/post-28/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä»Šå¤©è·‘ä»£ç æ—¶ç”¨åˆ°äº†Powershellï¼Œæœ‰ä¸€ä¸ªç¯å¢ƒå˜é‡æ­»æ´»éƒ½æ‰¾ä¸åˆ°ï¼Œæ— å¥ˆåªå¥½é‡æ–°å›åˆ°cmdå‘½ä»¤è¡Œæµ‹è¯•ï¼Œç»“æœç«‹é©¬å°±è·‘é€šäº†ã€‚ ç”±äºç°åœ¨Win10é»˜è®¤å³é”®åªæœ‰Powershellï¼Œæ‰€ä»¥ä¸ºäº†ä»¥åæ–¹ä¾¿ä½¿ç”¨å°±æŠŠå³é”®æ·»åŠ â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€çš„ä»£ç åˆ†äº«å‡ºæ¥ã€‚\næ•ˆæœæ˜¾ç¤ºâ€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€é€‰é¡¹ï¼Œå¦‚å›¾ï¼š\nå…·ä½“æ­¥éª¤ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå‘½åä¸ºOpenCmdHere.txtï¼Œæ³¨æ„è®¾ç½®ç¼–ç æ ¼å¼ä¸ºANSI ç¬¬äºŒæ­¥ï¼šåœ¨æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹ä»£ç ï¼Œå¹¶ä¿å­˜\nWindows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Directory\\shell\\OpenCmdHere] @=\"åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\" \"Icon\"=\"cmd.exe\" [HKEY_CLASSES_ROOT\\Directory\\shell\\OpenCmdHere\\command] @=\"cmd.exe /s /k pushd \"%V\"\" [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\OpenCmdHere] @=\"åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\" \"Icon\"=\"cmd.exe\" [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\OpenCmdHere\\command] @=\"cmd.exe /s /k pushd \"%V\"\" [HKEY_CLASSES_ROOT\\Drive\\shell\\OpenCmdHere] @=\"åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\" \"Icon\"=\"cmd.exe\" [HKEY_CLASSES_ROOT\\Drive\\shell\\OpenCmdHere\\command] @=\"cmd.exe /s /k pushd \"%V\"\" [HKEY_CLASSES_ROOT\\LibraryFolder\\background\\shell\\OpenCmdHere] @=\"åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\" \"Icon\"=\"cmd.exe\" [HKEY_CLASSES_ROOT\\LibraryFolder\\background\\shell\\OpenCmdHere\\command] @=\"cmd.exe /s /k pushd \"%V\"\" ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹æ–‡ä»¶åç¼€åä¸ºregï¼Œå¼¹å‡ºçš„æç¤ºç‚¹ç¡®è®¤ã€‚ ç¬¬å››æ­¥ï¼šåŒå‡»OpenCmdHere.regæ–‡ä»¶è¿è¡Œï¼Œå¼¹å‡ºçš„æç¤ºç‚¹ç¡®è®¤ï¼Œä¿®æ”¹æ³¨å†Œè¡¨å°±å¤§åŠŸå‘Šæˆäº†ï¼\n","description":"\n","tags":[],"title":"\nWindows10å³é”®æ·»åŠ \"åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\"","uri":"/posts/post-263/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å†™åœ¨å‰é¢ å› ä¸ºè€å©†è¦ç”Ÿè‚²äº†ï¼Œåœ¨å’Œå…¬å¸æ²Ÿé€šä¸­å‘ç°ä¸€äº›ç†è§£åå·®é—®é¢˜ï¼Œåœ¨ç½‘ä¸Šæœåˆ°çš„å‡æœŸçš„ç»“æœä¹Ÿæ˜¯åƒå¥‡ç™¾æ€ªï¼Œæ‰€ä»¥è¿™é‡Œä¸“é—¨æ•´ç†ä¸€ä¸‹æˆéƒ½çš„ç”Ÿè‚²æ”¿ç­–ï¼Œä¸»è¦æ˜¯ç”Ÿè‚²å‡ç›¸å…³æ”¿ç­–ã€‚\néœ€è¦æå‰è¯´æ˜çš„æ˜¯ï¼Œå®é™…äº«å—çš„ç”Ÿè‚²å‡åªå¯èƒ½æ˜¯å¤§äºç­‰äºå›½å®¶è§„å®šçš„å‡æœŸçš„ã€‚å› ä¸ºä¸€èˆ¬ç”Ÿè‚²å‡éƒ½æ˜¯å›½å®¶å±‚é¢+å½“åœ°æ”¿ç­–å…±åŒå®ç°çš„\nå„æ–¹æ”¿ç­– é¦–å…ˆï¼Œæ˜¯å›½å®¶å±‚é¢çš„ï¼Œå›½å®¶æ³•å®šäº§å‡æ˜¯98å¤©ã€‚\næ”¯æ’‘æ¡ä¾‹æˆ–è§„å®šï¼šã€Šå¥³èŒå·¥åŠ³åŠ¨ä¿æŠ¤ç‰¹åˆ«è§„å®šã€‹ç¬¬ä¸ƒæ¡è§„å®š:\nå¥³èŒå·¥ç”Ÿè‚²äº«å—98å¤©äº§å‡ï¼Œå…¶ä¸­äº§å‰å¯ä»¥ä¼‘å‡15å¤©ï¼›éš¾äº§çš„ï¼Œå¢åŠ äº§å‡15å¤©ï¼›ç”Ÿè‚²å¤šèƒèƒçš„ï¼Œæ¯å¤šç”Ÿè‚²1ä¸ªå©´å„¿ï¼Œå¢åŠ äº§å‡15å¤©ã€‚ å¥³èŒå·¥æ€€å­•æœªæ»¡4ä¸ªæœˆæµäº§çš„ï¼Œäº«å—15å¤©äº§å‡ï¼›æ€€å­•æ»¡4ä¸ªæœˆæµäº§çš„ï¼Œäº«å—42å¤©äº§å‡ã€‚\nã€Šå¥³èŒå·¥åŠ³åŠ¨ä¿æŠ¤ç‰¹åˆ«è§„å®šã€‹å·²ç»2012å¹´4æœˆ18æ—¥å›½åŠ¡é™¢ç¬¬200æ¬¡å¸¸åŠ¡ä¼šè®®é€šè¿‡,å¹¶åœ¨2012å¹´05æœˆ07æ—¥ 16æ—¶08åˆ†å…¬å¸ƒï¼Œè‡ªå…¬å¸ƒæ—¥å¼€å§‹æ‰§è¡Œã€‚\nå…¶æ¬¡ï¼Œæ˜¯å½“åœ°æ”¿ç­–ï¼Œè¿™é‡Œå°±æ˜¯æŒ‡å››å·æˆéƒ½äº†ï¼Œå››å·å»¶é•¿å¥³æ–¹ç”Ÿè‚²å‡60å¤©ï¼Œæ³¨æ„æ˜¯å»¶é•¿ï¼Œä¸æ˜¯ä¿®æ”¹ï¼\nã€Šå››å·çœäººå£ä¸è®¡åˆ’ç”Ÿè‚²æ¡ä¾‹ï¼ˆ2021å¹´ä¿®æ­£ï¼‰ã€‹ ç¬¬äºŒåå››æ¡è§„å®š:\nç¬¦åˆæœ¬æ¡ä¾‹è§„å®šç”Ÿè‚²å­å¥³çš„å¤«å¦»ï¼Œé™¤æ³•å¾‹ã€æ³•è§„è§„å®šå¤–ï¼Œå»¶é•¿å¥³æ–¹ç”Ÿè‚²å‡å…­åå¤©ï¼Œç»™äºˆç”·æ–¹æŠ¤ç†å‡äºŒåå¤©ã€‚ç”Ÿè‚²å‡ã€æŠ¤ç†å‡è§†ä¸ºå‡ºå‹¤ï¼Œå·¥èµ„ç¦åˆ©å¾…é‡ä¸å˜ã€‚å¿çº§ä»¥ä¸Šåœ°æ–¹äººæ°‘æ”¿åºœåŠç”¨äººå•ä½åº”å½“ä¿éšœç”Ÿè‚²å‡ã€æŠ¤ç†å‡å¾…é‡è½å®ã€‚\nå­å¥³ä¸‰å‘¨å²ä»¥ä¸‹çš„å¤«å¦»ï¼Œæ¯å¹´åˆ†åˆ«äº«å—ç´¯è®¡åå¤©çš„è‚²å„¿å‡ï¼Œè‚²å„¿å‡è§†ä¸ºå‡ºå‹¤ã€‚\nå…³äºç¬¦åˆæœ¬æ¡ä¾‹è§„å®šç”Ÿè‚²å­å¥³çš„å¤«å¦»è¿™ä¸€ä¸»ä½“ï¼Œåœ¨ã€Šå››å·çœäººå£ä¸è®¡åˆ’ç”Ÿè‚²æ¡ä¾‹ï¼ˆ2021å¹´ä¿®æ­£ï¼‰ã€‹ çš„ç¬¬ä¸€ç«  ç¬¬äºŒæ¡åšå‡ºäº†è¯´æ˜ï¼š\næœ¬æ¡ä¾‹é€‚ç”¨äºæœ¬çœè¡Œæ”¿åŒºåŸŸå†…çš„å›½å®¶æœºå…³ã€ç¤¾ä¼šå›¢ä½“ã€ä¼ä¸šäº‹ä¸šå•ä½ã€ç¾¤ä¼—æ€§è‡ªæ²»ç»„ç»‡å’Œå…¬æ°‘ä»¥åŠæˆ·ç±åœ¨æœ¬çœè€Œç¦»å¼€æœ¬çœè¡Œæ”¿åŒºåŸŸçš„å…¬æ°‘ã€‚\nè¿™é‡Œå¾ˆæ˜ç¡®çš„æŒ‡å‡ºäº†ï¼Œç¬¦åˆæœ¬æ¡ä¾‹è§„å®šç”Ÿè‚²å­å¥³çš„å¤«å¦»è¿™ä¸€ä¸»ä½“æ˜¯æŒ‡çš„ï¼š\nåœ¨å››å·çš„å›½å®¶æœºå…³çš„å¤«å¦» åœ¨å››å·çš„ç¤¾ä¼šå›¢ä½“çš„å¤«å¦» åœ¨å››å·çš„ä¼ä¸šå•ä½çš„å¤«å¦» åœ¨å››å·çš„äº‹ä¸šå•ä½çš„å¤«å¦» åœ¨å››å·çš„ç¾¤ä¼—æ€§è‡ªæ²»ç»„ç»‡çš„å¤«å¦» åœ¨å››å·çš„å…¬æ°‘ æˆ·ç±åœ¨å››å·çš„ä½†äººä¸åœ¨å››å·çš„å…¬æ°‘ ä¸Šè¿°æ¶µç›–é¢éå¸¸å¹¿äº†ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ä½ åœ¨å››å·ä¸Šç­æˆ–è€…æˆ·ç±åœ¨å››å·ï¼Œéƒ½æ˜¯é€‚ç”¨è¿™ä¸ªè§„å®šçš„ã€‚\nåè¯ å¯ä»¥æ˜æ˜¾çœ‹è§ã€Šå››å·çœäººå£ä¸è®¡åˆ’ç”Ÿè‚²æ¡ä¾‹ï¼ˆ2021å¹´ä¿®æ­£ï¼‰ã€‹ è¿™ä¸€è§„å®šæ˜¯2021ä¿®æ­£ç‰ˆçš„ï¼Œé‚£ä¹ˆï¼Œå››å·æ˜¯åœ¨å“ªä¸€å¹´å¢åŠ çš„å¥³æ–¹60å¤©äº§å‡çš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯2016å¹´ã€‚\nå››å·çœç¬¬åäºŒå±Šäººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šå…¬å‘Šç¬¬61å·æ–‡ä»¶ï¼Œå››å·çœäººå£ä¸è®¡åˆ’ç”Ÿè‚²æ¡ä¾‹ï¼ˆ2016å¹´ï¼‰çš„ç¬¬äº”ç«  å¥–åŠ±ä¸ç¤¾ä¼šä¿éšœ ç¬¬äºŒåå…­æ¡é¦–æ¬¡æ­£å¼æ·»åŠ äº†è¿™ä¸€è§„å®šã€‚\nç¬¦åˆæœ¬æ¡ä¾‹è§„å®šç”Ÿè‚²å­å¥³çš„å¤«å¦»ï¼Œé™¤æ³•å¾‹ã€æ³•è§„è§„å®šå¤–ï¼Œå»¶é•¿å¥³æ–¹ç”Ÿè‚²å‡60å¤©ï¼Œç»™äºˆç”·æ–¹æŠ¤ç†å‡ 20å¤©ã€‚ç”Ÿè‚²å‡ã€æŠ¤ç†å‡è§†ä¸ºå‡ºå‹¤ï¼Œå·¥èµ„ç¦åˆ©å¾…é‡ä¸å˜ã€‚\nç»†å¿ƒçš„äººè‚¯å®šæ³¨æ„åˆ°äº†ï¼Œ2021å¹´çš„ä¿®æ­£ï¼Œé™¤äº†æŠŠè¿™ä¸€æ¡ä»ç¬¬äºŒåå…­æ¡æ”¹åœ¨ä¸ºç¬¬äºŒåå››æ¡å¤–ï¼Œè¿˜æ·»åŠ äº†è‚²å„¿å‡çš„ç¦åˆ©ç»†åˆ™ã€‚å…³äºè‚²å„¿å‡è¯¦ç»†è¯´æ˜çš„ï¼Œæˆ‘ä¼šåœ¨åé¢ä¸€ç¯‡æ–‡ç« è¯´æ˜ã€‚\næ€»ç»“ æ‰€ä»¥åœ¨å››å·ï¼Œå¥³æ–¹çš„ç”Ÿè‚²å‡ï¼Œä¹Ÿå°±æ˜¯äº§å‡ï¼Œå®é™…å¤©æ•°ä¸ºï¼š98+60=158å¤© ç”·æ–¹çš„æŠ¤ç†å‡ï¼Œä¹Ÿå°±æ˜¯é™ªäº§å‡ï¼Œä¸º20å¤©ã€‚\n","description":"\n","tags":["ç”Ÿå­©å­","å‡æœŸ","ç”Ÿè‚²å‡"],"title":"\nç”Ÿè‚²å‡æ”¿ç­–-æˆéƒ½","uri":"/posts/post-25/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å·¥ä½œ 20 å¤šå¹´äº†ï¼Œè¿™ 20 æ¥å¹´çœ‹åˆ°äº†å¾ˆå¤šå…¬å¸ç³»ç»Ÿæ¶æ„ï¼Œä¹Ÿçœ‹åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œåœ¨è·Ÿè¿™äº›å…¬å¸è¿›è¡Œäº¤æµå’Œè®¨è®ºçš„æ—¶å€™ï¼ŒåŒ…æ‹¬è¿›è¡Œå®æ–½å’Œæ–¹æ¡ˆæ¯”è¾ƒçš„æ—¶å€™ï¼Œéƒ½æœ‰å¾ˆå¤šå„ç§æ–¹æ¡ˆçš„æ¯”è¾ƒå’Œå¦¥åï¼Œå› ä¸ºç›¸å…³çš„ç»å†è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥ï¼Œé€æ¸å½¢æˆäº†è‡ªå·±çš„é€»è¾‘å’Œæ–¹æ³•è®ºã€‚ä»Šå¤©ï¼Œæƒ³å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼ŒæŠŠæˆ‘çš„è¿™äº›ä¸ªäººçš„ç»éªŒå’Œæƒ³æ³•æ€»ç»“ä¸‹æ¥ï¼Œå¸Œæœ›èƒ½å¤Ÿè®©æ›´å¤šçš„äººå¯ä»¥å‚è€ƒå’Œå€Ÿé‰´ï¼Œå¹¶èƒ½å¤Ÿåšå‡ºæ›´å¥½çš„æ¶æ„æ¥ã€‚å¦å¤–ï¼Œæˆ‘çš„è¿™äº›æ€ç»´æ–¹å¼å’ŒåŸåˆ™éƒ½é’ˆå¯¹äºç°æœ‰å¸‚é¢ä¸Šä¼—å¤šä¸åˆç†çš„æ¶æ„å’Œæ–¹æ¡ˆï¼Œæ‰€ä»¥ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§â€œçº æ­£â€â€¦â€¦ï¼ˆæ³¨æ„ï¼Œè¿™ç¯‡æ–‡ç« æ‰€è¯´çš„è¿™äº›æ¶æ„ä¸Šçš„åŸåˆ™ï¼Œä¸€èˆ¬é€‚ç”¨äºç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„ä¸šåŠ¡ï¼Œå¦‚æœåªæ˜¯ä¸€äº›ç®€å•å’Œè®¿é—®é‡ä¸å¤§çš„åº”ç”¨ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šå¾—å‡ºç›¸åçš„ç»“è®ºï¼‰\nåŸåˆ™ä¸€ï¼šå…³æ³¨äºçœŸæ­£çš„æ”¶ç›Šè€Œä¸æ˜¯æŠ€æœ¯æœ¬èº« å¯¹äºè½¯ä»¶æ¶æ„æ¥è¯´ï¼Œæˆ‘è§‰å¾—ç¬¬ä¸€é‡è¦çš„æ˜¯æ¶æ„çš„æ”¶ç›Šï¼Œå¦‚æœä¸è¯´æ”¶\bç›Šï¼Œåªæ˜¯ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ï¼Œè€Œæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚å¯¹äºæŠ€æœ¯æ”¶ç›Šæ¥è¯´ï¼Œæˆ‘è§‰å¾—ä¸‹é¢è¿™å‡ ä¸ªæ”¶ç›Šæ˜¯éå¸¸é‡è¦çš„ï¼š\næ˜¯å¦å¯ä»¥é™ä½æŠ€æœ¯é—¨æ§›åŠ å¿«æ•´ä¸ªå›¢é˜Ÿçš„å¼€å‘æµç¨‹ã€‚èƒ½å¤ŸåŠ å¿«æ•´ä¸ªå›¢é˜Ÿçš„å·¥ç¨‹æµç¨‹ï¼Œå¿«é€Ÿå‘å¸ƒï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸€ç›´åœ¨è§£å†³çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œç³»ç»Ÿæ¶æ„éœ€è¦èƒ½å¤Ÿè¿›è¡Œå¹¶è¡Œå¼€å‘ï¼Œå¹¶è¡Œä¸Šçº¿å’Œå¹¶è¡Œè¿ç»´ï¼Œè€Œä¸ä¼šè®©æŸä¸ªå›¢é˜Ÿæˆä¸ºç“¶é¢ˆç‚¹ã€‚ï¼ˆæ³¨ï¼šå°±ç®—æ‹–ç´¯å›¢é˜Ÿçš„åŸå› æ˜¯ç»„ç»‡æ„æ¶ï¼Œä¹Ÿä¸å¦¨ç¢æˆ‘ä»¬åšå‡ºå¹¶è¡Œçš„ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼‰ æ˜¯å¦å¯ä»¥è®©æ•´ä¸ªç³»ç»Ÿå¯ä»¥è¿è¡Œçš„æ›´ç¨³å®šã€‚è¦è®©æ•´ä¸ªç³»ç»Ÿå¯ä»¥è¿è¡Œçš„æ›´ä¸ºçš„ç¨³å®šï¼Œæå‡æ•´ä¸ªç³»ç»Ÿçš„ SLAï¼Œå°±éœ€è¦å¯¹æœ‰è®¡åˆ’å’Œæ— è®¡åˆ’çš„åœæœºåšç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼ˆå‚çœ‹ã€Šå…³äºé«˜å¯ç”¨çš„æ¶æ„ã€‹ï¼‰ æ˜¯å¦å¯ä»¥é€šè¿‡ç®€åŒ–å’Œè‡ªåŠ¨åŒ–é™ä½æˆæœ¬ã€‚æœ€é«˜ä¼˜åŒ–çš„æˆæœ¬æ˜¯äººåŠ›æˆæœ¬ï¼Œäººçš„æˆæœ¬é™¤äº†æ…¢å’Œè´µï¼Œè¿˜æœ‰ç»å¸¸ä¸æ–­çš„ human errorã€‚å¦‚æœä¸èƒ½é™ä½äººåŠ›æˆæœ¬ï¼Œåè€Œéœ€è¦æ›´å¤šçš„äººï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶æ„è®¾è®¡ä¸€å®šæ˜¯å¤±è´¥çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ˜¯æ—¶é—´æˆæœ¬ï¼Œèµ„é‡‘æˆæœ¬ã€‚ å¦‚æœä¸€ä¸ªç³»ç»Ÿæ¶æ„ä¸èƒ½åœ¨ä¸Šé¢ä¸‰ä¸ªäº‹ä¸Šèµ·åˆ°ä½œç”¨ï¼Œé‚£å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚\nåŸåˆ™äºŒï¼šä»¥åº”ç”¨æœåŠ¡å’Œ API ä¸ºè§†è§’ï¼Œè€Œä¸æ˜¯ä»¥èµ„æºå’ŒæŠ€æœ¯ä¸ºè§†è§’ å›½å†…å¾ˆå¤šå…¬å¸éƒ½ä¼šæœ‰å¾ˆå¤šåˆ†å·¥ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šåˆ†æˆè¿ç»´å’Œå¼€å‘ï¼Œè¿ç»´åˆä¼šåˆ†æˆåŸºç¡€è¿ç»´å’Œåº”ç”¨è¿ç»´ï¼Œå¼€å‘åˆ™ä¼šåˆ†æˆåŸºç¡€æ ¸å¿ƒå¼€å‘å’Œä¸šåŠ¡å¼€å‘ã€‚ä¸åŒçš„åˆ†å·¥ä¼šå¯¼è‡´å®Œå…¨ä¸åŒçš„è§†è§’å’Œå‡ºå‘ç‚¹ã€‚æ¯”å¦‚ï¼ŒåŸºç¡€è¿ç»´å’Œå¼€å‘çš„åŒå­¦æ›´å¤šçš„åªæ˜¯å…³æ³¨èµ„æºçš„åˆ©ç”¨ç‡å’Œæ€§èƒ½ï¼Œè€Œåº”ç”¨è¿ç»´å’Œä¸šåŠ¡å¼€å‘åˆ™æ›´å¤šå…³æ³¨çš„æ˜¯åº”ç”¨å’ŒæœåŠ¡ä¸Šçš„ä¸œè¥¿ã€‚è¿™ä¸¤è€…æœ¬æ¥ç›¸å…³æ— äº‹ï¼Œä½†æ˜¯å› ä¸ºåˆ†å¸ƒå¼æ¶æ„çš„æ¼”è¿›ï¼Œå¯¼è‡´æœ‰ä¸€äº›ç³»ç»Ÿå·²ç»è¯´ä¸æ¸…æ¥šæ˜¯åŸºç¡€å±‚çš„è¿˜æ˜¯åº”ç”¨å±‚çš„äº†ï¼Œæ¯”å¦‚åƒæœåŠ¡æ²»ç†ä¸Šçš„ä¸œè¥¿ï¼Œé‡Œé¢å³æœ‰åº•å±‚åŸºç¡€æŠ€æœ¯ï¼Œä¹Ÿéœ€è¦ä¸šåŠ¡çš„åŒå­¦æ¥é…åˆï¼ŒåŒ…æ‹¬ k8s ä¹Ÿæ ·ï¼Œé‡Œé¢å³æœ‰åº•å±‚çš„å¦‚ç½‘ç»œè¿™æ ·çš„æŠ€æœ¯ï¼Œä¹Ÿæœ‰éœ€è¦ä¸šåŠ¡é…åˆçš„ readniesså’Œ liveness è¿™æ ·çš„å¥åº·æ£€æŸ¥ï¼Œä»¥åŠä¸šåŠ¡åº”ç”¨éœ€è¦ configMap ç­‰ç­‰ â€¦â€¦\nè¿™äº›ä¸œè¥¿éƒ½è®©æˆ‘æ„Ÿè§‰åˆ°æ‰€è°“ DevOpsï¼Œå…¶å®å°±æ˜¯å› ä¸ºå¾ˆå¤šæŠ€æœ¯å’Œç»„ä»¶å·²ç»åˆ†ä¸æ¸…æ˜¯ Dev è¿˜æ˜¯ Ops çš„äº†ï¼Œæ‰€ä»¥ï¼Œéœ€è¦åˆå¹¶ Devå’Œ Opsã€‚è€Œä¸”ï¼Œæ•´ä¸ªç»„ç»‡å’Œæ¶æ„çš„ä¼˜åŒ–ï¼Œå·²ç»ä¸èƒ½é€šè¿‡è°ƒä¼˜å•ä¸€åˆ†å·¥æˆ–æ˜¯å•ä¸€ç»„ä»¶èƒ½å¤Ÿæœ‰å¾ˆå¤§æå‡çš„äº†ã€‚å…¶éœ€è¦æœ‰ä¸€ç§è‡ªé¡¶å‘ä¸‹çš„ï¼Œæ•´ä½“è§„åˆ’ï¼Œç»Ÿä¸€è®¾è®¡çš„æ–¹å¼ï¼Œæ‰èƒ½åšåˆ°æ•´ä½“çš„æå‡ï¼ˆå¯ä»¥è¯•æƒ³ä¸€ä¸‹åŸå¸‚äº¤é€šçš„ä¼˜åŒ–ï¼Œå½“åŸå¸‚è§„æ¨¡åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œæ•´ä½“çš„æ€§èƒ½ä½ æ˜¯æ— æ³•é€šè¿‡ä¼˜åŒ–å‡ æ¡è·¯æˆ–æ˜¯å‡ æ¡è¡—åŒºæ¥å®Œæˆçš„ï¼Œä½ éœ€è¦å¯¹æ•´ä¸ªåŸå¸‚åšæ•´ä½“çš„åŠŸèƒ½ä½“çš„è§„åˆ’æ‰å¯èƒ½è¾¾åˆ°æ•´ä½“æ•ˆç‡çš„æå‡ï¼‰ã€‚è€Œä¸ºäº†åšåˆ°æ•´ä½“çš„æå‡ï¼Œéœ€è¦æ‰€æœ‰çš„äººéƒ½è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„è§†è§’å’Œç›®æ ‡ï¼Œè¿™å‡ å¹´æ¥ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªç›®æ ‡å°±æ˜¯â€”â€”è¦ç«™åœ¨æœåŠ¡å’Œ å¯¹å¤–APIçš„è§†è§’æ¥çœ‹é—®é¢˜ï¼Œè€Œä¸æ˜¯æŠ€æœ¯å’Œåº•å±‚çš„è§’åº¦ã€‚\nåŸåˆ™ä¸‰ï¼šé€‰æ‹©æœ€ä¸»æµå’Œæˆç†Ÿçš„æŠ€æœ¯ æŠ€æœ¯é€‰å‹æ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹ï¼ŒæŠ€æœ¯ä¸€æ—¦é€‰é”™ï¼Œé‚£ä¼šå¯¼è‡´æ•´ä¸ªæ¶æ„éœ€è¦åšè°ƒæ•´ï¼Œè€Œå¯¹æ¶æ„çš„è°ƒæ•´é‡æ¥éƒ½ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹ï¼Œæˆ‘åœ¨è¿‡å»å‡ å¹´å†…ï¼Œå½“ç³»ç»Ÿè¶Šæ¥è¶Šå¤æ‚çš„æ—¶å€™ï¼Œç”¨æˆ·æŠŠä»–ä»¬çš„ PHPï¼ŒPython, .NETï¼Œæˆ– Node.js çš„æ¶æ„å®Œå…¨éƒ½è¿ç§»åˆ° Java + Go çš„æ¶æ„ä¸Šæ¥çš„æ¡ˆä¾‹ä¸æ–­çš„å‘ç”Ÿã€‚è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯éå¸¸ç—›è‹¦çš„ï¼Œä½†æ˜¯ä½ æ²¡æœ‰åŠæ³•ï¼Œå½“ä½ çš„ç³»ç»Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œè¶Šæ¥è¶Šå¤§æ—¶ï¼Œä½ å°±å†ä¹Ÿä¸èƒ½åœ¨ä¸€äº›ç©å…·æŠ€æœ¯ä¸Šç©äº†ï¼Œä½ éœ€è¦çš„æ›´ä¸ºå·¥ä¸šåŒ–çš„æŠ€æœ¯ã€‚\nå°½å¯èƒ½çš„ä½¿ç”¨æ›´ä¸ºæˆç†Ÿæ›´ä¸ºå·¥ä¸šåŒ–çš„æŠ€æœ¯æ ˆï¼Œè€Œä¸æ˜¯è‡ªå·±ç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆã€‚æ‰€è°“å·¥ä¸šåŒ–çš„æŠ€æœ¯æ ˆï¼Œä½ å¯ä»¥çœ‹çœ‹å¤§å¤šæ•°å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆï¼Œæ¯”å¦‚ï¼šäº’è”ç½‘ï¼Œé‡‘èï¼Œç”µä¿¡â€¦â€¦ç­‰ç­‰ ï¼Œå¤§å…¬å¸ä¼šæœ‰æ›´å¤šçš„æŠ€æœ¯æŠ•å…¥ï¼Œä¹Ÿéœ€è¦æ›´å¤§è§„æ¨¡çš„ç”Ÿäº§ï¼Œæ‰€ä»¥ï¼Œä»–ä»¬ä½¿ç”¨çš„æŠ€æœ¯é€šå¸¸æ¥è¯´éƒ½æ˜¯æ¯”è¾ƒå·¥ä¸šåŒ–çš„ã€‚åœ¨æŠ€æœ¯é€‰å‹ä¸Šï¼Œåƒä¸‡ä¸è¦è¢«â€”â€”â€œä½ çœ‹æŸä¸ªå…¬å¸ä¹Ÿåœ¨ç”¨è¿™ä¸ªæŠ€æœ¯â€ï¼Œæˆ–æ˜¯ä¸€äº›åœ¨è®º\bå›ä¸Šçœ‹åˆ°çš„ä¸€äº›ç¨‹åºå‘˜åæ§½æŠ€æœ¯çš„è§‚ç‚¹ï¼ˆæ²¡æœ‰ä»»ä½•çš„æ•°æ®ï¼Œåªæœ‰è‡ªå·±çš„å–œå¥½ï¼‰æ¥å†³å®šè‡ªå·±çš„æŠ€æœ¯ï¼Œè¿˜æ˜¯çœ‹çœ‹ä¸»æµå¤§å¤šæ•°å…¬å¸å®é™…åœ¨ç”¨çš„æŠ€æœ¯æ ˆï¼Œä¼šæ›´é è°±ä¸€äº›ã€‚ é€‰æ‹©å…¨çƒæµè¡Œçš„æŠ€æœ¯ï¼Œè€Œä¸æ˜¯ä¸­å›½æµè¡Œçš„æŠ€æœ¯ã€‚æŠ€æœ¯è¿™ä¸ªä¸œè¥¿ä¸€å®šæ˜¯ä¸€ä¸ªå…¨çƒåŒ–çš„ä¸œè¥¿ï¼Œä¸æ˜¯ä¸€ä¸ªå±€åŸŸåŒ–çš„äº‹ã€‚æ‰€ä»¥ï¼Œä¸€å®šè¦é€‰å›½é™…åŒ–çš„ä¼šæ›´å¥½ã€‚å¦å¤–ï¼Œåƒä¸‡ä¸è¦è¢«æŸäº›å…¬å¸çš„â€œç‰¹åˆ«æ¡ˆä¾‹â€éª—è¿‡å»äº†ï¼Œé‚£æ€•è¿™ä¸ªæ¡ˆä¾‹å¾ˆæ€§æ„Ÿï¼Œå…³é”®è¿˜æ˜¯è¦çœ‹è§£å†³é—®é¢˜çš„æ€è·¯å’Œé‡‡ç”¨çš„æŠ€æœ¯æ˜¯å¦å…·æœ‰æ™®ä¸–æ€§ã€‚åªæœ‰æ™®ä¸–æ€§çš„æŠ€æœ¯æœ‰æ›´å¼ºçš„ç”Ÿå‘½åŠ›ã€‚ å°½å¯èƒ½çš„ä½¿ç”¨çº¢åˆ©å¤§çš„ä¸»æµæŠ€æœ¯ï¼Œè€Œä¸è¦è‡ªå·±å‘æ˜è½®å­ï¼Œæ›´ä¸è¦é­”æ”¹ã€‚æˆ‘è§è¿‡å¥½äº›ä¸ªå…¬å¸é­”æ”¹å¼€æºè½¯ä»¶ï¼Œæ¯”å¦‚æœ‰ä¸ªå…¬å¸åŒé­”æ”¹mesosï¼Œæœ€åæ”¹ç€æ”¹ç€å‘ç°è‡ªå·±å‘æ˜å¦ä¸€ä¸ª kubernetesã€‚æˆ‘è¿˜è§è¿‡å¾ˆå¤šå…¬å¸æˆ–æŠ€æœ¯å›¢é˜Ÿå–œæ¬¢è‡ªå·±å‘æ˜è‡ªå·±çš„ä¸“ç”¨è½®å­ï¼Œæœ€åéƒ½ä¼šè¢«ä¸»æµå¼€æºè½¯ä»¶æ‰€å–ä»£ã€‚å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚ä¸é‡æ–°å‘æ˜è½®å­ï¼Œä¸é­”æ”¹ï¼Œä¸æ˜¯å› ä¸ºè‡ªå·±æŠ€æœ¯ä¸èƒ½ï¼Œè€Œæ˜¯å› ä¸ºï¼Œè¿™ä¸ªä¸–ç•Œæ—©å·²ä¸æ˜¯è‡ªå·±å¹²æ‰€æœ‰äº‹çš„å¹´ä»£äº†ï¼Œè¿™ä¸ªæ—¶ä»£æ˜¯è¦æƒ³å°½æ–¹æ³•è·Ÿæ•´ä¸ªäº§ä¸šï¼Œæ•´ä¸ªæŠ€æœ¯ç¤¾åŒºèåˆå’Œåˆä½œï¼Œè¿™æ ·æ‰ä¼šæœ‰æœ€å¤§çš„æ”¶ç›Šã€‚é‚£äº›è¯•å›¾å› ä¸ºæŸä¸ªç‰¹ä¾‹éœ€è¦è‡ªæˆä¸€å¥—çš„ç©æ³•ï¼ŒçŸ­æœŸæ²¡é—®é¢˜ï¼Œä½†é•¿æœŸæ¥è¯´ï¼Œæˆ‘éƒ½ä¸çœ‹å¥½ã€‚ ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æ— éå¸¸ç‰¹æ®Šè¦æ±‚ï¼Œé€‰ JavaåŸºæœ¬æ˜¯ä¸ä¼šé”™çš„ã€‚ä¸€æ–¹é¢ï¼Œè¿™æ˜¯å› ä¸º Java çš„ä¸šåŠ¡å¼€å‘çš„ç”Ÿäº§åŠ›æ˜¯éå¸¸å¥½çš„ï¼Œè€Œä¸”æœ‰ Spring æ¡†æ¶ä¿éšœï¼Œä»£ç å¾ˆéš¾å†™çƒ‚ï¼Œå¦å¤–ï¼ŒJava çš„ç¤¾åŒºå¤ªæˆç†Ÿäº†ï¼Œä½ éœ€è¦çš„å„ç§æ¶æ„å’ŒæŠ€æœ¯éƒ½å¯ä»¥å¾ˆå®¹æ˜“è·å¾—ï¼ŒæŠ€æœ¯çº¢åˆ©å®åœ¨æ˜¯å¤ªå¤§ã€‚è¿™ç§è¿è¡Œåœ¨JVMä¸Šçš„è¯­è¨€æœ‰å¤ªå¤šå¤ªå¤šçš„å¥½å¤„äº†ã€‚åœ¨ Java çš„æŠ€æœ¯æ ˆä¸Šï¼Œä½ çš„æ¶æ„é£é™©å’Œæ¶æ„çš„æˆæœ¬ï¼ˆæ— è®ºæ˜¯äººåŠ›æˆæœ¬ï¼Œæ—¶é—´æˆæœ¬å’Œèµ„é‡‘æˆæœ¬ï¼‰ä»é•¿æœŸæ¥è¯´éƒ½æ˜¯æœ€ä¼˜çš„ åœ¨æˆ‘è§è¿‡çš„å…¬å¸ä¸­ï¼Œå¥½äº›å…¬å¸çš„æ¶æ„éƒ½è¢«æŠ€æœ¯è´Ÿè´£äººä¸ªäººçš„å–œå¥½ã€æ“…é•¿å’Œä¸ªäººç»éªŒç»™ç»‘æ¶äº†ï¼Œå®Œå…¨ä¸æ˜¯ä»ä¸€ä¸ªå®¢è§‚çš„è§’åº¦æ¥è¿›è¡ŒæŠ€æœ¯é€‰å‹ã€‚å…¶å®ï¼Œä» 0 åˆ° 1 çš„é˜¶æ®µï¼Œä½ ç”¨ä»€ä¹ˆæ ·çš„æŠ€æœ¯éƒ½è¡Œï¼Œå¦‚æœä½ åšä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œæ²¡æœ‰äº‹åŠ¡å¤„ç†æ²¡æœ‰å¤æ‚çš„äº¤æ˜“æµç¨‹ï¼Œæ¯”å¦‚ä¸€äº›è®ºå›ã€ç¤¾äº¤ä¹‹ç±»çš„åº”ç”¨ï¼Œä½ ç”¨ä»»ä½•è¯­è¨€éƒ½è¡Œã€‚ä½†æ˜¯å¦‚æœæœ‰ä¸€å¤©ä½ çš„ç³»ç»Ÿå˜å¤æ‚äº†ï¼Œéœ€è¦å¤„ç†äº¤æ˜“äº†ï¼Œé‡ä¹Ÿä¸Šæ¥äº†ï¼Œä» 1 åˆ° 10ï¼Œç”šè‡³ä» 10 åˆ° 100ï¼Œä½ çš„å¼€å‘å›¢é˜Ÿä¹Ÿå˜å¤§äº†ï¼Œéœ€è¦æ„å»ºçš„ç³»ç»Ÿè¶Šæ¥è¶Šå¤§ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä½ åªæœ‰ä¸€ä¸ªé€‰æ‹©ï¼Œå°±æ˜¯ Javaã€‚æƒ³æƒ³äº¬ä¸œä».NET åˆ° Javaï¼Œæ·˜å®ä» PHP åˆ° Javaâ€¦â€¦\næ³¨ï¼Œä¸€äº›æœ‰ä¸»è§‚å–œå¥½çš„äººä¸€å®šä¼šå¯¹æˆ‘ä¸Šè¿°å¯¹ Java çš„æè¿°æ„Ÿåˆ°ä¸é€‚ï¼Œæˆ‘è¿˜ç”¨ä¸€äº›è¯æ®è¯´æ˜ä¸€ä¸‹â€”â€”å…¨ä¸­å›½æ‰€æœ‰çš„ç”µå•†å¹³å°ï¼Œå‡ ç™¾å®¶é“¶è¡Œï¼Œä¸‰å¤§ç”µä¿¡è¿è¥å•†ï¼Œæ‰€æœ‰çš„ä¿é™©å…¬å¸ï¼ŒåŠµå•†çš„ç³»ç»Ÿï¼ŒåŒ»é™¢é‡Œçš„ç³»ç»Ÿï¼Œç”µå­æ”¿åºœç³»ç»Ÿï¼Œç­‰ç­‰ï¼ŒåŸºæœ¬éƒ½æ˜¯ç”¨ Java å¼€å‘çš„ï¼ŒåŒ…æ‹¬ AWS çš„ä¸»æµè¯­è¨€ä¹Ÿæ˜¯ Javaï¼Œé˜¿é‡Œäº‘ä¸€å¼€å§‹ç”¨ C++/Python å†™æ§åˆ¶ç³»ç»Ÿï¼Œåé¢ä¹Ÿå¼€å§‹ç”¨ Java â€¦â€¦ä½ å¯èƒ½ä¼šè¯´ Bç«™æ˜¯ç”¨ goè¯­è¨€ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¸çŸ¥é“ B ç«™çš„ç”µå•†å’Œå¤§æ•°æ®æ˜¯ç”¨ Javaâ€¦â€¦æ‡‚ç€æ•°æ®åˆ†æçš„åŒå­¦ï¼Œå»ºè®®ä¸Šå„å¤§æ‹›è˜ç½‘ç«™ä¸Šæœä¸€ä¸‹ Java çš„èŒä½æ•°é‡ï¼Œä½ å°±çŸ¥é“æŸä¸ªæŠ€æœ¯æ˜¯å¦ä¸»æµå’Œçƒ­é—¨â€¦â€¦\nåŸåˆ™å››ï¼šå®Œå¤‡æ€§ä¼šæ¯”æ€§èƒ½æ›´é‡è¦ æˆ‘å‘ç°å¥½äº›å…¬å¸çš„æ¶æ„å¸ˆåšæ¶æ„çš„æ—¶å€™ï¼Œé¦–è¦è€ƒè™‘çš„æ˜¯æ¶æ„çš„æ€§èƒ½æ˜¯å¦èƒ½å¤Ÿæ’‘å¾—ä½å¤šå¤§å¤šå¤§çš„æµé‡ï¼Œè€Œä¸æ˜¯è€ƒè™‘ç³»ç»Ÿçš„å®Œå¤‡æ€§å’Œæ‰©å±•æ€§ã€‚æ‰€ä»¥ï¼Œæˆ‘å·²ç»å¤šæ¬¡è§è¿‡è¿™æ ·çš„æ¡ˆä¾‹äº†ï¼Œä¸€å¼€å§‹ç›´æ¥ä½¿ç”¨ MongoDB è¿™æ ·çš„éå…³ç³»å‹æ•°æ®åº“ï¼Œæˆ–æ˜¯æŠŠæ•°æ®ç›´æ¥æ”¾åœ¨ Redis é‡Œï¼Œè€Œç›´æ¥æ”¾å¼ƒå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®å®Œå¤‡æ€§çš„æ¨¡å‹ï¼Œè€Œåœ¨åæ¥éœ€è¦åœ¨æ•°æ®ä¸Šè¿›è¡Œå…³ç³»æŸ¥è¯¢çš„æ—¶å€™ï¼Œå‘ç° NoSQL çš„æ•°æ®åº“åœ¨ Join ä¸Šéƒ½è¡¨ç°çš„å¤ªå·®ï¼Œç„¶åå°±å¼€å§‹å„ç§é£çº¿ï¼Œä¸ºäº†ä¸åš Join å°±å¼€å§‹å†—ä½™æ•°æ®ï¼Œç„¶è€Œè‡ªå·±åˆç»´æŠ¤ä¸å¥½å†—ä½™æ•°æ®åå¸¦æ¥çš„æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¯¼è‡´æ•°æ®ä¸Šçš„å„ç§é”™ä¹±ä¸¢å¤±ã€‚\næ‰€ä»¥ï¼Œæˆ‘ç»™å¦‚ä¸‹çš„ä¸€äº›å¦‚ä¸‹çš„æ¶æ„åŸåˆ™ï¼š\nä½¿ç”¨æœ€ç§‘å­¦ä¸¥è°¨çš„æŠ€æœ¯æ¨¡å‹ä¸ºä¸»ï¼Œå¹¶ä»¥ä¸ä¸¥è°¨çš„æ¨¡å‹ä½œä¸ºè¡¥å……ã€‚å¯¹äºä¸Šé¢é‚£ä¸ªæ¡ˆä¾‹æ¥è¯´ï¼Œå°±æ˜¯â€”â€”æ°¸è¿œä½¿ç”¨å®Œå¤‡æ”¯æŒ ACID çš„å…³ç³»å‹æ•°æ®åº“ï¼Œç„¶åç”¨ NoSQL ä½œè¡¥å……ï¼Œè€Œä¸æ˜¯å®Œå…¨æ”¾å¼ƒå…³ç³»å‹æ•°æ®åº“ã€‚è¿™é‡Œçš„åŸåˆ™å°±æ˜¯æ‰€è°“çš„â€œå…ˆç´§åæ¾â€ï¼Œä¸€å¼€å§‹ç´§äº†ï¼Œä½ å¯ä»¥æ…¢æ…¢æ¾ï¼Œä½†æ˜¯å¼€å§‹æ¾äº†ï¼Œä»¥åä½ æƒ³ç´§å†ä¹Ÿç´§ä¸è¿‡æ¥äº†ã€‚ æ€§èƒ½ä¸Šçš„ä¸œè¥¿ï¼Œæ€»æ˜¯æœ‰å¾ˆå¤šè§£çš„ã€‚æˆ‘è¿™ä¹ˆå¤šå¹´çš„ç»å†å‘Šè¯‰æˆ‘ï¼Œæ€§èƒ½ä¸Šçš„äº‹ï¼Œæ€»æ˜¯æœ‰è§£çš„ï¼Œæ‰‹æ®µä¹Ÿæ˜¯æœ€å¤šçš„ï¼Œè¿™ä¸ªæ¯”èµ·æ¶æ„çš„å®Œå¤‡æ€§å’Œæ‰©å±•æ€§æ¥è¯´çœŸçš„ä¸å¿…å¤ªè¿‡æ‹…å¿ƒã€‚ ä¸ºäº†è¿½æ±‚æ‰€è°“çš„æ€§èƒ½ï¼ŒæŠŠæ•´ä¸ªç³»ç»Ÿçš„å®Œå¤‡æ€§ä¸¢å¤±æ‰ï¼Œç›¸å½“åœ°å¾—ä¸å¿å¤±ã€‚\nåŸåˆ™äº”ï¼šåˆ¶å®šå¹¶éµå¾ªæœä»æ ‡å‡†ã€è§„èŒƒå’Œæœ€ä½³å®è·µ è¿™ä¸ªåŸåˆ™æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºåªæœ‰æœä»äº†æ ‡å‡†ï¼Œä½ çš„æ¶æ„æ‰èƒ½å¤Ÿæœ‰æ›´å¥½çš„æ‰©å±•æ€§ã€‚æ¯”å¦‚ï¼šæˆ‘ç»å¸¸æ€§çš„è§åˆ°å¾ˆå¤šå…¬å¸çš„ç³»ç»Ÿæ—¢æ²¡æœ‰æœä»ä¸šç•Œæ ‡å‡†ï¼Œä¹Ÿæ²¡æœ‰å½¢æˆè‡ªå·±å…¬å¸çš„æ ‡å‡†ï¼Œæ„Ÿè§‰å°±åƒä¸€ç¾¤ä¹Œåˆä¹‹ä¼—ä¸€æ ·ã€‚æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ HTTP è°ƒç”¨çš„çŠ¶æ€è¿”å›ç ã€‚ä¸šå†…ç»™ä½ çš„æ ‡å‡†æ˜¯ 200è¡¨ç¤ºæˆåŠŸï¼Œ3xx è·³è½¬ï¼Œ4xx è¡¨ç¤ºè°ƒç”¨ç«¯å‡ºé”™ï¼Œ5xx è¡¨ç¤ºæœåŠ¡ç«¯å‡ºé”™ï¼Œæˆ‘å®åœ¨æ˜¯ä¸æ˜ç™½ä¸ºä»€ä¹ˆæ— è®ºæˆåŠŸå’Œå¤±è´¥å¤§å®¶éƒ½å–œæ¬¢è¿”å› 200ï¼Œç„¶ååœ¨ body é‡ŒæŒ‡å‡ºæ˜¯å¦errorï¼ˆå‰ä¸¤å¹´æˆ‘åœ¨å¾®ä¿¡å…¬ä¼—å·é‡Œçœ‹åˆ°ä¸€ä¸ªæœ‰ä¸€å®šåæ°”çš„äº’è”ç½‘è€å…µæ¨èä½¿ç”¨æ— è®ºæ­£ç¡®è¿˜æ˜¯å‡ºé”™éƒ½è¿”å› 200 çš„åšæ³•ï¼Œæˆ‘åœ¨åå°å†ä¸‰ç¡®è®¤åï¼Œæˆ‘å‘ç°è¿™æ ·çš„æ¶æ„å¸ˆçœŸæ˜¯å®³äººä¸æµ…ï¼‰ã€‚è¿™æ ·åšæœ€å¤§çš„é—®é¢˜æ˜¯â€”â€”ç›‘æ§ç³»ç»Ÿå°†åœ¨ä¸€ç§ä½æ•ˆçš„çŠ¶æ€ä¸‹å·¥ä½œã€‚ç›‘æ§ç³»ç»Ÿéœ€è¦æŠŠæ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚åŒ…æ‰“å¼€åæ‰çŸ¥é“æ˜¯å¦æ˜¯é”™è¯¯ï¼Œè€Œä¸”å®Œå…¨ä¸çŸ¥é“æ˜¯è°ƒç”¨ç«¯å‡ºé”™è¿˜æ˜¯æœåŠ¡ç«¯å‡ºé”™ï¼Œäºæ˜¯ä¸€äº›åƒé‡è¯•æˆ–ç†”æ–­è¿™æ ·çš„æ§åˆ¶ç³»ç»Ÿå®Œå…¨ä¸çŸ¥é“æ€ä¹ˆæï¼ˆå¦‚æœæ˜¯ 4xxé”™ï¼Œé‚£ä¹ˆé‡è¯•æˆ–ç†”æ–­æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œåªæœ‰ 5xx æ‰æœ‰æ„ä¹‰ï¼‰ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä¼šæœ‰ç§è¶Šæ´»è¶Šé€€æ­¥çš„æ„Ÿè§‰ï¼Œé”™è¯¯ç è®¾è®¡è¿™ç§æœ€åŸºæœ¬æœ€åŸºç¡€çš„ä¸œè¥¿ä¸ºä»€ä¹ˆä¼šæ²¡æœ‰ï¼Ÿå¹¶ä¸”ä¸€ä¸ªå…¬å¸ä¼šä»»ç”±ç€å¤§å®¶ä¹±æ¥ï¼Ÿè¿™äº›åŸºç¡€æŠ€èƒ½æ€ä¹ˆå°±è¿™æ ·ä¸¢æ‰äº†ï¼Ÿ\nè¿˜æœ‰ï¼Œæˆ‘è¿˜è§è¿‡ä¸€äº›å…¬å¸ï¼Œä»–ä»¬æ•´ä¸ªç»„ç»‡æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„ç”¨æˆ· ID çš„è®¾è®¡ï¼Œå„ä¸ªç³»ç»Ÿä¹‹é—´åŒæ­¥ç”¨æˆ·çš„æ•°æ®æ˜¯é€šè¿‡ç”¨æˆ·çš„èº«ä»½è¯ IDï¼Œæ˜¯çš„ï¼Œå°±æ˜¯ç°å®ä¸–ç•Œçš„èº«ä»½è¯ IDï¼ŒåŒ…æ‹¬åœ¨ç½‘å…³ä¸Šè®¾ç½®çš„ç”¨æˆ·ç™½åå•å±…ç„¶ä¹Ÿæ˜¯ç”¨èº«ä»½è¯ IDã€‚æˆ‘å¯¹è¿™ä¸ªå…¬å¸çš„å†…çš„ç”¨æˆ·éšç§ç®¡ç†æœ‰å¾ˆå¤§çš„æ‹…å¿§ã€‚ä¸€ä¸ªä¼ä¸šï¼Œä¸€ä¸ªç»„ç»‡ï¼Œå¦‚æœæ²¡æœ‰æ ‡å‡†å’Œè§„èŒƒï¼Œä¹Ÿå°±ä¼šæœ‰æŠ½è±¡ï¼Œè¿™ä¸€å®šæ˜¯è¦å‡ºå„ç§ä¹±å­çš„ã€‚\nä¸‹é¢ï¼Œæˆ‘ç½—åˆ—ä¸€äº›ä½ éœ€è¦æ³¨æ„çš„æ ‡å‡†å’Œè§„èŒƒï¼ˆåŒ…æ‹¬ä½†ä¸é™äºï¼‰ï¼š\næœåŠ¡\bé—´è°ƒç”¨çš„åè®®æ ‡å‡†å’Œè§„èŒƒã€‚è¿™å…¶ä¸­åŒ…æ‹¬ Restful APIè·¯å¾„, HTTP æ–¹æ³•ã€çŠ¶æ€ç ã€æ ‡å‡†å¤´ã€è‡ªå®šä¹‰å¤´ç­‰ï¼Œè¿”å›æ•°æ® JSon Schemeâ€¦â€¦ç­‰ã€‚ ä¸€äº›å‘½åçš„æ ‡å‡†å’Œè§„èŒƒã€‚è¿™å…¶ä¸­åŒ…æ‹¬å¦‚ï¼šç”¨æˆ· IDï¼ŒæœåŠ¡åã€æ ‡ç­¾åã€çŠ¶æ€åã€é”™è¯¯ç ã€æ¶ˆæ¯ã€æ•°æ®åº“â€¦â€¦ç­‰ç­‰ æ—¥å¿—å’Œç›‘æ§çš„è§„èŒƒã€‚è¿™å…¶ä¸­åŒ…æ‹¬ï¼šæ—¥å¿—æ ¼å¼ï¼Œç›‘æ§æ•°æ®ï¼Œé‡‡æ ·è¦æ±‚ï¼ŒæŠ¥è­¦â€¦â€¦ç­‰ç­‰ é…ç½®ä¸Šçš„è§„èŒƒã€‚è¿™å…¶ä¸­åŒ…æ‹¬ï¼šæ“ä½œç³»ç»Ÿé…ç½®ã€ä¸­é—´ä»¶é…ç½®ï¼Œè½¯ä»¶åŒ…â€¦â€¦ç­‰ç­‰ ä¸­é—´ä»¶ä½¿ç”¨çš„è§„èŒƒã€‚æ•°æ®åº“ï¼Œç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—â€¦â€¦ç­‰ç­‰ è½¯ä»¶å’Œå¼€å‘åº“ç‰ˆæœ¬ç»Ÿä¸€ã€‚æ•´ä¸ªç»„ç»‡æ¶æ„å†…ï¼Œè½¯ä»¶æˆ–å¼€å‘åº“çš„ç‰ˆæœ¬æœ€å¥½æ¯å¹´éƒ½å‡ä¸€æ¬¡çº§ï¼Œç„¶ååœ¨å„å›¢é˜Ÿå†…ç»Ÿä¸€ã€‚ è¿™é‡Œé‡è¦è¯´ä¸€ä¸‹ä¸¤ä¸ªäº‹ï¼š\nRestful API çš„è§„èŒƒã€‚æˆ‘è§‰å¾—æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™é‡Œç»™ä¸¤ä¸ªæˆ‘è§‰å¾—å†™å¾—æœ€å¥½çš„å‚è€ƒï¼šPaypal å’Œ Microsoft ã€‚Restful API æœ‰ä¸€ä¸ªæ ‡å‡†å’Œè§„èŒƒæœ€å¤§çš„å¥½å¤„å°±æ˜¯ç›‘è§†å¯ä»¥å¾ˆå®¹æ˜“åœ°åšå„ç§ç»Ÿè®¡åˆ†æï¼Œæ§åˆ¶ç³»ç»Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„åšæµé‡ç¼–æ’å’Œè°ƒåº¦ã€‚ å¦ä¸€ä¸ªæ˜¯æœåŠ¡è°ƒç”¨é“¾è¿½è¸ªã€‚å¯¹äºæœåŠ¡è°ƒç”¨é“¾è¿½è¸ªæ¥è¯´ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å‚è€ƒäº Google Dapper è¿™ç¯‡è®ºæ–‡ï¼Œç›®å‰æœ‰å¾ˆå¤šçš„å®ç°ï¼Œæœ€ä¸¥æ ¼çš„å®ç°æ˜¯ Zipkinï¼Œè¿™ä¹Ÿæ˜¯ Spring Cloud Sleuth çš„åº•å±‚å®ç°ã€‚Zipkin è´´è¿‘ Google Dapper è®ºæ–‡çš„å¥½å¤„åœ¨äºâ€”â€”æ— çŠ¶æ€ï¼Œå¿«é€Ÿåœ°æŠŠ Span å‘å‡ºæ¥ï¼Œä¸æ¶ˆè€—æœåŠ¡åº”ç”¨ä¾§çš„å†…å­˜å’Œ CPUã€‚è¿™æ„å‘³ç€ï¼Œç›‘æ§ç³»ç»Ÿå®å¯è‡ªå·±æ­»äº†ä¹Ÿä¸èƒ½å¹²æ‰°å®é™…åº”ç”¨ã€‚ è½¯ä»¶å‡çº§ã€‚æˆ‘å‘ç°å¾ˆå¤šå…¬å¸åŒ…æ‹¬ BATï¼Œä»–ä»¬å®Œå…¨æ²¡æœ‰è½¯ä»¶å‡çº§çš„æ´»åŠ¨ï¼Œå…¨é å¼€å‘äººå‘˜è‡ªå‘ã€‚ç„¶è€Œï¼Œè¿™ç§æˆä½“ç³»çš„æ´»åŠ¨ï¼Œæ˜¯æ°¸è¿œä¸å¯èƒ½é å¤§ä¼—çš„è‡ªå‘å½¢æˆçš„ã€‚ä¸€ä¸ªå…¬å¸è‡³å°‘ä¸€å¹´è¦æœ‰ä¸€æ¬¡è½¯ä»¶ç‰ˆæœ¬å‡çº§çš„reviewï¼Œç„¶åå½¢æˆè½¯ä»¶ç‰ˆæœ¬çš„ç»Ÿä¸€å’Œä¸€è‡´ï¼Œè¿™æ ·ä¼šæå¤ªç®€åŒ–ç³»ç»Ÿæ¶æ„çš„å¤æ‚åº¦ã€‚ åŸåˆ™å…­ï¼šé‡è§†æ¶æ„æ‰©å±•æ€§å’Œå¯è¿ç»´æ€§ åœ¨æˆ‘è§è¿‡å¾ˆå¤šæ¶æ„é‡Œï¼ŒæŠ€æœ¯äººå‘˜åªè€ƒè™‘å½“ä¸‹ï¼Œä½†ä»æ¥ä¸è€ƒè™‘ç³»ç»Ÿçš„æœªæ¥æ‰©å±•æ€§å’Œå¯è¿ç»´æ€§ã€‚æ‰€è°“çš„ç®¡ç”Ÿä¸ç®¡å…»ã€‚å¦‚æœä½ ç”Ÿä¸‹æ¥çš„å­©å­èƒ³è†Šå°‘è…¿ï¼Œä¸¥é‡ç•¸å½¢ï¼Œé‚£ä¹ˆæœªæ¥æ˜¯å¾ˆéš¾ç©çš„ã€‚å› ä¸ºæ¶æ„å’Œè½¯ä»¶ä¸æ˜¯å†™å¥½å°±å®Œçš„ï¼Œæ˜¯éœ€è¦ä¸æ–­ä¿®æ”¹ä¸æ–­ç»´æŠ¤çš„ï¼Œ80%çš„è½¯ä»¶æˆæœ¬éƒ½æ˜¯åœ¨ç»´æŠ¤ä¸Šã€‚æ‰€ä»¥ï¼Œå¦‚ä½•è®©ä½ çš„æ¶æ„æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°è¿ç»´ï¼Œè¿™ä¸ªæ˜¯æ¯”è¾ƒé‡è¦çš„ã€‚æ‰€è°“çš„æ‰©å±•æ€§ï¼Œæ„å‘³ç€ï¼Œæˆ‘å¯ä»¥å¾ˆå®¹æ˜“åœ°åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œæˆ–æ˜¯åŠ å…¥æ›´å¤šçš„ç³»ç»Ÿï¼Œè€Œæ‰€è°“å¯è¿ç»´ï¼Œå°±æ˜¯è¯´æˆ‘å¯ä»¥å¯¹çº¿ä¸Šçš„ç³»ç»Ÿåšä»»æ„çš„å˜æ›´ã€‚æ‰©å±•æ€§è¦æ±‚çš„æ˜¯æœ‰æ ‡å‡†è§„èŒƒä¸”ä¸è€¦åˆçš„ä¸šåŠ¡æ¶æ„ï¼Œå¯è¿ç»´æ€§è¦æ±‚çš„åˆ™æ˜¯å¯æ§çš„èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ä¸€ç»„å„å¼å„æ ·çš„æ§åˆ¶ç³»ç»Ÿã€‚\né€šè¿‡æœåŠ¡ç¼–æ’æ¶æ„æ¥é™ä½æœåŠ¡é—´çš„è€¦åˆã€‚æ¯”å¦‚ï¼šé€šè¿‡ä¸€ä¸ªä¸šåŠ¡æµç¨‹çš„ä¸“ç”¨æœåŠ¡ï¼Œæˆ–æ˜¯åƒ Workflowï¼ŒEvent Driven Architecture ï¼Œ Brokerï¼ŒGatewayï¼ŒService Discovery ç­‰è¿™ç±»çš„çš„ä¸­é—´ä»¶æ¥é™ä½æœåŠ¡é—´çš„ä¾èµ–å…³ç³»ã€‚ é€šè¿‡æœåŠ¡å‘ç°æˆ–æœåŠ¡ç½‘å…³æ¥é™ä½æœåŠ¡ä¾èµ–æ‰€å¸¦æ¥çš„è¿ç»´å¤æ‚åº¦ã€‚æœåŠ¡å‘ç°å¯ä»¥å¾ˆå¥½çš„é™ä½ç›¸å…³ä¾èµ–æœåŠ¡çš„è¿ç»´å¤æ‚åº¦ï¼Œè®©ä½ å¯ä»¥å¾ˆè½»æ¾çš„ä¸Šçº¿æˆ–ä¸‹çº¿æœåŠ¡ï¼Œæˆ–æ˜¯è¿›è¡ŒæœåŠ¡ä¼¸ç¼©ã€‚ ä¸€å®šè¦ä½¿ç”¨å„ç§è½¯ä»¶è®¾è®¡çš„åŸåˆ™ã€‚æ¯”å¦‚ï¼šåƒSOLIDè¿™æ ·çš„åŸåˆ™ï¼ˆå‚çœ‹ã€Šä¸€äº›è½¯ä»¶è®¾è®¡çš„åŸåˆ™ã€‹ï¼‰ï¼ŒIoC/DIPï¼ŒSOA æˆ– Spring Cloud ç­‰ æ¶æ„çš„æœ€ä½³å®è·µï¼ˆå‚çœ‹ã€ŠSteveYå¯¹Amazonå’ŒGoogleå¹³å°çš„åæ§½ã€‹ä¸­çš„ Service Interface çš„é‚£å‡ æ¡å†›è§„ï¼‰ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„çš„ç›¸å…³\bå®è·µï¼ˆå‚çœ‹ï¼šã€Šåˆ†å¸ƒå¼ç³»ç»Ÿçš„äº‹åŠ¡å¤„ç†ã€‹ï¼Œæˆ–å¾®è½¯ä»¶çš„ ã€ŠCloud Design Patternsã€‹ï¼‰â€¦â€¦ç­‰ç­‰ åŸåˆ™ä¸ƒï¼šå¯¹æ§åˆ¶é€»è¾‘è¿›è¡Œå…¨é¢æ”¶å£ æ‰€æœ‰çš„ç¨‹åºéƒ½ä¼šæœ‰ä¸¤ç§é€»è¾‘ï¼Œä¸€ç§æ˜¯ä¸šåŠ¡é€»è¾‘ï¼Œä¸€ç§æ˜¯æ§åˆ¶é€»è¾‘ï¼Œä¸šåŠ¡é€»è¾‘å°±æ˜¯å®Œæˆä¸šåŠ¡çš„é€»è¾‘ï¼Œæ§åˆ¶é€»è¾‘æ˜¯è¾…åŠ©ï¼Œæ¯”å¦‚ä½ ç”¨å¤šçº¿ç¨‹ï¼Œè¿˜æ˜¯ç”¨åˆ†å¸ƒå¼ï¼Œæ˜¯ç”¨æ•°æ®åº“è¿˜æ˜¯ç”¨æ–‡ä»¶ï¼Œå¦‚ä½•é…ç½®ã€éƒ¨ç½²ï¼Œè¿ç»´ã€ç›‘æ§ï¼Œäº‹åŠ¡æ§åˆ¶ï¼ŒæœåŠ¡å‘ç°ï¼Œå¼¹æ€§ä¼¸ç¼©ï¼Œç°åº¦å‘å¸ƒï¼Œé«˜å¹¶å‘ï¼Œç­‰ç­‰ï¼Œç­‰ç­‰ â€¦â€¦è¿™äº›éƒ½æ˜¯æ§åˆ¶é€»è¾‘ï¼Œè·Ÿä¸šåŠ¡é€»è¾‘æ²¡æœ‰ä¸€æ¯›é’±å…³ç³»ã€‚æ§åˆ¶é€»è¾‘çš„æŠ€æœ¯æ·±åº¦ä¼šé€šå¸¸ä¼šæ¯”ä¸šåŠ¡é€»è¾‘è¦æ·±ä¸€äº›ï¼Œé—¨æ§›ä¹Ÿä¼šè¦é«˜ä¸€äº›ï¼Œæ‰€ä»¥ï¼Œæœ€å¥½è¦ä¸“ä¸šçš„ç¨‹åºå‘˜æ¥è´Ÿè´£æ§åˆ¶é€»è¾‘çš„å¼€å‘ï¼Œç»Ÿä¸€è§„åˆ’ç»Ÿä¸€ç®¡ç†ï¼Œè¿›è¡Œæ”¶å£ã€‚è¿™å…¶ä¸­åŒ…æ‹¬ï¼š\næµé‡æ”¶å£ã€‚åŒ…æ‹¬å—åŒ—å‘å’Œä¸œè¥¿å‘çš„æµé‡çš„è°ƒåº¦ï¼Œä¸»è¦é€šè¿‡æµé‡ç½‘å…³ï¼Œå¼€å‘æ¡†æ¶ SDKæˆ– Service Mesh è¿™æ ·çš„æŠ€æœ¯ã€‚ æœåŠ¡æ²»ç†æ”¶å£ã€‚åŒ…æ‹¬ï¼šæœåŠ¡å‘ç°ã€å¥åº·æ£€æŸ¥ï¼Œé…ç½®ç®¡ç†ã€äº‹åŠ¡ã€äº‹ä»¶ã€é‡è¯•ã€ç†”æ–­ã€é™æµâ€¦â€¦ä¸»è¦é€šè¿‡å¼€å‘æ¡†æ¶ SDK â€“ å¦‚ï¼šSpring Cloudï¼Œæˆ–æœåŠ¡ç½‘æ ¼Service Meshç­‰æŠ€æœ¯ã€‚ ç›‘æ§æ•°æ®æ”¶å£ã€‚åŒ…æ‹¬ï¼šæ—¥å¿—ã€æŒ‡æ ‡ã€è°ƒç”¨é“¾â€¦â€¦ä¸»è¦é€šè¿‡ä¸€äº›æ ‡å‡†ä¸»æµçš„æ¢é’ˆï¼Œå†åŠ ä¸Šåå°çš„æ•°æ®æ¸…æ´—å’Œæ•°æ®å­˜å‚¨æ¥å®Œæˆï¼Œæœ€å¥½æ˜¯ä½¿ç”¨æ— ä¾µå…¥å¼çš„æŠ€æœ¯ã€‚ç›‘æ§çš„æ•°æ®å¿…é¡»ç»Ÿä¸€åœ¨ä¸€ä¸ªåœ°æ–¹è¿›è¡Œå…³è”ï¼Œè¿™æ ·æ‰ä¼šäº§ç”Ÿä¿¡æ¯ã€‚ èµ„æºè°ƒåº¦æœ‰åº”ç”¨éƒ¨ç½²çš„æ”¶å£ã€‚åŒ…æ‹¬ï¼šè®¡ç®—ã€ç½‘ç»œå’Œå­˜å‚¨çš„æ”¶å£ï¼Œä¸»è¦æ˜¯é€šè¿‡å®¹å™¨åŒ–çš„æ–¹æ¡ˆï¼Œå¦‚k8sæ¥å®Œæˆã€‚ ä¸­é—´ä»¶çš„æ”¶å£ã€‚åŒ…æ‹¬ï¼šæ•°æ®åº“ï¼Œæ¶ˆæ¯ï¼Œç¼“å­˜ï¼ŒæœåŠ¡å‘ç°ï¼Œç½‘å…³â€¦â€¦ç­‰ç­‰ã€‚è¿™ç±»çš„æ”¶å£æ–¹å¼ä¸€èˆ¬è¦åœ¨ä¼ä¸šå†…éƒ¨ç»Ÿä¸€å»ºç«‹ä¸€ä¸ªå…±äº«çš„äº‘åŒ–çš„ä¸­é—´ä»¶èµ„æºæ± ã€‚ å¯¹æ­¤ï¼Œè¿™é‡Œçš„åŸåˆ™æ˜¯ï¼š\nä½ è¦é€‰æ‹©å®¹æ˜“è¿›è¡Œä¸šåŠ¡é€»è¾‘å’Œæ§åˆ¶é€»è¾‘åˆ†ç¦»çš„æŠ€æœ¯ã€‚è¿™é‡Œï¼ŒJava çš„ JVM+å­—èŠ‚ç æ³¨å…¥+AOP å¼çš„Spring å¼€å‘æ¡†æ¶ï¼Œä¼šå¸¦ç»™ä½ å¤ªå¤šçš„ä¼˜åŠ¿ã€‚ ä½ è¦é€‰æ‹©å¯ä»¥äº«å—â€œå‰äººç§æ ‘ï¼Œåäººä¹˜å‡‰â€çš„æœ‰æŠ€æœ¯çº¢åˆ©çš„æŠ€æœ¯ã€‚å¦‚ï¼šæœ‰åºå¤§ç¤¾åŒºè€Œä¸”ç›¸äº’å…¼å®¹çš„æŠ€æœ¯ï¼Œå¦‚ï¼šJava, Docker, Ansibleï¼ŒHTTPï¼ŒTelegraf/Collectdâ€¦â€¦ ä¸­é—´ä»¶ä½ è¦ä½¿ç”¨å¯ä»¥ æ”¯æŒHAé›†ç¾¤å’Œå¤šç§Ÿæˆ·çš„æŠ€æœ¯ã€‚è¿™é‡ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„ä¸»æµä¸­é—´ä»¶éƒ½ä¼šæ”¯æŒ HA é›†ç¾¤æ–¹å¼çš„ã€‚ åŸåˆ™å…«ï¼šä¸è¦è¿å°±è€æ—§ç³»ç»Ÿçš„æŠ€æœ¯å€ºåŠ¡ æˆ‘å‘ç°å¾ˆå¤šå…¬å¸éƒ½å¾ˆéå¸¸å¤§çš„æŠ€æœ¯å€ºåŠ¡ï¼Œè¿™äº›å€ºåŠ¡å…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š\nä½¿ç”¨è€æ—§çš„æŠ€æœ¯ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨HTTP1.0ï¼Œ Java 1.6ï¼ŒWebsphereï¼ŒESBï¼ŒåŸºäº socketçš„é€šè®¯åè®®ï¼Œè¿‡æ—¶çš„æ¨¡å‹â€¦â€¦ç­‰ç­‰ ä¸åˆç†çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼Œåœ¨ gateway ä¸­å†™å¤§é‡çš„ä¸šåŠ¡é€»è¾‘ï¼Œå•ä½“æ¶æ„ï¼Œæ•°æ®å’Œä¸šåŠ¡é€»è¾‘æ·±åº¦è€¦åˆï¼Œé”™è¯¯çš„ç³»ç»Ÿæ¶æ„ï¼ˆæŠŠç¼“å­˜å½“æ•°æ®åº“ï¼Œç”¨æ¶ˆæ¯é˜Ÿåˆ—åŒæ­¥æ•°æ®ï¼‰â€¦â€¦ç­‰ç­‰ ç¼ºå°‘é…å¥—è®¾æ–½ã€‚æ¯”å¦‚ï¼Œæ²¡æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ²¡æœ‰å¥½çš„è½¯ä»¶æ–‡æ¡£ï¼Œæ²¡æœ‰è´¨é‡å¥½çš„ä»£ç ï¼Œæ²¡æœ‰æ ‡å‡†å’Œè§„èŒƒâ€¦â€¦ç­‰ç­‰ æ¥æ‰¾æˆ‘å¯»æ±‚æŠ€æœ¯å¸®åŠ©çš„äººéƒ½æœ‰å„ç§å„æ ·çš„é—®é¢˜ã€‚æˆ‘éƒ½ä¼šå¯¹ä»–ä»¬è‹¦å£å©†å¿ƒåœ°è¯´åŒæ ·çš„ä¸€å¥è¯â€”â€”â€œå¦‚æœä½ æ˜¯æ¥æ‰¾æˆ‘ case-by-case è§£å†³é—®é¢˜ï¼Œæˆ‘å…´è¶£ä¸å¤§ï¼Œå› ä¸ºï¼Œä½ ä»¬åƒä¸‡ä¸è¦å¯„å¸Œæœ›èƒ½å¤Ÿå¾ˆç®€å•çš„æŠŠä¸€è¾†å¤åˆ©è½¦æ”¹æˆä¸€è¾†æ³•æ‹‰åˆ©è·‘è½¦ï¼Œæˆ–æ˜¯æŠŠä¸€æ ‹åœ°åŸºæ²¡æ‰“å¥½çš„æ­ªæ¥¼ææ­£ã€‚ä»¥å‰æ¬ ä¸‹çš„æŠ€æœ¯å€ºï¼Œéƒ½å¾—è¦è¿˜ï¼Œæ²¡æ‰“å¥½çš„åœ°åŸºè¦é‡æ–°æ‰“ï¼Œæ²¡å»ºé…å¥—è®¾æ–½éƒ½è¦å»ºã€‚è¿™äº›åŸºç¡€è®¾æ–½å¦‚æœä¸æŒ‰ç…§æ­£ç¡®ç§‘å­¦çš„æ–¹å¼å»ºç«‹çš„è¯ï¼Œä½ æ˜¯ä¸å¯èƒ½æœ‰ä¸€ä¸ªå¥½çš„çš„ç³»ç»Ÿï¼Œæˆ‘ä¹Ÿæ²¡åŠæ³•å¸®ä½  case-by-case çš„è§£å†³é—®é¢˜â€¦â€¦â€ï¼Œä¸€å¼€å§‹ï¼Œä»–ä»¬éƒ½ä¼šå¯¹æˆ‘è¯´ï¼Œæ²¡é—®é¢˜ï¼Œæˆ‘ä»¬å°±æ˜¯è¦è¿˜å€ºï¼Œä½†æ˜¯ï¼Œæœ€åå‘ç°è¦è¿˜çš„å€ºçœŸå¤šï¼Œæœ‰ç‚¹æ‰¿å—ä¸äº†ï¼Œå°±å¼€å§‹ç°åŸå½¢äº†ã€‚\nä»–ä»¬å¼€å§‹ä¸ºè‡ªå·±çš„â€œæ¬ çš„æŠ€æœ¯å€ºâ€æ‰¾å„ç§åˆç†åŒ–çš„ç†ç”±â€”â€”ç»™ä½ è§£é‡Šå„ç§å„æ ·çš„å†å²åŸå› å’Œä¸å¾—ä»¥è€Œä¸ºä¹‹çš„ç†ç”±ã€‚è°ˆç€è°ˆç€ï¼Œè®©æˆ‘æœ‰ä¸€ç§æ„Ÿè§‰â€”â€”ä»–ä»¬å¸Œæœ›å¾—åˆ°ä¸€ç§ä»€ä¹ˆéƒ½ä¸æ”¹ä»€ä¹ˆéƒ½ä¸ä»˜å‡ºçš„æ–¹å¼å°±å¯ä»¥è¿›æ­¥çš„å¿ƒæ€ï¼Œä»–ä»¬å®å¯è®©æ–°çš„æŠ€æœ¯ low ä¸‹æ¥è¿å°±äºè¿™äº›æŠ€æœ¯å€ºï¼ŒæŠŠæ–°çš„æŠ€æœ¯æ»¥ç”¨åœ°ä¹±ä¸ƒå…«ç³Ÿçš„ã€‚æœ‰ä¸€ä¸ªå…¬å¸ï¼Œä»–ä»¬çš„ç³»ç»Ÿæ¶æ„å’ŒæŠ€æœ¯é€‰å‹åŸºæœ¬éƒ½æé”™äº†ï¼Œä½¿ç”¨é”™è¯¯çš„æ¨¡å‹æ„å»ºç³»ç»Ÿï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½éå¸¸ä¹‹å·®ï¼Œä¹Ÿæ‰å‡ åƒä¸‡æ¡æ•°æ®ï¼Œä½†ä»–ä»¬æƒ³çš„ä¸æ˜¯è¿˜å€ºï¼Œä¸æ˜¯æŠŠåœ°åŸºå’Œé…å¥—è®¾æ–½å»ºå¥½ï¼Œè€Œä¸”è¦æŠŠæ¥¼ä¿®çš„æ›´é«˜ï¼Œä¸Šæ›´å¤šçš„ç³»ç»Ÿâ€”â€”ä»–ä»¬è§‰å¾—ç°æœ‰çš„ç³»ç»ŸæŒºå¥½ï¼Œæ€§èƒ½é—®é¢˜çš„åŸå› æ˜¯ä»–ä»¬æ²¡ä¸€ä¸ªå¤§æ•°æ®å¹³å°ï¼Œæ‰€ä»¥è¦å»ºå¤§æ•°æ®å¹³å°â€¦â€¦\næˆ‘è§è¿‡å¾ˆå¤šå¾ˆå¤šå…¬å¸ï¼ŒåŒ…æ‹¬å¤§å¦‚ BAT è¿™æ ·çš„å…¬å¸ï¼Œéƒ½ä¼šåœ¨åŸæ¥çš„æŠ€æœ¯å€ºä¸Šè¿›è¡Œæ›´å¤šçš„å»ºè®¾ï¼Œç„¶åï¼ŒæŠ€æœ¯å€ºè¶Šæ¥è¶Šå¤§ï¼Œåˆ©æ¯è¶Šæ¥è¶Šå¤§ï¼Œæœ€ç»ˆæˆä¸ºä¸€ä¸ªé«˜åˆ©è´·ï¼Œå†ä¹Ÿè¿˜ä¸äº†ï¼ˆæˆ‘åœ¨ã€Šå¼€å‘å›¢é˜Ÿçš„æ•ˆç‡ã€‹ä¸€æ–‡ä¸­è®²è¿‡ä¸€ä¸ª WatchDog çš„æ¶æ„æ¨¡å¼ï¼Œä¸€ä¸ªç³»ç»Ÿçƒ‚äº†ï¼Œä¸æ˜¯å»æ”¹è¿™ä¸ªç³»ç»Ÿï¼Œè€Œæ˜¯åœ¨æ—è¾¹å»ºä¸€ä¸ªç³»ç»Ÿæ¥çœ‹ç€å®ƒï¼Œæˆ‘å¾ˆéš¾ç†è§£ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„é€»è¾‘ï¼Œä¹Ÿè®¸æ˜¯ä¸ºäº†è¦è§£å†³æ›´å¤šçš„å°±ä¸šâ€¦â€¦ï¼‰\nè¿™é‡Œæœ‰å‡ ä¸ªåŸåˆ™å’Œæ–¹æ³•æˆ‘æ˜¯éå¸¸åšæŒçš„ï¼Œåˆ†äº«ç»™å¤§å®¶ï¼š\nä¸å…¶èŠ±å¤§åŠ›æ°”è¿å°±æŠ€æœ¯å€ºåŠ¡ï¼Œä¸å¦‚ç›´æ¥è¿˜æŠ€æœ¯å€ºã€‚æ˜¯æ‰€è°“çš„é•¿ç—›ä¸å¦‚çŸ­ç—›ã€‚ å»ºè®¾æ²¡æœ‰æŠ€æœ¯å€ºçš„â€œæ–°åŸåŒºâ€ï¼Œå¹¶é€šè¿‡â€œé˜²è…å±‚ â€çš„æ¶æ„æ¨¡å‹ï¼Œä¸è¦è®©æŠ€æœ¯å€ºä¾µå…¥â€œæ–°åŸåŒºâ€ã€‚ åŸåˆ™ä¹ï¼šä¸è¦ä¾èµ–è‡ªå·±çš„ç»éªŒï¼Œè¦ä¾èµ–äºæ•°æ®å’Œå­¦ä¹  æœ‰å¥½äº›äººæ¥æ‰¾æˆ‘è·Ÿæˆ‘è¯´ä»–ä»¬çš„æŠ€æœ¯é—®é¢˜ï¼Œç„¶åå¸Œæœ›æˆ‘èƒ½å¤Ÿç»™ä»–ä»¬ä¸€ä¸ªç­”æ¡ˆã€‚æˆ‘è¯´ï¼Œæˆ‘éœ€è¦äº†è§£ä¸€ä¸‹ä½ ç°æœ‰ç³»ç»Ÿçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯éœ€è¦å…ˆåšä¸ªè¯Šæ–­ï¼Œæˆ‘åªæœ‰å¾—åˆ°è¿™äº›æ•°æ®åï¼Œæˆ‘æ‰å¯èƒ½æ˜ç™½çœŸæ­£çš„åŸå› æ˜¯ä»€ä¹ˆ ï¼Œæˆ‘æ‰å¯èƒ½ç»™ä½ åšå‡ºä¸€ä¸ªæ¯”è¾ƒå¥½çš„æŠ€æœ¯æ–¹æ¡ˆã€‚æˆ‘ä¸ªäººè§‰å¾—è¿™æ˜¯ä¸€ç§å¯¹å¯¹æ–¹è´Ÿè´£çš„æ–¹æ³•ï¼Œå› ä¸ºæŠ€æœ¯æ‰‹æ®µå¤ªå¤šäº†ï¼Œæ‰€æœ‰çš„æŠ€æœ¯æ‰‹æ®µéƒ½æœ‰é€‚åº”çš„åœºæ™¯ï¼Œå¹¶ä¸”æœ‰å„ç§ trade-offï¼Œæ‰€ä»¥ï¼Œåªæœ‰è°ƒç ”å®Œåæ‰èƒ½åšå‡ºå†³å®šã€‚è¿™è·ŸåŒ»ç”Ÿçœ‹ç—…æ˜¯ä¸€æ ·çš„ï¼Œç¡®è¯Šç—…å› ä¸èƒ½é ç»éªŒï¼Œè¿˜æ˜¯è¦é è¯Šæ–­æ•°æ®ã€‚åœ¨ç§‘å­¦é¢å‰ï¼Œæ‰€æœ‰çš„ç»éªŒéƒ½æ˜¯é ä¸ä½çš„â€¦â€¦\nå¦å¤–ï¼Œå¦‚æœæœ‰ä¸€å¤©ä½ åœ¨åšæŠ€æœ¯å†³å®šçš„æ—¶å€™ï¼Œå¼€å§‹\bå‡­è‡ªå·±ä»¥å¾€çš„ç»éªŒï¼Œé‚£ä¹ˆä½ å°±å·²ç»ä¸å¯èƒ½å†æˆé•¿äº†ã€‚äººéƒ½æ˜¯ä¸å¯èƒ½é€šè¿‡ä¸æ–­é‡å¤è¿‡å»è€Œè¿›æ­¥çš„ï¼Œäººçš„è¿›æ­¥ä»æ¥éƒ½æ˜¯é€šè¿‡å­¦ä¹ è‡ªå·±ä¸çŸ¥é“çš„ä¸œè¥¿ã€‚æ‰€ä»¥ï¼Œåƒä¸‡ä¸è¦ä¾èµ–äºè‡ªå·±çš„ç»éªŒåšå†³å®šã€‚åšä»»ä½•å†³å®šä¹‹å‰ï¼Œæœ€å¥½èŠ±ä¸Šä¸€ç‚¹æ—¶é—´ï¼Œä¸Šç½‘æŸ¥ä¸€ä¸‹ç›¸å…³çš„èµ„æ–™ï¼ŒæŠ€æœ¯åšå®¢ï¼Œæ–‡ç« ï¼Œè®ºæ–‡ç­‰ ï¼ŒåŒæ—¶ï¼Œä¹Ÿçœ‹çœ‹å„ä¸ªå…¬å¸ï¼Œæˆ–æ˜¯å„ä¸ªå¼€æºè½¯ä»¶ä»–ä»¬æ˜¯æ€ä¹ˆåšçš„ï¼Ÿç„¶åï¼Œæ¯”è¾ƒå¤šç§æ–¹æ¡ˆçš„ Pros/Consï¼Œæœ€ç»ˆå½¢æˆè‡ªå·±çš„å†³å®šï¼Œè¿™æ ·ï¼Œæ‰å¯èƒ½åšå‡ºä¸€ä¸ªæ›´å¥½çš„å†³å®šã€‚\nåŸåˆ™åï¼šåƒä¸‡è¦å°å¿ƒ X â€“ Y é—®é¢˜ï¼Œè¦è¿½é—®åŸå§‹éœ€æ±‚ å¯¹äº X-Y é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·ä¸ºäº†è§£å†³ Xé—®é¢˜ï¼Œä»–è§‰å¾—ç”¨ Y å¯ä»¥è§£ï¼Œäºæ˜¯é—®æˆ‘ Y æ€ä¹ˆæï¼Œç»“æœæåˆ°æœ€åï¼Œå‘ç°åŸæ¥è¦è§£å†³çš„ X é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¥½çš„è§£å†³æ–¹æ¡ˆä¸æ˜¯ Yï¼Œè€Œæ˜¯ Zã€‚ è¿™ç§ X-Y é—®é¢˜çœŸæ˜¯ç›¸å½“ä¹‹å¤šï¼Œè§çš„å¤ªå¤šå¤ªå¤šäº†ã€‚æ‰€ä»¥ï¼Œæ¯æ¬¡ç”¨æˆ·æ¥æ‰¾æˆ‘çš„æ—¶å€™ï¼Œæˆ‘éƒ½è¦ä¸æ–­åœ°è¿½é—®ä»€ä¹ˆæ˜¯ X é—®é¢˜ã€‚\næ¯”å¦‚ï¼Œå¥½äº›ç”¨æˆ·éƒ½ä¼šæ¥é—®æˆ‘ä»–ä»¬è¦ä¸€ä¸ªå¤§æ•°æ®æµå¼å¤„ç†ï¼Œç»“æœè¿½é—®å…·ä½“è¦è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜æ—¶ï¼Œæ‰å‘ç°ä»–ä»¬çš„é—®é¢˜æ˜¯å› ä¸ºæœåŠ¡ä¸­æœ‰å¤§é‡çš„çŠ¶æ€ï¼Œéœ€è¦æŠŠç›¸åŒç”¨æˆ·çš„æ•°æ®è¯·æ±‚æ”¾åœ¨åŒä¸€ä¸ªæœåŠ¡ä¸Šå¤„ç†ï¼Œè€Œä¸”è®¾è®¡ä¸Šå¯¼è‡´ä¸€ä¸ªæ…¢å‡½æ•°æ‹–æ…¢æ•´ä¸ªåº”ç”¨æœåŠ¡ã€‚æœ€ç»ˆå°±æ˜¯åšä¸€ä¸‹æ€§èƒ½è°ƒä¼˜å°±å¥½äº†ï¼Œæ ¹æœ¬æ²¡æœ‰å¿…è¦ä¸Šä»€ä¹ˆå¤§æ•°æ®çš„æµå¼å¤„ç†ã€‚\næˆ‘å¾ˆå–œæ¬¢è¿½é—®ä¸ºä»€ä¹ˆ ï¼Œè¿™ç§è¿½é—®ï¼Œä¼šè®©å®¢æˆ·ä¹Ÿè·Ÿç€æ¥ä¸€èµ·é‡æ–°æ€è€ƒã€‚æ¯”å¦‚ï¼Œæœ‰ä¸ªå®¢æˆ·æ¥æ‰¾æˆ‘è¯„ä¼°çš„ä¸€ä¸ªæŠ€æœ¯æ¶æ„çš„å†³å®šï¼Œä»ç†è®ºä¸Šæ¥è¯´ï¼Œå¥½åƒè¿™ä¸ªæ¶æ„åœ¨ç”¨æˆ·çš„è¿™ä¸ªåœºæ™¯ä¸‹éå¸¸ä¸é”™ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåœºæ™¯å’Œè¿™ä¸ªæ¶æ„æ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯ä»æ¥æ²¡æœ‰è§è¿‡çš„ã€‚äºæ˜¯ï¼Œæˆ‘å¼€å§‹è¿½é—®è¿™ä¸ªä¸ºä»€ä¹ˆä¼šæ˜¯è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Ÿå½“æˆ‘è¿½é—®çš„æ—¶å€™ï¼Œæˆ‘å‘ç°ç”¨æˆ·éƒ½æ„Ÿåˆ°è¿™ä¸ªåœºæ™¯çš„å„ç§ä¸åˆç†ã€‚æœ€åå¼•èµ·äº†å¤§å®¶éå¸¸æ·±åˆ»çš„ç ”è®¨ï¼Œæœ€ç»ˆç”¨æˆ·æŠŠé‚£ä¸ªåœºæ™¯ä¿®æ­£åï¼Œè€Œæ¶æ„å°±çªç„¶å°±å˜æˆäº†ä¸€ä¸ªå¸¸è§ä¸”æˆç†Ÿçš„çš„æ¨¡å‹â€¦â€¦\nåŸåˆ™åä¸€ï¼šæ¿€è¿›èƒœäºä¿å®ˆï¼Œåˆ›æ–°ä¸å®ç”¨å¹¶ä¸å†²çª æˆ‘å¯¹æŠ€æœ¯çš„æ€åº¦æ˜¯æ¯”è¾ƒæ¿€è¿›çš„ï¼Œä½†æ˜¯ï¼Œæ‰€è°“çš„æ¿€è¿›å¹¶ä¸æ˜¯çæï¼Œä¹Ÿä¸æ˜¯è§æ–°æŠ€æœ¯å°±ä¸Šï¼Œè€Œæ˜¯ç§¯ææ‹¥æŠ±ä¼šæ”¹å˜æœªæ¥çš„æ–°æŠ€æœ¯ï¼Œå¦‚ï¼šDocker/Goï¼Œæˆ‘å°±éå¸¸å¿«åœ°è·Ÿè¿›ï¼Œä½†æ˜¯åƒåŒºå—é“¾æˆ–æ˜¯ Rust è¿™æ ·çš„ï¼Œæˆ‘å°±ä¸æ˜¯å¾ˆç§¯æã€‚å› ä¸ºï¼Œå…¶å¹¶æ²¡æœ‰å‘½ä¸­æˆ‘è®¤ä¸ºçš„æŠ€æœ¯è¶‹åŠ¿çš„å‡ ä¸ªç‰¹å¾ï¼ˆå‚çœ‹ã€ŠGo,Docker å’Œæ–°æŠ€æœ¯ ã€‹ï¼‰ã€‚å½“ç„¶ï¼Œæˆ‘ä¹Ÿä¸æ˜¯ä¸å–œæ¬¢çš„å°±ä¸å­¦äº†ï¼Œæˆ‘å¯¹åŒºå—é“¾å’Œ Rust æˆ‘ä¸€æ ·å­¦ä¹ ï¼Œæˆ‘ä¹ŸçŸ¥é“è¿™äº›æŠ€æœ¯çš„ä¼˜åŠ¿ï¼Œä½†æˆ‘ä¸ä¼šå¤§è§„æ¨¡ä½¿ç”¨å®ƒä»¬ã€‚å¦å¤–ï¼Œæˆ‘ä¹Ÿå°Šé‡ä¿å®ˆçš„å†³å®šï¼Œè¿™é‡Œé¢æ²¡æœ‰å¯¹å’Œé”™ã€‚ä½†æ˜¯ï¼Œæˆ‘ä¸ªäººè§‰å¾—å¯¹æŠ€æœ¯æ¿€è¿›çš„æ€åº¦æ¯”èµ·ä¿å®ˆæ¥è¯´æœ‰å¤ªå¤šçš„å¥½å¤„äº†ã€‚ä¸€æ–¹é¢æ¥è¯´ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œæ–°æŠ€æœ¯é€šå¸¸éƒ½è¡¨é¢æœ‰å¾ˆå¥½çš„ç«äº‰åŠ›ï¼Œè€Œä¸”æˆ‘è§å¤ªå¤šè¿™æ ·æˆåŠŸçš„å…¬å¸éƒ½åœ¨ç§¯ææ‹¥æŠ±æ–°çš„æŠ€æœ¯çš„ï¼Œè€Œä¿å®ˆçš„é€šå¸¸æ¥è¯´éƒ½è¶Šæ¥è¶Šä¸å¥½ã€‚\næœ‰ä¸€äº›äººä¼šè·Ÿæˆ‘è¯´ï¼Œæˆ‘ä»¬æ˜¯å®ç”¨ä¸»ä¹‰ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆ›æ–°ï¼Œèƒ½è§£å†³å½“ä¸‹çš„é—®é¢˜å°±å¥½ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ–°æŠ€æœ¯ï¼Œç°æœ‰çš„æŠ€æœ¯ç”¨å¥½å°±è¡Œäº†ã€‚è¿™ç±»çš„å…¬å¸ï¼Œä»–ä»¬çš„æŠ€æœ¯è®¾è®¡ç¬¬ä¸€å¤©å°±åœ¨è´Ÿå€ºï¼Œè™½ç„¶å¯ä»¥è§£å†³å½“ä¸‹é—®é¢˜ï¼Œä½†æ˜¯é©¬ä¸Šå°±ä¼šå‡ºç°æ–°çš„é—®é¢˜ï¼Œç„¶åä»–ä»¬ä¼šç–²äºè§£å†³å„ç§é—®é¢˜ã€‚æœ€åå‘¢ï¼Œæœ€åè¿˜æ˜¯ä¼šèµ°åˆ°æ–°çš„æŠ€æœ¯ä¸Šã€‚\nè¿™é‡Œçš„é€»è¾‘å¾ˆç®€å• â€”â€” è¿›æ­¥æ°¸è¿œæ¥è‡ªäºæ¢ç´¢ï¼Œæ¢ç´¢æ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼Œä½†æ˜¯æ”¶ç›Šæ›´å¤§ã€‚å¯¹æˆ‘è€Œè¨€ï¼Œä¸æ•¢å†’é™©æ‰æ˜¯æœ€å¤§çš„å†’é™©ï¼Œä¸æ•¢çŠ¯é”™æ‰æ˜¯æœ€å¤§çš„é”™è¯¯ï¼Œå®³æ€•å¤±å»ä¼šè®©ä½ å¤±å»çš„æ›´å¤šâ€¦â€¦\nï¼ˆå…¨æ–‡å®Œï¼‰\næ–‡ç« è½¬è½½äº é…· å£³ â€“ CoolShell\n","description":"\n","tags":[],"title":"\næˆ‘åšç³»ç»Ÿæ¶æ„çš„ä¸€äº›åŸåˆ™ï¼ˆè½¬è½½ï¼‰","uri":"/posts/post-265/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" ä»Šå¤©æœ‰ä¸ªæœ‹å‹ç»™æˆ‘è¯´è®©æˆ‘æŠŠç½‘ç«™å¼„ä¸€ä¸‹ï¼Œåˆ«è®©å›½å†…çš„äººè®¿é—®ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¿è¯è¥é”€çš„æ•°æ®å‡†ç¡®æ€§å’Œé˜²æ­¢åŒè¡ŒæŠ„è¢­ã€‚å½“ç„¶æ˜¯æ²¡åŠæ³•å½»åº•å±è”½çš„ï¼Œé˜²å°äººä¸é˜²å›å­å§ã€‚æˆ‘ç”¨çš„æ˜¯Nginxï¼Œ\né¦–å…ˆæˆ‘ä»¬è¦å»å¼„åˆ°å›½å†…çš„IPåœ°å€æ®µï¼Œè®¿é—®ç½‘ç«™ http://www.ip2location.com/free/visitor-blocker ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œFirewall List by Countryâ€é€‰é¡¹å¡ã€‚ç‚¹å‡»ä¸‹è½½ipæ–‡ä»¶\né¡ºä¾¿è¦æŠŠä½ ç°åœ¨çš„IPæœ€å¥½ä¸è¦åŠ è¿›å»ï¼Œå¦åˆ™ä½ è‡ªå·±ä¼šè®¿é—®ä¸äº†ã€‚\nä¸‹è½½ä¸äº†çš„å¯ä»¥æŒ‡å®š ä½¿ç”¨\nå›½å†…IPåœ°å€åˆ—è¡¨\næ–¹æ³•ä¸€ å¤åˆ¶æ•´æ®µä»£ç åˆ°ä½ çš„Nginxé…ç½®æ–‡ä»¶é‡Œé¢å³å¯ã€‚\næ–¹æ³•äºŒ æŠŠæ–‡ä»¶å»æ‰ç¬¬ä¸€è¡Œçš„â€œlocation / {â€å’Œæœ€åä¸€è¡Œçš„â€œ}â€ï¼Œé‡å‘½åä¸ºblockip.conf\nåœ¨nginxé…ç½®çš„httpå—ä¸‹é¢åŠ ä¸Šinclude blockip.conf;\nå¯ä»¥åŠ è½½ä¸ªè‡ªå®šä¹‰é¡µé¢\nåœ¨/www/wwwroot/watchç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª 403.htmlæ–‡ä»¶\nerror_page 403 /403.html; location = /403.html{ root /www/wwwroot/watch; allow all; } ","description":"\n","tags":[],"title":"\nå±è”½å›½å†…IPè®¿é—®ç½‘ç«™","uri":"/posts/post-266/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"è·å–ç™»å½•äºŒç»´ç  1 2 3 4 5 curl --request GET \\ --url 'https://mp.weixin.qq.com/cgi-bin/scanloginqrcode?action=getqrcode\u0026random=1640370340' \\ --header 'Cache-Control: no-cache' \\ --header 'cookie: pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' \\ --cookie 'pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' äºŒç»´ç æ‰«æç»“æœæ£€æŸ¥ 1 2 3 4 5 curl --request GET \\ --url 'https://mp.weixin.qq.com/cgi-bin/scanloginqrcode?action=ask\u0026token=\u0026lang=zh_CN\u0026f=json\u0026ajax=1' \\ --header 'Cache-Control: no-cache' \\ --header 'cookie: pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' \\ --cookie 'pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' çœŸæ­£è·å–ç™»å½•çš„token 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 curl --request POST \\ --url 'https://mp.weixin.qq.com/cgi-bin/bizlogin?action=login' \\ --header ': authority: mp.weixin.qq.com' \\ --header 'Cache-Control: no-cache' \\ --header 'Content-Type: application/x-www-form-urlencoded' \\ --header 'accept: */*' \\ --header 'accept-encoding: gzip, deflate, br' \\ --header 'accept-language: zh-CN,zh;q=0.9' \\ --header 'content-length: 123' \\ --header 'cookie: pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' \\ --header 'origin: https://mp.weixin.qq.com' \\ --header 'referer: https://mp.weixin.qq.com/' \\ --header 'sec-fetch-mode: cors' \\ --header 'sec-fetch-site: same-origin' \\ --header 'user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36' \\ --header 'x-requested-with: XMLHttpRequest' \\ --cookie 'pgv_pvid=9632095410; ua_id=GsK0Fg1c1cbWnuJ5AAAAAAx-o-uFsXSgSZ3ywvjEups=; mm_lang=zh_CN; wxuin=14857539381975; ticket_uin=EXPIRED; ticket_certificate=EXPIRED; login_certificate=EXPIRED; fake_id=EXPIRED; login_sid_ticket=EXPIRED; master_sid=EXPIRED; master_user=EXPIRED; master_ticket=EXPIRED; sp_user=EXPIRED; sp_sid=EXPIRED; sp_slave_user=EXPIRED; safecode=EXPIRED; ticket=EXPIRED; ticket_id=EXPIRED; openid2ticket_o40kr6FMP04YPyEfeMrDSyUxY9tI=EXPIRED; infringementlogin_ticket=EXPIRED; infringementlogin_ticket_id=EXPIRED; qruin=EXPIRED; qrlogin_data_ticket=EXPIRED; xid=f004e79875fc4d0d9ff4ee20d8ac132b; slave_sid=EXPIRED; slave_user=EXPIRED; bizuin=EXPIRED; data_bizuin=EXPIRED; data_ticket=EXPIRED; rand_info=EXPIRED; slave_bizuin=EXPIRED; uuid=b5af9dd9aa01b80bf56c38341620515b' \\ --data 'userlang=zh_CN\u0026redirect_url=\u0026cookie_forbidden=0\u0026cookie_cleaned=0\u0026plugin_used=0\u0026login_type=3\u0026token=\u0026lang=zh_CN\u0026f=json\u0026ajax=1' ","description":"\n","tags":["å…¬ä¼—å·","æ¨¡æ‹Ÿç™»å½•"],"title":"\nå¾®ä¿¡å…¬ä¼—å¹³å°æ¨¡æ‹Ÿç™»å½•","uri":"/posts/post-23/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æˆéƒ½å„åŒºçš„è¾¹ç•Œ ç›´æ¥è·å¾—æ‰€æœ‰æ•°æ®\næˆéƒ½äºŒæ‰‹æˆ¿ä»·æ ¼ åˆ†é¡µæŸ¥è¯¢ï¼Œä¿®æ”¹curPage\næˆéƒ½æ–°æˆ¿ä»·æ ¼ ç›´æ¥è·å¾—æ‰€æœ‰æ•°æ®\n","description":"\n","tags":[],"title":"\næˆéƒ½æˆ¿ä»· - å‚è€ƒé“¾å®¶","uri":"/posts/post-22/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"data: { imgApi: n, countyCodeArr: [], countyIndex: 0, streetIndex: 0, streetArray: [\"ç”·æ€§22/å¥³æ€§20â€”30å‘¨å²\", \"31â€”40å‘¨å²\", \"41â€”50å‘¨å²\", \"51â€”60å‘¨å²\"], ec: { lazyLoad: !0 }, countyName: \"åŒºï¼ˆå¸‚ï¼‰å¿\", isLoaded: !1, isDisposed: !1, showData: !1, optionData: {}, addressArr: [], sexArr: [\"a\", \"b\", \"c\", \"d\"] //ä¾æ¬¡å¯¹åº”\"21â€”30å‘¨å²\", \"31â€”40å‘¨å²\", \"41â€”50å‘¨å²\", \"51â€”60å‘¨å²\" } getBirthInfo å¥³æ€§ç”Ÿè‚² https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getBirthInfo.json?type=a\ntypeï¼š [\"a\", \"b\", \"c\", \"d\"] //ä¾æ¬¡å¯¹åº”\"21â€”30å‘¨å²\", \"31â€”40å‘¨å²\", \"41â€”50å‘¨å²\", \"51â€”60å‘¨å²\" [{ filedName: \"UNBIRTH\", name: \"æœªç”Ÿè‚²\" }, { filedName: \"ONECHILD\", name: \"ä¸€å­©\" }, { filedName: \"TWOCHILD\", name: \"ä¸¤å­©\" }, { filedName: \"THREECHILD\", name: \"ä¸‰å­©åŠä»¥ä¸Š\" }] getAddr è·å–å…¨å¸‚åŒºåŸŸä»£ç  https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getDatacode.json?type=1\ngetStreet è·å–æŸåŒºè¡—é“ä»£ç  https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getDatacode.json?type=2\u0026datacode=510171\ngetDegreeInfo è·å–æŸåŒºäººå£å­¦å†æƒ…å†µ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getDegreeInfo.json?datacode=510171\n#getFamilySituationInfo è·å–å®¶åº­æˆ·æƒ…\nhttps://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getFamilySituationInfo.json?datacode=510171\n[{ filedName: \"familyregistration\", name: \"æˆ·æ•°\" }, { filedName: \"familyuser\", name: \"æˆ·å‡äººå£\" }] getFirstnameInfo è·å–å§“æ°æ¥æºä¿¡æ¯ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getFirstnameInfo.json?name=ç‹\ngetgetRentalRate è·å–å…¨å¸‚ç§Ÿæˆ¿æƒ…å†µ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getgetRentalRate.json\ngetHealthInfo è€å¹´äººå¥åº·çŠ¶å†µ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getHealthInfo.json?datacode=510171\n[{ filedName: \"HEALTH\", name: \"å¥åº·\" }, { filedName: \"UNHEALTH\", name: \"åŸºæœ¬å¥åº·\" }, { filedName: \"UNHEALTHSELF\", name: \"ç”Ÿæ´»èƒ½è‡ªç†\" }, { filedName: \"UNHEALTHUNSELF\", name: \"ç”Ÿæ´»ä¸èƒ½è‡ªç†\" }] getDataCounty https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getPopulationInfo.json?quxian=510171\ngetDataStreet https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getPopulationInfo.json?street=510171\ngetRelocationValue å¤–åœ°æ¥è“‰äººå£ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getRelocationValue.json?areaflag=true https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getRelocationValue.json?areaflag=false\ngetRepeatnameInfo é‡åäººæ•° https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getRepeatnameInfo.json?name=æ½˜é£\ngetRpLabour https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getRpLabour.json?type=a\n[\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"] ä¾æ¬¡å¯¹åº”å¦‚ä¸‹ï¼š [\"16-20å‘¨å²\", \"21-30å‘¨å²\", \"31-40å‘¨å²\", \"41-50å‘¨å²\", \"51-55å‘¨å²\", \"56-60å‘¨å²\"] getUmmarriedInfo æœªå©šäººå£ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getUmmarriedInfo.json?datacode=510171\n[{ filedName: \"man\", name: \"ç”·æ€§\" }, { filedName: \"wowen\", name: \"å¥³æ€§\" }] getWorkProperty å·¥ä½œå±æ€§ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getWorkProperty.json?datacode=510171\n[{ filedName: \"person\", name: \"ä¸ªä½“ç»è¥æˆ·\" }, { filedName: \"freelance\", name: \"è‡ªç”±èŒä¸š/çµæ´»å°±ä¸š\" }, { filedName: \"company\", name: \"ä¼ä¸šã€äº‹ä¸šã€æœºå…³æˆ–ç¤¾ä¼šå›¢ä½“ç­‰æ³•äººå•ä½\" }, { filedName: \"country\", name: \"ç»è¥å†œæ‘å®¶åº­æ‰¿åŒ…åœ°ï¼ˆåŒ…æ‹¬å¼€å¦çš„åœŸåœ°ï¼‰\" }] getYearInfo å‡ºç”Ÿå¹´ä»½ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getYearInfo.json?datacode=510171\u0026type=a https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/getYearInfo.json?datacode=510171\u0026type=d\u0026year=1995\ntypeï¼š [\"b\", \"c\", \"d\"] ä¾æ¬¡å¯¹åº”å¦‚ä¸‹ï¼š [\"1930å¹´åŠä¹‹å‰å‡ºç”Ÿ\", \"1931-1940å¹´å‡ºç”Ÿ\", \"1941å¹´åŠä¹‹åå‡ºç”Ÿ\"] å¦‚æœtype=d, é‚£ä¹ˆ, å¯ä»¥ä½¿ç”¨yearè¿›è¡Œå…·ä½“å¹´é¾„æŸ¥è¯¢ saveSatisfiedSitutation æäº¤æ»¡æ„æƒ…å†µï¼ˆè”ç³»æˆ‘ä»¬ï¼‰ https://cdrpcx.cdpczx.cn:6733/rp/rpdatacodeConcroller/saveSatisfiedSitutation.json?type=a\u0026memo=\ntype: [\"a\", \"b\", \"c\"] ä¾æ¬¡å¯¹åº” [\"æ»¡æ„\", \"ä¸€èˆ¬\", \"ä¸æ»¡æ„\"] memo: æ„è§å†…å®¹ ","description":"\n","tags":["äººå£","äººå£æ™®æŸ¥"],"title":"\næˆéƒ½å¸‚äººå£ç»Ÿè®¡æ¥å£æ¢³ç†æƒ…å†µ","uri":"/posts/post-21/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"MySQL å¯¹äºå¾ˆå¤š Linux ä»ä¸šè€…è€Œè¨€ï¼Œæ˜¯ä¸€ä¸ªéå¸¸æ£˜æ‰‹çš„é—®é¢˜ï¼Œå¤šæ•°æƒ…å†µéƒ½æ˜¯å› ä¸ºå¯¹æ•°æ®åº“å‡ºç°é—®é¢˜çš„æƒ…å†µå’Œå¤„ç†æ€è·¯ä¸æ¸…æ™°ã€‚\nåœ¨è¿›è¡Œ MySQL çš„ä¼˜åŒ–ä¹‹å‰å¿…é¡»è¦äº†è§£çš„å°±æ˜¯ MySQL çš„æŸ¥è¯¢è¿‡ç¨‹ï¼Œå¾ˆå¤šçš„æŸ¥è¯¢ä¼˜åŒ–å·¥ä½œå®é™…ä¸Šå°±æ˜¯éµå¾ªä¸€äº›åŸåˆ™è®© MySQL çš„ä¼˜åŒ–å™¨èƒ½å¤ŸæŒ‰ç…§é¢„æƒ³çš„åˆç†æ–¹å¼è¿è¡Œè€Œå·²ã€‚\nä¼˜åŒ–çš„å“²å­¦ æ³¨ï¼šä¼˜åŒ–æœ‰é£é™©ï¼Œä¿®æ”¹éœ€è°¨æ…ã€‚\nä¼˜åŒ–å¯èƒ½å¸¦æ¥çš„é—®é¢˜ï¼š ä¼˜åŒ–ä¸æ€»æ˜¯å¯¹ä¸€ä¸ªå•çº¯çš„ç¯å¢ƒè¿›è¡Œï¼Œè¿˜å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªå¤æ‚çš„å·²æŠ•äº§çš„ç³»ç»Ÿã€‚ ä¼˜åŒ–æ‰‹æ®µæœ¬æ¥å°±æœ‰å¾ˆå¤§çš„é£é™©ï¼Œåªä¸è¿‡ä½ æ²¡èƒ½åŠ›æ„è¯†åˆ°å’Œé¢„è§åˆ°ã€‚ ä»»ä½•çš„æŠ€æœ¯å¯ä»¥è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œä½†å¿…ç„¶å­˜åœ¨å¸¦æ¥ä¸€ä¸ªé—®é¢˜çš„é£é™©ã€‚ å¯¹äºä¼˜åŒ–æ¥è¯´è§£å†³é—®é¢˜è€Œå¸¦æ¥çš„é—®é¢˜ï¼Œæ§åˆ¶åœ¨å¯æ¥å—çš„èŒƒå›´å†…æ‰æ˜¯æœ‰æˆæœã€‚ ä¿æŒç°çŠ¶æˆ–å‡ºç°æ›´å·®çš„æƒ…å†µéƒ½æ˜¯å¤±è´¥ã€‚ ä¼˜åŒ–çš„éœ€æ±‚ ç¨³å®šæ€§å’Œä¸šåŠ¡å¯æŒç»­æ€§ï¼Œé€šå¸¸æ¯”æ€§èƒ½æ›´é‡è¦ã€‚ ä¼˜åŒ–ä¸å¯é¿å…æ¶‰åŠåˆ°å˜æ›´ï¼Œå˜æ›´å°±æœ‰é£é™©ã€‚ ä¼˜åŒ–ä½¿æ€§èƒ½å˜å¥½ï¼Œç»´æŒå’Œå˜å·®æ˜¯ç­‰æ¦‚ç‡äº‹ä»¶ã€‚ åˆ‡è®°ä¼˜åŒ–ï¼Œåº”è¯¥æ˜¯å„éƒ¨é—¨ååŒï¼Œå…±åŒå‚ä¸çš„å·¥ä½œï¼Œä»»ä½•å•ä¸€éƒ¨é—¨éƒ½ä¸èƒ½å¯¹æ•°æ®åº“è¿›è¡Œä¼˜åŒ–ã€‚ æ‰€ä»¥ä¼˜åŒ–å·¥ä½œï¼Œæ˜¯ç”±ä¸šåŠ¡éœ€æ±‚é©±ä½¿çš„!\nä¼˜åŒ–ç”±è°å‚ä¸?åœ¨è¿›è¡Œæ•°æ®åº“ä¼˜åŒ–æ—¶ï¼Œåº”ç”±æ•°æ®åº“ç®¡ç†å‘˜ã€ä¸šåŠ¡éƒ¨é—¨ä»£è¡¨ã€åº”ç”¨ç¨‹åºæ¶æ„å¸ˆã€åº”ç”¨ç¨‹åºè®¾è®¡äººå‘˜ã€åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ã€ç¡¬ä»¶åŠç³»ç»Ÿç®¡ç†å‘˜ã€å­˜å‚¨ç®¡ç†å‘˜ç­‰ï¼Œä¸šåŠ¡ç›¸å…³äººå‘˜å…±åŒå‚ä¸ã€‚\nä¼˜åŒ–æ€è·¯ ä¼˜åŒ–ä»€ä¹ˆ åœ¨æ•°æ®åº“ä¼˜åŒ–ä¸Šæœ‰ä¸¤ä¸ªä¸»è¦æ–¹é¢ï¼š\nå®‰å…¨ï¼šæ•°æ®å¯æŒç»­æ€§ã€‚ æ€§èƒ½ï¼šæ•°æ®çš„é«˜æ€§èƒ½è®¿é—®ã€‚ ä¼˜åŒ–èŒƒå›´ å­˜å‚¨ã€ä¸»æœºå’Œæ“ä½œç³»ç»Ÿæ–¹é¢ï¼š\nä¸»æœºæ¶æ„ç¨³å®šæ€§ I/O è§„åˆ’åŠé…ç½® Swap äº¤æ¢åˆ†åŒº OS å†…æ ¸å‚æ•°å’Œç½‘ç»œé—®é¢˜ åº”ç”¨ç¨‹åºæ–¹é¢ï¼š\nåº”ç”¨ç¨‹åºç¨³å®šæ€§ SQL è¯­å¥æ€§èƒ½ ä¸²è¡Œè®¿é—®èµ„æº æ€§èƒ½æ¬ ä½³ä¼šè¯ç®¡ç† è¿™ä¸ªåº”ç”¨é€‚ä¸é€‚åˆç”¨ MySQL æ•°æ®åº“ä¼˜åŒ–æ–¹é¢ï¼š\nå†…å­˜ æ•°æ®åº“ç»“æ„(ç‰©ç†\u0026é€»è¾‘) å®ä¾‹é…ç½® è¯´æ˜ï¼šä¸ç®¡æ˜¯è®¾è®¡ç³»ç»Ÿã€å®šä½é—®é¢˜è¿˜æ˜¯ä¼˜åŒ–ï¼Œéƒ½å¯ä»¥æŒ‰ç…§è¿™ä¸ªé¡ºåºæ‰§è¡Œã€‚\nä¼˜åŒ–ç»´åº¦ æ•°æ®åº“ä¼˜åŒ–ç»´åº¦æœ‰å¦‚ä¸‹å››ä¸ªï¼š\nç¡¬ä»¶ ç³»ç»Ÿé…ç½® æ•°æ®åº“è¡¨ç»“æ„ SQL åŠç´¢å¼• ä¼˜åŒ–é€‰æ‹© ä¼˜åŒ–æˆæœ¬ï¼šç¡¬ä»¶\u003eç³»ç»Ÿé…ç½®\u003eæ•°æ®åº“è¡¨ç»“æ„\u003eSQL åŠç´¢å¼•ã€‚ ä¼˜åŒ–æ•ˆæœï¼šç¡¬ä»¶\u003cç³»ç»Ÿé…ç½®\u003cæ•°æ®åº“è¡¨ç»“æ„ ä¼˜åŒ–å·¥å…· æ£€æŸ¥é—®é¢˜å¸¸ç”¨çš„ 12 ä¸ªå·¥å…·ï¼š\nMySQL mysqladminï¼šMySQL å®¢æˆ·ç«¯ï¼Œå¯è¿›è¡Œç®¡ç†æ“ä½œ mysqlshowï¼šåŠŸèƒ½å¼ºå¤§çš„æŸ¥çœ‹ shell å‘½ä»¤ SHOW [SESSION | GLOBAL] variablesï¼šæŸ¥çœ‹æ•°æ®åº“å‚æ•°ä¿¡æ¯ SHOW [SESSION | GLOBAL] STATUSï¼šæŸ¥çœ‹æ•°æ®åº“çš„çŠ¶æ€ä¿¡æ¯ information_schemaï¼šè·å–å…ƒæ•°æ®çš„æ–¹æ³• SHOW ENGINE INNODB STATUSï¼šInnodb å¼•æ“çš„æ‰€æœ‰çŠ¶æ€ SHOW PROCESSLISTï¼šæŸ¥çœ‹å½“å‰æ‰€æœ‰è¿æ¥çš„ session çŠ¶æ€ explainï¼šè·å–æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ show indexï¼šæŸ¥çœ‹è¡¨çš„ç´¢å¼•ä¿¡æ¯ slow-logï¼šè®°å½•æ…¢æŸ¥è¯¢è¯­å¥ mysqldumpslowï¼šåˆ†æ slowlog æ–‡ä»¶çš„å·¥å…· ä¸å¸¸ç”¨ä½†å¥½ç”¨çš„ 7 ä¸ªå·¥å…·ï¼š\nZabbixï¼šç›‘æ§ä¸»æœºã€ç³»ç»Ÿã€æ•°æ®åº“(éƒ¨ç½² Zabbix ç›‘æ§å¹³å°) pt-query-digestï¼šåˆ†ææ…¢æ—¥å¿— MySQL slapï¼šåˆ†ææ…¢æ—¥å¿— sysbenchï¼šå‹åŠ›æµ‹è¯•å·¥å…· MySQL profilingï¼šç»Ÿè®¡æ•°æ®åº“æ•´ä½“çŠ¶æ€å·¥å…· Performance Schemaï¼šMySQL æ€§èƒ½çŠ¶æ€ç»Ÿè®¡çš„æ•°æ® workbenchï¼šç®¡ç†ã€å¤‡ä»½ã€ç›‘æ§ã€åˆ†æã€ä¼˜åŒ–å·¥å…·(æ¯”è¾ƒè´¹èµ„æº) æ•°æ®åº“å±‚é¢é—®é¢˜ è§£å†³æ€è·¯ ä¸€èˆ¬åº”æ€¥è°ƒä¼˜çš„æ€è·¯ï¼šé’ˆå¯¹çªç„¶çš„ä¸šåŠ¡åŠç†å¡é¡¿ï¼Œæ— æ³•è¿›è¡Œæ­£å¸¸çš„ä¸šåŠ¡å¤„ç†ï¼Œéœ€è¦é©¬ä¸Šè§£å†³çš„åœºæ™¯ã€‚\n#æŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„sqlè¯­å¥å’Œè¿›ç¨‹ show processlist #é€šè¿‡æ‰§è¡Œè®¡åˆ’åˆ¤æ–­ï¼Œç´¢å¼•é—®é¢˜ï¼ˆæœ‰æ²¡æœ‰ã€åˆä¸åˆç†ï¼‰æˆ–è€…è¯­å¥æœ¬èº«é—®é¢˜ explain select id ,name from stu where name='clsn'; # ALL id name age sex select id,name from stu where id=2-1 å‡½æ•° ç»“æœé›†\u003e30; show index from table; # æŸ¥è¯¢é”çŠ¶æ€ show status like '%lock%'; # æŸ¥è¯¢å“ªäº›è¡¨é”äº† show OPEN TABLES where In_use \u003e 0; # æŸ¥çœ‹é€ æˆæ­»é”çš„sqlè¯­å¥ innodbå¼•æ“çš„è¿è¡Œæ—¶ä¿¡æ¯ show engine innodb status; # æ€æ‰æœ‰é—®é¢˜çš„session kill SESSION_ID; # æŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„äº‹åŠ¡ select * from information_schema.INNODB_TRX; # æŸ¥çœ‹æ­£åœ¨é”çš„äº‹ç‰© SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS # æŸ¥çœ‹ç­‰å¾…é”çš„äº‹åŠ¡ SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS; MySQLé”å®šçŠ¶æ€æŸ¥çœ‹å‘½ä»¤ Status å«ä¹‰ Checking table æ­£åœ¨æ£€æŸ¥æ•°æ®è¡¨ï¼ˆè¿™æ˜¯è‡ªåŠ¨çš„ï¼‰ã€‚ Closing tables æ­£åœ¨å°†è¡¨ä¸­ä¿®æ”¹çš„æ•°æ®åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼ŒåŒæ—¶æ­£åœ¨å…³é—­å·²ç»ç”¨å®Œçš„è¡¨ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¿«çš„æ“ä½œï¼Œå¦‚æœä¸æ˜¯è¿™æ ·çš„è¯ï¼Œå°±åº”è¯¥ç¡®è®¤ç£ç›˜ç©ºé—´æ˜¯å¦å·²ç»æ»¡äº†æˆ–è€…ç£ç›˜æ˜¯å¦æ­£å¤„äºé‡è´Ÿä¸­ã€‚ Connect Out å¤åˆ¶ä»æœåŠ¡å™¨æ­£åœ¨è¿æ¥ä¸»æœåŠ¡å™¨ã€‚ Copying to tmp table on disk ç”±äºä¸´æ—¶ç»“æœé›†å¤§äºtmp_table_sizeï¼Œæ­£åœ¨å°†ä¸´æ—¶è¡¨ä»å†…å­˜å­˜å‚¨è½¬ä¸ºç£ç›˜å­˜å‚¨ä»¥æ­¤èŠ‚çœå†…å­˜ã€‚ Creating tmp table æ­£åœ¨åˆ›å»ºä¸´æ—¶è¡¨ä»¥å­˜æ”¾éƒ¨åˆ†æŸ¥è¯¢ç»“æœã€‚ deleting from main table æœåŠ¡å™¨æ­£åœ¨æ‰§è¡Œå¤šè¡¨åˆ é™¤ä¸­çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œåˆšåˆ é™¤ç¬¬ä¸€ä¸ªè¡¨ã€‚ deleting from reference tables æœåŠ¡å™¨æ­£åœ¨æ‰§è¡Œå¤šè¡¨åˆ é™¤ä¸­çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œæ­£åœ¨åˆ é™¤å…¶ä»–è¡¨çš„è®°å½•ã€‚ Flushing tables æ­£åœ¨æ‰§è¡ŒFLUSH TABLESï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹å…³é—­æ•°æ®è¡¨ã€‚ Killed å‘é€äº†ä¸€ä¸ªkillè¯·æ±‚ç»™æŸçº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°†ä¼šæ£€æŸ¥killæ ‡å¿—ä½ï¼ŒåŒæ—¶ä¼šæ”¾å¼ƒä¸‹ä¸€ä¸ªkillè¯·æ±‚ã€‚MySQLä¼šåœ¨æ¯æ¬¡çš„ä¸»å¾ªç¯ä¸­æ£€æŸ¥killæ ‡å¿—ä½ï¼Œä¸è¿‡æœ‰äº›æƒ…å†µä¸‹è¯¥çº¿ç¨‹å¯èƒ½ä¼šè¿‡ä¸€å°æ®µæ‰èƒ½æ­»æ‰ã€‚å¦‚æœè¯¥çº¿ç¨‹ç¨‹è¢«å…¶ä»–çº¿ç¨‹é”ä½äº†ï¼Œé‚£ä¹ˆkillè¯·æ±‚ä¼šåœ¨é”é‡Šæ”¾æ—¶é©¬ä¸Šç”Ÿæ•ˆã€‚ Locked è¢«å…¶ä»–æŸ¥è¯¢é”ä½äº†ã€‚ Sending data æ­£åœ¨å¤„ç†SELECTæŸ¥è¯¢çš„è®°å½•ï¼ŒåŒæ—¶æ­£åœ¨æŠŠç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚ Sorting for group æ­£åœ¨ä¸ºGROUP BYåšæ’åºã€‚ Sorting for order æ­£åœ¨ä¸ºORDER BYåšæ’åºã€‚ Opening tables è¿™ä¸ªè¿‡ç¨‹åº”è¯¥ä¼šå¾ˆå¿«ï¼Œé™¤éå—åˆ°å…¶ä»–å› ç´ çš„å¹²æ‰°ã€‚ä¾‹å¦‚ï¼Œåœ¨æ‰§ALTER TABLEæˆ–LOCK TABLEè¯­å¥è¡Œå®Œä»¥å‰ï¼Œæ•°æ®è¡¨æ— æ³•è¢«å…¶ä»–çº¿ç¨‹æ‰“å¼€ã€‚æ­£å°è¯•æ‰“å¼€ä¸€ä¸ªè¡¨ã€‚ Removing duplicates æ­£åœ¨æ‰§è¡Œä¸€ä¸ªSELECT DISTINCTæ–¹å¼çš„æŸ¥è¯¢ï¼Œä½†æ˜¯MySQLæ— æ³•åœ¨å‰ä¸€ä¸ªé˜¶æ®µä¼˜åŒ–æ‰é‚£äº›é‡å¤çš„è®°å½•ã€‚å› æ­¤ï¼ŒMySQLéœ€è¦å†æ¬¡å»æ‰é‡å¤çš„è®°å½•ï¼Œç„¶åå†æŠŠç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚ Reopen table è·å¾—äº†å¯¹ä¸€ä¸ªè¡¨çš„é”ï¼Œä½†æ˜¯å¿…é¡»åœ¨è¡¨ç»“æ„ä¿®æ”¹ä¹‹åæ‰èƒ½è·å¾—è¿™ä¸ªé”ã€‚å·²ç»é‡Šæ”¾é”ï¼Œå…³é—­æ•°æ®è¡¨ï¼Œæ­£å°è¯•é‡æ–°æ‰“å¼€æ•°æ®è¡¨ã€‚ Repair by sorting ä¿®å¤æŒ‡ä»¤æ­£åœ¨æ’åºä»¥åˆ›å»ºç´¢å¼•ã€‚ Repair with keycache ä¿®å¤æŒ‡ä»¤æ­£åœ¨åˆ©ç”¨ç´¢å¼•ç¼“å­˜ä¸€ä¸ªä¸€ä¸ªåœ°åˆ›å»ºæ–°ç´¢å¼•ã€‚å®ƒä¼šæ¯”Repair by sortingæ…¢äº›ã€‚ Searching rows for update æ­£åœ¨è®²ç¬¦åˆæ¡ä»¶çš„è®°å½•æ‰¾å‡ºæ¥ä»¥å¤‡æ›´æ–°ã€‚å®ƒå¿…é¡»åœ¨UPDATEè¦ä¿®æ”¹ç›¸å…³çš„è®°å½•ä¹‹å‰å°±å®Œæˆäº†ã€‚ Sleeping æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ–°è¯·æ±‚ã€‚ System lock æ­£åœ¨ç­‰å¾…å–å¾—ä¸€ä¸ªå¤–éƒ¨çš„ç³»ç»Ÿé”ã€‚å¦‚æœå½“å‰æ²¡æœ‰è¿è¡Œå¤šä¸ªmysqldæœåŠ¡å™¨åŒæ—¶è¯·æ±‚åŒä¸€ä¸ªè¡¨ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¢åŠ â€“skip-external-lockingå‚æ•°æ¥ç¦æ­¢å¤–éƒ¨ç³»ç»Ÿé”ã€‚ Upgrading lock INSERT DELAYEDæ­£åœ¨å°è¯•å–å¾—ä¸€ä¸ªé”è¡¨ä»¥æ’å…¥æ–°è®°å½•ã€‚ Updating æ­£åœ¨æœç´¢åŒ¹é…çš„è®°å½•ï¼Œå¹¶ä¸”ä¿®æ”¹å®ƒä»¬ã€‚ User Lock æ­£åœ¨ç­‰å¾…GET_LOCK()ã€‚ Waiting for tables è¯¥çº¿ç¨‹å¾—åˆ°é€šçŸ¥ï¼Œæ•°æ®è¡¨ç»“æ„å·²ç»è¢«ä¿®æ”¹äº†ï¼Œéœ€è¦é‡æ–°æ‰“å¼€æ•°æ®è¡¨ä»¥å–å¾—æ–°çš„ç»“æ„ã€‚ç„¶åï¼Œä¸ºäº†èƒ½çš„é‡æ–°æ‰“å¼€æ•°æ®è¡¨ï¼Œå¿…é¡»ç­‰åˆ°æ‰€æœ‰å…¶ä»–çº¿ç¨‹å…³é—­è¿™ä¸ªè¡¨ã€‚ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹ä¼šäº§ç”Ÿè¿™ä¸ªé€šçŸ¥ï¼šFLUSH TABLES tbl_name, ALTER TABLE, RENAME TABLE, REPAIR TABLE, ANALYZE TABLE,æˆ–OPTIMIZE TABLEã€‚ waiting for handler insert INSERT DELAYEDå·²ç»å¤„ç†å®Œäº†æ‰€æœ‰å¾…å¤„ç†çš„æ’å…¥æ“ä½œï¼Œæ­£åœ¨ç­‰å¾…æ–°çš„è¯·æ±‚ã€‚ å¸¸è§„è°ƒä¼˜æ€è·¯ é’ˆå¯¹ä¸šåŠ¡å‘¨æœŸæ€§çš„å¡é¡¿ï¼Œä¾‹å¦‚åœ¨æ¯å¤© 10-11 ç‚¹ä¸šåŠ¡ç‰¹åˆ«æ…¢ï¼Œä½†æ˜¯è¿˜èƒ½å¤Ÿä½¿ç”¨ï¼Œè¿‡äº†è¿™æ®µæ—¶é—´å°±å¥½äº†ã€‚\næŸ¥çœ‹slowlogï¼Œåˆ†æslowlogï¼Œåˆ†æå‡ºæŸ¥è¯¢æ…¢çš„è¯­å¥ï¼› æŒ‰ç…§ä¸€å®šä¼˜å…ˆçº§ï¼Œä¸€ä¸ªä¸€ä¸ªæ’æŸ¥æ‰€æœ‰æ…¢è¯­å¥ï¼› åˆ†ætop SQLï¼Œè¿›è¡Œexplainè°ƒè¯•ï¼ŒæŸ¥çœ‹è¯­å¥æ‰§è¡Œæ—¶é—´ï¼› è°ƒæ•´ç´¢å¼•æˆ–è¯­å¥æœ¬èº«ã€‚ ç³»ç»Ÿå±‚é¢é—®é¢˜ è§£å†³æ€è·¯ CPUæ–¹é¢ï¼švmstatã€sar topã€htopã€nmonã€mpstatã€‚\nå†…å­˜ï¼šfreeã€ps-auxã€‚\nIO è®¾å¤‡(ç£ç›˜ã€ç½‘ç»œ)ï¼šiostatã€ssã€netstatã€iptrafã€iftopã€lsofã€‚\nvmstat å‘½ä»¤è¯´æ˜ï¼š\nProcsï¼šr æ˜¾ç¤ºæœ‰å¤šå°‘è¿›ç¨‹æ­£åœ¨ç­‰å¾… CPU æ—¶é—´ã€‚b æ˜¾ç¤ºå¤„äºä¸å¯ä¸­æ–­çš„ä¼‘çœ çš„è¿›ç¨‹æ•°é‡ã€‚åœ¨ç­‰å¾… I/Oã€‚ Memoryï¼šswpd æ˜¾ç¤ºè¢«äº¤æ¢åˆ°ç£ç›˜çš„æ•°æ®å—çš„æ•°é‡ã€‚æœªè¢«ä½¿ç”¨çš„æ•°æ®å—ï¼Œç”¨æˆ·ç¼“å†²æ•°æ®å—ï¼Œç”¨äºæ“ä½œç³»ç»Ÿçš„æ•°æ®å—çš„æ•°é‡ã€‚ Swapï¼šæ“ä½œç³»ç»Ÿæ¯ç§’ä»ç£ç›˜ä¸Šäº¤æ¢åˆ°å†…å­˜å’Œä»å†…å­˜äº¤æ¢åˆ°ç£ç›˜çš„æ•°æ®å—çš„æ•°é‡ã€‚s1 å’Œ s0 æœ€å¥½æ˜¯ 0ã€‚ IOï¼šæ¯ç§’ä»è®¾å¤‡ä¸­è¯»å…¥ b1 çš„å†™å…¥åˆ°è®¾å¤‡ b0 çš„æ•°æ®å—çš„æ•°é‡ã€‚åæ˜ äº†ç£ç›˜ I/Oã€‚ Systemï¼šæ˜¾ç¤ºäº†æ¯ç§’å‘ç”Ÿä¸­æ–­çš„æ•°é‡(in)å’Œä¸Šä¸‹æ–‡äº¤æ¢(cs)çš„æ•°é‡ã€‚ CPUï¼šæ˜¾ç¤ºç”¨äºè¿è¡Œç”¨æˆ·ä»£ç ï¼Œç³»ç»Ÿä»£ç ï¼Œç©ºé—²ï¼Œç­‰å¾… I/O çš„ CPU æ—¶é—´ã€‚ iostat å‘½ä»¤è¯´æ˜ï¼š\nå®ä¾‹å‘½ä»¤ï¼šiostat -dk 1 5;iostat -d -k -x 5 (æŸ¥çœ‹è®¾å¤‡ä½¿ç”¨ç‡(%util)å’Œå“åº”æ—¶é—´(await))ã€‚ TPSï¼šè¯¥è®¾å¤‡æ¯ç§’çš„ä¼ è¾“æ¬¡æ•°ã€‚â€œä¸€æ¬¡ä¼ è¾“â€æ„æ€æ˜¯â€œä¸€æ¬¡ I/O è¯·æ±‚â€ã€‚å¤šä¸ªé€»è¾‘è¯·æ±‚å¯èƒ½ä¼šè¢«åˆå¹¶ä¸ºâ€œä¸€æ¬¡ I/O è¯·æ±‚â€ã€‚ iops ï¼šç¡¬ä»¶å‡ºå‚çš„æ—¶å€™ï¼Œå‚å®¶å®šä¹‰çš„ä¸€ä¸ªæ¯ç§’æœ€å¤§çš„ IO æ¬¡æ•°ã€‚ â€œä¸€æ¬¡ä¼ è¾“\"è¯·æ±‚çš„å¤§å°æ˜¯æœªçŸ¥çš„ã€‚ KB_read/sï¼šæ¯ç§’ä»è®¾å¤‡(drive expressed)è¯»å–çš„æ•°æ®é‡ã€‚ KB_wrtn/sï¼šæ¯ç§’å‘è®¾å¤‡(drive expressed)å†™å…¥çš„æ•°æ®é‡ã€‚ KB_readï¼šè¯»å–çš„æ€»æ•°æ®é‡ã€‚ KB_wrtnï¼šå†™å…¥çš„æ€»æ•°é‡æ•°æ®é‡;è¿™äº›å•ä½éƒ½ä¸º Kilobytesã€‚ è§£å†³åŠæ³• ä½ è®¤ä¸ºåˆ°åº•è´Ÿè½½é«˜å¥½ï¼Œè¿˜æ˜¯ä½å¥½å‘¢?åœ¨å®é™…çš„ç”Ÿäº§ä¸­ï¼Œä¸€èˆ¬è®¤ä¸º CPU åªè¦ä¸è¶…è¿‡ 90% éƒ½æ²¡ä»€ä¹ˆé—®é¢˜ã€‚å½“ç„¶ä¸æ’é™¤ä¸‹é¢è¿™äº›ç‰¹æ®Šæƒ…å†µã€‚\nCPU è´Ÿè½½é«˜ï¼ŒIO è´Ÿè½½ä½ï¼š\nå†…å­˜ä¸å¤Ÿ ç£ç›˜æ€§èƒ½å·® SQL é—®é¢˜ï¼šå»æ•°æ®åº“å±‚ï¼Œè¿›ä¸€æ­¥æ’æŸ¥ SQL é—®é¢˜ IO å‡ºé—®é¢˜äº†(ç£ç›˜åˆ°ä¸´ç•Œäº†ã€raid è®¾è®¡ä¸å¥½ã€raid é™çº§ã€é”ã€åœ¨å•ä½æ—¶é—´å†… TPS è¿‡é«˜) TPS è¿‡é«˜ï¼šå¤§é‡çš„å°æ•°æ® IOã€å¤§é‡çš„å…¨è¡¨æ‰«æ IO è´Ÿè½½é«˜ï¼ŒCPU è´Ÿè½½ä½ï¼š\nå¤§é‡å°çš„ IO å†™æ“ä½œ autocommitï¼Œäº§ç”Ÿå¤§é‡å° IO;IO/PSï¼Œç£ç›˜çš„ä¸€ä¸ªå®šå€¼ï¼Œç¡¬ä»¶å‡ºå‚çš„æ—¶å€™ï¼Œå‚å®¶å®šä¹‰çš„ä¸€ä¸ªæ¯ç§’æœ€å¤§çš„ IO æ¬¡æ•°ã€‚ å¤§é‡å¤§çš„ IO å†™æ“ä½œï¼šSQL é—®é¢˜çš„å‡ ç‡æ¯”è¾ƒå¤§ IOå’Œ CPU è´Ÿè½½éƒ½å¾ˆé«˜ï¼š\nç¡¬ä»¶ä¸å¤Ÿäº†æˆ– SQL å­˜åœ¨é—®é¢˜ åŸºç¡€ä¼˜åŒ– ä¼˜åŒ–æ€è·¯:\nå®šä½é—®é¢˜ç‚¹å®å¸ï¼šç¡¬ä»¶\u003eç³»ç»Ÿ\u003eåº”ç”¨\u003eæ•°æ®åº“\u003eæ¶æ„(é«˜å¯ç”¨ã€è¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨)ã€‚\nå¤„ç†æ–¹å‘ï¼šæ˜ç¡®ä¼˜åŒ–ç›®æ ‡ã€æ€§èƒ½å’Œå®‰å…¨çš„æŠ˜ä¸­ã€é˜²æ‚£æœªç„¶ã€‚\nç¡¬ä»¶ä¼˜åŒ– â‘ ä¸»æœºæ–¹é¢\næ ¹æ®æ•°æ®åº“ç±»å‹ï¼Œä¸»æœº CPU é€‰æ‹©ã€å†…å­˜å®¹é‡é€‰æ‹©ã€ç£ç›˜é€‰æ‹©ï¼š\nå¹³è¡¡å†…å­˜å’Œç£ç›˜èµ„æº éšæœºçš„ I/O å’Œé¡ºåºçš„ I/O ä¸»æœº RAID å¡çš„ BBU(Battery Backup Unit)å…³é—­ â‘¡CPU çš„é€‰æ‹©\nCPU çš„ä¸¤ä¸ªå…³é”®å› ç´ ï¼šæ ¸æ•°ã€ä¸»é¢‘ã€‚æ ¹æ®ä¸åŒçš„ä¸šåŠ¡ç±»å‹è¿›è¡Œé€‰æ‹©ï¼š\nCPU å¯†é›†å‹ï¼šè®¡ç®—æ¯”è¾ƒå¤šï¼ŒOLTP ä¸»é¢‘å¾ˆé«˜çš„ CPUã€æ ¸æ•°è¿˜è¦å¤šã€‚ IO å¯†é›†å‹ï¼šæŸ¥è¯¢æ¯”è¾ƒï¼ŒOLAP æ ¸æ•°è¦å¤šï¼Œä¸»é¢‘ä¸ä¸€å®šé«˜çš„ã€‚ â‘¢å†…å­˜çš„é€‰æ‹©\nOLAP ç±»å‹æ•°æ®åº“ï¼Œéœ€è¦æ›´å¤šå†…å­˜ï¼Œå’Œæ•°æ®è·å–é‡çº§æœ‰å…³ã€‚OLTP ç±»å‹æ•°æ®ä¸€èˆ¬å†…å­˜æ˜¯ CPU æ ¸å¿ƒæ•°é‡çš„ 2 å€åˆ° 4 å€ï¼Œæ²¡æœ‰æœ€ä½³å®è·µã€‚\nâ‘£å­˜å‚¨æ–¹é¢\næ ¹æ®å­˜å‚¨æ•°æ®ç§ç±»çš„ä¸åŒï¼Œé€‰æ‹©ä¸åŒçš„å­˜å‚¨è®¾å¤‡ï¼Œé…ç½®åˆç†çš„ RAID çº§åˆ«(raid5ã€raid10ã€çƒ­å¤‡ç›˜)ã€‚\nå¯¹äºæ“ä½œç³»ç»Ÿæ¥è®²ï¼Œä¸éœ€è¦å¤ªç‰¹æ®Šçš„é€‰æ‹©ï¼Œæœ€å¥½åšå¥½å†—ä½™(raid1)(ssdã€sasã€sata)ã€‚\nä¸»æœº raid å¡é€‰æ‹©ï¼š\nå®ç°æ“ä½œç³»ç»Ÿç£ç›˜çš„å†—ä½™(raid1) å¹³è¡¡å†…å­˜å’Œç£ç›˜èµ„æº éšæœºçš„ I/O å’Œé¡ºåºçš„ I/O ä¸»æœº raid å¡çš„ BBU(Battery Backup Unit)è¦å…³é—­ â‘¤ç½‘ç»œè®¾å¤‡æ–¹é¢\nä½¿ç”¨æµé‡æ”¯æŒæ›´é«˜çš„ç½‘ç»œè®¾å¤‡(äº¤æ¢æœºã€è·¯ç”±å™¨ã€ç½‘çº¿ã€ç½‘å¡ã€HBA å¡)ã€‚æ³¨æ„ï¼šä»¥ä¸Šè¿™äº›è§„åˆ’åº”è¯¥åœ¨åˆå§‹è®¾è®¡ç³»ç»Ÿæ—¶å°±åº”è¯¥è€ƒè™‘å¥½ã€‚\næœåŠ¡å™¨ç¡¬ä»¶ä¼˜åŒ–å…³é”®ç‚¹ï¼š\nç‰©ç†çŠ¶æ€ç¯ è‡ªå¸¦ç®¡ç†è®¾å¤‡ï¼šè¿œç¨‹æ§åˆ¶å¡(FENCEè®¾å¤‡ï¼šipmi ilo idarc)ã€å¼€å…³æœºã€ç¡¬ä»¶ç›‘æ§ã€‚ ç¬¬ä¸‰æ–¹çš„ç›‘æ§è½¯ä»¶ã€è®¾å¤‡(snmpã€agent)å¯¹ç‰©ç†è®¾æ–½è¿›è¡Œç›‘æ§ã€‚ å­˜å‚¨è®¾å¤‡ï¼šè‡ªå¸¦çš„ç›‘æ§å¹³å°ã€‚EMC2(HP æ”¶è´­äº†)ã€ æ—¥ç«‹(HDS)ã€IBM ä½ç«¯ OEM HDSã€é«˜ç«¯å­˜å‚¨æ˜¯è‡ªå·±æŠ€æœ¯ï¼Œåä¸ºå­˜å‚¨ã€‚ ç³»ç»Ÿä¼˜åŒ– CPUï¼šåŸºæœ¬ä¸éœ€è¦è°ƒæ•´ï¼Œåœ¨ç¡¬ä»¶é€‰æ‹©æ–¹é¢ä¸‹åŠŸå¤«å³å¯ã€‚\nå†…å­˜ï¼šåŸºæœ¬ä¸éœ€è¦è°ƒæ•´ï¼Œåœ¨ç¡¬ä»¶é€‰æ‹©æ–¹é¢ä¸‹åŠŸå¤«å³å¯ã€‚\nSWAPï¼šMySQL å°½é‡é¿å…ä½¿ç”¨ Swapã€‚é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸­é»˜è®¤ swap ä¸º 0ã€‚\nIO ï¼šraidã€no lvmã€ext4 æˆ– xfsã€ssdã€IO è°ƒåº¦ç­–ç•¥ã€‚\nSwap è°ƒæ•´(ä¸ä½¿ç”¨ swap åˆ†åŒº)ï¼š\n/proc/sys/vm/swappinessçš„å†…å®¹æ”¹æˆ0(ä¸´æ—¶)ï¼Œ/etc/sysctl. confä¸Šæ·»åŠ vm.swappiness=0(æ°¸ä¹…) è¿™ä¸ªå‚æ•°å†³å®šäº† Linux æ˜¯å€¾å‘äºä½¿ç”¨ Swapï¼Œè¿˜æ˜¯å€¾å‘äºé‡Šæ”¾æ–‡ä»¶ç³»ç»Ÿ Cacheã€‚åœ¨å†…å­˜ç´§å¼ çš„æƒ…å†µä¸‹ï¼Œæ•°å€¼è¶Šä½è¶Šå€¾å‘äºé‡Šæ”¾æ–‡ä»¶ç³»ç»Ÿ Cacheã€‚\nå½“ç„¶ï¼Œè¿™ä¸ªå‚æ•°åªèƒ½å‡å°‘ä½¿ç”¨ Swap çš„æ¦‚ç‡ï¼Œå¹¶ä¸èƒ½é¿å… Linux ä½¿ç”¨ Swapã€‚\nä¿®æ”¹ MySQL çš„é…ç½®å‚æ•° innodb_flush_ methodï¼Œå¼€å¯ O_DIRECT æ¨¡å¼ã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼ŒInnoDB çš„ buffer pool ä¼šç›´æ¥ç»•è¿‡æ–‡ä»¶ç³»ç»Ÿ Cache æ¥è®¿é—®ç£ç›˜ï¼Œä½†æ˜¯ redo log ä¾æ—§ä¼šä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿ Cacheã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒRedo log æ˜¯è¦†å†™æ¨¡å¼çš„ï¼Œå³ä½¿ä½¿ç”¨äº†æ–‡ä»¶ç³»ç»Ÿçš„ Cacheï¼Œä¹Ÿä¸ä¼šå ç”¨å¤ªå¤šã€‚\nIO è°ƒåº¦ç­–ç•¥ï¼š\n#echo deadline\u003e/sys/block/sda/queue/scheduler ä¸´æ—¶ä¿®æ”¹ä¸ºdeadline æ°¸ä¹…ä¿®æ”¹ï¼š\nvi /boot/grub/grub.conf æ›´æ”¹åˆ°å¦‚ä¸‹å†…å®¹: kernel /boot/vmlinuz-2.6.18-8.el5 ro root=LABEL=/ elevator=deadline rhgb quiet ç³»ç»Ÿå‚æ•°è°ƒæ•´ Linux ç³»ç»Ÿå†…æ ¸å‚æ•°ä¼˜åŒ–ï¼š\nvim/etc/sysctl.conf net.ipv4.ip_local_port_range = 1024 65535ï¼š# ç”¨æˆ·ç«¯å£èŒƒå›´ net.ipv4.tcp_max_syn_backlog = 4096 net.ipv4.tcp_fin_timeout = 30 fs.file-max=65535ï¼š# ç³»ç»Ÿæœ€å¤§æ–‡ä»¶å¥æŸ„ï¼Œæ§åˆ¶çš„æ˜¯èƒ½æ‰“å¼€æ–‡ä»¶æœ€å¤§æ•°é‡ ç”¨æˆ·é™åˆ¶å‚æ•°(MySQL å¯ä»¥ä¸è®¾ç½®ä»¥ä¸‹é…ç½®)ï¼š\nvim/etc/security/limits.conf * soft nproc 65535 * hard nproc 65535 * soft nofile 65535 * hard nofile 65535 åº”ç”¨ä¼˜åŒ– ä¸šåŠ¡åº”ç”¨å’Œæ•°æ®åº“åº”ç”¨ç‹¬ç«‹ã€‚\né˜²ç«å¢™ï¼šiptablesã€selinux ç­‰å…¶ä»–æ— ç”¨æœåŠ¡(å…³é—­)ï¼š\nchkconfig --level 23456 acpid off chkconfig --level 23456 anacron off chkconfig --level 23456 autofs off chkconfig --level 23456 avahi-daemon off chkconfig --level 23456 bluetooth off chkconfig --level 23456 cups off chkconfig --level 23456 firstboot off chkconfig --level 23456 haldaemon off chkconfig --level 23456 hplip off chkconfig --level 23456 ip6tables off chkconfig --level 23456 iptables off chkconfig --level 23456 isdn off chkconfig --level 23456 pcscd off chkconfig --level 23456 sendmail off chkconfig --level 23456 yum-updatesd off å®‰è£…å›¾å½¢ç•Œé¢çš„æœåŠ¡å™¨ä¸è¦å¯åŠ¨å›¾å½¢ç•Œé¢ runlevel 3ã€‚\nå¦å¤–ï¼Œæ€è€ƒå°†æ¥æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯å¦çœŸçš„éœ€è¦ MySQLï¼Œè¿˜æ˜¯ä½¿ç”¨å…¶ä»–ç§ç±»çš„æ•°æ®åº“ã€‚ç”¨æ•°æ®åº“çš„æœ€é«˜å¢ƒç•Œå°±æ˜¯ä¸ç”¨æ•°æ®åº“ã€‚\næ•°æ®åº“ä¼˜åŒ– SQL ä¼˜åŒ–æ–¹å‘ï¼šæ‰§è¡Œè®¡åˆ’ï¼Œç´¢å¼•ï¼ŒSQL æ”¹å†™\næ¶æ„ä¼˜åŒ–æ–¹å‘ï¼šé«˜å¯ç”¨æ¶æ„ï¼Œé«˜æ€§èƒ½æ¶æ„ï¼Œåˆ†åº“åˆ†è¡¨\næ•°æ®åº“å‚æ•°ä¼˜åŒ– â‘ è°ƒæ•´å®ä¾‹æ•´ä½“(é«˜çº§ä¼˜åŒ–ï¼Œæ‰©å±•)ï¼š\nthread_concurrencyï¼š# å¹¶å‘çº¿ç¨‹æ•°é‡ä¸ªæ•° sort_buffer_sizeï¼š# æ’åºç¼“å­˜ read_buffer_sizeï¼š# é¡ºåºè¯»å–ç¼“å­˜ read_rnd_buffer_sizeï¼š# éšæœºè¯»å–ç¼“å­˜ key_buffer_sizeï¼š# ç´¢å¼•ç¼“å­˜ thread_cache_sizeï¼š# (1Gâ€”\u003e8, 2Gâ€”\u003e16, 3Gâ€”\u003e32, \u003e3Gâ€”\u003e64) **â‘¡è¿æ¥å±‚(åŸºç¡€ä¼˜åŒ–)**è®¾ç½®åˆç†çš„è¿æ¥å®¢æˆ·å’Œè¿æ¥æ–¹å¼ï¼š\nmax_connections # æœ€å¤§è¿æ¥æ•°ï¼Œçœ‹äº¤æ˜“ç¬”æ•°è®¾ç½® max_connect_errors # æœ€å¤§é”™è¯¯è¿æ¥æ•°ï¼Œèƒ½å¤§åˆ™å¤§ connect_timeout # è¿æ¥è¶…æ—¶ max_user_connections # æœ€å¤§ç”¨æˆ·è¿æ¥æ•° skip-name-resolve # è·³è¿‡åŸŸåè§£æ wait_timeout # ç­‰å¾…è¶…æ—¶ back_log # å¯ä»¥åœ¨å †æ ˆä¸­çš„è¿æ¥æ•°é‡ â‘¢SQL å±‚(åŸºç¡€ä¼˜åŒ–)\nquery_cache_sizeï¼š æŸ¥è¯¢ç¼“å­˜ Â»\u003e OLAP ç±»å‹æ•°æ®åº“ï¼Œéœ€è¦é‡ç‚¹åŠ å¤§æ­¤å†…å­˜ç¼“å­˜ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šè¶…è¿‡ GBã€‚\nå¯¹äºç»å¸¸è¢«ä¿®æ”¹çš„æ•°æ®ï¼Œç¼“å­˜ä¼šé©¬ä¸Šå¤±æ•ˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…å­˜æ•°æ®åº“(redisã€memecache)ï¼Œæ›¿ä»£å®ƒçš„åŠŸèƒ½ã€‚\nå­˜å‚¨å¼•æ“å±‚ä¼˜åŒ– innodb åŸºç¡€ä¼˜åŒ–å‚æ•°ï¼š\ndefault-storage-engine innodb_buffer_pool_size # æ²¡æœ‰å›ºå®šå¤§å°ï¼Œ50%æµ‹è¯•å€¼ï¼Œçœ‹çœ‹æƒ…å†µå†å¾®è°ƒã€‚ä½†æ˜¯å°½é‡è®¾ç½®ä¸è¦è¶…è¿‡ç‰©ç†å†…å­˜70% innodb_file_per_table=(1,0) innodb_flush_log_at_trx_commit=(0,1,2) # 1æ˜¯æœ€å®‰å…¨çš„ï¼Œ0æ˜¯æ€§èƒ½æœ€é«˜ï¼Œ2æŠ˜ä¸­ binlog_sync Innodb_flush_method=(O_DIRECT, fdatasync) innodb_log_buffer_size # 100Mä»¥ä¸‹ innodb_log_file_size # 100M ä»¥ä¸‹ innodb_log_files_in_group # 5ä¸ªæˆå‘˜ä»¥ä¸‹,ä¸€èˆ¬2-3ä¸ªå¤Ÿç”¨ï¼ˆiblogfile0-Nï¼‰ innodb_max_dirty_pages_pct # è¾¾åˆ°ç™¾åˆ†ä¹‹75çš„æ—¶å€™åˆ·å†™ å†…å­˜è„é¡µåˆ°ç£ç›˜ã€‚ log_bin max_binlog_cache_size # å¯ä»¥ä¸è®¾ç½® max_binlog_size # å¯ä»¥ä¸è®¾ç½® innodb_additional_mem_pool_size #å°äº2Gå†…å­˜çš„æœºå™¨ï¼Œæ¨èå€¼æ˜¯20Mã€‚32Gå†…å­˜ä»¥ä¸Š100M ","description":"\n","tags":[],"title":"\nä¸€ä»½è¶…è¯¦ç»†çš„MySQLé«˜æ€§èƒ½ä¼˜åŒ–å®æˆ˜æ€»ç»“ï¼","uri":"/posts/post-267/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä»£ç  public class Main { public static void main(String[] args) { byte[] array1 = new byte[4 * 1024 * 1024]; array1 = null; byte[] array2 = new byte[2 * 1024 * 1024]; byte[] array3 = new byte[2 * 1024 * 1024]; byte[] array4 = new byte[2 * 1024 * 1024]; byte[] array5 = new byte[128 * 1024]; byte[] array6 = new byte[2 * 1024 * 1024]; } } å‚æ•° å‚æ•°è®¾ç½®è¿è¡Œ -XX:NewSize=10M -XX:MaxNewSize=10M -XX:InitialHeapSize=20M -XX:MaxHeapSize=20M -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=15 -XX:PretenureSizeThreshold=3M -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:gc.log å‚æ•°ä»‹ç» -XX:NewSize:åˆå§‹å¹´è½»ä»£å¤§å° -XX:MaxNewSize:æœ€å¤§å¹´è½»ä»£å¤§å° -XX:InitialHeapSize:å®šä¹‰å †çš„åˆå§‹åŒ–å¤§å°ï¼Œé»˜è®¤å€¼æ˜¯ç‰©ç†å†…å­˜çš„1/64ï¼Œå…¶å®å°±æ˜¯:-Xms -XX:MaxHeapSize:å®šä¹‰æœ€å¤§å †çš„å¤§å°ï¼Œé»˜è®¤ä¸ºç‰©ç†å†…å­˜çš„1/4ï¼Œå…¶å®å°±æ˜¯:-Xmx -XX:SurvivorRatio:EdenåŒºä¸SurvivoråŒºçš„å¤§å°æ¯”å€¼ -XX:MaxTenuringThreshold:å¹´è½»ä»£å¯¹è±¡è½¬æ¢ä¸ºè€å¹´ä»£å¯¹è±¡æœ€å¤§å¹´é¾„å€¼ -XX:PretenureSizeThreshold=3M:å¯¹è±¡å¤§å°è¶…è¿‡3Mæ—¶ç›´æ¥åœ¨è€å¹´ä»£åˆ†é…å†…å­˜ -XX:+UseParNewGC:ä½¿ç”¨ParNewæ”¶é›†å™¨ -XX:+UseConcMarkSweepGC:ä½¿ç”¨CMSæ”¶é›†å™¨ -XX:+PrintGCDetails:GCæ—¶æ‰“å°è¯¦ç»†ä¿¡æ¯ -Xloggc:è¾“å‡ºGCæ—¥å¿—ä¿¡æ¯åˆ°æ–‡ä»¶ä¸­ æ—¥å¿— æ—¥å¿—æƒ…å†µ 0.095: [GC (Allocation Failure) 0.095: [ParNew (promotion failed): 7838K-\u003e8391K(9216K), 0.0029438 secs]0.098: [CMS: 8194K-\u003e6659K(10240K), 0.0024311 secs] 11934K-\u003e6659K(19456K), [Metaspace: 3121K-\u003e3121K(1056768K)], 0.0055393 secs] [Times: user=0.02 sys=0.00, real=0.00 secs] Heap par new generation total 9216K, used 2214K [0x00000007bec00000, 0x00000007bf600000, 0x00000007bf600000) eden space 8192K, 27% used [0x00000007bec00000, 0x00000007bee29820, 0x00000007bf400000) from space 1024K, 0% used [0x00000007bf500000, 0x00000007bf500000, 0x00000007bf600000) to space 1024K, 0% used [0x00000007bf400000, 0x00000007bf400000, 0x00000007bf500000) concurrent mark-sweep generation total 10240K, used 6659K [0x00000007bf600000, 0x00000007c0000000, 0x00000007c0000000) Metaspace used 3142K, capacity 4496K, committed 4864K, reserved 1056768K class space used 347K, capacity 388K, committed 512K, reserved 1048576K æ—¥å¿—è¯¦è§£ GCï¼šè¡¨æ˜è¿›è¡Œäº†ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œå‰é¢æ²¡æœ‰Fullä¿®é¥°ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€æ¬¡Young GC Allocation Failureï¼šè¡¨æ˜æœ¬æ¬¡å¼•èµ·GCçš„åŸå› æ˜¯å› ä¸ºåœ¨å¹´è½»ä»£ä¸­æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´èƒ½å¤Ÿå­˜å‚¨æ–°çš„æ•°æ®äº† ParNewï¼šè¡¨æ˜æœ¬æ¬¡GCå‘ç”Ÿåœ¨å¹´è½»ä»£å¹¶ä¸”ä½¿ç”¨çš„æ˜¯ParNewåƒåœ¾æ”¶é›†å™¨ã€‚ParNewæ˜¯ä¸€ä¸ªSerialæ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œä¼šä½¿ç”¨å¤šä¸ªCPUå’Œçº¿ç¨‹å®Œæˆåƒåœ¾æ”¶é›†å·¥ä½œï¼ˆé»˜è®¤ä½¿ç”¨çš„çº¿ç¨‹æ•°å’ŒCPUæ•°ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨-XXï¼šParallelGCThreadså‚æ•°é™åˆ¶ï¼‰ ParNew (promotion failed): 7838K-\u003e8391K(9216K) 7838K-\u003e8391K(9216K)ï¼šå•ä½æ˜¯KBï¼Œä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼šGCå‰è¯¥å†…å­˜åŒºåŸŸ(è¿™é‡Œæ˜¯å¹´è½»ä»£)ä½¿ç”¨å®¹é‡ï¼ŒGCåè¯¥å†…å­˜åŒºåŸŸä½¿ç”¨å®¹é‡ï¼Œè¯¥å†…å­˜åŒºåŸŸæ€»å®¹é‡ã€‚ 0.0029438 secsï¼šè¯¥å†…å­˜åŒºåŸŸGCè€—æ—¶ï¼Œå•ä½æ˜¯ç§’ CMS: 8194K-\u003e6659K(10240K), 0.0024311 secs] 11934K-\u003e6659K(19456K) 8194K-\u003e6659K(10240K)ï¼šGCå‰è¯¥å†…å­˜åŒºåŸŸ(è¿™é‡Œæ˜¯è€å¹´ä»£)ä½¿ç”¨å®¹é‡å˜åŒ–ï¼Œ10240Kè¡¨ç¤ºè¯¥å†…å­˜åŒºåŸŸæ€»å®¹é‡ï¼Œ 11934K-\u003e6659K(19456K)ï¼šä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼šå †åŒºåƒåœ¾å›æ”¶å‰çš„å¤§å°ï¼Œå †åŒºåƒåœ¾å›æ”¶åçš„å¤§å°ï¼Œå †åŒºæ€»å¤§å° Times: user=0.02 sys=0.00, real=0.00 secsï¼šåˆ†åˆ«è¡¨ç¤ºç”¨æˆ·æ€è€—æ—¶ï¼Œå†…æ ¸æ€è€—æ—¶å’Œæ€»è€—æ—¶ è¯¦ç»†ä»‹ç» å¯ä»¥çœ‹åˆ°å‡ºç°äº†promotion failedï¼Œé‚£ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°promotion failedï¼Ÿ\nåœ¨è¿›è¡ŒYoung GCæ—¶ï¼ŒSurvivor Spaceæ”¾ä¸ä¸‹ï¼Œå¯¹è±¡åªèƒ½æ”¾å…¥è€å¹´ä»£ï¼Œè€Œæ­¤æ—¶è€å¹´ä»£ä¹Ÿæ”¾ä¸ä¸‹æ—¶ä¼šå‡ºç°\n1.çœ‹ä»£ç \nbyte[] array1 = new byte[4 * 1024 * 1024]; array1 = null; è¿™è¡Œä»£ç ç›´æ¥åˆ†é…äº†ä¸€ä¸ª4MBçš„å¤§å¯¹è±¡ï¼Œæ­¤æ—¶è¿™ä¸ªå¯¹è±¡ä¼šç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œæ¥ç€array1ä¸å†å¼•ç”¨è¿™ä¸ªå¯¹è±¡\n2.æ¥ç€çœ‹ä¸‹é¢çš„ä»£ç \nbyte[] array2 = new byte[2 * 1024 * 1024]; byte[] array3 = new byte[2 * 1024 * 1024]; byte[] array4 = new byte[2 * 1024 * 1024]; byte[] array5 = new byte[128 * 1024]; è¿ç»­åˆ†é…äº†4ä¸ªæ•°ç»„ï¼Œå…¶ä¸­3ä¸ªæ˜¯2MBçš„æ•°ç»„ï¼Œ1ä¸ªæ˜¯128KBçš„æ•°ç»„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¨éƒ¨ä¼šè¿›å…¥EdenåŒºåŸŸä¸­\n3.æ¥ç€ä¼šæ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š\nbyte[] array6 = new byte[2 * 1024 * 1024]; æ­¤æ—¶è¿˜èƒ½æ”¾å¾—ä¸‹2MBçš„å¯¹è±¡å—ï¼Ÿä¸å¯èƒ½äº†ï¼Œå› ä¸ºEdenåŒºå·²ç»æ”¾ä¸ä¸‹äº†ã€‚å› æ­¤æ­¤æ—¶ä¼šç›´æ¥è§¦å‘ä¸€æ¬¡Young GCã€‚\n4.æˆ‘ä»¬çœ‹ä¸‹é¢çš„GCæ—¥å¿—ï¼š\nParNew (promotion failed): 7838K-\u003e8391K(9216K), 0.0029438 secs è¿™è¡Œæ—¥å¿—æ˜¾ç¤ºäº†ï¼ŒEdenåŒºåŸæ¥æ˜¯æœ‰ è¿‘8000KBçš„å¯¹è±¡ï¼Œä½†æ˜¯å›æ”¶ä¹‹åå‘ç°ä¸€ä¸ªéƒ½å›æ”¶ä¸æ‰ï¼Œå› ä¸ºä¸Šè¿°å‡ ä¸ªæ•°ç»„éƒ½è¢«å˜é‡å¼•ç”¨äº†ä¸€ï¼Œæ‰€ä»¥ä¸€å®šä¼šç›´æ¥æŠŠè¿™äº›å­˜æ´»çš„å¯¹è±¡æ”¾å…¥åˆ°è€å¹´ä»£é‡Œå»ï¼Œä½†æ˜¯æ­¤æ—¶è€å¹´ä»£é‡Œå·²ç»æœ‰ä¸€ä¸ª4MBçš„æ•°ç»„äº†ï¼Œè¿˜èƒ½æ”¾çš„ä¸‹3ä¸ª2MBçš„æ•°ç»„å’Œ1ä¸ª128KBçš„æ•°ç»„å—ï¼Ÿ\næ˜æ˜¾æ˜¯ä¸è¡Œçš„ï¼Œæ­¤æ—¶ä¸€å®šä¼šè¶…è¿‡è€å¹´ä»£çš„10MBå¤§å°ã€‚\n5.æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬çœ‹cmsçš„gcæ—¥å¿—ï¼š\nCMS: 8194K-\u003e6659K(10240K), 0.0024311 secs] 11934K-\u003e6659K(19456K), [Metaspace: 3121K-\u003e3121K(1056768K)], 0.0055393 secs å¤§å®¶å¯ä»¥æ¸…æ™°çœ‹åˆ°ï¼Œæ­¤æ—¶æ‰§è¡Œäº†CMSåƒåœ¾å›æ”¶å™¨çš„Full GCï¼Œæˆ‘ä»¬çŸ¥é“Full GCå…¶å®å°±æ˜¯ä¼šå¯¹è€å¹´ä»£è¿›è¡ŒOld GCï¼Œ åŒæ—¶ä¸€èˆ¬ä¼šè·Ÿä¸€æ¬¡Young GCå…³è”ï¼Œè¿˜ä¼šè§¦å‘ä¸€æ¬¡å…ƒæ•°æ®åŒºï¼ˆæ°¸ä¹…ä»£ï¼‰çš„GCã€‚\nåœ¨CMS Full GCä¹‹å‰ï¼Œå°±å·²ç»è§¦å‘è¿‡Young GCäº†ï¼Œæ­¤æ—¶å¤§å®¶å¯ä»¥çœ‹åˆ°æ­¤æ—¶Young GCå°±å·²ç»æœ‰äº†ï¼Œæ¥ç€å°±æ˜¯æ‰§è¡Œé’ˆå¯¹ è€å¹´ä»£çš„Old GCï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹æ—¥å¿—ï¼š\nCMS: 8194K-\u003e6659K(10240K), 0.0024311 secs 6.è¿™é‡Œçœ‹åˆ°è€å¹´ä»£ä»8MBå·¦å³çš„å¯¹è±¡å ç”¨ï¼Œå˜æˆäº†6MBå·¦å³çš„å¯¹è±¡å ç”¨ï¼Œè¿™æ˜¯æ€ä¹ˆä¸ªè¿‡ç¨‹å‘¢ï¼Ÿ\nå¾ˆç®€å•ï¼Œä¸€å®šæ˜¯åœ¨Young GCä¹‹åï¼Œå…ˆæŠŠ2ä¸ª2MBçš„æ•°ç»„æ”¾å…¥äº†è€å¹´ä»£ï¼Œæ­¤æ—¶è¦ç»§ç»­æ”¾1ä¸ª2MBçš„æ•°ç»„å’Œ1ä¸ª128KBçš„æ•°ç»„åˆ°è€å¹´ä»£ï¼Œä¸€å®šä¼šæ”¾ä¸ä¸‹ï¼Œæ‰€ä»¥æ­¤æ—¶å°±ä¼šè§¦å‘CMSçš„Full GC\nç„¶åæ­¤æ—¶å°±ä¼šå›æ”¶æ‰å…¶ä¸­çš„ä¸€ä¸ª4MBçš„æ•°ç»„ï¼Œå› ä¸ºä»–å·²ç»æ²¡äººå¼•ç”¨äº†\næ¥ç€æ”¾å…¥è¿›å»1ä¸ª2MBçš„æ•°ç»„å’Œ1ä¸ª128KBçš„æ•°ç»„\næ‰€ä»¥å¤§å®¶å†çœ‹CMSçš„åƒåœ¾å›æ”¶æ—¥å¿—ï¼šCMS: 8194K-\u003e6659K(10240K), 0.0024311 secsï¼Œä»–æ˜¯ä»å›æ”¶å‰çš„8MBå˜æˆäº† 6MB\næœ€ååœ¨CMS Full GCæ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå…¶å®å¹´è½»ä»£çš„å¯¹è±¡éƒ½è¿›å…¥äº†è€å¹´ä»£ï¼Œæ­¤æ—¶æœ€åä¸€è¡Œä»£ç è¦åœ¨å¹´è½»ä»£åˆ†é…2MBçš„æ•°ç»„å°±å¯ä»¥æˆåŠŸäº†\nè¡¥å……çŸ¥è¯† Young GCè§¦å‘æ¡ä»¶ å½“å¹´è½»ä»£EdenåŒºåŸŸæ»¡çš„æ—¶å€™ä¼šè§¦å‘ä¸€æ¬¡Young GC\nFull GCè§¦å‘æ¡ä»¶ Full GCç”¨äºæ¸…ç†æ•´ä¸ªå †ç©ºé—´ã€‚å®ƒçš„è§¦å‘æ¡ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n1.æ˜¾å¼è°ƒç”¨System.gcæ–¹æ³•(å»ºè®®JVMè§¦å‘)ã€‚\n2.å…ƒç©ºé—´ä¸è¶³\n3.å¹´ä»£ç©ºé—´ä¸è¶³ï¼Œå¼•èµ·Full GCã€‚è¿™ç§æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š\nå¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£å¼•èµ·ï¼Œç”±-XX:PretenureSizeThresholdå‚æ•°å®šä¹‰ Young GCæ—¶ï¼Œç»å†è¿‡å¤šæ¬¡Young GCä»å­˜åœ¨çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ã€‚ Young GCæ—¶ï¼ŒåŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®šæœºåˆ¶ä¼šå°†å¯¹è±¡æå‰è½¬ç§»è€å¹´ä»£ã€‚å¹´é¾„ä»å°åˆ°å¤§è¿›è¡Œç´¯åŠ ï¼Œå½“åŠ å…¥æŸä¸ªå¹´é¾„æ®µåï¼Œç´¯åŠ å’Œè¶…è¿‡survivoråŒºåŸŸ-XX:TargetSurvivorRatioçš„æ—¶å€™ï¼Œä»è¿™ä¸ªå¹´é¾„æ®µå¾€ä¸Šçš„å¹´é¾„çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ Young GCæ—¶ï¼ŒEdenå’ŒFrom SpaceåŒºå‘To SpaceåŒºå¤åˆ¶æ—¶ï¼Œå¤§äºTo SpaceåŒºå¯ç”¨å†…å­˜ï¼Œä¼šç›´æ¥æŠŠå¯¹è±¡è½¬ç§»åˆ°è€å¹´ä»£ 4.JVMçš„ç©ºé—´åˆ†é…æ‹…ä¿æœºåˆ¶å¯èƒ½ä¼šè§¦å‘Full GCï¼š\nç©ºé—´æ‹…ä¿åˆ†é…æ˜¯æŒ‡åœ¨å‘ç”ŸYoung GCä¹‹å‰ï¼Œè™šæ‹Ÿæœºä¼šæ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºæ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡çš„æ€»ç©ºé—´ã€‚\nå¦‚æœå¤§äºï¼Œåˆ™æ­¤æ¬¡Young GCæ˜¯å®‰å…¨çš„ã€‚\nå¦‚æœå°äºï¼Œåˆ™è™šæ‹Ÿæœºä¼šæŸ¥çœ‹HandlePromotionFailureè®¾ç½®å€¼æ˜¯å¦å…è®¸æ‹…ä¿å¤±è´¥ã€‚\nå¦‚æœHandlePromotionFailure=trueï¼Œé‚£ä¹ˆä¼šç»§ç»­æ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºå†æ¬¡æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå¦‚æœå¤§äºï¼Œåˆ™å°è¯•è¿›è¡Œä¸€æ¬¡Young GCï¼Œä½†è¿™æ¬¡Young GCä¾ç„¶æ˜¯æœ‰é£é™©çš„ï¼Œå¤±è´¥åä¼šé‡æ–°å‘èµ·ä¸€æ¬¡Full gcï¼›å¦‚æœå°äºæˆ–è€…HandlePromotionFailure=falseï¼Œåˆ™æ”¹ä¸ºç›´æ¥è¿›è¡Œä¸€æ¬¡Full GCã€‚\nGC Easyå·¥å…· è¿™é‡Œæ¨èä¸€ä¸ªgceasy(https://gceasy.io)å·¥å…·ï¼Œå¯ä»¥ä¸Šä¼ gcæ–‡ä»¶ï¼Œç„¶åä»–ä¼šåˆ©ç”¨å¯è§†åŒ–çš„ç•Œé¢æ¥å±•ç°GCæƒ…å†µ\nå‚è€ƒ https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html\nhttps://book.douban.com/subject/34907497/\n","description":"\n","tags":[],"title":"\nä¸€ä¸ªç®€å•æ¡ˆä¾‹ï¼Œå¸¦ä½ çœ‹æ‡‚GCæ—¥å¿—ï¼","uri":"/posts/post-268/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸‹è½½SVN //å®‰è£…brew å·²ç»å®‰è£…å¯ä»¥å¿½ç•¥ /bin/zsh -c \"$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\" // å®‰è£…svn brew install svn å¦‚æœå‡ºç°ä¸€ä¸‹é”™è¯¯ ï¼š\nsvn: E170013: Commit failed (details follow): svn: E170013: Unable to connect to a repository at URL '' svn: E230001: Server SSL certificate verification failed: certificate issued for a different hostname è§£å†³åŠæ³•ï¼š\nConfigure-\u003ePreferences-\u003eVersion Control-\u003eSubversion-\u003eEnable interactive mode å‹¾é€‰ä¸Š é…ç½®JDK File-\u003eProject Structure-\u003eProject-\u003eProject SDK-\u003eNew-\u003eJDK é€‰æ‹©è‡ªå·±çš„JDKç‰ˆæœ¬ File-\u003eProject Structure-\u003eProject-\u003eProject language level-\u003eJDK é€‰æ‹©è‡ªå·±çš„JDKç‰ˆæœ¬ File-\u003eProject Structure-\u003eModule SDK-\u003eé€‰æ‹©è‡ªå·±çš„JDKç‰ˆæœ¬ é…ç½®Tomcat // è¿›å…¥Tomcat é…ç½® Add Configuration -\u003e Add New Configuration-\u003eTomcat Server-\u003eLocal //é€‰æ‹©Tomcat Server-\u003eApplication server-\u003e é€‰æ‹©è‡ªå·±çš„Tomcat //é€‰æ‹©JDK Server-\u003eJRE-\u003e é€‰æ‹©è‡ªå·±çš„JDKç‰ˆæœ¬ //æ·»åŠ ç¼–è¯‘ç›®å½• Deployment-\u003eExternal Source-\u003eé€‰æ‹©é¡¹ç›®çš„WebRootç›®å½• //å…¶ä»–é—®é¢˜ æ£€æŸ¥ æ–‡ä»¶å¯¹åº”å±æ€§æ˜¯å¦æ­£ç¡® é¡¹ç›®å³é”®-\u003eMark Directory As ","description":"\n","tags":[],"title":"\nMAC ä¸‹ IDEA å¯åŠ¨SVN Eclipseé¡¹ç›®","uri":"/posts/post-269/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç°è±¡ é¡¹ç›®å¯åŠ¨è¿è¡Œæ—¶å‘ç°æŠ¥ä»¥ä¸‹é”™è¯¯\nä¸¥é‡: Parse error in application web.xml file at jndi:/localhost/WEB-INF/web.xml java.io.FileNotFoundException: Could not resolve XML resource [null] with public ID [null], system ID [webxml/web_dataclient.xml] and base URI [jndi:/localhost/WEB-INF/web.xml] to a known, local entity. at org.apache.tomcat.util.descriptor.LocalResolver.resolveEntity(LocalResolver.java:154) at com.sun.org.apache.xerces.internal.util.EntityResolver2Wrapper.resolveEntity(EntityResolver2Wrapper.java:176) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntityAsPerStax(XMLEntityManager.java:991) at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1206) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(XMLDocumentFragmentScannerImpl.java:1908) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3067) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777) åŸå›  servletå¾ˆå¤šï¼Œæ–¹ä¾¿ç®¡ç†å¸Œæœ›èƒ½æ‹†åˆ†æ–‡ä»¶ åœ¨web.xmlæ–‡ä»¶é‡Œwebappæ ‡ç­¾ä¸Šæ–¹åŠ ä¸Š\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003c!DOCTYPE web-app [\u003c!ENTITY dataclient SYSTEM \"webxml/web_dataclient.xml\"\u003e \u003c!ENTITY document SYSTEM \"webxml/web_document.xml\"\u003e \u003c!ENTITY project SYSTEM \"webxml/web_project.xml\"\u003e ]\u003e æˆ‘æµ‹è¯•äº†ä¸€ä¸‹åœ¨tomcat 6ä¸‹é¢è¿™ä¸ªæ–¹å¼ç¡®å®æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨tomcat7ä¸‹é¢å°±æŠ¥é”™äº†ã€‚\njava.io.FileNotFoundException: Could not resolve XML resource [null] with public ID [null], system ID [webxml/web_dataclient.xml] and base URI [jndi:/localhost/WEB-INF/web.xml] to a known, local entity. ç„¶åæˆ‘åˆç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œå¾—çŸ¥tomcat 7.0.52å¼€å§‹çš„ç‰ˆæœ¬æ‰ä¼šå‡ºè¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºå®‰å…¨çš„è€ƒè™‘tomcat 7.0.52å¼€å§‹çš„ç‰ˆæœ¬æŠŠxmlBlockExternaå±æ€§é»˜è®¤ä¸ºtrueï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜æŠŠxmlBlockExternaè®¾æˆfalseã€‚\nè®¾ç½®å‰\n\u003cContext\u003e \u003c!-- Default set of monitored resources --\u003e \u003cWatchedResource\u003eWEB-INF/web.xml\u003c/WatchedResource\u003e è®¾ç½®å\n\u003cContext xmlBlockExternal=\"false\"\u003e \u003c!-- Default set of monitored resources --\u003e \u003cWatchedResource\u003eWEB-INF/web.xml\u003c/WatchedResource\u003e ","description":"\n","tags":[],"title":"\nCould not resolve XML resource [null] with public ID [null]","uri":"/posts/post-270/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ½˜é˜¿æ— æ½˜é˜¿é¾™ æ½˜é˜¿å¹³ æ½˜é˜¿å›› æ½˜çˆ± æ½˜çˆ±æ–Œ æ½˜çˆ±å…µ æ½˜çˆ±æ˜¥ æ½˜çˆ±å¨£ æ½˜çˆ±ä¸œ æ½˜çˆ±èŠ³ æ½˜çˆ±é£ æ½˜çˆ±å‡¤ æ½˜çˆ±å›½ æ½˜çˆ±çº¢ æ½˜çˆ±èŠ± æ½˜çˆ±å æ½˜çˆ±è¾‰ æ½˜çˆ±èŠ æ½˜çˆ±å¨Ÿ æ½˜çˆ±å†› æ½˜çˆ±å› æ½˜çˆ±å…° æ½˜çˆ±ä¸½ æ½˜çˆ±è² æ½˜çˆ±æ— æ½˜çˆ±ç² æ½˜çˆ±æ¢… æ½˜çˆ±å¦¹ æ½˜çˆ±æ°‘ æ½˜çˆ±æ˜ æ½˜çˆ±å¹³ æ½˜çˆ±è æ½˜çˆ±ç´ æ½˜çˆ±å‹¤ æ½˜çˆ±é’ æ½˜çˆ±æ¸… æ½˜çˆ±ç¼ æ½˜çˆ±ç¾¤ æ½˜çˆ±è£ æ½˜çˆ±è“‰ æ½˜çˆ±æ­¦ æ½˜çˆ±éœ æ½˜çˆ±é¦™ æ½˜çˆ±ç¥¥ æ½˜çˆ±å¨… æ½˜çˆ±è‹± æ½˜çˆ±ç‰ æ½˜çˆ±ç æ½˜çˆ±èŠ æ½˜çˆ±å¿  æ½˜çˆ±ç  æ½˜å®‰ æ½˜å®‰å®‰ æ½˜å®‰é‚¦ æ½˜å®‰ä¸œ æ½˜å®‰å›½ æ½˜å®‰å æ½˜å®‰å¥ æ½˜å®‰å› æ½˜å®‰åº· æ½˜å®‰å¨œ æ½˜å®‰å® æ½˜å®‰çª æ½˜å®‰ä» æ½˜å®‰è£ æ½˜å®‰ç”Ÿ æ½˜å®‰ä¼Ÿ æ½˜å®‰æ­¦ æ½˜å®‰æ­£ æ½˜å®‰å­ æ½˜å²¸ æ½˜æ˜‚ æ½˜æ˜‚éœ„ æ½˜å²™ æ½˜å‚² æ½˜å¥¥ æ½˜å æ½˜ç™½å› æ½˜ç™¾æ˜ æ½˜æŸ æ½˜æŸå› æ½˜æŸæ— æ½˜æŸå¹´ æ½˜æŸèŒµ æ½˜ç­ æ½˜é‚¦æ° æ½˜é‚¦å¹³ æ½˜å® æ½˜å®æ‰ æ½˜å®æ˜Œ æ½˜å®å„¿ æ½˜å®å³° æ½˜å®å¯Œ æ½˜å®æ ¹ æ½˜å®è´µ æ½˜å®å® æ½˜å®æ´ª æ½˜å®å æ½˜å®å†› æ½˜å®è‰¯ æ½˜å®æ— æ½˜å®ç² æ½˜å®æ˜ æ½˜å®åº† æ½˜å®å…¨ æ½˜å®æ³‰ æ½˜å®ç”Ÿ æ½˜å®æ–‡ æ½˜å®è‹± æ½˜å®ç‰ æ½˜å®ç æ½˜å®ç  æ½˜ä¿ æ½˜ä¿å®‰ æ½˜ä¿æ˜¥ æ½˜ä¿å­˜ æ½˜ä¿èŠ³ æ½˜ä¿å›½ æ½˜ä¿å æ½˜ä¿è‰¯ æ½˜ä¿å¹³ æ½˜ä¿æ¸… æ½˜ä¿å…¨ æ½˜ä¿ç”° æ½˜ä¿ç§€ æ½˜è±¹ æ½˜åŒ—æ¥ æ½˜è´ æ½˜è´è´ æ½˜è´å„¿ æ½˜è““è““ æ½˜è““è•¾ æ½˜å¥” æ½˜å¿…å¿ æ½˜å¿…èƒœ æ½˜å¿…æ–° æ½˜å¿…å…´ æ½˜å¿…æ­£ æ½˜å¼¼å¥ æ½˜ç¢§ æ½˜ç¢§æ³¢ æ½˜ç¢§èŠ³ æ½˜ç¢§å æ½˜ç¢§ä¸½ æ½˜ç¢§çµ æ½˜ç¢§ç´ æ½˜ç¢§éœ æ½˜ç¢§ç‰ æ½˜ç¢§äº‘ æ½˜ç¢§ç æ½˜å½ª æ½˜å®¾ æ½˜å½¬ æ½˜å½¬å½¬ æ½˜æ–Œ æ½˜æ–Œæ–Œ æ½˜æ–Œé¾™ æ½˜æ–Œå¼º æ½˜æ–Œç”Ÿ æ½˜æ–Œæ­¦ æ½˜æ»¨ æ½˜æ»¨æ»¨ æ½˜å†° æ½˜å†°å†° æ½˜å†°æ´ æ½˜å†°æ¸… æ½˜å†°å¿ƒ æ½˜å…µ æ½˜å…µå…µ æ½˜ç§‰è‡£ æ½˜ç§‰è¡¡ æ½˜ç‚³è´¢ æ½˜ç‚³è¾‰ æ½˜ç‚³æ° æ½˜ç‚³åº· æ½˜ç‚³è‰¯ æ½˜ç‚³æ— æ½˜ç‚³å¼º æ½˜ç‚³æƒ æ½˜ç‚³æ£® æ½˜ç‚³ç”Ÿ æ½˜ç‚³æ–‡ æ½˜ç‚³ç‚ æ½˜ç‚³å¿  æ½˜æ³¢ æ½˜æ³¢æ³¢ æ½˜ä¼¯æ— æ½˜ä¼¯è£ æ½˜ä¼¯ç”³ æ½˜ä¼¯è‹± æ½˜ä¼¯æŒ¯ æ½˜å‹ƒ æ½˜åš æ½˜åšæ–‡ æ½˜åšé›… æ½˜åšå®‡ æ½˜æ æ½˜æ‰ æ½˜æ‰ä¸œ æ½˜æ‰å æ½˜å½© æ½˜å½©å¨¥ æ½˜å½©èŠ¬ æ½˜å½©å³° æ½˜å½©å‡¤ æ½˜å½©çº¢ æ½˜å½©è™¹ æ½˜å½©èŠ± æ½˜å½©å æ½˜å½©å¨‡ æ½˜å½©å¨Ÿ æ½˜å½©å…° æ½˜å½©è¿ æ½˜å½©è æ½˜å½©èŠ¹ æ½˜å½©ç¾¤ æ½˜å½©éœ æ½˜å½©ä»™ æ½˜å½©è‹± æ½˜å½©äº‘ æ½˜å½©ç æ½˜å½©ç  æ½˜ç¿ æ½˜ç¿ç¿ æ½˜ç¿è¾‰ æ½˜ç¿å†› æ½˜ç¿è‰¯ æ½˜ç¿æ–‡ æ½˜æ²§æ¡‘ æ½˜æ›¾ æ½˜å©µ æ½˜å©µå©µ æ½˜æ˜Œ æ½˜æ˜Œå³° æ½˜æ˜Œå¯Œ æ½˜æ˜Œé© æ½˜æ˜Œæµ· æ½˜æ˜Œå æ½˜æ˜Œæ° æ½˜æ˜Œé”¦ æ½˜æ˜Œä¿Š æ½˜æ˜Œå¤ æ½˜æ˜Œæ— æ½˜æ˜Œæ˜ æ½˜æ˜Œé¹ æ½˜æ˜Œæ–‡ æ½˜æ˜Œæ–° æ½˜æ˜Œå‹‡ æ½˜æ˜Œç‰ æ½˜å¸¸ä¹ æ½˜å¸¸é’ æ½˜å«¦å¨¥ æ½˜æ˜¶ æ½˜ç•… æ½˜è¶… æ½˜è¶…è¶… æ½˜è¶…å³° æ½˜è¶…æ° æ½˜è¶…æ• æ½˜è¶…å¹³ æ½˜è¶…ç¾¤ æ½˜è¶…ç„¶ æ½˜è¶…æ–‡ æ½˜è¶…è‹± æ½˜è¶…å®‡ æ½˜è¶…è¶Š æ½˜æœ æ½˜æœæ–Œ æ½˜æœå³° æ½˜æœé”‹ æ½˜æœå æ½˜æœæ™– æ½˜æœè¾‰ æ½˜æœæ±Ÿ æ½˜æœé‡‘ æ½˜æœå†› æ½˜æœä¿Š æ½˜æœæ— æ½˜æœéœ– æ½˜æœæ• æ½˜æœæ˜ æ½˜æœè£ æ½˜æœèƒœ æ½˜æœæ–‡ æ½˜æœæ›¦ æ½˜æœéœ æ½˜æœé˜³ æ½˜æœå‹‡ æ½˜æ½® æ½˜ç› æ½˜ç›ç› æ½˜è¾° æ½˜è¾°è¾° æ½˜è¾°é£ æ½˜è¾°é›¨ æ½˜å¿± æ½˜é™ˆ æ½˜é™ˆä¼Ÿ æ½˜æ™¨ æ½˜æ™¨æ™¨ æ½˜æ™¨å…‰ æ½˜æ™¨æ™– æ½˜æ™¨äº® æ½˜æ™¨æ›¦ æ½˜æ™¨æ˜Ÿ æ½˜æ™¨ç‡• æ½˜æ™¨é˜³ æ½˜æˆ æ½˜æˆå®‰ æ½˜æˆå…µ æ½˜æˆæ³¢ æ½˜æˆæˆ æ½˜æˆç¨‹ æ½˜æˆæ˜¥ æ½˜æˆæ ‹ æ½˜æˆå‘ æ½˜æˆèŠ³ æ½˜æˆé£ æ½˜æˆæ ¹ æ½˜æˆå…‰ æ½˜æˆå›½ æ½˜æˆè±ª æ½˜æˆçº¢ æ½˜æˆè™ æ½˜æˆå æ½˜æˆä½³ æ½˜æˆæ±Ÿ æ½˜æˆæ° æ½˜æˆå…° æ½˜æˆä¸½ æ½˜æˆè‰¯ æ½˜æˆæ— æ½˜æˆé¾™ æ½˜æˆç§‹ æ½˜æˆç¾¤ æ½˜æˆè£ æ½˜æˆå±± æ½˜æˆæ¾ æ½˜æˆä¼Ÿ æ½˜æˆæ–‡ æ½˜æˆæ­¦ æ½˜æˆç¥¥ æ½˜æˆè‹± æ½˜æˆç‰ æ½˜æˆå›­ æ½˜æˆäº‘ æ½˜æˆå¿  æ½˜ä¸ æ½˜è¯š æ½˜è¯šè¯š æ½˜è¯šç«‹ æ½˜æ‰¿ æ½˜æ‰¿å½ª æ½˜æ‰¿å½¬ æ½˜æ‰¿æ´ æ½˜æ‰¿æ© æ½˜æ‰¿å‡¡ æ½˜æ‰¿çƒˆ æ½˜æ‰¿æ˜ æ½˜æ‰¿æ€ æ½˜æ‰¿æ¾ æ½˜æ‰¿ç¥¥ æ½˜æ‰¿ç‰ æ½˜æ‰¿å¿— æ½˜åŸ æ½˜ä¹˜é£ æ½˜ç¨‹ æ½˜ç¨‹ç¨‹ æ½˜æ¾„ æ½˜æ¾„æ¸… æ½˜æ±  æ½˜é©° æ½˜æŒå¹³ æ½˜èµ¤è¯š æ½˜èµ¤é¢– æ½˜å†² æ½˜å´‡ æ½˜å´‡æ ¹ æ½˜å´‡è¾‰ æ½˜å´‡å†› æ½˜å´‡æ— æ½˜å´‡æ• æ½˜æ¥šæ¥š æ½˜æ¥šæ–‡ æ½˜æ¥šæ¬£ æ½˜æ¥šé¢– æ½˜å· æ½˜å·å· æ½˜ä¼ å® æ½˜ä¼ æ³¢ æ½˜ä¼ ä¸œ æ½˜ä¼ èŠ³ æ½˜ä¼ èŠ¬ æ½˜ä¼ æ ¹ æ½˜ä¼ å›½ æ½˜ä¼ çº¢ æ½˜ä¼ å æ½˜ä¼ å†› æ½˜ä¼ å¤ æ½˜ä¼ æ˜ æ½˜ä¼ å¹³ æ½˜ä¼ æƒ æ½˜ä¼ è£ æ½˜ä¼ ä¼Ÿ æ½˜ä¼ æ–‡ æ½˜ä¼ è´¤ æ½˜ä¼ è‹± æ½˜ä¼ ç‰ æ½˜ä¼ å¿  æ½˜é—¯ æ½˜æ˜¥ æ½˜æ˜¥å® æ½˜æ˜¥æ³¢ æ½˜æ˜¥æ˜¥ æ½˜æ˜¥å¨¥ æ½˜æ˜¥å‘ æ½˜æ˜¥èŠ³ æ½˜æ˜¥é£ æ½˜æ˜¥å³° æ½˜æ˜¥å‡¤ æ½˜æ˜¥å…‰ æ½˜æ˜¥æµ· æ½˜æ˜¥çº¢ æ½˜æ˜¥å® æ½˜æ˜¥èŠ± æ½˜æ˜¥å æ½˜æ˜¥æ™– æ½˜æ˜¥è¾‰ æ½˜æ˜¥å‰ æ½˜æ˜¥å¥ æ½˜æ˜¥æ±Ÿ æ½˜æ˜¥å¨‡ æ½˜æ˜¥æ° æ½˜æ˜¥å¨Ÿ æ½˜æ˜¥å†› æ½˜æ˜¥æ¥ æ½˜æ˜¥å…° æ½˜æ˜¥é›· æ½˜æ˜¥ä¸½ æ½˜æ˜¥è² æ½˜æ˜¥è‰¯ æ½˜æ˜¥æ— æ½˜æ˜¥ç³ æ½˜æ˜¥ç² æ½˜æ˜¥æŸ³ æ½˜æ˜¥é¾™ æ½˜æ˜¥æ¢… æ½˜æ˜¥å¦¹ æ½˜æ˜¥æ˜ æ½˜æ˜¥è æ½˜æ˜¥è£ æ½˜æ˜¥è“‰ æ½˜æ˜¥ç”Ÿ æ½˜æ˜¥èƒœ æ½˜æ˜¥æ¶› æ½˜æ˜¥æ¡ƒ æ½˜æ˜¥éœ æ½˜æ˜¥ä»™ æ½˜æ˜¥é¦™ æ½˜æ˜¥ç¥¥ æ½˜æ˜¥æ–° æ½˜æ˜¥é›„ æ½˜æ˜¥ç§€ æ½˜æ˜¥æ—­ æ½˜æ˜¥é›ª æ½˜æ˜¥è‰³ æ½˜æ˜¥ç‡• æ½˜æ˜¥é˜³ æ½˜æ˜¥å¶ æ½˜æ˜¥è‹± æ½˜æ˜¥å‹‡ æ½˜æ˜¥å®‡ æ½˜æ˜¥é›¨ æ½˜æ˜¥å›­ æ½˜æ˜¥äº‘ æ½˜æ˜¥æ æ½˜çº¯ æ½˜çº¯çº¯ æ½˜æ·³ æ½˜æ…ˆ æ½˜èª æ½˜èªèª æ½˜èªæ˜ æ½˜ä»è´µ æ½˜ä»è™ æ½˜ä»å†› æ½˜ä»ä¼Ÿ æ½˜ä»æ–‡ æ½˜ä»æ­¦ æ½˜ä¸›ä¸› æ½˜èƒ æ½˜ç¿  æ½˜ç¿ ç¿  æ½˜ç¿ å¨¥ æ½˜ç¿ èŠ³ æ½˜ç¿ çº¢ æ½˜ç¿ å æ½˜ç¿ ç¯ æ½˜ç¿ å¨Ÿ æ½˜ç¿ å…° æ½˜ç¿ ä¸½ æ½˜ç¿ è² æ½˜ç¿ ç² æ½˜ç¿ æ˜ æ½˜ç¿ å¹³ æ½˜ç¿ è æ½˜ç¿ æ¸… æ½˜ç¿ éœ æ½˜ç¿ é¦™ æ½˜ç¿ è‹± æ½˜ç¿ ç‰ æ½˜ç¿ äº‘ æ½˜ç¿ ç æ½˜ç¿ ç«¹ æ½˜å­˜ æ½˜å­˜å¾· æ½˜å­˜åˆš æ½˜å­˜å æ½˜å­˜è¾‰ æ½˜å­˜å†› æ½˜å­˜å› æ½˜å­˜é¾™ æ½˜å­˜æ¢… æ½˜å­˜æ˜ æ½˜å­˜å® æ½˜å­˜äº‘ æ½˜è¾¾ æ½˜è¾¾è¶… æ½˜è¾¾å³° æ½˜è¾¾æ˜ æ½˜è¾¾ç”Ÿ æ½˜å¤§ æ½˜å¤§å…µ æ½˜å¤§æˆ æ½˜å¤§æ˜¥ æ½˜å¤§ç¦ æ½˜å¤§å¯Œ æ½˜å¤§æ ¹ æ½˜å¤§æµ· æ½˜å¤§æ’ æ½˜å¤§æ´ª æ½˜å¤§è™ æ½˜å¤§å æ½˜å¤§æ±Ÿ æ½˜å¤§å†› æ½˜å¤§é’§ æ½˜å¤§å¯ æ½˜å¤§åŠ› æ½˜å¤§æ— æ½˜å¤§é¾™ æ½˜å¤§æ˜ æ½˜å¤§å¹´ æ½˜å¤§é¹ æ½˜å¤§å¹³ æ½˜å¤§å¼º æ½˜å¤§åº† æ½˜å¤§è£ æ½˜å¤§å±± æ½˜å¤§ä¸º æ½˜å¤§ç»´ æ½˜å¤§ä¼Ÿ æ½˜å¤§å« æ½˜å¤§æ¸­ æ½˜å¤§å…´ æ½˜å¤§å‹‡ æ½˜å¤§å®‡ æ½˜å¤§é’Š æ½˜å¤§å¿— æ½˜å¤§ä¸­ æ½˜å²± æ½˜ä¸¹ æ½˜ä¸¹ä¸¹ æ½˜ä¸¹å³° æ½˜ä¸¹å‡¤ æ½˜ä¸¹çº¢ æ½˜ä¸¹å æ½˜ä¸¹ä¸½ æ½˜ä¸¹å¦® æ½˜ä¸¹è æ½˜ä¸¹ç´ æ½˜ä¸¹é’ æ½˜ä¸¹å©· æ½˜ä¸¹éœ æ½˜ä¸¹é˜³ æ½˜æ—¦ æ½˜æ—¦æ—¦ æ½˜é“ æ½˜é“æ³¢ æ½˜é“ä¸œ æ½˜é“æ ¹ æ½˜é“å†› æ½˜é“æ˜ æ½˜é“å¹³ æ½˜é“å…´ æ½˜é“ä¹‰ æ½˜é“æº æ½˜é“è¿œ æ½˜å¾—å›½ æ½˜å¾—æµ· æ½˜å¾—èƒœ æ½˜å¾· æ½˜å¾·å®‰ æ½˜å¾·å® æ½˜å¾·å½¬ æ½˜å¾·æ³¢ æ½˜å¾·æ‰ æ½˜å¾·æ˜Œ æ½˜å¾·æˆ æ½˜å¾·èŠ³ æ½˜å¾·å‡¤ æ½˜å¾·å­š æ½˜å¾·ç¦ æ½˜å¾·å¯Œ æ½˜å¾·åˆš æ½˜å¾·è´µ æ½˜å¾·å›½ æ½˜å¾·æµ· æ½˜å¾·çº¢ æ½˜å¾·å® æ½˜å¾·å æ½˜å¾·è¾‰ æ½˜å¾·æƒ  æ½˜å¾·é‡‘ æ½˜å¾·å†› æ½˜å¾·ä¿Š æ½˜å¾·å…° æ½˜å¾·è‰¯ æ½˜å¾·äº® æ½˜å¾·æ— æ½˜å¾·é¾™ æ½˜å¾·ç‚‰ æ½˜å¾·æ°‘ æ½˜å¾·æ• æ½˜å¾·æ˜ æ½˜å¾·é¹ æ½˜å¾·å¹³ æ½˜å¾·å¼º æ½˜å¾·ç´ æ½˜å¾·æ¸… æ½˜å¾·å…¨ æ½˜å¾·ä» æ½˜å¾·è£ æ½˜å¾·ç‘ æ½˜å¾·æ¶¦ æ½˜å¾·æ£® æ½˜å¾·ç”Ÿ æ½˜å¾·èƒœ æ½˜å¾·å¯¿ æ½˜å¾·é¡º æ½˜å¾·æ—º æ½˜å¾·ä¼Ÿ æ½˜å¾·ç†™ æ½˜å¾·ç¥¥ æ½˜å¾·æ–° æ½˜å¾·é‘« æ½˜å¾·å…´ æ½˜å¾·é›„ æ½˜å¾·é˜³ æ½˜å¾·é“¶ æ½˜å¾·è‹± æ½˜å¾·å‹‡ æ½˜å¾·ç‰ æ½˜å¾·è¿œ æ½˜å¾·è¿ æ½˜å¾·ç«  æ½˜å¾·ç æ½˜å¾·å¿— æ½˜å¾·å¿  æ½˜ç™» æ½˜ç™»å³° æ½˜ç™»ç§‘ æ½˜ç™»æ˜ æ½˜ç™»æ–‡ æ½˜ç™»å®‡ æ½˜ç™»äº‘ æ½˜ç‹„ æ½˜è¿ª æ½˜è¿ªè¿ª æ½˜è¿ªé£ æ½˜è¿ªå æ½˜è¿ªç”Ÿ æ½˜è»è± æ½˜ç¬› æ½˜ç¬›ç«™ æ½˜åœ° æ½˜å¨£ æ½˜å…¸åª› æ½˜æ®¿è æ½˜æ®¿å¿ æ½˜æ®¿ä¼Ÿ æ½˜è¶ æ½˜ä¸ æ½˜ä¸ä¸ æ½˜é¼ æ½˜é¼æ–‡ æ½˜é¼æ–° æ½˜å®š æ½˜å®šæ˜¥ æ½˜å®šåˆš æ½˜å®šå›½ æ½˜å®šå æ½˜å®šæ°´ æ½˜å®šå…´ æ½˜ä¸œ æ½˜ä¸œæ³¢ æ½˜ä¸œä¸œ æ½˜ä¸œæ–¹ æ½˜ä¸œé£ æ½˜ä¸œèŠ¬ æ½˜ä¸œæµ· æ½˜ä¸œå æ½˜ä¸œæ° æ½˜ä¸œå†› æ½˜ä¸œé›· æ½˜ä¸œäº® æ½˜ä¸œæ— æ½˜ä¸œç² æ½˜ä¸œå¦¹ æ½˜ä¸œæ˜ æ½˜ä¸œè£ æ½˜ä¸œå‡ æ½˜ä¸œç”Ÿ æ½˜ä¸œæ–‡ æ½˜ä¸œéœ æ½˜ä¸œæ™“ æ½˜ä¸œå…´ æ½˜ä¸œæ—­ æ½˜ä¸œé˜³ æ½˜ä¸œè‹± æ½˜ä¸œå²³ æ½˜ä¸œå­ æ½˜å†¬ æ½˜å†¬å†¬ æ½˜å†¬å‡¤ æ½˜å†¬å æ½˜å†¬èŠ æ½˜å†¬å…° æ½˜å†¬è² æ½˜å†¬ç² æ½˜å†¬æ¢… æ½˜å†¬å¦¹ æ½˜å†¬æ˜ æ½˜å†¬å¦® æ½˜å†¬å® æ½˜å†¬ç´ æ½˜å†¬é’ æ½˜å†¬ç”Ÿ æ½˜å†¬éœ æ½˜å†¬é›ª æ½˜å†¬ç‡• æ½˜å†¬è‹± æ½˜å†¬ç‰ æ½˜å†¬å­ æ½˜è‘£ æ½˜æ ‹ æ½˜æ ‹æ ‹ æ½˜æ ‹æ¢ æ½˜æ ‹å¹³ æ½˜éƒ½ æ½˜æ¸¡å¨œ æ½˜ç«¯ æ½˜å¢© æ½˜å¤š æ½˜å¤šå¤š æ½˜å¤šç² æ½˜å¤šå¨œ æ½˜é“ æ½˜æœµ æ½˜å¨¥ æ½˜æ© æ½˜æ©å¾· æ½˜æ©å æ½˜æ©æ¥ æ½˜æ©æ— æ½˜æ©å…ƒ æ½˜äºŒ æ½˜äºŒçŸ¿ æ½˜äºŒé¾™ æ½˜äºŒä¼Ÿ æ½˜å‘ä¿Š æ½˜å‘æ— æ½˜å‘æ˜ æ½˜å‘ç”Ÿ æ½˜å‘å‹‡ æ½˜å¸† æ½˜è•ƒ æ½˜å‡¡ æ½˜å‡¡å‡¡ æ½˜å‡¡å¹³ æ½˜ç’  æ½˜æ–¹ æ½˜æ–¹æ–¹ æ½˜æ–¹ç£Š æ½˜æ–¹æ˜ æ½˜æ–¹ä» æ½˜æ–¹ä¼Ÿ æ½˜æ–¹åœ† æ½˜èŠ³ æ½˜èŠ³èŠ³ æ½˜èŠ³ä¸½ æ½˜èŠ³è‰ æ½˜èŠ³æ• æ½˜èŠ³ç´ æ½˜èŠ³è‰³ æ½˜èŠ³å›­ æ½˜æ”¾ æ½˜é£ æ½˜é£é£ æ½˜é£å® æ½˜é£é¸¿ æ½˜é£è™ æ½˜é£é¾™ æ½˜é£é¹ æ½˜é£ç¿” æ½˜é£ç‡• æ½˜é£æ‰¬ æ½˜å¦ƒ æ½˜é æ½˜éé æ½˜è² æ½˜è²è² æ½˜è²å¨œ æ½˜éœ æ½˜éœéœ æ½˜æ– æ½˜æ–æ– æ½˜ç¿¡ æ½˜èŠ¬ æ½˜èŠ¬èŠ¬ æ½˜ä¸° æ½˜ä¸°å æ½˜ä¸°å¹´ æ½˜ä¸°æ³‰ æ½˜ä¸°æ”¶ æ½˜é£ æ½˜é£å æ½˜é£æ— æ½˜é£å±± æ½˜é£è‹± æ½˜é£äº‘ æ½˜æ« æ½˜å³° æ½˜å³°å³° æ½˜å³°æ–‡ æ½˜çƒ½ æ½˜é”‹ æ½˜é”‹é”‹ æ½˜é€¢æ˜¥ æ½˜é€¢å¿ æ½˜å‡¤ æ½˜å‡¤æ˜¥ æ½˜å‡¤å¨£ æ½˜å‡¤å‡¤ æ½˜å‡¤èŠ± æ½˜å‡¤å æ½˜å‡¤å¨‡ æ½˜å‡¤èŠ æ½˜å‡¤å¨Ÿ æ½˜å‡¤å› æ½˜å‡¤å…° æ½˜å‡¤è² æ½˜å‡¤äº® æ½˜å‡¤æ— æ½˜å‡¤ç² æ½˜å‡¤é¾™ æ½˜å‡¤é©¬ æ½˜å‡¤æ¢… æ½˜å‡¤å¦¹ æ½˜å‡¤æ˜ æ½˜å‡¤é¸£ æ½˜å‡¤å¹³ æ½˜å‡¤è æ½˜å‡¤ç´ æ½˜å‡¤æ¸… æ½˜å‡¤éœ æ½˜å‡¤ä»™ æ½˜å‡¤é¦™ æ½˜å‡¤ç¥¥ æ½˜å‡¤ä»ª æ½˜å‡¤è‹± æ½˜å‡¤ç‰ æ½˜å‡¤äº‘ æ½˜å‡¤è´ æ½˜å‡¤ç æ½˜ç¦ æ½˜ç¦å®‰ æ½˜ç¦è¶… æ½˜ç¦æ˜¥ æ½˜ç¦ä¸œ æ½˜ç¦åˆš æ½˜ç¦æ ¹ æ½˜ç¦å æ½˜ç¦é‡‘ æ½˜ç¦ä¹… æ½˜ç¦å¨Ÿ æ½˜ç¦å†› æ½˜ç¦æ¥ æ½˜ç¦å…° æ½˜ç¦äº® æ½˜ç¦æ— æ½˜ç¦é¾™ æ½˜ç¦å¼º æ½˜ç¦ç¼ æ½˜ç¦å…¨ æ½˜ç¦ä» æ½˜ç¦è£ æ½˜ç¦ç”Ÿ æ½˜ç¦èƒœ æ½˜ç¦å–œ æ½˜ç¦ç¥¥ æ½˜ç¦æ˜Ÿ æ½˜ç¦å…´ æ½˜ç¦ç‰ æ½˜ç¦å…ƒ æ½˜ç¦ç æ½˜ç¦å¿  æ½˜å¤ç”Ÿ æ½˜å¯Œ æ½˜å¯Œæ˜¥ æ½˜å¯Œæ© æ½˜å¯Œè´µ æ½˜å¯Œå æ½˜å¯Œç‰ æ½˜å¯Œæ˜ æ½˜å¯Œå¼º æ½˜å¯Œç”Ÿ æ½˜å¯Œå‹ æ½˜å˜æ–Œ æ½˜æ·¦ æ½˜åˆš æ½˜åˆšå„¿ æ½˜åˆšæ˜ æ½˜åˆšå¼º æ½˜çº² æ½˜é’¢ æ½˜ç½¡ æ½˜å²— æ½˜æ¸¯ æ½˜é«˜ æ½˜é«˜è¶… æ½˜é«˜å³° æ½˜é«˜é¹ æ½˜é«˜å¹³ æ½˜é«˜å¯¿ æ½˜é«˜ç…Š æ½˜é«˜é˜³ æ½˜é• æ½˜æˆˆ æ½˜é© æ½˜é˜ æ½˜æ ¼ æ½˜æ ¹ æ½˜æ ¹å‘ æ½˜æ ¹å æ½˜æ ¹æ— æ½˜æ ¹æ˜ æ½˜æ ¹å¹³ æ½˜æ ¹ç”Ÿ æ½˜æ ¹é¡º æ½˜æ ¹å…´ æ½˜åºš æ½˜æ›´ç”Ÿ æ½˜å…¬å‡¯ æ½˜åŠŸ æ½˜åŠŸæˆ æ½˜åŠŸå¹³ æ½˜åŠŸèƒœ æ½˜å¤ æ½˜è°· æ½˜è°·å¹³ æ½˜å…³æµ· æ½˜è§‚ç¦ æ½˜è§‚å æ½˜è§‚è¾‰ æ½˜è§‚æ— æ½˜è§‚å¹³ æ½˜è§‚èƒœ æ½˜è§‚æ–‡ æ½˜å†  æ½˜å† å æ½˜å† éœ– æ½˜å† ç”· æ½˜å† ç¾¤ æ½˜å† æ–‡ æ½˜å† è‹± æ½˜å† å®‡ æ½˜å…‰ æ½˜å…‰ç¢§ æ½˜å…‰æ™¨ æ½˜å…‰æˆ æ½˜å…‰æ—¦ æ½˜å…‰å¾· æ½˜å…‰ä¸œ æ½˜å…‰æ”¾ æ½˜å…‰ç¦ æ½˜å…‰æµ· æ½˜å…‰çº¢ æ½˜å…‰å æ½˜å…‰è¾‰ æ½˜å…‰å»º æ½˜å…‰æ° æ½˜å…‰å†› æ½˜å…‰ä¿Š æ½˜å…‰é›· æ½˜å…‰ç£Š æ½˜å…‰äº® æ½˜å…‰æ— æ½˜å…‰é¾™ æ½˜å…‰æ¢… æ½˜å…‰æ˜ æ½˜å…‰å¹³ æ½˜å…‰ç´ æ½˜å…‰åº† æ½˜å…‰æƒ æ½˜å…‰è£ æ½˜å…‰èƒœ æ½˜å…‰æ¾ æ½˜å…‰æ¶› æ½˜å…‰ä¼Ÿ æ½˜å…‰æ–‡ æ½˜å…‰æ­¦ æ½˜å…‰éœ æ½˜å…‰é‘« æ½˜å…‰ç§€ æ½˜å…‰æ—­ æ½˜å…‰å­¦ æ½˜å…‰ç‚ æ½˜å…‰è€€ æ½˜å…‰é“¶ æ½˜å…‰è‹± æ½˜å…‰æ°¸ æ½˜å…‰å‹‡ æ½˜å…‰å®‡ æ½˜å…‰å…ƒ æ½˜å…‰è¿œ æ½˜å…‰äº‘ æ½˜å…‰ç…§ æ½˜å…‰å¿— æ½˜å¹¿ æ½˜å¹¿æ–Œ æ½˜å¹¿è´¢ æ½˜å¹¿è¶… æ½˜å¹¿æˆ æ½˜å¹¿æ˜¥ æ½˜å¹¿å¾· æ½˜å¹¿ä¸œ æ½˜å¹¿ç¦ æ½˜å¹¿æµ· æ½˜å¹¿è±ª æ½˜å¹¿å æ½˜å¹¿è¾‰ æ½˜å¹¿æ…§ æ½˜å¹¿å»º æ½˜å¹¿ç¤¼ æ½˜å¹¿åˆ© æ½˜å¹¿æ— æ½˜å¹¿ç² æ½˜å¹¿æ˜ æ½˜å¹¿å® æ½˜å¹¿é¹ æ½˜å¹¿å¹³ æ½˜å¹¿å‡ æ½˜å¹¿ç”Ÿ æ½˜å¹¿ç”° æ½˜å¹¿é€š æ½˜å¹¿ä¼Ÿ æ½˜å¹¿æ–‡ æ½˜å¹¿æ–° æ½˜å¹¿æ—­ æ½˜å¹¿å­¦ æ½˜å¹¿å½¦ æ½˜å¹¿ä¹‰ æ½˜å¹¿ç›Š æ½˜å¹¿å®‡ æ½˜å¹¿äº‘ æ½˜å¹¿å¿— æ½˜è´µ æ½˜è´µå®‰ æ½˜è´µæ‰ æ½˜è´µæˆ æ½˜è´µæ˜¥ æ½˜è´µç¦ æ½˜è´µå¯Œ æ½˜è´µå æ½˜è´µå†› æ½˜è´µæ¢ æ½˜è´µæ— æ½˜è´µå¹³ æ½˜è´µæ¸… æ½˜è´µæ³‰ æ½˜è´µç”Ÿ æ½˜è´µä»™ æ½˜è´µå…´ æ½˜è´µç‰ æ½˜è´µç æ½˜æ¡‚ æ½˜æ¡‚æ˜¥ æ½˜æ¡‚æ–¹ æ½˜æ¡‚èŠ³ æ½˜æ¡‚èŠ¬ æ½˜æ¡‚å‡¤ æ½˜æ¡‚æ²³ æ½˜æ¡‚çº¢ æ½˜æ¡‚èŠ± æ½˜æ¡‚å æ½˜æ¡‚å¨Ÿ æ½˜æ¡‚å…° æ½˜æ¡‚è² æ½˜æ¡‚æ— æ½˜æ¡‚ç² æ½˜æ¡‚æ¢… æ½˜æ¡‚å¦¹ æ½˜æ¡‚æ˜ æ½˜æ¡‚å¨œ æ½˜æ¡‚å¹³ æ½˜æ¡‚è æ½˜æ¡‚èŠ¹ æ½˜æ¡‚ç´ æ½˜æ¡‚æ¸… æ½˜æ¡‚è£ æ½˜æ¡‚æ£  æ½˜æ¡‚éœ æ½˜æ¡‚é¦™ æ½˜æ¡‚æ–° æ½˜æ¡‚å…´ æ½˜æ¡‚è‹± æ½˜æ¡‚ç‰ æ½˜æ¡‚äº‘ æ½˜æ¡‚ç æ½˜æ¡‚æ æ½˜æ¡‚ç  æ½˜å›½ æ½˜å›½å®‰ æ½˜å›½å® æ½˜å›½æ ‡ æ½˜å›½å®¾ æ½˜å›½å½¬ æ½˜å›½æ–Œ æ½˜å›½å…µ æ½˜å›½æ‰ æ½˜å›½æ˜Œ æ½˜å›½è¶… æ½˜å›½æ½® æ½˜å›½è‡£ æ½˜å›½æˆ æ½˜å›½è¯š æ½˜å›½åŸ æ½˜å›½æ˜¥ æ½˜å›½å¤§ æ½˜å›½å®š æ½˜å›½æ ‹ æ½˜å›½å‘ æ½˜å›½èŠ³ æ½˜å›½é£ æ½˜å›½èŠ¬ æ½˜å›½å³° æ½˜å›½é”‹ æ½˜å›½å¯Œ æ½˜å›½çº² æ½˜å›½å…‰ æ½˜å›½æµ· æ½˜å›½å’Œ æ½˜å›½çº¢ æ½˜å›½æ´ª æ½˜å›½å æ½˜å›½è¾‰ æ½˜å›½åŸº æ½˜å›½åš æ½˜å›½å»º æ½˜å›½å¥ æ½˜å›½æ±Ÿ æ½˜å›½æ° æ½˜å›½é‡‘ æ½˜å›½è¿› æ½˜å›½é™ æ½˜å›½é©¹ æ½˜å›½å¨Ÿ æ½˜å›½å†› æ½˜å›½é’§ æ½˜å›½ä¿Š æ½˜å›½å‡¯ æ½˜å›½ç¤¼ æ½˜å›½ç«‹ æ½˜å›½è‰ æ½˜å›½æ¿‚ æ½˜å›½è‰¯ æ½˜å›½æ¢ æ½˜å›½äº® æ½˜å›½æ— æ½˜å›½çµ æ½˜å›½é¾™ æ½˜å›½æ¢… æ½˜å›½æ°‘ æ½˜å›½æ• æ½˜å›½æ˜ æ½˜å›½èƒ½ æ½˜å›½å® æ½˜å›½å¹³ æ½˜å›½æ—— æ½˜å›½å¼º æ½˜å›½ç´ æ½˜å›½é’ æ½˜å›½æ¸… æ½˜å›½åº† æ½˜å›½æƒ æ½˜å›½å…¨ æ½˜å›½ä» æ½˜å›½è£ æ½˜å›½æ£® æ½˜å›½å±± æ½˜å›½ç”Ÿ æ½˜å›½èƒœ æ½˜å›½ç›› æ½˜å›½é¡º æ½˜å›½ä¼Ÿ æ½˜å›½æ–‡ æ½˜å›½éœ æ½˜å›½è´¤ æ½˜å›½ç¥¥ æ½˜å›½æ–° æ½˜å›½æ˜Ÿ æ½˜å›½å…´ æ½˜å›½é›„ æ½˜å›½ç§€ æ½˜å›½è€€ æ½˜å›½ä¹‰ æ½˜å›½è‹± æ½˜å›½è¥ æ½˜å›½å‹‡ æ½˜å›½å‹ æ½˜å›½ç‰ æ½˜å›½äº‘ æ½˜å›½ç«  æ½˜å›½ç æ½˜å›½æ­£ æ½˜å›½å¿  æ½˜å›½å®— æ½˜æœ æ½˜æœæœ æ½˜æµ· æ½˜æµ·å½¬ æ½˜æµ·æ–Œ æ½˜æµ·æ»¨ æ½˜æµ·å…µ æ½˜æµ·æ³¢ æ½˜æµ·è¶… æ½˜æµ·æ½® æ½˜æµ·æˆ æ½˜æµ·å· æ½˜æµ·ä¸œ æ½˜æµ·é£ æ½˜æµ·é£ æ½˜æµ·å³° æ½˜æµ·é”‹ æ½˜æµ·å…‰ æ½˜æµ·æµ© æ½˜æµ·çº¢ æ½˜æµ·è™¹ æ½˜æµ·èŠ± æ½˜æµ·å æ½˜æµ·è¾‰ æ½˜æµ·å»º æ½˜æµ·æ±Ÿ æ½˜æµ·å¨‡ æ½˜æµ·æ° æ½˜æµ·æ´ æ½˜æµ·é‡‘ æ½˜æµ·å¨Ÿ æ½˜æµ·å†› æ½˜æµ·ä¿Š æ½˜æµ·å…° æ½˜æµ·æµª æ½˜æµ·ä¸½ æ½˜æµ·è‰¯ æ½˜æµ·äº® æ½˜æµ·æ— æ½˜æµ·ç² æ½˜æµ·é¾™ æ½˜æµ·ä¼¦ æ½˜æµ·æ¢… æ½˜æµ·å¦¹ æ½˜æµ·æ• æ½˜æµ·æ˜ æ½˜æµ·å¨œ æ½˜æµ·å® æ½˜æµ·é¸¥ æ½˜æµ·é¹ æ½˜æµ·å¹³ æ½˜æµ·è æ½˜æµ·å¼º æ½˜æµ·ç´ æ½˜æµ·é’ æ½˜æµ·æ¸… æ½˜æµ·ç¼ æ½˜æµ·å…¨ æ½˜æµ·è£ æ½˜æµ·å±± æ½˜æµ·æ·± æ½˜æµ·ç”Ÿ æ½˜æµ·å£° æ½˜æµ·æ¾ æ½˜æµ·æ£  æ½˜æµ·æ¶› æ½˜æµ·å¤© æ½˜æµ·ä¼Ÿ æ½˜æµ·æ–‡ æ½˜æµ·ä¾  æ½˜æµ·éœ æ½˜æµ·ç¥¥ æ½˜æµ·ç¿” æ½˜æµ·å•¸ æ½˜æµ·æ–° æ½˜æµ·æ˜Ÿ æ½˜æµ·å½¦ æ½˜æµ·è‰³ æ½˜æµ·ç‡• æ½˜æµ·é˜³ æ½˜æµ·æ´‹ æ½˜æµ·ç‘¶ æ½˜æµ·è‹± æ½˜æµ·é¹° æ½˜æµ·è¹ æ½˜æµ·é¢– æ½˜æµ·æ°¸ æ½˜æµ·å‹‡ æ½˜æµ·æ¶Œ æ½˜æµ·ç‰ æ½˜æµ·äº‘ æ½˜æµ·å¿  æ½˜æµ·ç  æ½˜æ™— æ½˜æ¶µ æ½˜æ¶µæ¶µ æ½˜å¯’ æ½˜æ±‰ æ½˜æ±‰æ–Œ æ½˜æ±‰æ½® æ½˜æ±‰æˆ æ½˜æ±‰æ˜¥ æ½˜æ±‰ä¸œ æ½˜æ±‰æ° æ½˜æ±‰å†› æ½˜æ±‰æ°‘ æ½˜æ±‰æ˜ æ½˜æ±‰å¹´ æ½˜æ±‰å¹³ æ½˜æ±‰è£ æ½˜æ±‰ç”Ÿ æ½˜æ±‰æº æ½˜ç¿° æ½˜ç€š æ½˜è¡Œ æ½˜è¡Œå¥ æ½˜è¡Œä¹‰ æ½˜èˆª æ½˜è±ª æ½˜å¥½ æ½˜å¥½å¥½ æ½˜å¥½é¾™ æ½˜å¥½æ¶› æ½˜æ˜Š æ½˜æ˜Šæ—» æ½˜æµ© æ½˜æµ©å½¬ æ½˜æµ©æ³¢ æ½˜æµ©ä¸œ æ½˜æµ©æµ· æ½˜æµ©æµ© æ½˜æµ©è¾‰ æ½˜æµ©å†› æ½˜æµ©è‰¯ æ½˜æµ©äº® æ½˜æµ©æ— æ½˜æµ©æ˜ æ½˜æµ©æ³‰ æ½˜æµ©ç„¶ æ½˜æµ©è£ æ½˜æµ©å„’ æ½˜æµ©æ–‡ æ½˜æµ©è´¤ æ½˜æµ©å®‡ æ½˜çš“ æ½˜é¢¢ æ½˜ç æ½˜åˆ æ½˜ä½• æ½˜å’Œ æ½˜å’Œé’§ æ½˜å’Œæ— æ½˜å’Œå¹³ æ½˜å’Œæ¸… æ½˜å’Œè‹± æ½˜å’Œå¿  æ½˜æ²³ æ½˜æ²³æ°´ æ½˜è´º æ½˜èµ« æ½˜é¹¤ æ½˜é¹¤æ— æ½˜é¹¤éºŸ æ½˜é¹¤é¾„ æ½˜é¹¤é¸£ æ½˜é¹¤å¹´ æ½˜æ’ æ½˜æ’æ° æ½˜æ’ç”Ÿ æ½˜æ’ä¼Ÿ æ½˜è¡¡ æ½˜è˜…ç”Ÿ æ½˜å¼˜ æ½˜çº¢ æ½˜çº¢å®¾ æ½˜çº¢æ–Œ æ½˜çº¢å…µ æ½˜çº¢æ³¢ æ½˜çº¢æ˜¥ æ½˜çº¢èŠ³ æ½˜çº¢é£ æ½˜çº¢å³° æ½˜çº¢å…‰ æ½˜çº¢çº¢ æ½˜çº¢å æ½˜çº¢æ±Ÿ æ½˜çº¢æ° æ½˜çº¢é™ æ½˜çº¢èŠ æ½˜çº¢å¨Ÿ æ½˜çº¢å†› æ½˜çº¢å…° æ½˜çº¢ä¸½ æ½˜çº¢åˆ© æ½˜çº¢è² æ½˜çº¢è‰¯ æ½˜çº¢æ— æ½˜çº¢ç² æ½˜çº¢æ¢… æ½˜çº¢å¦¹ æ½˜çº¢è‹— æ½˜çº¢æ• æ½˜çº¢æ˜ æ½˜çº¢å¹³ æ½˜çº¢è æ½˜çº¢æ—— æ½˜çº¢é’ æ½˜çº¢çƒ æ½˜çº¢ä¼Ÿ æ½˜çº¢å« æ½˜çº¢éœ æ½˜çº¢ä»™ æ½˜çº¢é¦™ æ½˜çº¢æ˜Ÿ æ½˜çº¢è‰³ æ½˜çº¢ç‡• æ½˜çº¢è‹± æ½˜çº¢å®‡ æ½˜çº¢ç‰ æ½˜çº¢è¿ æ½˜å® æ½˜å®å½¬ æ½˜å®æ–Œ æ½˜å®æ³¢ æ½˜å®åš æ½˜å®è¾¾ æ½˜å®é£ æ½˜å®é”‹ æ½˜å®ç¦ æ½˜å®å…‰ æ½˜å®è¾‰ æ½˜å®å»º æ½˜å®æ° æ½˜å®å†› æ½˜å®åˆ© æ½˜å®äº® æ½˜å®æ— æ½˜å®é“­ æ½˜å®å¼º æ½˜å®æ¸… æ½˜å®æ¶› æ½˜å®ä¼Ÿ æ½˜å®éœ æ½˜å®ç¥¥ æ½˜å®å®‡ æ½˜å®æº æ½˜å®äº‘ æ½˜æ³“ æ½˜æ³“éœ– æ½˜æ³“å®‡ æ½˜è™¹ æ½˜è™¹è™¹ æ½˜è™¹å› æ½˜è™¹ç‡• æ½˜è™¹é¢– æ½˜è™¹ç¾½ æ½˜è™¹ç æ½˜æ´ª æ½˜æ´ªå® æ½˜æ´ªå½¬ æ½˜æ´ªæ–Œ æ½˜æ´ªæ³¢ æ½˜æ´ªæ˜Œ æ½˜æ´ªè¶… æ½˜æ´ªå· æ½˜æ´ªæ˜¥ æ½˜æ´ªèŠ³ æ½˜æ´ªå³° æ½˜æ´ªé© æ½˜æ´ªå…‰ æ½˜æ´ªæµ· æ½˜æ´ªå æ½˜æ´ªè¾‰ æ½˜æ´ªå»º æ½˜æ´ªæ±Ÿ æ½˜æ´ªå†› æ½˜æ´ªå‡¯ æ½˜æ´ªå…° æ½˜æ´ªç£Š æ½˜æ´ªè‰¯ æ½˜æ´ªäº® æ½˜æ´ªæ— æ½˜æ´ªæ¢… æ½˜æ´ªæ˜ æ½˜æ´ªå¹³ æ½˜æ´ªå…¶ æ½˜æ´ªå¼º æ½˜æ´ªç”Ÿ æ½˜æ´ªæ¶› æ½˜æ´ªä¼Ÿ æ½˜æ´ªæ–‡ æ½˜æ´ªä¾  æ½˜æ´ªéœ æ½˜æ´ªç¥¥ æ½˜æ´ªæ˜Ÿ æ½˜æ´ªè‰³ æ½˜æ´ªé› æ½˜æ´ªä¸š æ½˜æ´ªè‹± æ½˜æ´ªç‰ æ½˜æ´ªæº æ½˜æ´ªäº‘ æ½˜æ´ªæ³½ æ½˜æ´ªå¿— æ½˜æ´ªå¿  æ½˜æ´ªæ´² æ½˜é¸¿ æ½˜é¸¿å½¬ æ½˜é¸¿æ–Œ æ½˜é¸¿æ»¨ æ½˜é¸¿é£ æ½˜é¸¿æµ· æ½˜é¸¿è¾‰ æ½˜é¸¿æ° æ½˜é¸¿é’§ æ½˜é¸¿å¼º æ½˜é¸¿æƒ æ½˜é¸¿éœ æ½˜é¸¿ç¿” æ½˜é¸¿é› æ½˜é¸¿äº‘ æ½˜åšä»» æ½˜æ¹– æ½˜è™ æ½˜èŠ± æ½˜èŠ±èŠ± æ½˜å æ½˜åå½¬ æ½˜åæ–Œ æ½˜åæ³¢ æ½˜åæ˜¥ æ½˜åä¸œ æ½˜åèŠ¬ æ½˜åå³° æ½˜åé”‹ æ½˜åæ ¹ æ½˜åå…‰ æ½˜åæµ· æ½˜åå æ½˜åè¾‰ æ½˜åå»º æ½˜åæ° æ½˜åå¨Ÿ æ½˜åå†› æ½˜åå› æ½˜åè‰¯ æ½˜åæ— æ½˜åç¾ æ½˜åå¦¹ æ½˜åæ• æ½˜åæ˜ æ½˜åå— æ½˜åé¹ æ½˜åå¹³ æ½˜åè æ½˜åå¼º æ½˜åç´ æ½˜åæ¸… æ½˜åç¼ æ½˜åè£ æ½˜åè“‰ æ½˜åèƒœ æ½˜åç›› æ½˜ååº­ æ½˜åä»™ æ½˜åå…´ æ½˜åç‡• æ½˜åé˜³ æ½˜åè‹± æ½˜åå‹‡ æ½˜åäº‘ æ½˜åç æ½˜éª… æ½˜åŒ– æ½˜æ¡¦ æ½˜æ€€ æ½˜æ€€æ— æ½˜æ€€å®‡ æ½˜æ€€ç‰ æ½˜æ·®å® æ½˜æ§é’° æ½˜æ¬¢ æ½˜æ¬¢æ¬¢ æ½˜ç¯ æ½˜ç¯ç¯ æ½˜æ¡“ æ½˜å¯° æ½˜ç„• æ½˜ç„•ç„• æ½˜ç„•æ˜ æ½˜ç„•æ–° æ½˜é»„ æ½˜é»„é¾™ æ½˜ç…Œ æ½˜æ™– æ½˜è¾‰ æ½˜è¾‰ç…Œ æ½˜è¾‰è¾‰ æ½˜è¾‰æ˜ æ½˜è¾‰å¼º æ½˜è¾‰é›„ æ½˜è¾‰äº‘ æ½˜å¾½ æ½˜å‰ æ½˜å‰å‰ æ½˜æ±‡ æ½˜ä¼š æ½˜ä¼šèŠ³ æ½˜ä¼šå æ½˜ä¼šä¼š æ½˜ä¼šå†› æ½˜ä¼šå…° æ½˜ä¼šç² æ½˜ä¼šæ˜ æ½˜ä¼šå® æ½˜ä¼šéœ æ½˜ä¼šäº‘ æ½˜æƒ  æ½˜æƒ æ˜¥ æ½˜æƒ èŠ³ æ½˜æƒ èŠ¬ æ½˜æƒ çº¢ æ½˜æƒ è™¹ æ½˜æƒ æƒ  æ½˜æƒ å¨Ÿ æ½˜æƒ å› æ½˜æƒ å…° æ½˜æƒ ä¸½ æ½˜æƒ ç² æ½˜æƒ æ¢… æ½˜æƒ ç¾ æ½˜æƒ æ°‘ æ½˜æƒ æ• æ½˜æƒ æ˜ æ½˜æƒ å¨œ æ½˜æƒ å¹³ æ½˜æƒ è æ½˜æƒ ç´ æ½˜æƒ æ¸… æ½˜æƒ ç¼ æ½˜æƒ é›¯ æ½˜æƒ éœ æ½˜æƒ è´¤ æ½˜æƒ æ¬£ æ½˜æƒ è‹± æ½˜æƒ ç æ½˜æƒ å¿  æ½˜æƒ ç  æ½˜æƒ å­ æ½˜æ…§ æ½˜æ…§è¶… æ½˜æ…§èŠ³ æ½˜æ…§èŠ¬ æ½˜æ…§å³° æ½˜æ…§å’Œ æ½˜æ…§çº¢ æ½˜æ…§è™¹ æ½˜æ…§å æ½˜æ…§æ…§ æ½˜æ…§æ´ æ½˜æ…§å¨Ÿ æ½˜æ…§å› æ½˜æ…§å…° æ½˜æ…§ä¸½ æ½˜æ…§ç³ æ½˜æ…§ç² æ½˜æ…§é¾™ æ½˜æ…§æ• æ½˜æ…§æ˜ æ½˜æ…§é¹ æ½˜æ…§å¹³ æ½˜æ…§è æ½˜æ…§å€© æ½˜æ…§å¼º æ½˜æ…§ç´ æ½˜æ…§å‹¤ æ½˜æ…§å¿ æ½˜æ…§æ¸… æ½˜æ…§å¦‚ æ½˜æ…§èŒ¹ æ½˜æ…§å©· æ½˜æ…§å¸Œ æ½˜æ…§éœ æ½˜æ…§ç‡• æ½˜æ…§è¹ æ½˜æ…§åª› æ½˜æ…§äº‘ æ½˜æ…§è´ æ½˜æ…§ç æ½˜ç« æ½˜ç«å…° æ½˜åŸºæ–‡ æ½˜å‰ æ½˜å‰ä¸œ æ½˜å‰å…‰ æ½˜å‰å‰ æ½˜å‰æ— æ½˜å‰é¾™ æ½˜å‰å¨œ æ½˜å‰å¹³ æ½˜å‰åº† æ½˜å‰ç¥¥ æ½˜å‰æ˜Ÿ æ½˜ä½¶ æ½˜é›†é˜³ æ½˜çºªåˆš æ½˜çºªæ ¹ æ½˜çºªæ–‡ æ½˜é™… æ½˜é™…éŠ® æ½˜é™…é“¶ æ½˜å­£ æ½˜å­£ä¼Ÿ æ½˜å­£è®­ æ½˜æµ æ½˜ç»§ æ½˜ç»§æ–Œ æ½˜ç»§æˆ æ½˜ç»§ä¸œ æ½˜ç»§èŠ³ æ½˜ç»§åˆš æ½˜ç»§å…‰ æ½˜ç»§çº¢ æ½˜ç»§å æ½˜ç»§å†› æ½˜ç»§å…° æ½˜ç»§ä¼¦ æ½˜ç»§æ°‘ æ½˜ç»§æ˜ æ½˜ç»§é¹ æ½˜ç»§å¹³ æ½˜ç»§è£ æ½˜ç»§ç”Ÿ æ½˜ç»§ä¼Ÿ æ½˜ç»§æ–‡ æ½˜ç»§ä¿® æ½˜ç»§ä¸š æ½˜éœ æ½˜éœè¹ æ½˜å†€ æ½˜éª¥ æ½˜åŠ ç¦ æ½˜åŠ åˆ© æ½˜åŠ å¹³ æ½˜åŠ è£ æ½˜åŠ è‹± æ½˜åŠ å®‡ æ½˜ä½³ æ½˜ä½³å® æ½˜ä½³æ™¨ æ½˜ä½³æˆ æ½˜ä½³ä¸œ æ½˜ä½³æ ‹ æ½˜ä½³å® æ½˜ä½³å æ½˜ä½³æ…§ æ½˜ä½³ä½³ æ½˜ä½³æ° æ½˜ä½³ä¿Š æ½˜ä½³ä¹ æ½˜ä½³ç£Š æ½˜ä½³ä¸½ æ½˜ä½³äº® æ½˜ä½³æ— æ½˜ä½³ç³ æ½˜ä½³ç² æ½˜ä½³ç’ æ½˜ä½³ç¾ æ½˜ä½³æ• æ½˜ä½³æ˜ æ½˜ä½³ç”· æ½˜ä½³æ¥  æ½˜ä½³å® æ½˜ä½³é¹ æ½˜ä½³è æ½˜ä½³å¥‡ æ½˜ä½³çª æ½˜ä½³ç¦ æ½˜ä½³è–‡ æ½˜ä½³ä¼Ÿ æ½˜ä½³é›¯ æ½˜ä½³æ¬£ æ½˜ä½³é‘« æ½˜ä½³æ˜Ÿ æ½˜ä½³è‰³ æ½˜ä½³ç‡• æ½˜ä½³æ€¡ æ½˜ä½³éŸ³ æ½˜ä½³è¹ æ½˜ä½³é¢– æ½˜ä½³å®‡ æ½˜ä½³ç‰ æ½˜ä½³åª› æ½˜ä½³äº‘ æ½˜ä½³ç«  æ½˜å®¶å® æ½˜å®¶å…µ æ½˜å®¶è¾° æ½˜å®¶å¾· æ½˜å®¶ä¸œ æ½˜å®¶æ ‹ æ½˜å®¶å‘ æ½˜å®¶é”‹ æ½˜å®¶å¯Œ æ½˜å®¶æµ· æ½˜å®¶è±ª æ½˜å®¶çº¢ æ½˜å®¶å æ½˜å®¶è¾‰ æ½˜å®¶æƒ  æ½˜å®¶æ…§ æ½˜å®¶æ° æ½˜å®¶é©¹ æ½˜å®¶å†› æ½˜å®¶å› æ½˜å®¶ä¿Š æ½˜å®¶éª æ½˜å®¶è‰¯ æ½˜å®¶æ¢ æ½˜å®¶äº® æ½˜å®¶æ— æ½˜å®¶ç² æ½˜å®¶é¾™ æ½˜å®¶æ¥¼ æ½˜å®¶è·¯ æ½˜å®¶æ˜ æ½˜å®¶é“­ æ½˜å®¶å® æ½˜å®¶å¹³ æ½˜å®¶è æ½˜å®¶çª æ½˜å®¶ç¦ æ½˜å®¶å¼º æ½˜å®¶ç´ æ½˜å®¶åº† æ½˜å®¶å…¨ æ½˜å®¶ä» æ½˜å®¶ä»» æ½˜å®¶è£ æ½˜å®¶ç‘ æ½˜å®¶æ£® æ½˜å®¶æ¾ æ½˜å®¶å ‚ æ½˜å®¶å¤´ æ½˜å®¶æ—º æ½˜å®¶ä¼Ÿ æ½˜å®¶ç® æ½˜å®¶æ–‡ æ½˜å®¶æ­¦ æ½˜å®¶å–œ æ½˜å®¶ç¥¥ æ½˜å®¶é‘« æ½˜å®¶å…´ æ½˜å®¶é›„ æ½˜å®¶ç§€ æ½˜å®¶æ—­ æ½˜å®¶æ´µ æ½˜å®¶ç‡• æ½˜å®¶æ‰¬ æ½˜å®¶æ€¡ æ½˜å®¶å®œ æ½˜å®¶æ°¸ æ½˜å®¶ç‘œ æ½˜å®¶å®‡ æ½˜å®¶è£• æ½˜å®¶æº æ½˜å®¶äº‘ æ½˜å®¶å“² æ½˜å®¶ç æ½˜å®¶é“® æ½˜å®¶æ´² æ½˜å®¶æŸ± æ½˜å˜‰ æ½˜å˜‰å® æ½˜å˜‰æ–Œ æ½˜å˜‰è¯š æ½˜å˜‰å¾· æ½˜å˜‰è±ª æ½˜å˜‰å’Œ æ½˜å˜‰å æ½˜å˜‰è¾‰ æ½˜å˜‰æ…§ æ½˜å˜‰å˜‰ æ½˜å˜‰æ° æ½˜å˜‰ä¿Š æ½˜å˜‰éª æ½˜å˜‰ä¸½ æ½˜å˜‰è‰¯ æ½˜å˜‰éºŸ æ½˜å˜‰ç² æ½˜å˜‰æ• æ½˜å˜‰æ˜ æ½˜å˜‰æ¥  æ½˜å˜‰çª æ½˜å˜‰ç¥º æ½˜å˜‰è£ æ½˜å˜‰èŒ¹ æ½˜å˜‰ç»´ æ½˜å˜‰ä¼Ÿ æ½˜å˜‰ç® æ½˜å˜‰ç‚œ æ½˜å˜‰é›¯ æ½˜å˜‰æ¬£ æ½˜å˜‰ä»ª æ½˜å˜‰æ€¡ æ½˜å˜‰æ¯… æ½˜å˜‰è¹ æ½˜å˜‰é¢– æ½˜ç”² æ½˜åš æ½˜åšå¹³ æ½˜åšå¼º æ½˜ä¿­ä¼Ÿ æ½˜æ£€ æ½˜éª æ½˜è§ æ½˜å»º æ½˜å»ºæ ‡ æ½˜å»ºå½ª æ½˜å»ºæ–Œ æ½˜å»ºæ³¢ æ½˜å»ºæ‰ æ½˜å»ºæˆ æ½˜å»ºæ˜¥ æ½˜å»ºè¾¾ æ½˜å»ºå¾· æ½˜å»ºä¸œ æ½˜å»ºå‘ æ½˜å»ºèŠ³ æ½˜å»ºèŠ¬ æ½˜å»ºä¸° æ½˜å»ºå³° æ½˜å»ºé”‹ æ½˜å»ºç¦ æ½˜å»ºåˆš æ½˜å»ºæ ¹ æ½˜å»ºå…‰ æ½˜å»ºå›½ æ½˜å»ºè¡Œ æ½˜å»ºèˆª æ½˜å»ºæµ© æ½˜å»ºçº¢ æ½˜å»ºå® æ½˜å»ºæ´ª æ½˜å»ºèŠ± æ½˜å»ºå æ½˜å»ºè¾‰ æ½˜å»ºåŸº æ½˜å»ºå»º æ½˜å»ºæ±Ÿ æ½˜å»ºæ° æ½˜å»ºå†› æ½˜å»ºå‡ æ½˜å»ºå› æ½˜å»ºåº· æ½˜å»ºå¤ æ½˜å»ºé›· æ½˜å»ºç£Š æ½˜å»ºä¸½ æ½˜å»ºåˆ© æ½˜å»ºè‰¯ æ½˜å»ºæ— æ½˜å»ºç¾ æ½˜å»ºå¦¹ æ½˜å»ºæ°‘ æ½˜å»ºæ• æ½˜å»ºå æ½˜å»ºæ˜ æ½˜å»ºç”· æ½˜å»ºå— æ½˜å»ºå® æ½˜å»ºåŸ¹ æ½˜å»ºé¹ æ½˜å»ºå¹³ æ½˜å»ºè æ½˜å»ºå¼º æ½˜å»ºç´ æ½˜å»ºé’ æ½˜å»ºæ¸… æ½˜å»ºç¼ æ½˜å»ºç§‹ æ½˜å»ºå…¨ æ½˜å»ºç¾¤ æ½˜å»ºè£ æ½˜å»ºå±± æ½˜å»ºç”Ÿ æ½˜å»ºèƒœ æ½˜å»ºæ ‘ æ½˜å»ºæ¶› æ½˜å»ºå»· æ½˜å»ºäº­ æ½˜å»ºå©· æ½˜å»ºå¨ æ½˜å»ºä¼Ÿ æ½˜å»ºæ–‡ æ½˜å»ºæ­¦ æ½˜å»ºæ–° æ½˜å»ºå…´ æ½˜å»ºé›„ æ½˜å»ºå‹‹ æ½˜å»ºé˜³ æ½˜å»ºè€€ æ½˜å»ºä¸š æ½˜å»ºè‹± æ½˜å»ºè¹ æ½˜å»ºå‹‡ æ½˜å»ºå‹ æ½˜å»ºå®‡ æ½˜å»ºå…ƒ æ½˜å»ºå²³ æ½˜å»ºç«  æ½˜å»ºå¿— æ½˜å»ºä¸­ æ½˜å»ºå¿  æ½˜å»ºå· æ½˜å»ºå®— æ½˜å‰‘ æ½˜å‰‘æ–Œ æ½˜å‰‘æ³¢ æ½˜å‰‘é£ æ½˜å‰‘å³° æ½˜å‰‘é”‹ æ½˜å‰‘å…‰ æ½˜å‰‘è¾‰ æ½˜å‰‘æ• æ½˜å‰‘æ˜ æ½˜å‰‘å¹³ æ½˜å‰‘æ¸… æ½˜å‰‘ç§‹ æ½˜å‰‘æ¶› æ½˜å‰‘ä¼Ÿ æ½˜å‰‘æ–‡ æ½˜å‰‘ç¿” æ½˜å‰‘è‹± æ½˜å‰‘å‹‡ æ½˜å‰‘äº‘ æ½˜å¥ æ½˜å¥æˆ æ½˜å¥èŠ³ æ½˜å¥é£ æ½˜å¥èŠ¬ æ½˜å¥çº¢ æ½˜å¥å æ½˜å¥è¾‰ æ½˜å¥å¥ æ½˜å¥å› æ½˜å¥æ°‘ æ½˜å¥æ• æ½˜å¥å¼º æ½˜å¥è£ æ½˜å¥ç”Ÿ æ½˜å¥ä¼Ÿ æ½˜å¥ç¿” æ½˜å¥å¿  æ½˜èˆ° æ½˜æ¶§ æ½˜é‰´ æ½˜é”® æ½˜ç®­ æ½˜æ±Ÿ æ½˜æ±Ÿæ³¢ æ½˜æ±Ÿå· æ½˜æ±Ÿé”‹ æ½˜æ±Ÿæµ© æ½˜æ±Ÿçº¢ æ½˜æ±Ÿè™¹ æ½˜æ±Ÿæ´ª æ½˜æ±Ÿå æ½˜æ±Ÿæ±Ÿ æ½˜æ±Ÿé›· æ½˜æ±Ÿç† æ½˜æ±Ÿæ— æ½˜æ±Ÿé¾™ æ½˜æ±Ÿæ¢… æ½˜æ±Ÿå— æ½˜æ±Ÿå±± æ½˜æ±Ÿæ¶› æ½˜æ±Ÿä¼Ÿ æ½˜æ±Ÿæ–‡ æ½˜æ±Ÿéœ æ½˜æ±Ÿæ°¸ æ½˜å°† æ½˜å§œ æ½˜å¨‡ æ½˜å¨‡å¨‡ æ½˜å§£ æ½˜å§£å§£ æ½˜å§£è‰ æ½˜è›Ÿ æ½˜ä½¼ æ½˜çš æ½˜æ•™æ­¦ æ½˜èŠ‚ æ½˜æ° æ½˜æ°æ–Œ æ½˜æ°å³° æ½˜æ°è¾‰ æ½˜æ°å®¢ æ½˜æ°è‹± æ½˜æ´ æ½˜æ´å¤« æ½˜æ´å æ½˜æ´æ…§ æ½˜æ´æ´ æ½˜æ´è æ½˜æ´å®¹ æ½˜æ´æ€¡ æ½˜æ´è‹± æ½˜æ´è¹ æ½˜æ´ç æ½˜æ´å…¹ æ½˜ç»“ æ½˜æ· æ½˜å©• æ½˜å©•å¦¤ æ½˜é‡‘ æ½˜é‡‘å®‰ æ½˜é‡‘å® æ½˜é‡‘ä¿ æ½˜é‡‘å½ª æ½˜é‡‘æ‰ æ½˜é‡‘è´¢ æ½˜é‡‘å½© æ½˜é‡‘è¶… æ½˜é‡‘è¯š æ½˜é‡‘åŸ æ½˜é‡‘æ˜¥ æ½˜é‡‘å¼Ÿ æ½˜é‡‘å¨£ æ½˜é‡‘å¨¥ æ½˜é‡‘å‘ æ½˜é‡‘èŠ³ æ½˜é‡‘é£ æ½˜é‡‘é£ æ½˜é‡‘å³° æ½˜é‡‘å‡¤ æ½˜é‡‘ç¦ æ½˜é‡‘å¯Œ æ½˜é‡‘åˆš æ½˜é‡‘æ ¹ æ½˜é‡‘è´µ æ½˜é‡‘æ¡‚ æ½˜é‡‘æµ· æ½˜é‡‘å’Œ æ½˜é‡‘çº¢ æ½˜é‡‘æ´ª æ½˜é‡‘èŠ± æ½˜é‡‘å æ½˜é‡‘ç¯ æ½˜é‡‘è¾‰ æ½˜é‡‘ç« æ½˜é‡‘é‡‘ æ½˜é‡‘æ™¶ æ½˜é‡‘èŠ æ½˜é‡‘æ¥ æ½˜é‡‘å…° æ½˜é‡‘åˆ© æ½˜é‡‘è‰ æ½˜é‡‘è² æ½˜é‡‘è‰¯ æ½˜é‡‘äº® æ½˜é‡‘æ— æ½˜é‡‘ç² æ½˜é‡‘é™µ æ½˜é‡‘é¾™ æ½˜é‡‘æ»¡ æ½˜é‡‘æ¢… æ½˜é‡‘ç¾ æ½˜é‡‘å¦¹ æ½˜é‡‘æ˜ æ½˜é‡‘é“­ æ½˜é‡‘åŸ¹ æ½˜é‡‘å¹³ æ½˜é‡‘å¼º æ½˜é‡‘æ¸… æ½˜é‡‘å…¨ æ½˜é‡‘æ³‰ æ½˜é‡‘è£ æ½˜é‡‘ç‘ æ½˜é‡‘å±± æ½˜é‡‘ç”Ÿ æ½˜é‡‘ç›› æ½˜é‡‘æ°´ æ½˜é‡‘æ¾ æ½˜é‡‘å ‚ æ½˜é‡‘æ¶› æ½˜é‡‘åœŸ æ½˜é‡‘æ—º æ½˜é‡‘æ–‡ æ½˜é‡‘éœ æ½˜é‡‘é¦™ æ½˜é‡‘ç¥¥ æ½˜é‡‘æ˜Ÿ æ½˜é‡‘äºš æ½˜é‡‘ç‚ æ½˜é‡‘è‰³ æ½˜é‡‘å¶ æ½˜é‡‘è‹± æ½˜é‡‘å‹ æ½˜é‡‘ç‰ æ½˜é‡‘å…ƒ æ½˜é‡‘äº‘ æ½˜é‡‘æ æ½˜é‡‘å¿  æ½˜é‡‘é’Ÿ æ½˜é‡‘ç  æ½˜æ´¥ æ½˜æ´¥æ´¥ æ½˜æ´¥ç”Ÿ æ½˜é”¦ æ½˜é”¦æ ‡ æ½˜é”¦æ³¢ æ½˜é”¦è¶… æ½˜é”¦æˆ æ½˜é”¦ç¨‹ æ½˜é”¦æ˜¥ æ½˜é”¦èŠ³ æ½˜é”¦å³° æ½˜é”¦é”‹ æ½˜é”¦å‡¤ æ½˜é”¦æ´ª æ½˜é”¦å æ½˜é”¦è¾‰ æ½˜é”¦æ±Ÿ æ½˜é”¦é”¦ æ½˜é”¦è‰¯ æ½˜é”¦é¾™ æ½˜é”¦æ¢… æ½˜é”¦æ˜ æ½˜é”¦å¹³ æ½˜é”¦å± æ½˜é”¦è æ½˜é”¦å…¨ æ½˜é”¦è£ æ½˜é”¦æ¾ æ½˜é”¦å ‚ æ½˜é”¦æ£  æ½˜é”¦æ·» æ½˜é”¦ä¼Ÿ æ½˜é”¦é›¯ æ½˜é”¦éœ æ½˜é”¦ç‡• æ½˜é”¦é˜³ æ½˜é”¦ç‘¶ æ½˜é”¦è‹± æ½˜é”¦å‹‡ æ½˜è°¨ æ½˜ç‘¾ æ½˜ç‘¾ç‘¾ æ½˜ç‘¾ç‘œ æ½˜è¿› æ½˜è¿›å æ½˜è¿›è¾‰ æ½˜è¿›æ° æ½˜è¿›è¿› æ½˜è¿›å†› æ½˜è¿›è‰¯ æ½˜è¿›éœ æ½˜åŠ² æ½˜åŠ²ä¸œ æ½˜åŠ²æ¾ æ½˜æ™‹ æ½˜äº¬ æ½˜äº¬æµ· æ½˜äº¬å æ½˜äº¬äº¬ æ½˜äº¬å— æ½˜äº¬æ–‡ æ½˜ç»ä¼Ÿ æ½˜ç»æ–‡ æ½˜è æ½˜èè æ½˜æƒŠçŸ³ æ½˜æ™¶ æ½˜æ™¶æ™¶ æ½˜äº• æ½˜äº•é¾™ æ½˜æ™¯ æ½˜æ™¯æ˜¥ æ½˜æ™¯å¾· æ½˜æ™¯å¨¥ æ½˜æ™¯å³° æ½˜æ™¯çº¢ æ½˜æ™¯å æ½˜æ™¯æ— æ½˜æ™¯é¾™ æ½˜æ™¯é“­ æ½˜æ™¯å‡ æ½˜æ™¯æ¶› æ½˜æ™¯éŸ¬ æ½˜æ™¯ä¼Ÿ æ½˜æ™¯æ–° æ½˜æ™¯è½© æ½˜æ™¯é˜³ æ½˜æ™¯ä¹‰ æ½˜æ™¯å¯… æ½˜æ™¯äº‘ æ½˜æ™¯ç«  æ½˜ç’Ÿ æ½˜å¾„ æ½˜ç« æ½˜ç«é”µ æ½˜ç«Ÿ æ½˜ç«Ÿæˆ æ½˜å©§ æ½˜å©§å©§ æ½˜å©§å¨´ æ½˜å©§æ€¡ æ½˜æ•¬ æ½˜æ•¬ä¸œ æ½˜æ•¬å æ½˜æ•¬è¾‰ æ½˜æ•¬æ— æ½˜æ•¬å¹³ æ½˜æ•¬æ–‡ æ½˜æ•¬æ–° æ½˜æ•¬è‹± æ½˜æ•¬ç‰ æ½˜é– æ½˜é–æ–‡ æ½˜é–å®‡ æ½˜é™ æ½˜é™å®‰ æ½˜é™æ³¢ æ½˜é™èŠ¬ æ½˜é™å æ½˜é™æ…§ æ½˜é™é™ æ½˜é™å¨œ æ½˜é™å¦‚ æ½˜é™èŒ¹ æ½˜é™æ–‡ æ½˜é™é›¯ æ½˜é™å¨´ æ½˜é™æ–° æ½˜é™é›… æ½˜é™ä»ª æ½˜é™æ€¡ æ½˜é™å®œ æ½˜é™äº‘ æ½˜é•œ æ½˜é•œä¸ æ½˜é•œå…¨ æ½˜ç‚¯ æ½˜ç‚¯å…‰ æ½˜ç‚¯å æ½˜ä¹æ ¹ æ½˜ä¹…è¾‰ æ½˜ä¹…è£ æ½˜ç–ç² æ½˜èŠ æ½˜èŠèŠ³ æ½˜èŠèŠ¬ æ½˜èŠçº¢ æ½˜èŠèŠ± æ½˜èŠå æ½˜èŠå…° æ½˜èŠæ¢… æ½˜èŠé¦™ æ½˜èŠè‹± æ½˜ä¸¾ æ½˜å·¨å æ½˜å·¨åˆ© æ½˜å·¨é¾™ æ½˜å·¨æ–‡ æ½˜æ¶“ æ½˜å¨Ÿ æ½˜å¨Ÿå¨Ÿ æ½˜å¨Ÿè‹± æ½˜ç æ½˜å†› æ½˜å†›æ³¢ æ½˜å†›æ˜Œ æ½˜å†›è¿ª æ½˜å†›å³° æ½˜å†›å æ½˜å†›æ° æ½˜å†›å†› æ½˜å†›å‡¯ æ½˜å†›æ°‘ æ½˜å†›æ˜ æ½˜å†›å¼º æ½˜å†›ä¼Ÿ æ½˜å†›æ­¦ æ½˜å†›éœ æ½˜å†›è‹± æ½˜å‡ æ½˜å› æ½˜å›èŠ³ æ½˜å›éª… æ½˜å›å› æ½˜å›è¯º æ½˜å›ç¥¥ æ½˜å›ç‡• æ½˜å›è€€ æ½˜é’§ æ½˜ç­  æ½˜ä¿Š æ½˜ä¿Šè¶… æ½˜ä¿Šè¾¾ æ½˜ä¿Šå¾· æ½˜ä¿Šå¸† æ½˜ä¿Šå³° æ½˜ä¿Šé”‹ æ½˜ä¿Šåˆš æ½˜ä¿Šé’¢ æ½˜ä¿Šè±ª æ½˜ä¿Šæµ© æ½˜ä¿Šæ’ æ½˜ä¿Šçº¢ æ½˜ä¿Šå æ½˜ä¿Šè¾‰ æ½˜ä¿Šæ…§ æ½˜ä¿Šä½³ æ½˜ä¿Šåš æ½˜ä¿Šæ° æ½˜ä¿Šä¿Š æ½˜ä¿Šå‡¯ æ½˜ä¿Šå¤ æ½˜ä¿Šå…° æ½˜ä¿Šä¸½ æ½˜ä¿Šè‰¯ æ½˜ä¿Šæ— æ½˜ä¿Šéœ– æ½˜ä¿Šå²­ æ½˜ä¿Šé¾™ æ½˜ä¿Šæ°‘ æ½˜ä¿Šæ• æ½˜ä¿Šæ˜ æ½˜ä¿Šæ¥  æ½˜ä¿Šå® æ½˜ä¿Šé¹ æ½˜ä¿Šå¥‡ æ½˜ä¿Šçª æ½˜ä¿Šå¿ æ½˜ä¿Šæ¸… æ½˜ä¿Šæƒ æ½˜ä¿Šè£ æ½˜ä¿Šè“‰ æ½˜ä¿Šå¦‚ æ½˜ä¿Šå±± æ½˜ä¿Šç”Ÿ æ½˜ä¿Šæ¶› æ½˜ä¿Šä¼Ÿ æ½˜ä¿Šæ–‡ æ½˜ä¿Šæ­¦ æ½˜ä¿Šå…ˆ æ½˜ä¿Šè´¤ æ½˜ä¿Šç¥¥ æ½˜ä¿Šæ˜Ÿ æ½˜ä¿Šé›„ æ½˜ä¿Šæ—­ æ½˜ä¿Šè‰³ æ½˜ä¿Šä¼Š æ½˜ä¿Šæ¯… æ½˜ä¿Šè‹± æ½˜ä¿Šä½‘ æ½˜ä¿Šå®‡ æ½˜ä¿Šç¾½ æ½˜ä¿Šäº‘ æ½˜ä¿Šå¿— æ½˜éƒ¡ æ½˜å³» æ½˜å³»å³° æ½˜éš½ æ½˜æµš æ½˜éª æ½˜å¼€æˆ æ½˜å¼€å æ½˜å¼€æ— æ½˜å¼€æ˜ æ½˜å¼€æ–‡ æ½˜å¼€ç¥¥ æ½˜å¼€å…ƒ æ½˜å‡¯ æ½˜å‡¯å æ½˜å‡¯å‡¯ æ½˜å‡¯ä¸½ æ½˜å‡¯ä¼¦ æ½˜å‡¯æ–‡ æ½˜å‡¯é›„ æ½˜å‡¯æ—‹ æ½˜å‡¯è·ƒ æ½˜æº æ½˜æ¥· æ½˜æ¥·å‘ æ½˜æ¥·æ–‡ æ½˜é”´ æ½˜ä¾ƒ æ½˜åº· æ½˜åº·æˆ æ½˜åº·å¥ æ½˜åº·æ° æ½˜åº·åº· æ½˜åº·ä¹ æ½˜åº·æ˜ æ½˜åº·å® æ½˜åº·å¹³ æ½˜åº·å¼º æ½˜åº·è£ æ½˜ç‚ æ½˜ç‚ç‚ æ½˜æŸ¯ æ½˜æŸ¯ä¸ æ½˜è½² æ½˜ç§‘ æ½˜ç§‘æˆ æ½˜ç§‘å³° æ½˜ç§‘å® æ½˜ç§‘ç§‘ æ½˜ç§‘æ— æ½˜ç§‘æ˜ æ½˜ç§‘å®‡ æ½˜å¯ æ½˜å¯å¤« æ½˜å¯ä½³ æ½˜å¯å¯ æ½˜å¯ä¸½ æ½˜å¯æ˜ æ½˜å¯é’¦ æ½˜å¯äºº æ½˜å¯ä¸º æ½˜å¯å¿ƒ æ½˜å¯æ¬£ æ½˜å…‹ æ½˜å…‹å æ½˜å…‹æ— æ½˜å…‹æ˜ æ½˜å…‹å¼º æ½˜å…‹å‹¤ æ½˜å…‹æ–‡ æ½˜å…‹æ­¦ æ½˜å…‹é›„ æ½˜å…‹å‹‹ æ½˜å…‹äº‘ æ½˜æª æ½˜å®½ æ½˜å¥ æ½˜é€µ æ½˜è‘µ æ½˜é­ æ½˜å¤ æ½˜å¤å¤ æ½˜å¤é¾™ æ½˜å¤æ˜ æ½˜æ˜† æ½˜æ˜†æˆ æ½˜ç¨ æ½˜é”Ÿ æ½˜æ‹‰ æ½˜è…Šæ¢… æ½˜æ¥ æ½˜æ¥ä¿ æ½˜æ¥å‘ æ½˜æ¥è‹± æ½˜å…° æ½˜å…°èŠ³ æ½˜å…°èŠ¬ æ½˜å…°èŠ± æ½˜å…°å…° æ½˜å…°é¦™ æ½˜å…°ç‡• æ½˜å…°è‹± æ½˜å…°äº‘ æ½˜å…°ç æ½˜å²š æ½˜æ¾œ æ½˜éƒ æ½˜æœ— æ½˜æœ—æ¸… æ½˜æµª æ½˜ä¹ æ½˜ä¹ä¹ æ½˜ä¹æ˜ æ½˜ä¹å¹³ æ½˜ä¹ç¾¤ æ½˜ä¹ç”Ÿ æ½˜ä¹æ€¡ æ½˜é›· æ½˜é›·é›· æ½˜é›·æ˜ æ½˜å’ æ½˜ç£Š æ½˜ç£Šç£Š æ½˜è•¾ æ½˜è•¾è•¾ æ½˜é» æ½˜é»ä¸œ æ½˜é»é» æ½˜é»æ• æ½˜é»æ˜ æ½˜é»è æ½˜ç¤¼ æ½˜ç¤¼å¾· æ½˜ç¤¼èŠ æ½˜ç¤¼æ˜ æ½˜æ æ½˜ææ¢… æ½˜é‡Œ æ½˜åŠ› æ½˜åŠ›å® æ½˜åŠ›å†› æ½˜åŠ›å¹³ æ½˜åŠ›å±± æ½˜åŠ›ç»´ æ½˜åŠ›ä¼Ÿ æ½˜å† æ½˜å‰ æ½˜ç«‹ æ½˜ç«‹æœ¬ æ½˜ç«‹å½¬ æ½˜ç«‹æ–Œ æ½˜ç«‹å…µ æ½˜ç«‹æ³¢ æ½˜ç«‹è¶… æ½˜ç«‹å· æ½˜ç«‹æ˜¥ æ½˜ç«‹å¾· æ½˜ç«‹ä¸œ æ½˜ç«‹èŠ³ æ½˜ç«‹é£ æ½˜ç«‹å³° æ½˜ç«‹é”‹ æ½˜ç«‹å¤« æ½˜ç«‹å¯Œ æ½˜ç«‹åˆš æ½˜ç«‹å…‰ æ½˜ç«‹å›½ æ½˜ç«‹æ’ æ½˜ç«‹å æ½˜ç«‹è¾‰ æ½˜ç«‹æ±Ÿ æ½˜ç«‹æ° æ½˜ç«‹ç‚¯ æ½˜ç«‹å¨Ÿ æ½˜ç«‹å†› æ½˜ç«‹å› æ½˜ç«‹å…° æ½˜ç«‹ç«‹ æ½˜ç«‹é¾™ æ½˜ç«‹æ¢… æ½˜ç«‹æ°‘ æ½˜ç«‹æ• æ½˜ç«‹é“­ æ½˜ç«‹å¹³ æ½˜ç«‹å¼º æ½˜ç«‹ç¾¤ æ½˜ç«‹è£ æ½˜ç«‹å±± æ½˜ç«‹ç”Ÿ æ½˜ç«‹æ¶› æ½˜ç«‹ä¼Ÿ æ½˜ç«‹æ–‡ æ½˜ç«‹ç¥¥ æ½˜ç«‹æ–° æ½˜ç«‹ä¸š æ½˜ç«‹å‹‡ æ½˜ç«‹å¿— æ½˜ä¸½ æ½˜ä¸½å½¬ æ½˜ä¸½å†° æ½˜ä¸½æ³¢ æ½˜ä¸½å©µ æ½˜ä¸½å«¦ æ½˜ä¸½æ™¨ æ½˜ä¸½æ˜¥ æ½˜ä¸½ä¸¹ æ½˜ä¸½å¨¥ æ½˜ä¸½èŠ³ æ½˜ä¸½é£ æ½˜ä¸½å¦ƒ æ½˜ä¸½èŠ¬ æ½˜ä¸½å³° æ½˜ä¸½é”‹ æ½˜ä¸½å‡¤ æ½˜ä¸½çº¢ æ½˜ä¸½èŠ± æ½˜ä¸½å æ½˜ä¸½æ¡¦ æ½˜ä¸½è¾‰ æ½˜ä¸½æ…§ æ½˜ä¸½ä½³ æ½˜ä¸½æ° æ½˜ä¸½æ´ æ½˜ä¸½é‡‘ æ½˜ä¸½é”¦ æ½˜ä¸½æ™¶ æ½˜ä¸½é™ æ½˜ä¸½å¨Ÿ æ½˜ä¸½å†› æ½˜ä¸½å› æ½˜ä¸½ä¿Š æ½˜ä¸½ä¸½ æ½˜ä¸½è‰ æ½˜ä¸½è¿ æ½˜ä¸½ç² æ½˜ä¸½æ¢… æ½˜ä¸½ç¾ æ½˜ä¸½å¦¹ æ½˜ä¸½åªš æ½˜ä¸½æ• æ½˜ä¸½æ˜ æ½˜ä¸½å¨œ æ½˜ä¸½å¹³ æ½˜ä¸½å± æ½˜ä¸½è æ½˜ä¸½èŠ¹ æ½˜ä¸½ç´ æ½˜ä¸½å‹¤ æ½˜ä¸½å¿ æ½˜ä¸½æ¸… æ½˜ä¸½ç¼ æ½˜ä¸½ç¾¤ æ½˜ä¸½è£ æ½˜ä¸½å®¹ æ½˜ä¸½è“‰ æ½˜ä¸½å¦‚ æ½˜ä¸½è æ½˜ä¸½å©· æ½˜ä¸½æ–‡ æ½˜ä¸½é›¯ æ½˜ä¸½éœ æ½˜ä¸½ä»™ æ½˜ä¸½å…ˆ æ½˜ä¸½é²œ æ½˜ä¸½è´¤ æ½˜ä¸½å¨´ æ½˜ä¸½é¦™ æ½˜ä¸½æ–° æ½˜ä¸½ç’‡ æ½˜ä¸½é›ª æ½˜ä¸½é›… æ½˜ä¸½å¨… æ½˜ä¸½è‰³ æ½˜ä¸½ç‡• æ½˜ä¸½é“¶ æ½˜ä¸½è‹± æ½˜ä¸½å½± æ½˜ä¸½å‹‡ æ½˜ä¸½äº‘ æ½˜ä¸½èŠ¸ æ½˜ä¸½è´ æ½˜ä¸½ç æ½˜ä¸½ç  æ½˜åˆ© æ½˜åˆ©æ–Œ æ½˜åˆ©å…µ æ½˜åˆ©æ³¢ æ½˜åˆ©ä¸¹ æ½˜åˆ©ä¸œ æ½˜åˆ©èŠ³ æ½˜åˆ©é”‹ æ½˜åˆ©å›½ æ½˜åˆ©çº¢ æ½˜åˆ©å æ½˜åˆ©è¾‰ æ½˜åˆ©å¨Ÿ æ½˜åˆ©å†› æ½˜åˆ©å› æ½˜åˆ©åˆ© æ½˜åˆ©ç² æ½˜åˆ©é¾™ æ½˜åˆ©å¦¹ æ½˜åˆ©æ°‘ æ½˜åˆ©æ• æ½˜åˆ©æ˜ æ½˜åˆ©å¨œ æ½˜åˆ©å¹³ æ½˜åˆ©å¼º æ½˜åˆ©ç´ æ½˜åˆ©ç¼ æ½˜åˆ©æ³‰ æ½˜åˆ©ç¾¤ æ½˜åˆ©å©· æ½˜åˆ©ä¼Ÿ æ½˜åˆ©æ–° æ½˜åˆ©è‹± æ½˜åˆ©å‹‡ æ½˜åˆ©äº‘ æ½˜åˆ©å¿  æ½˜è” æ½˜ä¿ æ½˜ä¿å› æ½˜ä¿å¨œ æ½˜è‰ æ½˜è‰èŠ³ æ½˜è‰èŠ¬ æ½˜è‰å æ½˜è‰å¨Ÿ æ½˜è‰å› æ½˜è‰ä¸½ æ½˜è‰è‰ æ½˜è‰å¨œ æ½˜è‰è æ½˜è‰ç´ æ½˜è‰é’ æ½˜è‰è æ½˜è‰å©· æ½˜æ — æ½˜ç º æ½˜è¿ æ½˜è¿å¾· æ½˜è¿æ ¹ æ½˜è¿è¿ æ½˜è¿å¦¹ æ½˜è¿ç”Ÿ æ½˜è¿è‹± æ½˜è¿ä¸­ æ½˜è² æ½˜è²è² æ½˜è²é¦™ æ½˜è²è‹± æ½˜è” æ½˜æ¿‚ æ½˜ç‚¼ æ½˜æ‹ æ½˜è‰¯ æ½˜è‰¯æˆ æ½˜è‰¯è´µ æ½˜è‰¯å æ½˜è‰¯å¤ æ½˜è‰¯è‰¯ æ½˜è‰¯æ˜ æ½˜è‰¯å¹³ æ½˜è‰¯æ—¶ æ½˜è‰¯æ–‡ æ½˜è‰¯å‹‡ æ½˜è‰¯ç‰ æ½˜æ¢ æ½˜äº® æ½˜äº®äº® æ½˜äº®å®‡ æ½˜é“ æ½˜çƒˆ æ½˜æ— æ½˜æ—æ³¢ æ½˜æ—è¶… æ½˜æ—èŠ³ æ½˜æ—å³° æ½˜æ—æµ· æ½˜æ—èŠ± æ½˜æ—å æ½˜æ—æ±Ÿ æ½˜æ—æ° æ½˜æ—å¨Ÿ æ½˜æ—å†› æ½˜æ—ä¸½ æ½˜æ—è‰ æ½˜æ—æ— æ½˜æ—ç³ æ½˜æ—æ¢… æ½˜æ—å¼º æ½˜æ—é’ æ½˜æ—æ¸… æ½˜æ—è£ æ½˜æ—ç”Ÿ æ½˜æ—æ¶› æ½˜æ—ä¼Ÿ æ½˜æ—ç¥¥ æ½˜æ—è‰³ æ½˜æ—ç‡• æ½˜æ—æ´‹ æ½˜æ—è‹± æ½˜æ—å…ƒ æ½˜æ—äº‘ æ½˜ä¸´ æ½˜ç³ æ½˜ç³ç³ æ½˜ç³å¨œ æ½˜ç³å…ƒ æ½˜éœ– æ½˜ä¼¶ æ½˜ä¼¶ä¿ æ½˜çµ æ½˜çµæ³¢ æ½˜çµè¾‰ æ½˜çµçµ æ½˜çµèŠ æ½˜ç² æ½˜ç²å¨£ æ½˜ç²èŠ³ æ½˜ç²é£ æ½˜ç²å æ½˜ç²å¨Ÿ æ½˜ç²å› æ½˜ç²ä¸½ æ½˜ç²åˆ© æ½˜ç²ç² æ½˜ç²æ¢… æ½˜ç²æ• æ½˜ç²å¨œ æ½˜ç²è æ½˜ç²è‰³ æ½˜ç²ç‡• æ½˜ç²ç‰ æ½˜é“ƒ æ½˜é“ƒç‚¯ æ½˜é“ƒé“ƒ æ½˜å‡Œ æ½˜å‡Œå¯’ æ½˜å‡Œå®‡ æ½˜å‡Œäº‘ æ½˜å²­ æ½˜ä»¤ æ½˜ä»¤å˜‰ æ½˜ç•™æ˜ æ½˜ç•™å¹³ æ½˜æŸ³ æ½˜æŸ³èŠ³ æ½˜æŸ³çº¢ æ½˜æŸ³å æ½˜æŸ³æŸ³ æ½˜æŸ³è æ½˜æŸ³é’ æ½˜æŸ³æ¸… æ½˜æŸ³å©· æ½˜æŸ³éœ æ½˜æŸ³ç æ½˜é¾™ æ½˜é¾™å® æ½˜é¾™å…µ æ½˜é¾™æ³¢ æ½˜é¾™æ˜¥ æ½˜é¾™æ³• æ½˜é¾™èŠ³ æ½˜é¾™é£ æ½˜é¾™å‡¤ æ½˜é¾™åˆš æ½˜é¾™æ ¹ æ½˜é¾™å…‰ æ½˜é¾™æµ· æ½˜é¾™æµ© æ½˜é¾™å æ½˜é¾™è¾‰ æ½˜é¾™æ±Ÿ æ½˜é¾™æ° æ½˜é¾™é‡‘ æ½˜é¾™ä¿Š æ½˜é¾™é¾™ æ½˜é¾™ç¾ æ½˜é¾™æ·¼ æ½˜é¾™å¹³ æ½˜é¾™æ¸… æ½˜é¾™å±± æ½˜é¾™ç”Ÿ æ½˜é¾™ä¼Ÿ æ½˜é¾™æ­¦ æ½˜é¾™ç¥¥ æ½˜é¾™è‹± æ½˜é¾™ç‰ æ½˜é¾™äº‘ æ½˜éš† æ½˜éš†ç‰ æ½˜æ¥¼ æ½˜é² æ½˜é²é’ æ½˜é²ç”Ÿ æ½˜é™† æ½˜é™†å¹³ æ½˜è·¯æ±Ÿ æ½˜è·¯è·¯ æ½˜ç’ æ½˜ç’ç’ æ½˜ç’ç¼ æ½˜é¹­ æ½˜éœ² æ½˜éœ²éœ² æ½˜éœ²æ¸… æ½˜ä¼¦ æ½˜ç½— æ½˜ç½—æ• æ½˜æ´› æ½˜ç›é» æ½˜æ»¡å æ½˜æ»¡é¦™ æ½˜æ›¼ æ½˜æ›¼æ›¼ æ½˜æ›¼éœ æ½˜æ¼« æ½˜æ¼«çº¢ æ½˜æ¼«æ¼« æ½˜èŒ‚ æ½˜èŒ‚å æ½˜èŒ‚è¾‰ æ½˜èŒ‚æ— æ½˜èŒ‚å¹³ æ½˜èŒ‚å…ƒ æ½˜èŒ‚å¿  æ½˜æ‡‹ æ½˜æ‡‹å…ƒ æ½˜ç« æ½˜çœ‰ æ½˜æ¢… æ½˜æ¢…èŠ³ æ½˜æ¢…çº¢ æ½˜æ¢…èŠ± æ½˜æ¢…å æ½˜æ¢…å¨Ÿ æ½˜æ¢…å…° æ½˜æ¢…æ— æ½˜æ¢…æ¢… æ½˜æ¢…ä»™ æ½˜æ¢…ç§€ æ½˜æ¢…è‹± æ½˜æ¢…ç‰ æ½˜æ¢…ç æ½˜ç¾ æ½˜ç¾è¾° æ½˜ç¾æ™¨ æ½˜ç¾å¨¥ æ½˜ç¾å„¿ æ½˜ç¾èŠ³ æ½˜ç¾é£ æ½˜ç¾èŠ¬ æ½˜ç¾å‡¤ æ½˜ç¾çº¢ æ½˜ç¾èŠ± æ½˜ç¾å æ½˜ç¾æ…§ æ½˜ç¾æ° æ½˜ç¾æ´ æ½˜ç¾é™ æ½˜ç¾å¨Ÿ æ½˜ç¾å› æ½˜ç¾å…° æ½˜ç¾ä¸½ æ½˜ç¾è² æ½˜ç¾æ— æ½˜ç¾ç³ æ½˜ç¾éœ– æ½˜ç¾çµ æ½˜ç¾ç² æ½˜ç¾é¾„ æ½˜ç¾è·¯ æ½˜ç¾æ¢… æ½˜ç¾ç¾ æ½˜ç¾å¦¹ æ½˜ç¾å¨œ æ½˜ç¾è æ½˜ç¾çª æ½˜ç¾ç´ æ½˜ç¾æ¸… æ½˜ç¾è£ æ½˜ç¾å¦‚ æ½˜ç¾å©· æ½˜ç¾éœ æ½˜ç¾ä»™ æ½˜ç¾é¦™ æ½˜ç¾æ¬£ æ½˜ç¾ç’‡ æ½˜ç¾ç‡• æ½˜ç¾ä»ª æ½˜ç¾æ€¡ æ½˜ç¾è‹± æ½˜ç¾ç‰ æ½˜ç¾æœˆ æ½˜ç¾äº‘ æ½˜ç¾ç æ½˜å¦¹è‹± æ½˜åªš æ½˜åªšåªš æ½˜èŒ æ½˜èŒèŒ æ½˜è’™ æ½˜è’™è’™ æ½˜çŒ› æ½˜å­Ÿæ–‡ æ½˜å­Ÿé˜³ æ½˜æ¢¦ æ½˜æ¢¦å æ½˜æ¢¦ä½³ æ½˜æ¢¦æ° æ½˜æ¢¦å©• æ½˜æ¢¦ä¸½ æ½˜æ¢¦æ¢¦ æ½˜æ¢¦å¦® æ½˜æ¢¦çª æ½˜æ¢¦ç¦ æ½˜æ¢¦å©· æ½˜æ¢¦éœ æ½˜æ¢¦é˜³ æ½˜æ¢¦ç‘¶ æ½˜æ¢¦è¹ æ½˜æ¢¦é¢– æ½˜æ¢¦é›¨ æ½˜æ¢¦åª› æ½˜æ¢¦æœˆ æ½˜ç§˜ æ½˜å¯†å¯† æ½˜è‹— æ½˜è‹—è‹— æ½˜æ·¼ æ½˜å¦™ç² æ½˜å¦™å¦™ æ½˜å¦™å©· æ½˜å¦™è‹± æ½˜æ°‘ æ½˜æ°‘ç”Ÿ æ½˜æ—» æ½˜ç‰è¾‰ æ½˜é—½ æ½˜æ• æ½˜æ•è¶… æ½˜æ•èª æ½˜æ•ä¸œ æ½˜æ•å„¿ æ½˜æ•èŠ³ æ½˜æ•é£ æ½˜æ•å³° æ½˜æ•åˆš æ½˜æ•è¡Œ æ½˜æ•å æ½˜æ•æ…§ æ½˜æ•ä½³ æ½˜æ•æ· æ½˜æ•å¨Ÿ æ½˜æ•ç«‹ æ½˜æ•ä¸½ æ½˜æ•ç² æ½˜æ•æ• æ½˜æ•çª æ½˜æ•å¼º æ½˜æ•æ¸… æ½˜æ•é” æ½˜æ•å¦ æ½˜æ•ä»ª æ½˜æ•æ€¡ æ½˜æ•èŠ æ½˜æ•æ™º æ½˜æ•ç  æ½˜åå±± æ½˜åå“² æ½˜æ˜ æ½˜æ˜å® æ½˜æ˜æ³¢ æ½˜æ˜æ‰ æ½˜æ˜æ˜Œ æ½˜æ˜æˆ æ½˜æ˜è¾¾ æ½˜æ˜é“ æ½˜æ˜å¾· æ½˜æ˜æ ‹ æ½˜æ˜å‘ æ½˜æ˜èŠ³ æ½˜æ˜å³° æ½˜æ˜å‡¤ æ½˜æ˜ç¦ æ½˜æ˜å…‰ æ½˜æ˜æµ· æ½˜æ˜çº¢ æ½˜æ˜è™ æ½˜æ˜å æ½˜æ˜è¾‰ æ½˜æ˜æ…§ æ½˜æ˜è•™ æ½˜æ˜ç»§ æ½˜æ˜å»º æ½˜æ˜æ° æ½˜æ˜èŠ æ½˜æ˜å¨Ÿ æ½˜æ˜å†› æ½˜æ˜å› æ½˜æ˜å¤ æ½˜æ˜å…° æ½˜æ˜æœ— æ½˜æ˜ç† æ½˜æ˜ä¸½ æ½˜æ˜åˆ© æ½˜æ˜äº® æ½˜æ˜æ— æ½˜æ˜æ• æ½˜æ˜æ˜ æ½˜æ˜å¼º æ½˜æ˜ç´ æ½˜æ˜æ¸… æ½˜æ˜æƒ æ½˜æ˜æ³‰ æ½˜æ˜è£ æ½˜æ˜å±± æ½˜æ˜ç”Ÿ æ½˜æ˜é¡º æ½˜æ˜æ¶› æ½˜æ˜æ—º æ½˜æ˜ä¼Ÿ æ½˜æ˜æ–‡ æ½˜æ˜éœ æ½˜æ˜ç¥¥ æ½˜æ˜æ¬£ æ½˜æ˜æ–° æ½˜æ˜é‘« æ½˜æ˜ç§€ æ½˜æ˜æ—­ æ½˜æ˜è½© æ½˜æ˜æ‰¬ æ½˜æ˜é˜³ æ½˜æ˜é“¶ æ½˜æ˜è‹± æ½˜æ˜å‹‡ æ½˜æ˜ç‰ æ½˜æ˜è¿œ æ½˜æ˜æœˆ æ½˜æ˜å“² æ½˜æ˜ç æ½˜æ˜æ”¿ æ½˜æ˜å¿— æ½˜æ˜å¿  æ½˜æ˜ç  æ½˜é¸£ æ½˜é¸£å‡¤ æ½˜é¸£é’Ÿ æ½˜é“­ æ½˜é“­æ´ æ½˜é“­é“­ æ½˜é“­çª æ½˜é“­ä»ª æ½˜æ¼ å­ æ½˜å§† æ½˜æœ¨æ£® æ½˜æœ¨ç”Ÿ æ½˜æœ¨èƒœ æ½˜æœ¨è‹± æ½˜æœ¨å­ æ½˜æ² æ½˜ç‰§ æ½˜æ…•å æ½˜é‚£ æ½˜çº³ æ½˜å¨œ æ½˜å¨œå¨œ æ½˜ä¹ƒè°· æ½˜å— æ½˜å—é‡‘ æ½˜å—å— æ½˜æ¥  æ½˜æ¥ æ¥  æ½˜èƒ½ æ½˜èƒ½è¾‰ æ½˜èƒ½æ° æ½˜èƒ½æ–‡ æ½˜èƒ½è‰³ æ½˜å¦® æ½˜å¦®å¨œ æ½˜å¦®å¦® æ½˜éœ“ æ½˜å¹´ æ½˜å¹´è‹± æ½˜å¿µ æ½˜å¿µå¿µ æ½˜å¿µä¹‹ æ½˜å¿µä¸­ æ½˜å® æ½˜å®ä¸œ æ½˜å®é™ æ½˜å®ç² æ½˜å®å® æ½˜å®é€š æ½˜å®éœ æ½˜å®æ˜Ÿ æ½˜æŸ é™ æ½˜å†œ æ½˜è¯º æ½˜æ”€ æ½˜ç›¼ æ½˜ç›¼ç›¼ æ½˜åŸ¹ æ½˜åŸ¹æˆ æ½˜åŸ¹å¾· æ½˜åŸ¹ä¸œ æ½˜åŸ¹æ ¹ æ½˜åŸ¹å æ½˜åŸ¹æ— æ½˜åŸ¹é“­ æ½˜åŸ¹åŸ¹ æ½˜åŸ¹é’ æ½˜åŸ¹è£ æ½˜åŸ¹ç”Ÿ æ½˜åŸ¹ä¼Ÿ æ½˜åŸ¹æ–‡ æ½˜åŸ¹æ–° æ½˜åŸ¹è‹± æ½˜åŸ¹è‚² æ½˜åŸ¹å¿  æ½˜æ²›æ²› æ½˜ä½© æ½˜ä½©èª æ½˜ä½©èŠ³ æ½˜ä½©èŠ¬ æ½˜ä½©å…° æ½˜ä½©ç² æ½˜ä½©ä½© æ½˜ä½©ç¼ æ½˜ä½©è“‰ æ½˜ä½©çŠ æ½˜ä½©ä»ª æ½˜ä½©ç‰ æ½˜ä½©ç æ½˜æœ‹ æ½˜æœ‹æœ‹ æ½˜é¹ æ½˜é¹ç¨‹ æ½˜é¹é£ æ½˜é¹ä¸¾ æ½˜é¹å‡¯ æ½˜é¹é¹ æ½˜é¹å®‡ æ½˜æ¾ æ½˜å“ æ½˜å“æ–¹ æ½˜å“å¦‚ æ½˜å¹³ æ½˜å¹³èŠ³ æ½˜å¹³è¾‰ æ½˜å¹³å¹³ æ½˜å¹³ç”Ÿ æ½˜å¹³æ´‹ æ½˜åª æ½˜è æ½˜èè æ½˜å¡ æ½˜ç’ æ½˜é½ æ½˜é½é¾™ æ½˜é½é½ æ½˜ç¥ æ½˜å² æ½˜å…¶ æ½˜å…¶å½ª æ½˜å…¶å½¬ æ½˜å…¶æ˜Œ æ½˜å…¶æˆ æ½˜å…¶æ–¹ æ½˜å…¶é£ æ½˜å…¶å³° æ½˜å…¶å æ½˜å…¶ä¿Š æ½˜å…¶å…° æ½˜å…¶ä¹ æ½˜å…¶è‰¯ æ½˜å…¶éºŸ æ½˜å…¶æ• æ½˜å…¶æ˜ æ½˜å…¶æ­¦ æ½˜å…¶å…´ æ½˜å…¶è‹± æ½˜å…¶æº æ½˜å…¶å²³ æ½˜å…¶å¿  æ½˜å¥‡ æ½˜å¥‡å³° æ½˜å¥‡å¥‡ æ½˜å¥‡ä¼Ÿ æ½˜å¥‡å¿— æ½˜å´ æ½˜çª æ½˜çªçª æ½˜ç¦ æ½˜ç¦ç¦ æ½˜ç¦å…ƒ æ½˜æ£‹ æ½˜ç¥º æ½˜éº’ æ½˜éº’éºŸ æ½˜å¯ æ½˜å¯å½¬ æ½˜å¯æ‰ æ½˜å¯è¶… æ½˜å¯è¿ª æ½˜å¯å³° æ½˜å¯å¯Œ æ½˜å¯å…‰ æ½˜å¯å® æ½˜å¯å æ½˜å¯è¾‰ æ½˜å¯æ…§ æ½˜å¯è‰¯ æ½˜å¯äº® æ½˜å¯æ— æ½˜å¯æ˜ æ½˜å¯ä» æ½˜å¯è£ æ½˜å¯èƒœ æ½˜å¯ä¼Ÿ æ½˜å¯æ–‡ æ½˜å¯è´¤ æ½˜å¯å…´ æ½˜å¯é›„ æ½˜å¯å‹‡ æ½˜å¯æº æ½˜å¯äº‘ æ½˜å¯å¿— æ½˜å¯å¿  æ½˜å¯æŸ± æ½˜èµ· æ½˜èµ·éœ² æ½˜ç»®çº¢ æ½˜ç»®çª æ½˜ç»®é›¯ æ½˜åƒ æ½˜åƒåƒ æ½˜èŠŠç¾½ æ½˜è°¦ æ½˜å‰ æ½˜ä¹¾ æ½˜ä¹¾å¤ æ½˜èŒœ æ½˜èŒœèŒœ æ½˜å€© æ½˜å€©å€© æ½˜å€©å©· æ½˜å€©æ–‡ æ½˜å€©ä»ª æ½˜å€©æ€¡ æ½˜å€©ç‘œ æ½˜å€©ç‰ æ½˜å€©äº‘ æ½˜å¼º æ½˜å¼ºæ–Œ æ½˜å¼ºé¾™ æ½˜å¼ºå¼º æ½˜ä¹” æ½˜å³¤ æ½˜å·§ æ½˜å·§å„¿ æ½˜å·§å‡¤ æ½˜å·§çº¢ æ½˜å·§æ´ æ½˜å·§å…° æ½˜å·§è² æ½˜å·§ç² æ½˜å·§æ• æ½˜å·§è æ½˜å·§å·§ æ½˜å·§ç´ æ½˜å·§ç¾¤ æ½˜å·§å¦‚ æ½˜å·§å©· æ½˜å·§ç‡• æ½˜å·§æ€¡ æ½˜å·§è‹± æ½˜å·§åª› æ½˜å·§äº‘ æ½˜å·§ç æ½˜ä¿ä¿ æ½˜ä¿å©· æ½˜é’¦ æ½˜èŠ¹ æ½˜èŠ¹å¦¹ æ½˜èŠ¹èŠ¹ æ½˜ç´ æ½˜ç´èŠ³ æ½˜ç´èŠ¬ æ½˜ç´èŠ± æ½˜ç´ç´ æ½˜ç´è‹± æ½˜å‹¤ æ½˜å‹¤å æ½˜å‹¤å¨Ÿ æ½˜å‹¤å‹¤ æ½˜å‹¤æ¯… æ½˜æ² æ½˜é’ æ½˜é’æµ· æ½˜é’è² æ½˜é’æ— æ½˜é’é¾™ æ½˜é’è æ½˜é’é’ æ½˜é’å±± æ½˜é’æ¾ æ½˜é’éœ æ½˜é’äº‘ æ½˜å¿ æ½˜æ¸… æ½˜æ¸…æ³¢ æ½˜æ¸…å¨¥ æ½˜æ¸…ç¦ æ½˜æ¸…æµ· æ½˜æ¸…æ²³ æ½˜æ¸…å æ½˜æ¸…æ±Ÿ æ½˜æ¸…å…° æ½˜æ¸…è² æ½˜æ¸…æ— æ½˜æ¸…æ˜ æ½˜æ¸…å¹³ æ½˜æ¸…æ¸… æ½˜æ¸…æ³‰ æ½˜æ¸…å±± æ½˜æ¸…æ°´ æ½˜æ¸…æ–‡ æ½˜æ¸…æº æ½˜æƒ… æ½˜æ™´ æ½˜æ™´æ™´ æ½˜æ™´é›¯ æ½˜æ“æ“ æ½˜åº† æ½˜åº†æ³¢ æ½˜åº†æ˜¥ æ½˜åº†å¾· æ½˜åº†ä¸œ æ½˜åº†å‘ æ½˜åº†èŠ³ æ½˜åº†é£ æ½˜åº†ä¸° æ½˜åº†å³° æ½˜åº†é”‹ æ½˜åº†ç¦ æ½˜åº†å›½ æ½˜åº†æµ· æ½˜åº†å® æ½˜åº†å æ½˜åº†è¾‰ æ½˜åº†å»º æ½˜åº†æ° æ½˜åº†èš æ½˜åº†å†› æ½˜åº†å¤ æ½˜åº†ç«‹ æ½˜åº†è‰¯ æ½˜åº†æ— æ½˜åº†é¾™ æ½˜åº†æ°‘ æ½˜åº†æ˜ æ½˜åº†å¹³ æ½˜åº†åº† æ½˜åº†è£ æ½˜åº†ç”Ÿ æ½˜åº†æ¾ æ½˜åº†æ¶› æ½˜åº†ä¼Ÿ æ½˜åº†æ–‡ æ½˜åº†æ­¦ æ½˜åº†ç¥¥ æ½˜åº†æ–° æ½˜åº†å®‡ æ½˜åº†ç‰ æ½˜åº†å…ƒ æ½˜åº†äº‘ æ½˜åº†ä¸­ æ½˜ç¼ æ½˜ç¼èŠ³ æ½˜ç¼ç¼ æ½˜ç¼ç‘¶ æ½˜ç¼è‹± æ½˜ç¼äº‘ æ½˜ç¼ç æ½˜ç§‹ æ½˜ç§‹æ™¨ æ½˜ç§‹æˆ æ½˜ç§‹å¨¥ æ½˜ç§‹èŠ³ æ½˜ç§‹èŠ¬ æ½˜ç§‹è´µ æ½˜ç§‹çº¢ æ½˜ç§‹èŠ± æ½˜ç§‹å æ½˜ç§‹èŠ æ½˜ç§‹ä¸½ æ½˜ç§‹è¿ æ½˜ç§‹ç³ æ½˜ç§‹ç² æ½˜ç§‹é¾™ æ½˜ç§‹æ¢… æ½˜ç§‹å¦¹ æ½˜ç§‹æ˜ æ½˜ç§‹å¹³ æ½˜ç§‹è æ½˜ç§‹ç´ æ½˜ç§‹ç§‹ æ½˜ç§‹è£ æ½˜ç§‹ç”Ÿ æ½˜ç§‹å® æ½˜ç§‹éœ æ½˜ç§‹é¦™ æ½˜ç§‹è‰³ æ½˜ç§‹ç‡• æ½˜ç§‹è‹± æ½˜ç§‹å½± æ½˜ç§‹å®‡ æ½˜ç§‹ç‰ æ½˜ç§‹å…ƒ æ½˜ç§‹æœˆ æ½˜ç§‹äº‘ æ½˜ç§‹èŠ¸ æ½˜æ±‚æ˜ æ½˜æ±‚ä» æ½˜æƒ æ½˜å…¨ æ½˜å…¨å…¨ æ½˜å…¨å¿ƒ æ½˜æ³‰ æ½˜ç¾¤ æ½˜ç¾¤æ–Œ æ½˜ç¾¤å¨£ æ½˜ç¾¤èŠ³ æ½˜ç¾¤é£ æ½˜ç¾¤ç¾¤ æ½˜ç¾¤æ˜Ÿ æ½˜ç¾¤é›„ æ½˜ç¾¤è‹± æ½˜ç„¶ æ½˜å†‰ æ½˜äººæ° æ½˜äººç¾ æ½˜äººæœ¨ æ½˜ä» æ½˜ä»çˆ± æ½˜ä»ä¸œ æ½˜ä»èŠ³ æ½˜ä»é”‹ æ½˜ä»å æ½˜ä»æ° æ½˜ä»è‰¯ æ½˜ä»é¾™ æ½˜ä»ç¾ æ½˜ä»æ¸… æ½˜ä»å±± æ½˜ä»ä¼Ÿ æ½˜ä»è´¤ æ½˜ä»ä¹‰ æ½˜ä»ä¿ æ½˜ä»äº‘ æ½˜ä»å¿— æ½˜ä»» æ½˜æ—¥æ³¢ æ½˜æ—¥æ˜¥ æ½˜æ—¥èŠ³ æ½˜æ—¥çº¢ æ½˜æ—¥å æ½˜æ—¥è¾‰ æ½˜æ—¥æ˜† æ½˜æ—¥æ˜ æ½˜æ—¥å¼º æ½˜æ—¥æ¶¦ æ½˜æ—¥å‡ æ½˜æ—¥æ—º æ½˜æ—¥å…´ æ½˜è£ æ½˜è£å½¬ æ½˜è£æ–Œ æ½˜è£æ³¢ æ½˜è£æ‰ æ½˜è£ç¦ æ½˜è£å…‰ æ½˜è£è´µ æ½˜è£å›½ æ½˜è£å’Œ æ½˜è£èŠ± æ½˜è£å æ½˜è£è¾‰ æ½˜è£è®° æ½˜è£æ±Ÿ æ½˜è£æ° æ½˜è£å†› æ½˜è£å¦¹ æ½˜è£å¹³ æ½˜è£å¥‡ æ½˜è£åº† æ½˜è£è£ æ½˜è£ç”Ÿ æ½˜è£ä¼Ÿ æ½˜è£æ–‡ æ½˜è£æ­¦ æ½˜è£é¦™ æ½˜è£ç¥¥ æ½˜è£å…´ æ½˜è£å¹¸ æ½˜è£é˜³ æ½˜è£å‹‡ æ½˜è£ç æ½˜å®¹ æ½˜å®¹å æ½˜å®¹å®¹ æ½˜è“‰ æ½˜è“‰èŠ³ æ½˜è“‰è“‰ æ½˜æ¦• æ½˜æ¦•æ¦• æ½˜è æ½˜æŸ” æ½˜å¦‚ æ½˜å¦‚å· æ½˜å¦‚è™ æ½˜å¦‚å¨Ÿ æ½˜å¦‚é¾™ æ½˜å¦‚å¦‚ æ½˜å¦‚ç¥¥ æ½˜å¦‚å¿ƒ æ½˜å¦‚æ„ æ½˜å¦‚æ„¿ æ½˜èŒ¹ æ½˜èŒ¹èŒ¹ æ½˜å„’ æ½˜å„’æ˜ æ½˜æ±è°¦ æ½˜è•Š æ½˜é” æ½˜é”å¼º æ½˜ç‘ æ½˜ç‘æ³¢ æ½˜ç‘ç‚½ æ½˜ç‘æ˜¥ æ½˜ç‘ä¸œ æ½˜ç‘èŠ³ æ½˜ç‘èŠ¬ æ½˜ç‘é”‹ æ½˜ç‘å‡¤ æ½˜ç‘ç¦ æ½˜ç‘å…‰ æ½˜ç‘å›½ æ½˜ç‘çº¢ æ½˜ç‘å æ½˜ç‘å‰ æ½˜ç‘å¨Ÿ æ½˜ç‘åº· æ½˜ç‘å…° æ½˜ç‘ä¹ æ½˜ç‘ä¸½ æ½˜ç‘è¿ æ½˜ç‘è² æ½˜ç‘æ— æ½˜ç‘ç² æ½˜ç‘é¾™ æ½˜ç‘æ¢… æ½˜ç‘æ• æ½˜ç‘æ˜ æ½˜ç‘é¹ æ½˜ç‘å¹³ æ½˜ç‘è æ½˜ç‘çª æ½˜ç‘å¼º æ½˜ç‘èŠ¹ æ½˜ç‘å¿ æ½˜ç‘æ¸… æ½˜ç‘ç¼ æ½˜ç‘è£ æ½˜ç‘ç‘ æ½˜ç‘ç”Ÿ æ½˜ç‘æ¶› æ½˜ç‘æ–‡ æ½˜ç‘æ–° æ½˜ç‘å…´ æ½˜ç‘é›„ æ½˜ç‘é›ª æ½˜ç‘è‹± æ½˜ç‘å‹‡ æ½˜ç‘æº æ½˜ç‘äº‘ æ½˜ç‘ç æ½˜ç‘èŠ æ½˜ç¿ æ½˜ç¿æ™— æ½˜æ¶¦ æ½˜æ¶¦å æ½˜æ¶¦å…° æ½˜æ¶¦æ— æ½˜æ¶¦ç”Ÿ æ½˜è‹¥å‡¡ æ½˜è‹¥é£ æ½˜è‹¥è°· æ½˜è‹¥å…° æ½˜è‹¥ç³ æ½˜è‹¥ç”· æ½˜è‹¥è‹¥ æ½˜è‹¥æ„š æ½˜èµ› æ½˜èµ›èŠ± æ½˜èµ›å› æ½˜èµ›ä¸½ æ½˜èµ›ç”· æ½˜èµ›èµ› æ½˜ä¸‰ æ½˜ä¸‰ä¿ æ½˜ä¸‰æ¯› æ½˜ä¸‰æ¢… æ½˜ä¸‰æ˜ æ½˜ä¸‰å¼º æ½˜ä¸‰çœ æ½˜æ¡‘ æ½˜æ£® æ½˜æ£®æ— æ½˜æ£®æ£® æ½˜æ²™ æ½˜æ²™æ²™ æ½˜è æ½˜èè æ½˜å±± æ½˜å±±å±± æ½˜æ‰ æ½˜å§— æ½˜å§—å§— æ½˜çŠ æ½˜çŠçŠ æ½˜å–„é¾™ æ½˜å°š æ½˜å°šå® æ½˜å°šä» æ½˜å°šè£ æ½˜å°šä¹¦ æ½˜å°šæ–‡ æ½˜éŸ¶å æ½˜å°‘å½¬ æ½˜å°‘æ–Œ æ½˜å°‘å…µ æ½˜å°‘æ³¢ æ½˜å°‘å· æ½˜å°‘æ˜¥ æ½˜å°‘èª æ½˜å°‘ä¸¹ æ½˜å°‘ä¸œ æ½˜å°‘èŠ³ æ½˜å°‘é£ æ½˜å°‘èŠ¬ æ½˜å°‘å³° æ½˜å°‘é”‹ æ½˜å°‘å‡¤ æ½˜å°‘çº¢ æ½˜å°‘å æ½˜å°‘è¾‰ æ½˜å°‘æ° æ½˜å°‘å¨Ÿ æ½˜å°‘å†› æ½˜å°‘å› æ½˜å°‘ä¿Š æ½˜å°‘åº· æ½˜å°‘ä¸½ æ½˜å°‘æ— æ½˜å°‘ç² æ½˜å°‘é¾™ æ½˜å°‘æ¢… æ½˜å°‘åªš æ½˜å°‘æ• æ½˜å°‘æ˜ æ½˜å°‘é¹ æ½˜å°‘å¹³ æ½˜å°‘è æ½˜å°‘å¼º æ½˜å°‘ç´ æ½˜å°‘é’ æ½˜å°‘å¿ æ½˜å°‘æ¸… æ½˜å°‘ç¼ æ½˜å°‘ç¾¤ æ½˜å°‘è£ æ½˜å°‘æ¾ æ½˜å°‘å©· æ½˜å°‘å¾® æ½˜å°‘ä¼Ÿ æ½˜å°‘æ–‡ æ½˜å°‘æ­¦ æ½˜å°‘éœ æ½˜å°‘é¦™ æ½˜å°‘é›„ æ½˜å°‘ç‡• æ½˜å°‘é˜³ æ½˜å°‘è‹± æ½˜å°‘å‹‡ æ½˜å°‘ç‰ æ½˜å°‘å…ƒ æ½˜å°‘äº‘ æ½˜å°‘ç æ½˜ç»æ–Œ æ½˜ç»æ˜¥ æ½˜ç»é¡¿ æ½˜ç»å…‰ æ½˜ç»å›½ æ½˜ç»å æ½˜ç»å†› æ½˜ç»æ• æ½˜ç»æ˜ æ½˜ç»è£ æ½˜ç»æ¾ æ½˜ç»ä¼Ÿ æ½˜ç»æ–‡ æ½˜ç»æ­¦ æ½˜ç»ä¹‰ æ½˜ç”³å†› æ½˜æ·± æ½˜æ·±äº® æ½˜æ… æ½˜å‡ æ½˜ç”Ÿ æ½˜å£° æ½˜å£°å®‰ æ½˜åœ£ æ½˜åœ£å’Œ æ½˜åœ£å æ½˜åœ£æ° æ½˜åœ£æ´ æ½˜åœ£å³¤ æ½˜åœ£ä¼Ÿ æ½˜èƒœ æ½˜èƒœæ–Œ æ½˜èƒœå…µ æ½˜èƒœå›½ æ½˜èƒœå æ½˜èƒœå†› æ½˜èƒœå…° æ½˜èƒœè“ æ½˜èƒœåˆ© æ½˜èƒœæ˜ æ½˜èƒœç”· æ½˜èƒœå¹³ æ½˜èƒœæ–‡ æ½˜èƒœæ­¦ æ½˜èƒœè‰³ æ½˜èƒœå‹‡ æ½˜æ™Ÿ æ½˜ç›› æ½˜ç››å½¬ æ½˜ç››å æ½˜ç››æ° æ½˜ç››æ— æ½˜ç››è£ æ½˜ç››ç›› æ½˜ç››æ´² æ½˜å¸ˆ æ½˜è¯— æ½˜è¯—å æ½˜è¯—çª æ½˜è¯—è¯— æ½˜è¯—å©· æ½˜è¯—å®‡ æ½˜è¯—é›¨ æ½˜è¯—éŸµ æ½˜æ–½æ–½ æ½˜çŸ³ æ½˜çŸ³å±¹ æ½˜æ—¶é›¨ æ½˜æ—¶ä¸­ æ½˜å® æ½˜å£«è¶… æ½˜å£«è¯š æ½˜å£«æµ· æ½˜å£«æ° æ½˜å£«é‡‘ æ½˜å£«å†› æ½˜å£«å› æ½˜å£«æ˜ æ½˜å£«å¹³ æ½˜å£«è æ½˜å£«å¼º æ½˜å£«æƒ æ½˜å£«æ–‡ æ½˜å£«è´¤ æ½˜å£«å‹‡ æ½˜å£«è¿œ æ½˜ä¸– æ½˜ä¸–å®‰ æ½˜ä¸–å® æ½˜ä¸–æ ‡ æ½˜ä¸–æ–Œ æ½˜ä¸–å…µ æ½˜ä¸–æ³¢ æ½˜ä¸–æ‰ æ½˜ä¸–è´¢ æ½˜ä¸–æ˜Œ æ½˜ä¸–è¶… æ½˜ä¸–æˆ æ½˜ä¸–æ˜¥ æ½˜ä¸–è¾¾ æ½˜ä¸–ä¸œ æ½˜ä¸–æ ‹ æ½˜ä¸–æ© æ½˜ä¸–èŠ³ æ½˜ä¸–èŠ¬ æ½˜ä¸–ä¸° æ½˜ä¸–å³° æ½˜ä¸–é”‹ æ½˜ä¸–åˆš æ½˜ä¸–å…‰ æ½˜ä¸–è´µ æ½˜ä¸–å›½ æ½˜ä¸–æµ· æ½˜ä¸–è±ª æ½˜ä¸–çº¢ æ½˜ä¸–å® æ½˜ä¸–æ´ª æ½˜ä¸–é¸¿ æ½˜ä¸–å æ½˜ä¸–è¾‰ æ½˜ä¸–ä½³ æ½˜ä¸–æ±Ÿ æ½˜ä¸–æ° æ½˜ä¸–å¨Ÿ æ½˜ä¸–å†› æ½˜ä¸–ä¿Š æ½˜ä¸–å‡¯ æ½˜ä¸–å¥ æ½˜ä¸–å¤ æ½˜ä¸–å…° æ½˜ä¸–ç«‹ æ½˜ä¸–è‰¯ æ½˜ä¸–äº® æ½˜ä¸–æ— æ½˜ä¸–ç² æ½˜ä¸–é¾™ æ½˜ä¸–çº¶ æ½˜ä¸–æ¢… æ½˜ä¸–ç¾ æ½˜ä¸–æ°‘ æ½˜ä¸–æ• æ½˜ä¸–æ˜ æ½˜ä¸–å¢¨ æ½˜ä¸–é¹ æ½˜ä¸–å¹³ æ½˜ä¸–è æ½˜ä¸–å¥‡ æ½˜ä¸–å¼º æ½˜ä¸–ç´ æ½˜ä¸–æ¸… æ½˜ä¸–æƒ æ½˜ä¸–å…¨ æ½˜ä¸–æ³‰ æ½˜ä¸–ç¾¤ æ½˜ä¸–è£ æ½˜ä¸–ç”Ÿ æ½˜ä¸–æ¶› æ½˜ä¸–æ—º æ½˜ä¸–ä¼Ÿ æ½˜ä¸–æ–‡ æ½˜ä¸–æ­¦ æ½˜ä¸–éœ æ½˜ä¸–ç¥¥ æ½˜ä¸–æ–° æ½˜ä¸–é‘« æ½˜ä¸–é›„ æ½˜ä¸–å‹‹ æ½˜ä¸–ç‡• æ½˜ä¸–æ´‹ æ½˜ä¸–è‹± æ½˜ä¸–å‹‡ æ½˜ä¸–å‹ æ½˜ä¸–å®‡ æ½˜ä¸–ç‰ æ½˜ä¸–å…ƒ æ½˜ä¸–å¾ æ½˜ä¸–å¿  æ½˜ä»• æ½˜ä»•å½¬ æ½˜ä»•æˆ æ½˜ä»•å æ½˜ä»•æ˜ æ½˜ä»•å¹³ æ½˜ä»•å¼º æ½˜ä»•è£ æ½˜ä»•é¦™ æ½˜å®ˆæ³¢ æ½˜å®ˆåˆš æ½˜å®ˆç† æ½˜å®ˆå‰ æ½˜å®ˆæ°¸ æ½˜å¯¿ æ½˜å¯¿å æ½˜å¯¿å› æ½˜å¯¿æ°‘ æ½˜å¯¿è£ æ½˜å¯¿å±± æ½˜ä¹¦ æ½˜ä¹¦æˆ æ½˜ä¹¦èŠ³ æ½˜ä¹¦å æ½˜ä¹¦äº¬ æ½˜ä¹¦ç´ æ½˜ä¹¦æ–‡ æ½˜å”æ˜ æ½˜å§ æ½˜å§å¦ æ½˜å§ç¾½ æ½˜æ·‘ æ½˜æ·‘å†° æ½˜æ·‘èŠ³ æ½˜æ·‘èŠ¬ æ½˜æ·‘çº¢ æ½˜æ·‘èŠ± æ½˜æ·‘å æ½˜æ·‘æƒ  æ½˜æ·‘æ´ æ½˜æ·‘é™ æ½˜æ·‘å¨Ÿ æ½˜æ·‘å› æ½˜æ·‘å…° æ½˜æ·‘ä¸½ æ½˜æ·‘è² æ½˜æ·‘ç² æ½˜æ·‘æ¢… æ½˜æ·‘åªš æ½˜æ·‘æ• æ½˜æ·‘è æ½˜æ·‘èŠ¹ æ½˜æ·‘ç´ æ½˜æ·‘é’ æ½˜æ·‘ç¼ æ½˜æ·‘è£ æ½˜æ·‘æ·‘ æ½˜æ·‘å©· æ½˜æ·‘éœ æ½˜æ·‘è´¤ æ½˜æ·‘å¨´ æ½˜æ·‘è‰³ æ½˜æ·‘ä»ª æ½˜æ·‘æ€¡ æ½˜æ·‘è‹± æ½˜æ·‘åª› æ½˜æ·‘äº‘ æ½˜æ·‘è´ æ½˜æ·‘ç æ½˜æ·‘çœŸ æ½˜æ·‘èŠ æ½˜èˆ’ æ½˜èˆ’å©· æ½˜èœ€å¥ æ½˜æ›™ æ½˜æ›™å…‰ æ½˜è¿° æ½˜æ ‘ æ½˜æ ‘æ‰ æ½˜æ ‘å³° æ½˜æ ‘æ ¹ æ½˜æ ‘å¹¿ æ½˜æ ‘å›½ æ½˜æ ‘çº¢ æ½˜æ ‘èŠ± æ½˜æ ‘å æ½˜æ ‘å†› æ½˜æ ‘ç«‹ æ½˜æ ‘æ— æ½˜æ ‘é¾™ æ½˜æ ‘èŒ‚ æ½˜æ ‘æ˜ æ½˜æ ‘å¹³ æ½˜æ ‘å¼º æ½˜æ ‘é’ æ½˜æ ‘æ¸… æ½˜æ ‘è£ æ½˜æ ‘æ£® æ½˜æ ‘ç”Ÿ æ½˜æ ‘ä¼Ÿ æ½˜æ ‘ç¥¥ æ½˜æ ‘è‹± æ½˜æ ‘äº‘ æ½˜æ ‘ç æ½˜æ• æ½˜æ¾ æ½˜å¸… æ½˜å¸…å†› æ½˜å¸…å¸… æ½˜åŒ æ½˜åŒç¦ æ½˜åŒçº¢ æ½˜åŒåˆ© æ½˜åŒæ— æ½˜åŒæ˜ æ½˜åŒå¹³ æ½˜åŒè æ½˜åŒåŒ æ½˜åŒå–œ æ½˜åŒç‡• æ½˜éœœ æ½˜éœœéœœ æ½˜çˆ½ æ½˜æ°´ æ½˜æ°´èŠ³ æ½˜æ°´æ ¹ æ½˜æ°´å æ½˜æ°´å¨‡ æ½˜æ°´é‡‘ æ½˜æ°´é”¦ æ½˜æ°´å…° æ½˜æ°´è¿ æ½˜æ°´æ— æ½˜æ°´é¾™ æ½˜æ°´å¦¹ æ½˜æ°´æ˜ æ½˜æ°´å¹³ æ½˜æ°´ç´ æ½˜æ°´æ¸… æ½˜æ°´æ³‰ æ½˜æ°´ä»™ æ½˜æ°´è‹± æ½˜é¡º æ½˜é¡ºå® æ½˜é¡ºæ˜Œ æ½˜é¡ºæˆ æ½˜é¡ºæ³• æ½˜é¡ºå æ½˜é¡ºåˆ© æ½˜é¡ºæ˜ æ½˜é¡ºå¼º æ½˜é¡ºè£ æ½˜é¡ºé¡º æ½˜é¡ºå…´ æ½˜é¡ºç‰ æ½˜èˆœ æ½˜çƒ æ½˜æœ”ç«¯ æ½˜ç¡• æ½˜ä¸ä¸ æ½˜æ€ æ½˜æ€è¾° æ½˜æ€è¾¾ æ½˜æ€å‡¡ æ½˜æ€å® æ½˜æ€ä½³ æ½˜æ€æ´ æ½˜æ€æ•¬ æ½˜æ€é™ æ½˜æ€äº® æ½˜æ€æ• æ½˜æ€æ˜ æ½˜æ€å® æ½˜æ€é½ æ½˜æ€çª æ½˜æ€å¼º æ½˜æ€ç´ æ½˜æ€ç¿ æ½˜æ€æ€ æ½˜æ€å©· æ½˜æ€åŒ æ½˜æ€æ–‡ æ½˜æ€å¨´ æ½˜æ€æ—‹ æ½˜æ€é›… æ½˜æ€æ€¡ æ½˜æ€é¢– æ½˜æ€äºˆ æ½˜æ€å®‡ æ½˜æ€ç¾½ æ½˜æ€é›¨ æ½˜æ€æº æ½˜æ€è¿œ æ½˜æ€ç«¹ æ½˜æ–¯ æ½˜æ–¯æ–¯ æ½˜å›› æ½˜å››å®‰ æ½˜å››æµ· æ½˜å››æ— æ½˜å››æ¯› æ½˜æ¾ æ½˜æ¾æŸ æ½˜æ¾æ³¢ æ½˜æ¾å’Œ æ½˜æ¾å æ½˜æ¾æ— æ½˜æ¾èŒ‚ æ½˜æ¾å¹´ æ½˜æ¾è æ½˜æ¾é’ æ½˜æ¾æ¾ æ½˜æ¾æ¶› æ½˜æ¾å²© æ½˜åµ© æ½˜é¢‚ æ½˜é¢‚å¾· æ½˜è‹ æ½˜è‹å æ½˜è‹å¹³ æ½˜è‹è‹ æ½˜è‹é€š æ½˜å¤™ æ½˜ç´  æ½˜ç´ èŠ³ æ½˜ç´ èŠ¬ æ½˜ç´ çº¢ æ½˜ç´ èŠ± æ½˜ç´ å æ½˜ç´ é™ æ½˜ç´ å¨Ÿ æ½˜ç´ å› æ½˜ç´ å…° æ½˜ç´ ç² æ½˜ç´ æ¢… æ½˜ç´ æ• æ½˜ç´ å¹³ æ½˜ç´ ç´ æ½˜ç´ ç´  æ½˜ç´ æ–‡ æ½˜ç´ é›… æ½˜ç´ è‰³ æ½˜ç´ è‹± æ½˜ç´ è¹ æ½˜ç´ äº‘ æ½˜ç´ ç æ½˜é€Ÿè·ƒ æ½˜ç»¥é“­ æ½˜é‚ æ½˜ç©—å æ½˜å¤ªå¹³ æ½˜å¤ªæ°´ æ½˜æ³° æ½˜å› æ½˜æ½­ æ½˜å” æ½˜å ‚ æ½˜å ‚æ— æ½˜æ¶› æ½˜æ¶›æ¶› æ½˜æ»” æ½˜éŸ¬ æ½˜æ¡ƒ æ½˜æ¡ƒçº¢ æ½˜é™¶ æ½˜é™¶å®‡ æ½˜æ·˜ æ½˜è…¾ æ½˜è…¾è¾¾ æ½˜è…¾é£ æ½˜è…¾è…¾ æ½˜å¤© æ½˜å¤©å® æ½˜å¤©ä¿ æ½˜å¤©æˆ æ½˜å¤©èµ æ½˜å¤©å³° æ½˜å¤©ç¦ æ½˜å¤©è€• æ½˜å¤©è´µ æ½˜å¤©çº¢ æ½˜å¤©å æ½˜å¤©æ…§ æ½˜å¤©ä¹ æ½˜å¤©è‰¯ æ½˜å¤©é¾™ æ½˜å¤©æ˜ æ½˜å¤©é¹ æ½˜å¤©ç¾¤ æ½˜å¤©å¯¿ æ½˜å¤©èˆ’ æ½˜å¤©å¤© æ½˜å¤©æ–‡ æ½˜å¤©æ˜Ÿ æ½˜å¤©é›„ æ½˜å¤©ä¸€ æ½˜å¤©ä½‘ æ½˜å¤©å®‡ æ½˜å¤©é›¨ æ½˜ç”° æ½˜ç”°ç”° æ½˜æ¬ æ½˜æ¬æ¬ æ½˜ç”œ æ½˜ç”œç”œ æ½˜é“ æ½˜é“æˆ æ½˜é“å¤« æ½˜é“å†› æ½˜é“æ°‘ æ½˜é“æ–‡ æ½˜é“æŸ± æ½˜å»· æ½˜å»·è´µ æ½˜å»·å æ½˜å»·è£ æ½˜å»·ç¥¥ æ½˜å»·å‹‡ æ½˜äº­ æ½˜äº­äº­ æ½˜å©· æ½˜å©·å©· æ½˜å©·ç‰ æ½˜éœ† æ½˜æŒº æ½˜æŒºæŒº æ½˜æŒºå®‡ æ½˜é€š æ½˜åŒ æ½˜åŒæ˜¥ æ½˜å½¤ æ½˜å½¤å½¤ æ½˜æ¡ æ½˜ç»Ÿè¡¡ æ½˜æ‹“ æ½˜æ¹¾ æ½˜å©‰ æ½˜å©‰é™ æ½˜å©‰ç² æ½˜å©‰å©· æ½˜å©‰å©‰ æ½˜å©‰éœ æ½˜çš–æ±Ÿ æ½˜ä¸‡ æ½˜ä¸‡å‘ æ½˜ä¸‡å æ½˜ä¸‡é‡Œ æ½˜ä¸‡é›„ æ½˜ä¸‡è‹± æ½˜ç‹ æ½˜ç‹é”‹ æ½˜æ—º æ½˜æ—ºç”Ÿ æ½˜æœ› æ½˜æœ›åš æ½˜å¨ æ½˜å¨å¨ æ½˜å¾® æ½˜å¾®å¾® æ½˜è–‡ æ½˜è–‡è–‡ æ½˜å· æ½˜å·å· æ½˜éŸ¦ æ½˜ä¸º æ½˜ä¸ºå æ½˜ä¸ºæ°‘ æ½˜ä¸ºæ˜ æ½˜å”¯ æ½˜æƒŸæ˜• æ½˜ç»´ æ½˜ç»´å®‰ æ½˜ç»´æˆ æ½˜ç»´ä¸œ æ½˜ç»´èŠ³ æ½˜ç»´åˆš æ½˜ç»´å›½ æ½˜ç»´çº¢ æ½˜ç»´å æ½˜ç»´æ° æ½˜ç»´å†› æ½˜ç»´å› æ½˜ç»´è‰¯ æ½˜ç»´æ• æ½˜ç»´æ˜ æ½˜ç»´å® æ½˜ç»´å¹³ æ½˜ç»´å¼º æ½˜ç»´è£ æ½˜ç»´ç”Ÿ æ½˜ç»´èƒœ æ½˜ç»´æ¾ æ½˜ç»´æ¶› æ½˜ç»´ç»´ æ½˜ç»´æ–° æ½˜ç»´å¨… æ½˜ç»´è‹± æ½˜ç»´å¿  æ½˜ä¼Ÿ æ½˜ä¼Ÿå®‰ æ½˜ä¼ŸæŸ æ½˜ä¼Ÿæ ‡ æ½˜ä¼Ÿå½¬ æ½˜ä¼Ÿæ–Œ æ½˜ä¼Ÿæ»¨ æ½˜ä¼Ÿæ³¢ æ½˜ä¼Ÿä¼¯ æ½˜ä¼Ÿåš æ½˜ä¼Ÿæ‰ æ½˜ä¼Ÿæ˜Œ æ½˜ä¼Ÿè¶… æ½˜ä¼ŸåŸ æ½˜ä¼Ÿå· æ½˜ä¼Ÿèª æ½˜ä¼Ÿè¾¾ æ½˜ä¼Ÿè¿ª æ½˜ä¼Ÿä¸œ æ½˜ä¼ŸèŠ³ æ½˜ä¼Ÿé£ æ½˜ä¼ŸèŠ¬ æ½˜ä¼Ÿä¸° æ½˜ä¼Ÿé”‹ æ½˜ä¼Ÿå…‰ æ½˜ä¼Ÿå›½ æ½˜ä¼Ÿè¡Œ æ½˜ä¼Ÿè±ª æ½˜ä¼Ÿçº¢ æ½˜ä¼Ÿæ´ª æ½˜ä¼Ÿå æ½˜ä¼Ÿä½³ æ½˜ä¼Ÿåš æ½˜ä¼Ÿå¥ æ½˜ä¼Ÿæ±Ÿ æ½˜ä¼Ÿæ° æ½˜ä¼Ÿå¨Ÿ æ½˜ä¼Ÿå†› æ½˜ä¼Ÿå› æ½˜ä¼Ÿåº· æ½˜ä¼Ÿå¤ æ½˜ä¼Ÿè‰¯ æ½˜ä¼Ÿçƒˆ æ½˜ä¼Ÿé¾™ æ½˜ä¼Ÿä¼¦ æ½˜ä¼Ÿæ°‘ æ½˜ä¼Ÿæ• æ½˜ä¼Ÿæ˜ æ½˜ä¼Ÿå® æ½˜ä¼Ÿå¹³ æ½˜ä¼Ÿè æ½˜ä¼Ÿå¥‡ æ½˜ä¼Ÿå¼º æ½˜ä¼Ÿç´ æ½˜ä¼Ÿæ¸… æ½˜ä¼Ÿæƒ æ½˜ä¼Ÿè£ æ½˜ä¼Ÿæ£® æ½˜ä¼Ÿç”Ÿ æ½˜ä¼Ÿæ¶› æ½˜ä¼Ÿåº­ æ½˜ä¼Ÿå©· æ½˜ä¼Ÿä¼Ÿ æ½˜ä¼Ÿæ–‡ æ½˜ä¼Ÿè´¤ æ½˜ä¼Ÿç¥¥ æ½˜ä¼Ÿç¿” æ½˜ä¼Ÿæ–° æ½˜ä¼Ÿé›„ æ½˜ä¼Ÿç‡• æ½˜ä¼Ÿé˜³ æ½˜ä¼Ÿä¸š æ½˜ä¼Ÿæ¯… æ½˜ä¼Ÿå‹‡ æ½˜ä¼Ÿæº æ½˜ä¼Ÿäº‘ æ½˜ä¼Ÿç æ½˜ä¼Ÿä¸­ æ½˜ä¼Ÿå¿  æ½˜çº¬ æ½˜ç® æ½˜ç®ä¼¯ æ½˜ç®åš æ½˜ç®ç® æ½˜ç®ä»ª æ½˜ç‚œ æ½˜ç‚œæ° æ½˜ç‚œç‚œ æ½˜å« æ½˜å«æ–Œ æ½˜å«å…µ æ½˜å«ä¸œ æ½˜å«èŠ³ æ½˜å«èŠ¬ æ½˜å«ä¸° æ½˜å«å³° æ½˜å«é”‹ æ½˜å«åˆš æ½˜å«å›½ æ½˜å«çº¢ æ½˜å«å æ½˜å«æ° æ½˜å«å¨Ÿ æ½˜å«å†› æ½˜å«åˆ© æ½˜å«ç² æ½˜å«æ°‘ æ½˜å«æ˜ æ½˜å«å¨œ æ½˜å«å¹³ æ½˜å«è æ½˜å«å¼º æ½˜å«åº† æ½˜å«ä¸‰ æ½˜å«å« æ½˜å«æ–° æ½˜å«æ˜Ÿ æ½˜å«è‹± æ½˜å«ç æ½˜å«å¿  æ½˜æœª æ½˜å°‰ æ½˜æ¸­æ°´ æ½˜è”š æ½˜è”šç³ æ½˜è”šè”š æ½˜è”šé¢– æ½˜æ…° æ½˜æ–‡ æ½˜æ–‡å®‰ æ½˜æ–‡æŸ æ½˜æ–‡å® æ½˜æ–‡æ ‡ æ½˜æ–‡å½¬ æ½˜æ–‡æ–Œ æ½˜æ–‡ç‚³ æ½˜æ–‡æ³¢ æ½˜æ–‡åš æ½˜æ–‡æ‰ æ½˜æ–‡ç¿ æ½˜æ–‡æ˜Œ æ½˜æ–‡è¶… æ½˜æ–‡æˆ æ½˜æ–‡æ˜¥ æ½˜æ–‡èª æ½˜æ–‡å¾— æ½˜æ–‡è¿ª æ½˜æ–‡ä¸œ æ½˜æ–‡èŠ³ æ½˜æ–‡é£ æ½˜æ–‡å³° æ½˜æ–‡é”‹ æ½˜æ–‡å‡¤ æ½˜æ–‡å¯Œ æ½˜æ–‡åˆš æ½˜æ–‡é«˜ æ½˜æ–‡é© æ½˜æ–‡é˜ æ½˜æ–‡å…‰ æ½˜æ–‡å¹¿ æ½˜æ–‡åœ­ æ½˜æ–‡è´µ æ½˜æ–‡å›½ æ½˜æ–‡æµ· æ½˜æ–‡è±ª æ½˜æ–‡æ˜Š æ½˜æ–‡æµ© æ½˜æ–‡æ´ª æ½˜æ–‡è™ æ½˜æ–‡å æ½˜æ–‡è¾‰ æ½˜æ–‡æ…§ æ½˜æ–‡åŸº æ½˜æ–‡ä½³ æ½˜æ–‡å‰‘ æ½˜æ–‡å¥ æ½˜æ–‡æ° æ½˜æ–‡æ· æ½˜æ–‡å©• æ½˜æ–‡é”¦ æ½˜æ–‡è¿› æ½˜æ–‡æ™¶ æ½˜æ–‡é™ æ½˜æ–‡ä¸¾ æ½˜æ–‡å¨Ÿ æ½˜æ–‡å†› æ½˜æ–‡å› æ½˜æ–‡ä¿Š æ½˜æ–‡å‡¯ æ½˜æ–‡ç§‘ æ½˜æ–‡é­ æ½˜æ–‡å…° æ½˜æ–‡ä¹ æ½˜æ–‡åˆ© æ½˜æ–‡è‰ æ½˜æ–‡è‰¯ æ½˜æ–‡äº® æ½˜æ–‡æ— æ½˜æ–‡ç³ æ½˜æ–‡ç² æ½˜æ–‡é¾™ æ½˜æ–‡æ¢… æ½˜æ–‡ç¾ æ½˜æ–‡æ• æ½˜æ–‡æ˜ æ½˜æ–‡å¹´ æ½˜æ–‡å¹³ æ½˜æ–‡è æ½˜æ–‡ç¦ æ½˜æ–‡å€© æ½˜æ–‡å¼º æ½˜æ–‡é’¦ æ½˜æ–‡å‹¤ æ½˜æ–‡å¿ æ½˜æ–‡æ¸… æ½˜æ–‡åº† æ½˜æ–‡æƒ æ½˜æ–‡å…¨ æ½˜æ–‡è£ æ½˜æ–‡å±± æ½˜æ–‡çŠ æ½˜æ–‡ç”Ÿ æ½˜æ–‡èƒœ æ½˜æ–‡ç›› æ½˜æ–‡çŸ³ æ½˜æ–‡å¸… æ½˜æ–‡ç¡• æ½˜æ–‡æ€ æ½˜æ–‡æ¾ æ½˜æ–‡å ‚ æ½˜æ–‡æ¶› æ½˜æ–‡éŸ¬ æ½˜æ–‡å©· æ½˜æ–‡æ—º æ½˜æ–‡ä¼Ÿ æ½˜æ–‡æ–‡ æ½˜æ–‡æ­¦ æ½˜æ–‡ç†™ æ½˜æ–‡éœ æ½˜æ–‡ä»™ æ½˜æ–‡è´¤ æ½˜æ–‡ç¥¥ æ½˜æ–‡ç¿” æ½˜æ–‡æ™“ æ½˜æ–‡å¿ƒ æ½˜æ–‡æ–° æ½˜æ–‡é‘« æ½˜æ–‡å…´ æ½˜æ–‡ç§€ æ½˜æ–‡è½© æ½˜æ–‡å­¦ æ½˜æ–‡é›… æ½˜æ–‡ç‚ æ½˜æ–‡è‰³ æ½˜æ–‡è€€ æ½˜æ–‡æ™” æ½˜æ–‡è‰º æ½˜æ–‡æ„ æ½˜æ–‡è‹± æ½˜æ–‡é¢– æ½˜æ–‡å‹‡ æ½˜æ–‡ç‘œ æ½˜æ–‡å®‡ æ½˜æ–‡ç‰ æ½˜æ–‡æ¸Š æ½˜æ–‡å…ƒ æ½˜æ–‡åª› æ½˜æ–‡è¿œ æ½˜æ–‡äº‘ æ½˜æ–‡å“² æ½˜æ–‡ç æ½˜æ–‡æ”¿ æ½˜æ–‡å¿— æ½˜æ–‡æ²» æ½˜æ–‡æ™º æ½˜æ–‡å¿  æ½˜æ–‡å“ æ½˜æ–‡å®— æ½˜é—»èµ· æ½˜é—»ç‰¹ æ½˜é—»è‰‡ æ½˜é—»èˆŸ æ½˜é›¯ æ½˜é›¯æ´ æ½˜é›¯é”¦ æ½˜é›¯é™ æ½˜é›¯å› æ½˜é›¯å©· æ½˜é›¯æ–‡ æ½˜é›¯é›¯ æ½˜å¾å æ½˜å´ æ½˜äº”äº‘ æ½˜æ­¦ æ½˜æ­¦æ° æ½˜æ­¦å¼º æ½˜æ­¦é›„ æ½˜æ‚Ÿäº‘ æ½˜è¥¿ æ½˜è¥¿å¹³ æ½˜è¥¿è¥¿ æ½˜å¸Œ æ½˜å¸Œè´µ æ½˜å¸Œå†› æ½˜å¸Œäº® æ½˜å¸Œæ˜ æ½˜å¸Œå¹³ æ½˜å¸Œå¼º æ½˜å¸Œåº† æ½˜å¸Œæ­¦ æ½˜å¸Œå¸Œ æ½˜å¸ŒçœŸ æ½˜é”¡ æ½˜é”¡æ˜¥ æ½˜é”¡é”‹ æ½˜é”¡å…‰ æ½˜é”¡è´µ æ½˜é”¡æµ· æ½˜é”¡è±ª æ½˜é”¡ç© æ½˜é”¡å æ½˜é”¡è¾‰ æ½˜é”¡é‡‘ æ½˜é”¡å†› æ½˜é”¡æ— æ½˜é”¡æ˜ æ½˜é”¡å¹³ æ½˜é”¡è æ½˜é”¡å¼º æ½˜é”¡å ‚ æ½˜é”¡æº æ½˜æºª æ½˜ç†™ æ½˜ç†™æ·¦ æ½˜ç†™å®‡ æ½˜æ›¦ æ½˜ä¹ é¾™ æ½˜çº æ½˜å–œ æ½˜å–œå‡¤ æ½˜å–œçº¢ æ½˜å–œå æ½˜å–œè‰¯ æ½˜å–œå–œ æ½˜å–œè‹± æ½˜ç»†æ¡‚ æ½˜ç»†å æ½˜ç»†æ¢… æ½˜ç»†å¦¹ æ½˜ç»†å¹³ æ½˜ä¾ é£ æ½˜ä¾ å® æ½˜éœ æ½˜éœé£ æ½˜éœèŠ¬ æ½˜éœéœ æ½˜éœäº‘ æ½˜å¤ æ½˜ä»™çº¢ æ½˜ä»™å æ½˜ä»™å¨Ÿ æ½˜ä»™æ¢… æ½˜ä»™ä»™ æ½˜å…ˆ æ½˜å…ˆå¾· æ½˜å…ˆé”‹ æ½˜å…ˆæµ· æ½˜å…ˆçº¢ æ½˜å…ˆè§‰ æ½˜å…ˆè¿› æ½˜å…ˆæ— æ½˜å…ˆæ˜ æ½˜å…ˆå¹³ æ½˜å…ˆè£ æ½˜å…ˆä¼Ÿ æ½˜å…ˆæ–‡ æ½˜å…ˆè‹± æ½˜è´¤ æ½˜è´¤æ–Œ æ½˜è´¤æ³¢ æ½˜è´¤æ˜¥ æ½˜è´¤è¾¾ æ½˜è´¤åºš æ½˜è´¤å æ½˜è´¤æ°‘ æ½˜è´¤æ˜ æ½˜è´¤ç¾¤ æ½˜è´¤å‹‡ æ½˜å’¸ æ½˜å¨´ æ½˜æ˜¾ æ½˜æ˜¾å…‰ æ½˜æ˜¾æµ© æ½˜æ˜¾çº¢ æ½˜æ˜¾ç¤¼ æ½˜æ˜¾æ˜ æ½˜æ˜¾æ–‡ æ½˜é™©å³° æ½˜å®ª æ½˜å®ªç”Ÿ æ½˜ç¾¡ æ½˜çŒ®å¿  æ½˜ç›¸ æ½˜ç›¸æ–Œ æ½˜ç›¸è‡£ æ½˜ç›¸é“­ æ½˜ç›¸ä» æ½˜ç›¸æ­¦ æ½˜ç›¸å®‡ æ½˜é¦™ æ½˜é¦™æ˜¥ æ½˜é¦™å› æ½˜é¦™å…° æ½˜é¦™è² æ½˜é¦™ç´ æ½˜é¦™é¦™ æ½˜é¦™äº‘ æ½˜æ¹˜ æ½˜æ¹˜è™¹ æ½˜æ¹˜æ¹˜ æ½˜ç¥¥ æ½˜ç¥¥æ˜¥ æ½˜ç¥¥å æ½˜ç¥¥è¾‰ æ½˜ç¥¥äº® æ½˜ç¥¥æ— æ½˜ç¥¥é¾™ æ½˜ç¥¥æ˜ æ½˜ç¥¥ç”Ÿ æ½˜ç¥¥æ¾ æ½˜ç¿” æ½˜ç¿”ç¿” æ½˜æƒ³ æ½˜å‘ æ½˜å‘ä¸œ æ½˜å‘å…‰ æ½˜å‘å æ½˜å‘å†› æ½˜å‘é» æ½˜å‘æ˜ æ½˜å‘å‰ æ½˜å‘è£ æ½˜å‘é˜³ æ½˜å‘å®‡ æ½˜è‚– æ½˜è‚–çº¢ æ½˜è‚–ç² æ½˜è‚–é¹ æ½˜è‚–è‚– æ½˜éª æ½˜è§ æ½˜æ½‡ æ½˜æ½‡æ± æ½˜æ½‡æ½‡ æ½˜éœ„ æ½˜éœ„é›· æ½˜æ™“ æ½˜æ™“å®‰ æ½˜æ™“è““ æ½˜æ™“å½¬ æ½˜æ™“æ–Œ æ½˜æ™“æ³¢ æ½˜æ™“æ™¨ æ½˜æ™“æˆ æ½˜æ™“å· æ½˜æ™“æ˜¥ æ½˜æ™“çº¯ æ½˜æ™“ä¸¹ æ½˜æ™“ä¸œ æ½˜æ™“å†¬ æ½˜æ™“æ ‹ æ½˜æ™“èŠ³ æ½˜æ™“é£ æ½˜æ™“è² æ½˜æ™“èŠ¬ æ½˜æ™“å³° æ½˜æ™“é”‹ æ½˜æ™“å‡¤ æ½˜æ™“åˆš æ½˜æ™“å…‰ æ½˜æ™“èˆª æ½˜æ™“çº¢ æ½˜æ™“å® æ½˜æ™“è™¹ æ½˜æ™“è™ æ½˜æ™“å æ½˜æ™“æ™– æ½˜æ™“è¾‰ æ½˜æ™“æ…§ æ½˜æ™“ä½³ æ½˜æ™“æ±Ÿ æ½˜æ™“å¨‡ æ½˜æ™“æ° æ½˜æ™“æ´ æ½˜æ™“é‡‘ æ½˜æ™“ç‘¾ æ½˜æ™“è æ½˜æ™“æ™¶ æ½˜æ™“é™ æ½˜æ™“å¨Ÿ æ½˜æ™“å†› æ½˜æ™“å‡ æ½˜æ™“å› æ½˜æ™“å‡¯ æ½˜æ™“å…° æ½˜æ™“é›· æ½˜æ™“ç£Š æ½˜æ™“è•¾ æ½˜æ™“é» æ½˜æ™“ä¸½ æ½˜æ™“åˆ© æ½˜æ™“è‰ æ½˜æ™“è² æ½˜æ™“è‰¯ æ½˜æ™“äº® æ½˜æ™“æ— æ½˜æ™“ç³ æ½˜æ™“çµ æ½˜æ™“ç² æ½˜æ™“å‡Œ æ½˜æ™“é¾™ æ½˜æ™“ç’ æ½˜æ™“éœ² æ½˜æ™“æ¢… æ½˜æ™“ç¾ æ½˜æ™“å¦¹ æ½˜æ™“èŒ æ½˜æ™“æ• æ½˜æ™“æ˜ æ½˜æ™“é¸£ æ½˜æ™“é“­ æ½˜æ™“å¨œ æ½˜æ™“æ¥  æ½˜æ™“å® æ½˜æ™“è¯º æ½˜æ™“é¸¥ æ½˜æ™“å¹³ æ½˜æ™“è æ½˜æ™“ç¦ æ½˜æ™“å€© æ½˜æ™“å¼º æ½˜æ™“ç´ æ½˜æ™“å‹¤ æ½˜æ™“é’ æ½˜æ™“æ¸… æ½˜æ™“æ™´ æ½˜æ™“åº† æ½˜æ™“ç¼ æ½˜æ™“ç§‹ æ½˜æ™“æ³‰ æ½˜æ™“ç¾¤ æ½˜æ™“è•Š æ½˜æ™“ç‘ æ½˜æ™“çŠ æ½˜æ™“ç”Ÿ æ½˜æ™“æ¾ æ½˜æ™“æ£  æ½˜æ™“æ¶› æ½˜æ™“å©· æ½˜æ™“å½¤ æ½˜æ™“å¨ æ½˜æ™“è–‡ æ½˜æ™“ä¼Ÿ æ½˜æ™“æ–‡ æ½˜æ™“é›¯ æ½˜æ™“éœ æ½˜æ™“å¤ æ½˜æ™“è´¤ æ½˜æ™“å¨´ æ½˜æ™“ç¿” æ½˜æ™“æ™“ æ½˜æ™“æ¬£ æ½˜æ™“æ—­ æ½˜æ™“é›ª æ½˜æ™“äºš æ½˜æ™“å¦ æ½˜æ™“è‰³ æ½˜æ™“ç‡• æ½˜æ™“æ‰¬ æ½˜æ™“é˜³ æ½˜æ™“æ¨ æ½˜æ™“ä¾ æ½˜æ™“æ€¡ æ½˜æ™“æ¯… æ½˜æ™“æ‡¿ æ½˜æ™“è‹± æ½˜æ™“è¹ æ½˜æ™“æ°¸ æ½˜æ™“å‹‡ æ½˜æ™“ç‘œ æ½˜æ™“å®‡ æ½˜æ™“é›¨ æ½˜æ™“ç‰ æ½˜æ™“æœˆ æ½˜æ™“äº‘ æ½˜æ™“èŠ¸ æ½˜æ™“ç æ½˜æ™“å¿  æ½˜æ™“ç«¹ æ½˜ç­± æ½˜ç­±é¢– æ½˜å­ æ½˜å­æ–Œ æ½˜å­å…µ æ½˜å­è´¢ æ½˜å­æˆ æ½˜å­å›½ æ½˜å­æµ· æ½˜å­å æ½˜å­å†› æ½˜å­å…° æ½˜å­åˆ© æ½˜å­è‰¯ æ½˜å­æ˜ æ½˜å­é¹ æ½˜å­å¹³ æ½˜å­ä» æ½˜å­ç”Ÿ æ½˜å­ä¼Ÿ æ½˜å­æ–‡ æ½˜å­æ­¦ æ½˜å­èƒ¤ æ½˜å­å‹‡ æ½˜å­äº‘ æ½˜å­è´ æ½˜å­ç æ½˜å­æ”¿ æ½˜å­å¿  æ½˜æ ¡ æ½˜ç¬‘ æ½˜ç¬‘æ¢… æ½˜ç¬‘ç¬‘ æ½˜å•¸ æ½˜å•¸è™ æ½˜å•¸é¾™ æ½˜ååº† æ½˜å¿ƒè¶… æ½˜å¿ƒåŸ æ½˜å¿ƒå¯Œ æ½˜å¿ƒå¦‚ æ½˜å¿ƒæ€¡ æ½˜å¿ƒé›¨ æ½˜å¿ƒå…ƒ æ½˜å¿ƒæ‚¦ æ½˜è¾›è± æ½˜è¾›å¹³ æ½˜æ˜• æ½˜æ˜•æ˜• æ½˜æ˜•æ€¡ æ½˜æ˜•å®‡ æ½˜æ¬£ æ½˜æ¬£å¦‚ æ½˜æ¬£å½¤ æ½˜æ¬£æ¬£ æ½˜æ¬£ä»ª æ½˜æ¬£æ€¡ æ½˜æ¬£å®‡ æ½˜æ¬£é›¨ æ½˜æ¬£æ‚¦ æ½˜æ–° æ½˜æ–°æ½® æ½˜æ–°æˆ æ½˜æ–°åˆ æ½˜æ–°æ˜¥ æ½˜æ–°ä¸œ æ½˜æ–°å‘ æ½˜æ–°èŠ³ æ½˜æ–°ä¸° æ½˜æ–°å³° æ½˜æ–°å‡¤ æ½˜æ–°åˆš æ½˜æ–°å›½ æ½˜æ–°å’Œ æ½˜æ–°çº¢ æ½˜æ–°èŠ± æ½˜æ–°å æ½˜æ–°è¾‰ æ½˜æ–°æ° æ½˜æ–°å†› æ½˜æ–°ä¸½ æ½˜æ–°è‰¯ æ½˜æ–°äº® æ½˜æ–°ç² æ½˜æ–°é¾™ æ½˜æ–°è·¯ æ½˜æ–°æ¢… æ½˜æ–°å¦¹ æ½˜æ–°æ°‘ æ½˜æ–°æ˜ æ½˜æ–°å¹´ æ½˜æ–°å¹³ æ½˜æ–°è æ½˜æ–°æ¡¥ æ½˜æ–°ç¾¤ æ½˜æ–°è£ æ½˜æ–°ç”Ÿ æ½˜æ–°èƒœ æ½˜æ–°æ°´ æ½˜æ–°ä¼Ÿ æ½˜æ–°æ–‡ æ½˜æ–°éœ æ½˜æ–°ç¥¥ æ½˜æ–°æ–° æ½˜æ–°å…´ æ½˜æ–°ç‡• æ½˜æ–°è‹± æ½˜æ–°é¢– æ½˜æ–°å®‡ æ½˜æ–°å…ƒ æ½˜æ–°æœˆ æ½˜æ–°äº‘ æ½˜æ–°å¿  æ½˜é¦¨ æ½˜é¦¨å›­ æ½˜é‘« æ½˜é‘«å æ½˜é‘«æ° æ½˜é‘«é¾™ æ½˜é‘«æ·¼ æ½˜é‘«é‘« æ½˜ä¿¡ æ½˜ä¿¡ç¦ æ½˜ä¿¡è£ æ½˜ä¿¡ä¼Ÿ æ½˜ä¿¡å®‡ æ½˜æ˜Ÿ æ½˜æ˜Ÿå®‰ æ½˜æ˜Ÿè¾° æ½˜æ˜Ÿå…‰ æ½˜æ˜Ÿæµ· æ½˜æ˜Ÿå æ½˜æ˜Ÿè¾‰ æ½˜æ˜Ÿå…° æ½˜æ˜Ÿéœ– æ½˜æ˜Ÿæ˜ æ½˜æ˜Ÿæ˜Ÿ æ½˜æ˜Ÿæ—­ æ½˜æ˜Ÿè°Š æ½˜æ˜Ÿå®‡ æ½˜æ˜Ÿæœˆ æ½˜å…´ æ½˜å…´è¶… æ½˜å…´å¾· æ½˜å…´å‘ æ½˜å…´å³° æ½˜å…´ç¦ æ½˜å…´è´µ æ½˜å…´å›½ æ½˜å…´æµ· æ½˜å…´å® æ½˜å…´å æ½˜å…´å»º æ½˜å…´å†› æ½˜å…´è‰¯ æ½˜å…´æ— æ½˜å…´é¾™ æ½˜å…´éš† æ½˜å…´èŒ‚ æ½˜å…´æ¢… æ½˜å…´æ˜ æ½˜å…´å¹³ æ½˜å…´å¼º æ½˜å…´å…¨ æ½˜å…´æ³‰ æ½˜å…´è£ æ½˜å…´æ¶› æ½˜å…´æ—º æ½˜å…´ä¼Ÿ æ½˜å…´æ–‡ æ½˜å…´åˆ æ½˜å…´æ­¦ æ½˜å…´ç¥¥ æ½˜å…´å…´ æ½˜å…´ä¸š æ½˜å…´ç‘œ æ½˜å…´å…ƒ æ½˜æ æ½˜ææ˜¥ æ½˜ææ¢… æ½˜æè æ½˜æè‹± æ½˜é›„ æ½˜é›„é£ æ½˜é›„ä¼Ÿ æ½˜é›„é›„ æ½˜é›„æ˜“ æ½˜ç†Šé£ æ½˜ä¿®æˆ æ½˜ä¿®é›· æ½˜ä¿®é¾™ æ½˜ä¿®å¹³ æ½˜ä¿®ä¸­ æ½˜ç§€æˆ æ½˜ç§€è¾¾ æ½˜ç§€ä¸¹ æ½˜ç§€ä¸œ æ½˜ç§€å¨¥ æ½˜ç§€èŠ³ æ½˜ç§€èŠ¬ æ½˜ç§€å³° æ½˜ç§€å‡¤ æ½˜ç§€èŠ± æ½˜ç§€å æ½˜ç§€æ…§ æ½˜ç§€æ±Ÿ æ½˜ç§€æ° æ½˜ç§€è æ½˜ç§€èŠ æ½˜ç§€å¨Ÿ æ½˜ç§€å› æ½˜ç§€å…° æ½˜ç§€ä¸½ æ½˜ç§€è¿ æ½˜ç§€è² æ½˜ç§€æ— æ½˜ç§€ç² æ½˜ç§€é¾™ æ½˜ç§€æ¢… æ½˜ç§€ç¾ æ½˜ç§€æ• æ½˜ç§€æ˜ æ½˜ç§€å¥³ æ½˜ç§€è æ½˜ç§€èŠ¹ æ½˜ç§€ç´ æ½˜ç§€é’ æ½˜ç§€æ¸… æ½˜ç§€ç¼ æ½˜ç§€è£ æ½˜ç§€å®¹ æ½˜ç§€èŒ¹ æ½˜ç§€æ¡ƒ æ½˜ç§€å©· æ½˜ç§€ä¼Ÿ æ½˜ç§€æ–‡ æ½˜ç§€éœ æ½˜ç§€ä»™ æ½˜ç§€ç§€ æ½˜ç§€é“¶ æ½˜ç§€è‹± æ½˜ç§€èº æ½˜ç§€äº‘ æ½˜ç§€è´ æ½˜ç§€ç æ½˜ç§€èŠ æ½˜ç§€æ æ½˜å¾ æ½˜æ © æ½˜æ—­ æ½˜æ—­æ™¨ æ½˜æ—­åˆ æ½˜æ—­ä¸œ æ½˜æ—­èŠ³ æ½˜æ—­å³° æ½˜æ—­å…‰ æ½˜æ—­å æ½˜æ—­æ™– æ½˜æ—­è¾‰ æ½˜æ—­æ¾œ æ½˜æ—­ä¸½ æ½˜æ—­äº® æ½˜æ—­ä¸´ æ½˜æ—­æ˜ æ½˜æ—­å©· æ½˜æ—­ä¼Ÿ æ½˜æ—­æ–‡ æ½˜å™ æ½˜å‹– æ½˜ç»ªæ˜ æ½˜å®£ æ½˜è± æ½˜æš„ æ½˜ç…Š æ½˜ç„ æ½˜æ—‹ æ½˜ç’‡ æ½˜ç’‡ç’‡ æ½˜ç‚« æ½˜å­¦ æ½˜å­¦æ ‡ æ½˜å­¦å½ª æ½˜å­¦å½¬ æ½˜å­¦æ–Œ æ½˜å­¦å…µ æ½˜å­¦æ‰ æ½˜å­¦è¶… æ½˜å­¦æˆ æ½˜å­¦èª æ½˜å­¦ä¸œ æ½˜å­¦èŠ³ æ½˜å­¦é£ æ½˜å­¦å³° æ½˜å­¦é”‹ æ½˜å­¦å¹¿ æ½˜å­¦æµ· æ½˜å­¦å® æ½˜å­¦æ´ª æ½˜å­¦å æ½˜å­¦è¾‰ æ½˜å­¦æ…§ æ½˜å­¦å†› æ½˜å­¦å› æ½˜å­¦ä¿Š æ½˜å­¦å‡¯ æ½˜å­¦ç¤¼ æ½˜å­¦ä¸½ æ½˜å­¦è‰¯ æ½˜å­¦æ— æ½˜å­¦ç³ æ½˜å­¦ç² æ½˜å­¦é¾™ æ½˜å­¦ç¾ æ½˜å­¦æ°‘ æ½˜å­¦æ• æ½˜å­¦æ˜ æ½˜å­¦æ¨¡ æ½˜å­¦å¹³ æ½˜å­¦å¼º æ½˜å­¦ç´ æ½˜å­¦å‹¤ æ½˜å­¦æ¸… æ½˜å­¦ä» æ½˜å­¦è£ æ½˜å­¦è¯— æ½˜å­¦æ¾ æ½˜å­¦æ¶› æ½˜å­¦ä¼Ÿ æ½˜å­¦æ–‡ æ½˜å­¦æ­¦ æ½˜å­¦æ–° æ½˜å­¦ç‡• æ½˜å­¦ä¹‰ æ½˜å­¦è‹± æ½˜å­¦å‹‡ æ½˜å­¦å…ƒ æ½˜å­¦æ”¿ æ½˜å­¦å¿— æ½˜å­¦æ™º æ½˜å­¦å¿  æ½˜é›ª æ½˜é›ªæ˜¥ æ½˜é›ªä¸œ æ½˜é›ªå¨¥ æ½˜é›ªå„¿ æ½˜é›ªèŠ³ æ½˜é›ªé£ æ½˜é›ªèŠ¬ æ½˜é›ªå³° æ½˜é›ªå‡¤ æ½˜é›ªçº¢ æ½˜é›ªèŠ± æ½˜é›ªå æ½˜é›ªå¨‡ æ½˜é›ªé™ æ½˜é›ªå¨Ÿ æ½˜é›ªå› æ½˜é›ªå…° æ½˜é›ªä¸½ æ½˜é›ªåˆ© æ½˜é›ªè‰ æ½˜é›ªè¿ æ½˜é›ªè² æ½˜é›ªæ— æ½˜é›ªç² æ½˜é›ªæ¢… æ½˜é›ªç¾ æ½˜é›ªå¦¹ æ½˜é›ªæ˜ æ½˜é›ªå¹³ æ½˜é›ªè æ½˜é›ªèŠ¹ æ½˜é›ªç´ æ½˜é›ªæ¸… æ½˜é›ªèŒ¹ æ½˜é›ªæ¾ æ½˜é›ªå©· æ½˜é›ªé›ª æ½˜é›ªè‰³ æ½˜é›ªè‹± æ½˜é›ªè¹ æ½˜é›ªç‰ æ½˜é›ªäº‘ æ½˜é›ªç æ½˜é›ªç  æ½˜å‹‹ æ½˜æ´µ æ½˜è®­ æ½˜è¿… æ½˜é€Š æ½˜é›… æ½˜é›…èŠ³ æ½˜é›…èŠ¬ æ½˜é›…çº¢ æ½˜é›…å©§ æ½˜é›…é™ æ½˜é›…å¨Ÿ æ½˜é›…å› æ½˜é›…ä¸½ æ½˜é›…ç³ æ½˜é›…ç² æ½˜é›…ç”· æ½˜é›…çª æ½˜é›…æ¸… æ½˜é›…ç¼ æ½˜é›…èŒ¹ æ½˜é›…å©· æ½˜é›…æ–‡ æ½˜é›…é›¯ æ½˜é›…æ¬£ æ½˜é›…é›… æ½˜äºš æ½˜äºšæ–Œ æ½˜äºšæˆ æ½˜äºšä¸¹ æ½˜äºšä¸œ æ½˜äºšé£ æ½˜äºšèŠ¬ æ½˜äºšçº¢ æ½˜äºšå æ½˜äºšæ° æ½˜äºšé™ æ½˜äºšèŠ æ½˜äºšå¨Ÿ æ½˜äºšå†› æ½˜äºšå› æ½˜äºšå¥ æ½˜äºšå¤ æ½˜äºšå…° æ½˜äºšå²š æ½˜äºšç£Š æ½˜äºšä¸½ æ½˜äºšåˆ© æ½˜äºšæ¢ æ½˜äºšæ— æ½˜äºšç² æ½˜äºšæ¢… æ½˜äºšå¦¹ æ½˜äºšæ• æ½˜äºšæ˜ æ½˜äºšå¨œ æ½˜äºšç”· æ½˜äºšå— æ½˜äºšæ¥  æ½˜äºšå® æ½˜äºšé¹ æ½˜äºšå¹³ æ½˜äºšè æ½˜äºšç´ æ½˜äºšé’ æ½˜äºšç¾¤ æ½˜äºšèŒ¹ æ½˜äºšå©· æ½˜äºšå¨ æ½˜äºšæ–‡ æ½˜äºšé›„ æ½˜äºšäºš æ½˜äºšè‹± æ½˜äºšä¸­ æ½˜å¨… æ½˜å¨…ä¸½ æ½˜å¨…å¨… æ½˜å»¶ æ½˜å»¶èŠ³ æ½˜å»¶å æ½˜å»¶è¾‰ æ½˜å»¶å†› æ½˜å»¶é¾™ æ½˜å»¶å¹³ æ½˜å»¶å¼º æ½˜ä¸¥ æ½˜è¨€ æ½˜å¦ æ½˜å¦å¦ æ½˜å²© æ½˜å²©æ¾ æ½˜å²©å²© æ½˜ç‚ æ½˜ç‚å†° æ½˜ç‚ç‚ æ½˜ç ” æ½˜è¡ æ½˜è¡æœ‰ æ½˜ç° æ½˜æ¼” æ½˜å½¦ æ½˜å½¦å†° æ½˜å½¦è¾° æ½˜å½¦ä¸ æ½˜å½¦èŠ³ æ½˜å½¦å¦ƒ æ½˜å½¦å æ½˜å½¦å› æ½˜å½¦éœ– æ½˜å½¦ä¼¶ æ½˜å½¦ç² æ½˜å½¦é¾™ æ½˜å½¦éœ“ æ½˜å½¦å¹³ æ½˜å½¦è“‰ æ½˜å½¦å¦‚ æ½˜å½¦å®‡ æ½˜å½¦æ˜­ æ½˜è‰³ æ½˜è‰³å†° æ½˜è‰³æ˜¥ æ½˜è‰³è² æ½˜è‰³èŠ¬ æ½˜è‰³å‡¤ æ½˜è‰³åˆš æ½˜è‰³çº¢ æ½˜è‰³å æ½˜è‰³è¾‰ æ½˜è‰³å¨‡ æ½˜è‰³æ° æ½˜è‰³å¨Ÿ æ½˜è‰³å†› æ½˜è‰³å› æ½˜è‰³å…° æ½˜è‰³ä¸½ æ½˜è‰³è‰ æ½˜è‰³ç² æ½˜è‰³æ¢… æ½˜è‰³æ• æ½˜è‰³å¦® æ½˜è‰³å¹³ æ½˜è‰³è æ½˜è‰³æ¸… æ½˜è‰³ç¼ æ½˜è‰³ç§‹ æ½˜è‰³è£ æ½˜è‰³å¦‚ æ½˜è‰³èŒ¹ æ½˜è‰³æ¶› æ½˜è‰³éœ æ½˜è‰³è‰³ æ½˜è‰³é˜³ æ½˜æ™ æ½˜é› æ½˜ç„± æ½˜ç‡• æ½˜ç‡•èŠ³ æ½˜ç‡•é£ æ½˜ç‡•èŠ¬ æ½˜ç‡•çº¢ æ½˜ç‡•å æ½˜ç‡•è¾‰ æ½˜ç‡•å†› æ½˜ç‡•å› æ½˜ç‡•å¤ æ½˜ç‡•æ— æ½˜ç‡•é¾™ æ½˜ç‡•æ¢… æ½˜ç‡•æ˜ æ½˜ç‡•å— æ½˜ç‡•å¦® æ½˜ç‡•å¹³ æ½˜ç‡•è æ½˜ç‡•å¿ æ½˜ç‡•æ¸… æ½˜ç‡•ç¾¤ æ½˜ç‡•ç”Ÿ æ½˜ç‡•æ¶› æ½˜ç‡•å©· æ½˜ç‡•æ–‡ æ½˜ç‡•èˆ æ½˜ç‡•éœ æ½˜ç‡•é¢œ æ½˜ç‡•ç‡• æ½˜ç‡•ç æ½˜ç‡•å­ æ½˜å¤®å¤® æ½˜æ‰¬ æ½˜æ‰¬æ‰¬ æ½˜é˜³ æ½˜é˜³æ— æ½˜é˜³ç”Ÿ æ½˜é˜³é˜³ æ½˜æ¨ æ½˜æ¨æŸ³ æ½˜æ¨æ–‡ æ½˜æ¨æ¨ æ½˜æ´‹ æ½˜æ´‹æ´‹ æ½˜å°§ æ½˜é¥ æ½˜ç‘¶ æ½˜ç‘¶è æ½˜ç‘¶ç‘¶ æ½˜è€€ æ½˜è€€æ»¨ æ½˜è€€æ˜Œ æ½˜è€€ç„¯ æ½˜è€€ä¸œ æ½˜è€€å…‰ æ½˜è€€å›½ æ½˜è€€å æ½˜è€€è¾‰ æ½˜è€€å†› æ½˜è€€é¾™ æ½˜è€€æ°‘ æ½˜è€€æ˜ æ½˜è€€å¹³ æ½˜è€€å¼º æ½˜è€€è£ æ½˜è€€ä¼Ÿ æ½˜è€€æ­¦ æ½˜è€€å¿  æ½˜è€€å®— æ½˜è€€ç¥– æ½˜ä¸š æ½˜ä¸šæˆ æ½˜ä¸šå³° æ½˜ä¸šç¾ æ½˜å¶ æ½˜å¶é£ æ½˜å¶é”‹ æ½˜å¶å æ½˜å¶é‡‘ æ½˜å¶å¨Ÿ æ½˜å¶ç´ æ½˜å¶é’ æ½˜å¶æ¸… æ½˜å¤œ æ½˜æ™” æ½˜ä¸€ æ½˜ä¸€æ³¢ æ½˜ä¸€å°˜ æ½˜ä¸€ä¸¹ æ½˜ä¸€å¸† æ½˜ä¸€å‡¡ æ½˜ä¸€é£ æ½˜ä¸€å¤« æ½˜ä¸€ç¦¾ æ½˜ä¸€æ’ æ½˜ä¸€å æ½˜ä¸€å†› æ½˜ä¸€å› æ½˜ä¸€é¾™ æ½˜ä¸€é¸£ æ½˜ä¸€é“­ æ½˜ä¸€æ¥  æ½˜ä¸€å® æ½˜ä¸€å¹³ æ½˜ä¸€è æ½˜ä¸€å±± æ½˜ä¸€å¿ƒ æ½˜ä¸€æ–° æ½˜ä¸€é›„ æ½˜ä¸€ä¸­ æ½˜ä¼Šå¨œ æ½˜ä¼Šæ–‡ æ½˜ä¾ æ½˜ä¾è¯º æ½˜ä¾å©· æ½˜ä¾ä¾ æ½˜ç¥ æ½˜æ¼ª æ½˜ä»ªå› æ½˜æ€¡ æ½˜æ€¡å†° æ½˜æ€¡ç¨‹ æ½˜æ€¡å¸† æ½˜æ€¡å©§ æ½˜æ€¡é™ æ½˜æ€¡å› æ½˜æ€¡è‰¯ æ½˜æ€¡éœ– æ½˜æ€¡è’™ æ½˜æ€¡å¦‚ æ½˜æ€¡å©· æ½˜æ€¡é›¯ æ½˜æ€¡è± æ½˜æ€¡é¢– æ½˜å®œ æ½˜å®œå¹³ æ½˜å®œäº‘ æ½˜è´»æ˜ æ½˜ä¹™ æ½˜ä¹‰ æ½˜ä¹‰çº¢ æ½˜ä¹‰æ˜ æ½˜ä¹‰å¹³ æ½˜ä¹‰æ¸… æ½˜ä¹‰ç”Ÿ æ½˜ä¹‰å‹‡ æ½˜ä¹‰å‹ æ½˜è‰º æ½˜è‰ºå³° æ½˜è‰ºæ— æ½˜è‰ºå©· æ½˜è‰ºæ–‡ æ½˜è‰ºå¿ƒ æ½˜å¿†å½± æ½˜å±¹ æ½˜äº¦ æ½˜äº¦ç³ æ½˜äº¦æ¾ æ½˜å¼‚ æ½˜æ˜“ æ½˜è½¶ æ½˜å¥• æ½˜å¥•å¸† æ½˜å¥•å³° æ½˜å¥•å› æ½˜å¥•é’§ æ½˜å¥•éš½ æ½˜å¥•éœ– æ½˜å¥•å¦‚ æ½˜å¥•å½¤ æ½˜å¥•å¥• æ½˜ç›Š æ½˜ç›Šæ–Œ æ½˜ç›Šæ³¢ æ½˜ç›Šå¾· æ½˜ç›Šå³° æ½˜ç›Šé”‹ æ½˜ç›Šçº¢ æ½˜ç›Šå æ½˜ç›Šæ° æ½˜ç›Šé¾™ æ½˜ç›Šæ°‘ æ½˜ç›Šæ˜ æ½˜ç›Šå¹³ æ½˜ç›Šè æ½˜ç›Šä¼Ÿ æ½˜é€¸ æ½˜é€¸å‡¡ æ½˜é€¸é£ æ½˜é€¸å³° æ½˜é€¸å æ½˜é€¸å©· æ½˜é€¸é˜³ æ½˜æ„ æ½˜æ„æ ‡ æ½˜æº¢ æ½˜æ¯… æ½˜æ¯…å æ½˜æ¯…é¾™ æ½˜æ¯…ç´ æ½˜æ¯…ç¾¤ æ½˜ç†  æ½˜ç¿¼ æ½˜æ‡¿ æ½˜å›  æ½˜èŒµèŒµ æ½˜éŸ³ æ½˜é“¶ æ½˜é“¶é’— æ½˜é“¶èŠ³ æ½˜é“¶æµ· æ½˜é“¶çº¢ æ½˜é“¶èŠ± æ½˜é“¶è¾‰ æ½˜é“¶è² æ½˜é“¶é¾™ æ½˜é“¶å¦¹ æ½˜é“¶å¹³ æ½˜é“¶è æ½˜é“¶ç”Ÿ æ½˜é“¶å©· æ½˜é“¶éœ æ½˜é“¶é“¶ æ½˜é“¶è‹± æ½˜å¯… æ½˜éš æ½˜å° æ½˜èƒ¤ æ½˜è‹± æ½˜è‹±æ‰ æ½˜è‹±ä¸œ æ½˜è‹±è±ª æ½˜è‹±çº¢ æ½˜è‹±å æ½˜è‹±æ…§ æ½˜è‹±æ° æ½˜è‹±ä¿Š æ½˜è‹±ä¸½ æ½˜è‹±è‰¯ æ½˜è‹±æ¢… æ½˜è‹±å¦¹ æ½˜è‹±æ˜ æ½˜è‹±ç”· æ½˜è‹±é¹ æ½˜è‹±æ¶› æ½˜è‹±ä¼Ÿ æ½˜è‹±éœ æ½˜è‹±è´¤ æ½˜è‹±è‹± æ½˜è‹±å§¿ æ½˜è‹±å­ æ½˜èº æ½˜èºèº æ½˜ç‘› æ½˜ç‘›ç‘› æ½˜ç¼¨ æ½˜æ¨± æ½˜æ¨±å­ æ½˜é¹° æ½˜è¿ æ½˜è¿æ˜¥ æ½˜è¿å æ½˜è¿æ· æ½˜è¿å®ª æ½˜è¿æ–° æ½˜è¿è¿ æ½˜è¿ç´« æ½˜ç›ˆ æ½˜ç›ˆå¦‚ æ½˜ç›ˆç›ˆ æ½˜ç›ˆé¢– æ½˜è¹ æ½˜è¹æ˜¥ æ½˜è¹è¹ æ½˜è¥ æ½˜æ»¢ æ½˜èµ¢ æ½˜é¢ æ½˜é¢– æ½˜é¢–è¶… æ½˜é¢–æ™¨ æ½˜é¢–æ…§ æ½˜é¢–ç§‹ æ½˜é¢–æ¾ æ½˜é¢–å©· æ½˜é¢–æ¬£ æ½˜é¢–é¢– æ½˜é¢–å±• æ½˜å½± æ½˜åº”å æ½˜åº”é¾™ æ½˜åº”å¼º æ½˜æ˜  æ½˜æ˜ çº¢ æ½˜æ˜ éœ æ½˜æ˜ æ–° æ½˜æ˜ é›ª æ½˜åº¸ æ½˜é› æ½˜æ°¸ æ½˜æ°¸å®‰ æ½˜æ°¸æ ‡ æ½˜æ°¸æ–Œ æ½˜æ°¸å…µ æ½˜æ°¸æ³¢ æ½˜æ°¸æ‰ æ½˜æ°¸æ˜Œ æ½˜æ°¸è¶… æ½˜æ°¸æˆ æ½˜æ°¸ä¼  æ½˜æ°¸æ˜¥ æ½˜æ°¸å¾· æ½˜æ°¸ä¸œ æ½˜æ°¸èŠ³ æ½˜æ°¸é£ æ½˜æ°¸èŠ¬ æ½˜æ°¸ä¸° æ½˜æ°¸å³° æ½˜æ°¸é”‹ æ½˜æ°¸ç¦ æ½˜æ°¸å¯Œ æ½˜æ°¸åˆš æ½˜æ°¸æ ¹ æ½˜æ°¸å…‰ æ½˜æ°¸è´µ æ½˜æ°¸å›½ æ½˜æ°¸æµ· æ½˜æ°¸æµ© æ½˜æ°¸å’Œ æ½˜æ°¸æ’ æ½˜æ°¸çº¢ æ½˜æ°¸æ´ª æ½˜æ°¸é¸¿ æ½˜æ°¸å æ½˜æ°¸è¾‰ æ½˜æ°¸æƒ  æ½˜æ°¸å˜‰ æ½˜æ°¸åš æ½˜æ°¸å»º æ½˜æ°¸å¥ æ½˜æ°¸æ±Ÿ æ½˜æ°¸æ° æ½˜æ°¸é‡‘ æ½˜æ°¸è¿› æ½˜æ°¸ä¹… æ½˜æ°¸å¨Ÿ æ½˜æ°¸å†› æ½˜æ°¸ä¿Š æ½˜æ°¸åº· æ½˜æ°¸å®½ æ½˜æ°¸å¤ æ½˜æ°¸å…° æ½˜æ°¸ä¹ æ½˜æ°¸åˆ© æ½˜æ°¸è‰¯ æ½˜æ°¸äº® æ½˜æ°¸æ— æ½˜æ°¸ç² æ½˜æ°¸é¾™ æ½˜æ°¸ç¦„ æ½˜æ°¸æ¢… æ½˜æ°¸æ• æ½˜æ°¸æ˜ æ½˜æ°¸å¹´ æ½˜æ°¸å¹³ æ½˜æ°¸è æ½˜æ°¸å¥‡ æ½˜æ°¸å¼º æ½˜æ°¸ç´ æ½˜æ°¸å‹¤ æ½˜æ°¸é’ æ½˜æ°¸æ¸… æ½˜æ°¸åº† æ½˜æ°¸æƒ æ½˜æ°¸å…¨ æ½˜æ°¸æ³‰ æ½˜æ°¸è£ æ½˜æ°¸ç‘ æ½˜æ°¸æ£® æ½˜æ°¸å‡ æ½˜æ°¸ç”Ÿ æ½˜æ°¸èƒœ æ½˜æ°¸é¡º æ½˜æ°¸æ€ æ½˜æ°¸æ¾ æ½˜æ°¸æ³° æ½˜æ°¸æ¶› æ½˜æ°¸æ—º æ½˜æ°¸ä¼Ÿ æ½˜æ°¸æ–‡ æ½˜æ°¸ç¥¥ æ½˜æ°¸ç¿” æ½˜æ°¸æ–° æ½˜æ°¸é‘« æ½˜æ°¸å…´ æ½˜æ°¸é›„ æ½˜æ°¸ç§€ æ½˜æ°¸è€€ æ½˜æ°¸æ€¡ æ½˜æ°¸è‹± æ½˜æ°¸æº æ½˜æ°¸é•¿ æ½˜æ°¸ç æ½˜æ°¸æ­£ æ½˜æ°¸å¿— æ½˜æ°¸å¿  æ½˜æ°¸é’Ÿ æ½˜å’ æ½˜å’æ¢… æ½˜æ³³ æ½˜æ³³æ¬£ æ½˜æ³³ä»ª æ½˜æ³³æ€¡ æ½˜å‹‡ æ½˜å‹‡æˆ æ½˜å‹‡è¾‰ æ½˜å‹‡åš æ½˜å‹‡å†› æ½˜å‹‡æ˜ æ½˜å‹‡å¹³ æ½˜å‹‡å¼º æ½˜å‹‡å…¨ æ½˜å‹‡æ¶› æ½˜å‹‡å‹‡ æ½˜å‹‡æ™º æ½˜æ¶Œ æ½˜ä¼˜ä¼˜ æ½˜æ‚  æ½˜å‹ æ½˜å‹èŠ³ æ½˜å‹å¯Œ æ½˜å‹å® æ½˜å‹å æ½˜å‹å†› æ½˜å‹è‰¯ æ½˜å‹æ— æ½˜å‹æ°‘ æ½˜å‹æ˜ æ½˜å‹æ–‡ æ½˜å‹æ–° æ½˜å‹è°Š æ½˜æœ‰ æ½˜æœ‰è´¢ æ½˜æœ‰å¾· æ½˜æœ‰å†› æ½˜æœ‰è‰¯ æ½˜æœ‰æ¢… æ½˜æœ‰å¼º æ½˜æœ‰ç”° æ½˜æœ‰ä¸º æ½˜æœ‰å¿— æ½˜åˆå®‰ æ½˜ä½‘ æ½˜ä½‘å¼º æ½˜ä½™ æ½˜ä½™åº† æ½˜å¦¤ æ½˜é±¼ æ½˜æ¸ æ½˜ç‘œ æ½˜ç‘œå æ½˜æ¦†æ–‡ æ½˜äºˆ æ½˜å®‡ æ½˜å®‡æ–Œ æ½˜å®‡è¶… æ½˜å®‡æ™¨ æ½˜å®‡ä¸œ æ½˜å®‡é£ æ½˜å®‡æµ· æ½˜å®‡æ¶µ æ½˜å®‡èˆª æ½˜å®‡è±ª æ½˜å®‡æ’ æ½˜å®‡çº¢ æ½˜å®‡æ° æ½˜å®‡ä¿Š æ½˜å®‡å‡Œ æ½˜å®‡æ˜ æ½˜å®‡é¹ æ½˜å®‡ç¦ æ½˜å®‡å©· æ½˜å®‡æ–‡ æ½˜å®‡ç¿” æ½˜å®‡æ˜Ÿ æ½˜å®‡è½© æ½˜å®‡é˜³ æ½˜ç¾½ æ½˜ç¾½ç¦ æ½˜é›¨ æ½˜é›¨è¾° æ½˜é›¨æ™¨ æ½˜é›¨é£ æ½˜é›¨çº¢ æ½˜é›¨è™¹ æ½˜é›¨ä½³ æ½˜é›¨éœ² æ½˜é›¨èŒœ æ½˜é›¨æ™´ æ½˜é›¨æ‰ æ½˜é›¨äº­ æ½˜é›¨å©· æ½˜é›¨å½¤ æ½˜é›¨æ¡ æ½˜é›¨è–‡ æ½˜é›¨é¦¨ æ½˜ç¦¹ æ½˜ç¦¹è¾° æ½˜ç¦¹å½¤ æ½˜è¯­å«£ æ½˜ç‰ æ½˜ç‰å® æ½˜ç‰å½¬ æ½˜ç‰æ–Œ æ½˜ç‰å†° æ½˜ç‰å…µ æ½˜ç‰å½© æ½˜ç‰å©µ æ½˜ç‰æˆ æ½˜ç‰æ˜¥ æ½˜ç‰ç¿  æ½˜ç‰ä¸¹ æ½˜ç‰å¾· æ½˜ç‰ä¸œ æ½˜ç‰å¨¥ æ½˜ç‰å„¿ æ½˜ç‰èŠ³ æ½˜ç‰èŠ¬ æ½˜ç‰å³° æ½˜ç‰é”‹ æ½˜ç‰å‡¤ æ½˜ç‰ç¦ æ½˜ç‰æ ¹ æ½˜ç‰è´µ æ½˜ç‰å›½ æ½˜ç‰æµ· æ½˜ç‰çº¢ æ½˜ç‰èŠ± æ½˜ç‰å æ½˜ç‰ç¯ æ½˜ç‰å®¶ æ½˜ç‰æ±Ÿ æ½˜ç‰å¨‡ æ½˜ç‰å§£ æ½˜ç‰æ° æ½˜ç‰æ´ æ½˜ç‰è¿› æ½˜ç‰äº• æ½˜ç‰å¨Ÿ æ½˜ç‰å†› æ½˜ç‰å› æ½˜ç‰å¥ æ½˜ç‰å¤ æ½˜ç‰å…° æ½˜ç‰ä¹ æ½˜ç‰åˆ© æ½˜ç‰è² æ½˜ç‰è‰¯ æ½˜ç‰äº® æ½˜ç‰æ— æ½˜ç‰ç³ æ½˜ç‰éºŸ æ½˜ç‰ç² æ½˜ç‰é¾™ æ½˜ç‰æ¢… æ½˜ç‰ç¾ æ½˜ç‰å¦¹ æ½˜ç‰æ°‘ æ½˜ç‰æ• æ½˜ç‰æ˜ æ½˜ç‰é¹ æ½˜ç‰å¹³ æ½˜ç‰è æ½˜ç‰çª æ½˜ç‰å¼º æ½˜ç‰èŠ¹ æ½˜ç‰ç´ æ½˜ç‰é’ æ½˜ç‰æ¸… æ½˜ç‰åº† æ½˜ç‰ç¼ æ½˜ç‰ç§‹ æ½˜ç‰å…¨ æ½˜ç‰æ³‰ æ½˜ç‰ç¾¤ æ½˜ç‰ä» æ½˜ç‰è£ æ½˜ç‰è“‰ æ½˜ç‰æ£® æ½˜ç‰å±± æ½˜ç‰ç”Ÿ æ½˜ç‰ä¹¦ æ½˜ç‰åŒ æ½˜ç‰å ‚ æ½˜ç‰æ¶› æ½˜ç‰äº­ æ½˜ç‰å©· æ½˜ç‰ä¼Ÿ æ½˜ç‰æ–‡ æ½˜ç‰çº æ½˜ç‰éœ æ½˜ç‰ä»™ æ½˜ç‰å…ˆ æ½˜ç‰é¦™ æ½˜ç‰ç¥¥ æ½˜ç‰æ¬£ æ½˜ç‰æ–° æ½˜ç‰ç§€ æ½˜ç‰è‰³ æ½˜ç‰ç‡• æ½˜ç‰è‹± æ½˜ç‰è¹ æ½˜ç‰å®‡ æ½˜ç‰ç‰ æ½˜ç‰äº‘ æ½˜ç‰ç æ½˜ç‰èŠ æ½˜ç‰å¿  æ½˜ç‰ç  æ½˜ç‰æŸ± æ½˜éƒ æ½˜éƒç”Ÿ æ½˜è‚²è¶… æ½˜è‚²çº¢ æ½˜è‚²ä¼Ÿ æ½˜è‚²è‹± æ½˜æ˜± æ½˜æ˜±è¾° æ½˜æ˜±å« æ½˜æ˜±å»· æ½˜é’° æ½˜å–» æ½˜è£• æ½˜è£•æŸ æ½˜è£•ä½³ æ½˜è£•æ˜† æ½˜è£•å¹³ æ½˜è£•ä» æ½˜è£•ç”Ÿ æ½˜è£•æ–‡ æ½˜è£•é’° æ½˜ç…œ æ½˜èª‰ æ½˜æ¯“ æ½˜æ¯“åˆš æ½˜æ¯“å¹³ æ½˜æ¸Š æ½˜å…ƒ æ½˜å…ƒæˆ æ½˜å…ƒæ˜¥ æ½˜å…ƒç¦ æ½˜å…ƒç”² æ½˜å…ƒå†› æ½˜å…ƒä¿Š æ½˜å…ƒå¤ æ½˜å…ƒæ˜ æ½˜å…ƒåŸ¹ æ½˜å…ƒæ¸… æ½˜å…ƒç”Ÿ æ½˜å…ƒå…ƒ æ½˜å…ƒå¿  æ½˜å›­ æ½˜å›­å›­ æ½˜å£ æ½˜åŸ æ½˜åœ† æ½˜åœ†åœ† æ½˜æ´æœ æ½˜åª› æ½˜åª›åª› æ½˜æº æ½˜æºè‰¯ æ½˜æºæ³‰ æ½˜æºæº æ½˜è¿œ æ½˜è¿œæ³¢ æ½˜è¿œè¶… æ½˜è¿œä¸œ æ½˜è¿œèŠ³ æ½˜è¿œé£ æ½˜è¿œå¹³ æ½˜è¿œæ´‹ æ½˜è‹‘ æ½˜è‹‘è‹‘ æ½˜æœˆ æ½˜æœˆå¨¥ æ½˜æœˆèŠ¬ æ½˜æœˆå³° æ½˜æœˆå‡¤ æ½˜æœˆæ¡‚ æ½˜æœˆçº¢ æ½˜æœˆèŠ± æ½˜æœˆå æ½˜æœˆè¾‰ æ½˜æœˆå¨‡ æ½˜æœˆæ´ æ½˜æœˆå¨Ÿ æ½˜æœˆä¿Š æ½˜æœˆå…° æ½˜æœˆä¸½ æ½˜æœˆç² æ½˜æœˆé¾™ æ½˜æœˆæ¢… æ½˜æœˆç¾ æ½˜æœˆå¦¹ æ½˜æœˆæ˜ æ½˜æœˆé¹ æ½˜æœˆèŠ¹ æ½˜æœˆç´ æ½˜æœˆäº­ æ½˜æœˆå©· æ½˜æœˆéœ æ½˜æœˆä»™ æ½˜æœˆé¦™ æ½˜æœˆæ–° æ½˜æœˆç‘¶ æ½˜æœˆè‹± æ½˜æœˆæœˆ æ½˜æœˆäº‘ æ½˜æœˆç æ½˜ç¥ æ½˜å²³ æ½˜å²³å³° æ½˜å²³å æ½˜å²³å†› æ½˜å²³æ— æ½˜å²³æ˜ æ½˜é’º æ½˜æ‚¦ æ½˜è·ƒ æ½˜è·ƒä¸œ æ½˜è·ƒé£ æ½˜è·ƒå›½ æ½˜è·ƒçº¢ æ½˜è·ƒå æ½˜è·ƒè¿› æ½˜è·ƒå†› æ½˜è·ƒæ— æ½˜è·ƒé¾™ æ½˜è·ƒå¹³ æ½˜è·ƒä¼Ÿ æ½˜è·ƒæ–° æ½˜è·ƒå‹‡ æ½˜è·ƒè·ƒ æ½˜è¶Š æ½˜è¶Šé£ æ½˜è¶Šå³° æ½˜è¶Šå æ½˜è¶Šç”· æ½˜è¶Šç¿” æ½˜è¶Šäº‘ æ½˜ç²¤æ˜ æ½˜èµŸ æ½˜äº‘ æ½˜äº‘æ–Œ æ½˜äº‘æ³¢ æ½˜äº‘è¶… æ½˜äº‘å· æ½˜äº‘å¨£ æ½˜äº‘ä¸œ æ½˜äº‘èŠ³ æ½˜äº‘é£ æ½˜äº‘èŠ¬ æ½˜äº‘å³° æ½˜äº‘é”‹ æ½˜äº‘å‡¤ æ½˜äº‘å¯Œ æ½˜äº‘è´µ æ½˜äº‘å›½ æ½˜äº‘æµ· æ½˜äº‘æµ© æ½˜äº‘é¹¤ æ½˜äº‘çº¢ æ½˜äº‘å æ½˜äº‘è¾‰ æ½˜äº‘å¨‡ æ½˜äº‘å§£ æ½˜äº‘æ° æ½˜äº‘èŠ æ½˜äº‘å¨Ÿ æ½˜äº‘å¼€ æ½˜äº‘å…° æ½˜äº‘è‰¯ æ½˜äº‘æ— æ½˜äº‘é¾™ æ½˜äº‘æ¢… æ½˜äº‘é¹ æ½˜äº‘å¹³ æ½˜äº‘è æ½˜äº‘å¼º æ½˜äº‘é’ æ½˜äº‘æ¸… æ½˜äº‘å±± æ½˜äº‘ç”Ÿ æ½˜äº‘æ°´ æ½˜äº‘æ¾ æ½˜äº‘æ¶› æ½˜äº‘å¤© æ½˜äº‘æ›¦ æ½˜äº‘å–œ æ½˜äº‘ä¾  æ½˜äº‘éœ æ½˜äº‘ä»™ æ½˜äº‘é¦™ æ½˜äº‘ç¥¥ æ½˜äº‘ç¿” æ½˜äº‘éœ„ æ½˜äº‘è‰³ æ½˜äº‘ç‡• æ½˜äº‘äº‘ æ½˜äº‘å¬ æ½˜äº‘è´ æ½˜äº‘ç æ½˜äº‘å¿  æ½˜èŠ¸ æ½˜èŠ¸èŠ¸ æ½˜æ˜€ æ½˜è€˜ æ½˜é‹† æ½˜å…ç«¯ æ½˜å…åº· æ½˜å…äº® æ½˜è¿ æ½˜è¿å›½ æ½˜è¿å æ½˜è¿å…° æ½˜è¿é¾™ æ½˜è¿æ˜ æ½˜è¿ç”Ÿ æ½˜éŸµ æ½˜éŸµæ¶µ æ½˜éŸµå¦‚ æ½˜éŸµé›¯ æ½˜éŸµæ€¡ æ½˜éŸµèŠ æ½˜è•´ æ½˜è•´å¦‚ æ½˜å†çº¢ æ½˜å†å¹³ æ½˜å†å®‡ æ½˜åœ¨é˜³ æ½˜èµ æ½˜èµæµ· æ½˜èµåŒ– æ½˜æ³½ æ½˜æ³½æ³¢ æ½˜æ³½æˆ æ½˜æ³½ä¸œ æ½˜æ³½å³° æ½˜æ³½é”‹ æ½˜æ³½æµ· æ½˜æ³½å æ½˜æ³½è¾‰ æ½˜æ³½æ…§ æ½˜æ³½é‡‘ æ½˜æ³½å†› æ½˜æ³½æ— æ½˜æ³½é¾™ æ½˜æ³½æ°‘ æ½˜æ³½æ˜ æ½˜æ³½å— æ½˜æ³½å¹³ æ½˜æ³½æ–‡ æ½˜æ³½é›„ æ½˜æ³½äºš æ½˜æ³½å‹‡ æ½˜æ³½å®‡ æ½˜å¢å¼Ÿ æ½˜å¢å æ½˜å¢è¾‰ æ½˜å¢æ˜ æ½˜å¢æº æ½˜ç»è¿œ æ½˜å±• æ½˜å å†› æ½˜å æ— æ½˜æˆ˜ä¼Ÿ æ½˜å¼  æ½˜ç«  æ½˜ç’‹ æ½˜é•¿å®‰ æ½˜é•¿æ˜¥ æ½˜é•¿ä¸œ æ½˜é•¿å‘ æ½˜é•¿ç¦ æ½˜é•¿æ ¹ æ½˜é•¿æµ· æ½˜é•¿æµ© æ½˜é•¿çº¢ æ½˜é•¿è™¹ æ½˜é•¿å æ½˜é•¿æ±Ÿ æ½˜é•¿ä¹… æ½˜é•¿å†› æ½˜é•¿ä¹ æ½˜é•¿è‰¯ æ½˜é•¿æ— æ½˜é•¿ç¦„ æ½˜é•¿æ˜ æ½˜é•¿å¹³ æ½˜é•¿é’ æ½˜é•¿æ¸… æ½˜é•¿ç”Ÿ æ½˜é•¿èƒœ æ½˜é•¿æ°´ æ½˜é•¿æ¾ æ½˜é•¿æ—º æ½˜é•¿ä¼Ÿ æ½˜é•¿æ–‡ æ½˜é•¿ç‡• æ½˜é•¿è€€ æ½˜é•¿è‹± æ½˜é•¿å‹‡ æ½˜é•¿æœ‰ æ½˜é•¿ç‰ æ½˜é•¿äº‘ æ½˜é•¿è‡» æ½˜é•¿å¾ æ½˜é’Š æ½˜æ‹›å¨£ æ½˜æ˜­ æ½˜æ˜­æ™– æ½˜æ˜­å æ½˜æ˜­æ–‡ æ½˜æ˜­å‹‹ æ½˜æ˜­é¢– æ½˜å…† æ½˜å…†ä¸° æ½˜å…†åˆš æ½˜å…†å…‰ æ½˜å…†å æ½˜å…†è¾‰ æ½˜å…†å†› æ½˜å…†é¾™ æ½˜å…†æ°‘ æ½˜å…†æ˜ æ½˜å…†é¹ æ½˜å…†å¹³ æ½˜å…†æ¸… æ½˜å…†ä¼Ÿ æ½˜å…†æ–‡ æ½˜å…†ç¥¥ æ½˜å…†è‹± æ½˜å…†äº‘ æ½˜èµµå æ½˜èµµå«” æ½˜ç…§ æ½˜ç…§ä¸œ æ½˜å“² æ½˜å“²æ˜ æ½˜å“²å®‡ æ½˜å“²å“² æ½˜å–† æ½˜è´ æ½˜è´è´ æ½˜ç æ½˜çå æ½˜çå…° æ½˜çç æ½˜çœŸ æ½˜çœŸçœŸ æ½˜æ¡¢ æ½˜è‡» æ½˜è‡»å¿ æ½˜æŒ¯ æ½˜æŒ¯é‚¦ æ½˜æŒ¯å½¬ æ½˜æŒ¯æ³¢ æ½˜æŒ¯æˆ æ½˜æŒ¯æ‰¿ æ½˜æŒ¯ä¸œ æ½˜æŒ¯èŠ³ æ½˜æŒ¯å³° æ½˜æŒ¯é”‹ æ½˜æŒ¯å›½ æ½˜æŒ¯æµ· æ½˜æŒ¯è±ª æ½˜æŒ¯å æ½˜æŒ¯ç¯ æ½˜æŒ¯æ±Ÿ æ½˜æŒ¯èŠ‚ æ½˜æŒ¯å› æ½˜æŒ¯äº® æ½˜æŒ¯é¾™ æ½˜æŒ¯æ¢… æ½˜æŒ¯æ°‘ æ½˜æŒ¯æ˜ æ½˜æŒ¯å— æ½˜æŒ¯é¹ æ½˜æŒ¯å¹³ æ½˜æŒ¯å¯ æ½˜æŒ¯å¼º æ½˜æŒ¯æ¸… æ½˜æŒ¯çƒ æ½˜æŒ¯è£ æ½˜æŒ¯å£° æ½˜æŒ¯æ¶› æ½˜æŒ¯ä¼Ÿ æ½˜æŒ¯æ­¦ æ½˜æŒ¯éœ æ½˜æŒ¯é‘« æ½˜æŒ¯å…´ æ½˜æŒ¯äºš æ½˜æŒ¯ä¸š æ½˜æŒ¯è‹± æ½˜æŒ¯å®‡ æ½˜æŒ¯ç‰ æ½˜æŒ¯äº‘ æ½˜æŒ¯ä¸­ æ½˜æŒ¯æ´² æ½˜éœ‡ æ½˜éœ‡é£ æ½˜éœ‡å¯° æ½˜éœ‡ä¼Ÿ æ½˜éœ‡äºš æ½˜éœ‡å®‡ æ½˜éœ‡ä¸­ æ½˜éœ‡å®™ æ½˜é•‡ æ½˜å¾ æ½˜å¾å†› æ½˜å³¥ æ½˜å³¥å³¥ æ½˜é“® æ½˜é“®é“® æ½˜æ­£ æ½˜æ­£æ–Œ æ½˜æ­£æ‰ æ½˜æ­£æ½® æ½˜æ­£é“ æ½˜æ­£ä¸œ æ½˜æ­£æ–¹ æ½˜æ­£èŠ³ æ½˜æ­£èŠ¬ æ½˜æ­£ç¦ æ½˜æ­£å¯Œ æ½˜æ­£åˆš æ½˜æ­£å…‰ æ½˜æ­£å›½ æ½˜æ­£æµ· æ½˜æ­£æµ© æ½˜æ­£çº¢ æ½˜æ­£å æ½˜æ­£æ±Ÿ æ½˜æ­£å†› æ½˜æ­£å› æ½˜æ­£è² æ½˜æ­£è‰¯ æ½˜æ­£äº® æ½˜æ­£æ— æ½˜æ­£é¾™ æ½˜æ­£èŒ‚ æ½˜æ­£æ¢… æ½˜æ­£æ°‘ æ½˜æ­£æ˜ æ½˜æ­£å¼º æ½˜æ­£æƒ æ½˜æ­£è£ æ½˜æ­£ç”Ÿ æ½˜æ­£æ¶› æ½˜æ­£ä¼Ÿ æ½˜æ­£ç‚œ æ½˜æ­£æ–‡ æ½˜æ­£å–œ æ½˜æ­£éœ æ½˜æ­£ç¥¥ æ½˜æ­£å…´ æ½˜æ­£é›„ æ½˜æ­£äºš æ½˜æ­£å½¦ æ½˜æ­£é˜³ æ½˜æ­£ä¹‰ æ½˜æ­£è‹± æ½˜æ­£å‹‡ æ½˜æ­£ç‰ æ½˜æ­£å…ƒ æ½˜æ­£æº æ½˜æ­£æ‚¦ æ½˜æ­£äº‘ æ½˜æ­£æ´² æ½˜éƒ‘ æ½˜æ”¿ æ½˜æ”¿æ°‘ æ½˜æ”¿æƒ æ½˜æ”¿ä¼Ÿ æ½˜æ”¿æ–‡ æ½˜æ”¿æ‰¬ æ½˜æ”¿å®‡ æ½˜ä¹‹æ’ æ½˜ä¹‹ç£Š æ½˜ä¹‹ç³ æ½˜ä¹‹æ• æ½˜ä¹‹æ¸… æ½˜ä¹‹æœ› æ½˜èŠèŠ¬ æ½˜èŠè‰ æ½˜èŠæ¢… æ½˜èŠè‹± æ½˜æ æ½˜æèŠ± æ½˜æèˆ° æ½˜çŸ¥å¸¸ æ½˜æ¤ æ½˜èŠ·æ™´ æ½˜èŠ·çŠ æ½˜èŠ·æ¬£ æ½˜èŠ·è¹ æ½˜è‡³è¯š æ½˜å¿— æ½˜å¿—å®‰ æ½˜å¿—æ ‡ æ½˜å¿—å½¬ æ½˜å¿—æ–Œ æ½˜å¿—å…µ æ½˜å¿—æ‰ æ½˜å¿—è¶… æ½˜å¿—ç› æ½˜å¿—æˆ æ½˜å¿—è¯š æ½˜å¿—åŸ æ½˜å¿—æ˜¥ æ½˜å¿—çº¯ æ½˜å¿—èª æ½˜å¿—è¾¾ æ½˜å¿—å¾· æ½˜å¿—ä¸œ æ½˜å¿—æ ‹ æ½˜å¿—å‘ æ½˜å¿—æ–¹ æ½˜å¿—èŠ³ æ½˜å¿—é£ æ½˜å¿—èŠ¬ æ½˜å¿—å³° æ½˜å¿—é”‹ æ½˜å¿—ç¦ æ½˜å¿—åˆš æ½˜å¿—é«˜ æ½˜å¿—æ ¹ æ½˜å¿—å…‰ æ½˜å¿—å¹¿ æ½˜å¿—è´µ æ½˜å¿—å›½ æ½˜å¿—è±ª æ½˜å¿—æµ© æ½˜å¿—å’Œ æ½˜å¿—æ’ æ½˜å¿—çº¢ æ½˜å¿—å® æ½˜å¿—æ´ª æ½˜å¿—è™ æ½˜å¿—å æ½˜å¿—è¾‰ æ½˜å¿—æ…§ æ½˜å¿—ä½³ æ½˜å¿—å˜‰ æ½˜å¿—åš æ½˜å¿—å»º æ½˜å¿—æ±Ÿ æ½˜å¿—æ° æ½˜å¿—æ´ æ½˜å¿—é‡‘ æ½˜å¿—å¨Ÿ æ½˜å¿—å†› æ½˜å¿—å› æ½˜å¿—ä¿Š æ½˜å¿—å‡¯ æ½˜å¿—å…° æ½˜å¿—ç«‹ æ½˜å¿—è‰¯ æ½˜å¿—äº® æ½˜å¿—æ— æ½˜å¿—ç³ æ½˜å¿—é¾™ æ½˜å¿—æ¢… æ½˜å¿—å¦¹ æ½˜å¿—çŒ› æ½˜å¿—æ°‘ æ½˜å¿—æ• æ½˜å¿—æ˜ æ½˜å¿—é“­ æ½˜å¿—å— æ½˜å¿—èƒ½ æ½˜å¿—é¹ æ½˜å¿—å¹³ æ½˜å¿—å¼º æ½˜å¿—ç´ æ½˜å¿—å‹¤ æ½˜å¿—å¿ æ½˜å¿—æ¸… æ½˜å¿—æƒ æ½˜å¿—å…¨ æ½˜å¿—æ³‰ æ½˜å¿—ç¾¤ æ½˜å¿—ä» æ½˜å¿—è£ æ½˜å¿—å±± æ½˜å¿—å‡ æ½˜å¿—ç”Ÿ æ½˜å¿—èƒœ æ½˜å¿—æ¶› æ½˜å¿—å¨ æ½˜å¿—ä¼Ÿ æ½˜å¿—ç‚œ æ½˜å¿—æ–‡ æ½˜å¿—æ­¦ æ½˜å¿—è´¤ æ½˜å¿—é¦™ æ½˜å¿—ç¥¥ æ½˜å¿—ç¿” æ½˜å¿—æ–° æ½˜å¿—æ˜Ÿ æ½˜å¿—å…´ æ½˜å¿—é›„ æ½˜å¿—ç§€ æ½˜å¿—å²© æ½˜å¿—è‰³ æ½˜å¿—ä¹‰ æ½˜å¿—è‰º æ½˜å¿—æ¯… æ½˜å¿—è‹± æ½˜å¿—æ°¸ æ½˜å¿—å‹‡ æ½˜å¿—å®‡ æ½˜å¿—æº æ½˜å¿—è¿œ æ½˜å¿—äº‘ æ½˜å¿—ç æ½˜å¿—ä¸­ æ½˜å¿—å¿  æ½˜æ²» æ½˜æ²»å¯Œ æ½˜æ²»è´µ æ½˜æ²»å›½ æ½˜æ²»æ˜ æ½˜æ²»å¹³ æ½˜æ²»æ¸… æ½˜æ²»å®‡ æ½˜è‡´å¹³ æ½˜è‡´æ–‡ æ½˜è‡´è¿œ æ½˜æ™º æ½˜æ™ºå½ª æ½˜æ™ºè¶… æ½˜æ™ºèª æ½˜æ™ºèŠ³ æ½˜æ™ºå³° æ½˜æ™ºåˆš æ½˜æ™ºå æ½˜æ™ºæ…§ æ½˜æ™ºå†› æ½˜æ™ºæ• æ½˜æ™ºé¹ æ½˜æ™ºå¼º æ½˜æ™ºç¾¤ æ½˜æ™ºè£ æ½˜æ™ºç”Ÿ æ½˜æ™ºå¨ æ½˜æ™ºä¼Ÿ æ½˜æ™ºæ–‡ æ½˜æ™ºå¦ æ½˜æ™ºæ¯… æ½˜æ™ºè‹± æ½˜æ™ºå‹‡ æ½˜ä¸­ æ½˜ä¸­æµ· æ½˜ä¸­å æ½˜ä¸­å…° æ½˜ä¸­è‰¯ æ½˜ä¸­äº® æ½˜ä¸­æ— æ½˜ä¸­æ˜ æ½˜ä¸­å— æ½˜ä¸­å¹³ æ½˜ä¸­å¼º æ½˜ä¸­ä¼Ÿ æ½˜ä¸­è€€ æ½˜ä¸­ä¹‰ æ½˜ä¸­è‹± æ½˜ä¸­å…ƒ æ½˜ä¸­å… æ½˜ä¸­æ³½ æ½˜å¿  æ½˜å¿ å® æ½˜å¿ æ‰ æ½˜å¿ è¯š æ½˜å¿ å…š æ½˜å¿ å›½ æ½˜å¿ æµ· æ½˜å¿ å æ½˜å¿ è¾‰ æ½˜å¿ ä¹ æ½˜å¿ ç¤¼ æ½˜å¿ è‰¯ æ½˜å¿ æ— æ½˜å¿ æ°‘ æ½˜å¿ æ˜ æ½˜å¿ å¹³ æ½˜å¿ ä» æ½˜å¿ ä¼Ÿ æ½˜å¿ æ–‡ æ½˜å¿ æ­¦ æ½˜å¿ ç¥¥ æ½˜å¿ å­ æ½˜å¿ ä¹‰ æ½˜å¿ å‹‡ æ½˜å¿ å®‡ æ½˜å¿ å…ƒ æ½˜ä»² æ½˜ä»²å æ½˜ä»²è‰¯ æ½˜ä»²æ— æ½˜ä»²æ˜ æ½˜ä»²å¹³ æ½˜ä»²æ–‡ æ½˜ä»²è´¤ æ½˜ä»²å®‡ æ½˜é‡ æ½˜é‡é˜³ æ½˜å· æ½˜å‘¨ æ½˜å‘¨æ¸… æ½˜æ´² æ½˜æœ± æ½˜ç  æ½˜ç«¹ æ½˜ç«¹æ— æ½˜ç«¹æ¢… æ½˜ç«¹ç”Ÿ æ½˜ç«¹æ¾ æ½˜ä¸»å…° æ½˜æŸ± æ½˜æŸ±å»· æ½˜ç¥æœ æ½˜ç¥å¹³ æ½˜ç¥è‹± æ½˜ä¸“ æ½˜å£® æ½˜å£®å¿— æ½˜å£®å£® æ½˜å“ æ½˜å“ç„¶ æ½˜å“é¢– æ½˜å§¿ æ½˜æ»‹åŸ¹ æ½˜å­ æ½˜å­å®‰ æ½˜å­æ˜‚ æ½˜å­å½¬ æ½˜å­è¶… æ½˜å­æˆ æ½˜å­åˆ æ½˜å­æ¶µ æ½˜å­è±ª æ½˜å­æµ© æ½˜å­ç æ½˜å­å’Œ æ½˜å­æ’ æ½˜å­è¡¡ æ½˜å­çº¢ æ½˜å­å æ½˜å­éª… æ½˜å­è¾‰ æ½˜å­ä½³ æ½˜å­å»º æ½˜å­å¥ æ½˜å­æ° æ½˜å­æ•¬ æ½˜å­å†› æ½˜å­å› æ½˜å­ä¿Š æ½˜å­å…° æ½˜å­è‰¯ æ½˜å­æ— æ½˜å­é¾™ æ½˜å­æ°‘ æ½˜å­æ˜ æ½˜å­é¹ æ½˜å­å¹³ æ½˜å­å¥‡ æ½˜å­çª æ½˜å­ç¦ æ½˜å­å¼º æ½˜å­æ¸… æ½˜å­æ™´ æ½˜å­è£ æ½˜å­å¨ æ½˜å­æ–‡ æ½˜å­ç¥¥ æ½˜å­å…´ æ½˜å­è½© æ½˜å­ç’‡ æ½˜å­æ‰¬ æ½˜å­é˜³ æ½˜å­æ´‹ æ½˜å­ä¸€ æ½˜å­ä»ª æ½˜å­æ€¡ æ½˜å­æ¯… æ½˜å­è‹± æ½˜å­ç‰ æ½˜å­æœˆ æ½˜æ¢“ æ½˜æ¢“å¹´ æ½˜ç´«å› æ½˜ç´«å¾® æ½˜ç´«è–‡ æ½˜è‡ªè¾¾ æ½˜è‡ªåŠ› æ½˜è‡ªç«‹ æ½˜è‡ªæ— æ½˜è‡ªå¼º æ½˜è‡ªæ–‡ æ½˜å®— æ½˜å®—ç™½ æ½˜å®—å…‰ æ½˜å®—æµ· æ½˜å®—è¾‰ æ½˜å®—æ° æ½˜å®—äº® æ½˜å®—æ— æ½˜å®—æ˜ æ½˜å®—å¥‡ æ½˜å®—å¼º æ½˜å®—ä¼Ÿ æ½˜å®—é˜³ æ½˜å®—ä¹‰ æ½˜å®—è‹± æ½˜å®—å‹ æ½˜å®—è¿œ æ½˜å®—æ³½ æ½˜ç¥–å®‰ æ½˜ç¥–å¾· æ½˜ç¥–èŠ³ æ½˜ç¥–å³° æ½˜ç¥–é«˜ æ½˜ç¥–å…‰ æ½˜ç¥–å›½ æ½˜ç¥–å æ½˜ç¥–è¾‰ æ½˜ç¥–æ° æ½˜ç¥–å†› æ½˜ç¥–è‰¯ æ½˜ç¥–äº® æ½˜ç¥–çƒˆ æ½˜ç¥–æ— æ½˜ç¥–é¾™ æ½˜ç¥–æ˜ æ½˜ç¥–é¹ æ½˜ç¥–å¹³ æ½˜ç¥–å¼º æ½˜ç¥–ä» æ½˜ç¥–è£ æ½˜ç¥–å±± æ½˜ç¥–é¡º æ½˜ç¥–æ–‡ æ½˜ç¥–éœ æ½˜ç¥–ä¿¡ æ½˜ç¥–å…´ æ½˜ç¥–è¨€ æ½˜ç¥–è« æ½˜ç¥–è‹± æ½˜ç¥–å‹‡ æ½˜ç¥–å‹ æ½˜æœ€é£ æ½˜å·¦ æ½˜ä½å æ½˜ä½æ— æ½˜ä½œè‰¯ æ½˜ä½œæ¢… æ½˜ä½œæ•\n","description":"\n","tags":[],"title":"\nåå­—","uri":"/posts/post-20/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç³»ç»Ÿç¯å¢ƒä»‹ç»ä»¥åŠå‡†å¤‡ æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ [root@xmg-hk ~]# cat /etc/redhat-release CentOS Linux release 7.9.2009 (Core) æŸ¥çœ‹opensslç‰ˆæœ¬ [root@xmg-hk ~]# openssl version OpenSSL 1.0.2k-fips 26 Jan 2017 å®˜ç½‘ä¸‹è½½openssl-1.1.1k å…¶ä»–ç‰ˆæœ¬å¯å‚è€ƒä¸‹è½½ï¼š https://www.openssl.org/source/openssl-1.1.1k.tar.gz\nè¯¦ç»†æ“ä½œæ­¥éª¤ å…ˆå¤‡ä»½ mv /usr/bin/openssl /usr/bin/openssl.bak mv /usr/include/openssl /usr/include/openssl.bak è¿›å…¥ç›®å½•å¹¶ç¼–è¯‘ cd /usr/local/openssl-1.1.1k ./config --prefix=/usr/local/openssl make \u0026\u0026 make install å»ºç«‹é“¾æ¥ ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl ln -s /usr/local/openssl/include/openssl /usr/include/openssl echo â€œ/usr/local/openssl/libâ€ \u003e\u003e /etc/ld.so.conf ldconfig -v æŸ¥çœ‹æ˜¯å¦å‡çº§æˆåŠŸ [root@xmg-hk ~]# openssl version OpenSSL 1.1.1k 25 Mar 2021 è¯´æ˜ï¼šéœ€è¦å…ˆè¿›è¡Œå¤‡ä»½ï¼Œå¤‡ä»½éœ€è¦åœ¨\"å»ºç«‹é“¾æ¥\"æ“ä½œä»¥å‰å®Œæˆã€‚\n","description":"\n","tags":[],"title":"\nCentOS7.9ä¸‹å‡çº§OpenSSLåˆ°OpenSSL 1.1.1k","uri":"/posts/post-271/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"CentOSå®‰è£…noVNCï¼Œä»¥Webæ–¹å¼äº¤ä»˜VNCè¿œç¨‹è¿æ¥ ä»€ä¹ˆæ˜¯noVNC noVNC æ˜¯ä¸€ä¸ª HTML5 VNC å®¢æˆ·ç«¯ï¼Œé‡‡ç”¨ HTML 5 WebSockets, Canvas å’Œ JavaScript å®ç°ï¼ŒnoVNC è¢«æ™®éç”¨åœ¨å„å¤§äº‘è®¡ç®—ã€è™šæ‹Ÿæœºæ§åˆ¶é¢æ¿ä¸­ï¼Œæ¯”å¦‚ OpenStack Dashboard å’Œ OpenNebula Sunstone éƒ½ç”¨çš„æ˜¯ noVNCã€‚ noVNC é‡‡ç”¨ WebSockets å®ç°ï¼Œä½†æ˜¯ç›®å‰å¤§å¤šæ•° VNC æœåŠ¡å™¨éƒ½ä¸æ”¯æŒ WebSocketsï¼Œæ‰€ä»¥ noVNC æ˜¯ä¸èƒ½ç›´æ¥è¿æ¥ VNC æœåŠ¡å™¨çš„ï¼Œéœ€è¦ä¸€ä¸ªä»£ç†æ¥åš WebSockets å’Œ TCP sockets ä¹‹é—´çš„è½¬æ¢ã€‚è¿™ä¸ªä»£ç†åœ¨ noVNC çš„ç›®å½•é‡Œï¼Œå«åš websockify ã€‚\nå®éªŒç¯å¢ƒ VMware Workstations å¸¦æ¡Œé¢çš„CentOS7è™šæ‹Ÿæœº Windows 10 å®¿ä¸»æœº + Google Chromeæµè§ˆå™¨ å…³é—­é˜²ç«å¢™ 1 2 3 setenforce 0 systemctl stop firewalld systemctl disable firewalld å®‰è£…noVNC å®‰è£…ä¾èµ–è½¯ä»¶åŒ…\n1 2 3 yum install -y epel* yum install -y git yum install -y tigervnc-server æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¹¶è¾“å…¥å¯†ç å¯åŠ¨æœåŠ¡\n1 vncserver :1 å®‰è£…noVNC\n1 git clone git://github.com/kanaka/noVNC åˆ›å»ºå®‰å…¨è¿æ¥ï¼ˆä¸€è·¯å›è½¦ä¸‹å»â€¦ï¼‰\n1 2 cd ./noVNC/utils/ openssl req -new -x509 -days 365 -nodes -out self.pem -keyout self.pem æ³¨ï¼š VNCçš„é»˜è®¤ä¼šè¯ä¸æ˜¯å®‰å…¨çš„ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„VNCè¿æ¥ã€‚åˆ›å»ºå®Œæ¯•çš„è¯ä¹¦ self.pem éœ€è¦æ”¾ç½®åˆ° noVNC/utils ç›®å½•ä¸‹ï¼Œå½“å¯åŠ¨ noVNC æ—¶ï¼Œwebsockifyå°†è‡ªåŠ¨è£…è½½è¯ä¹¦ã€‚\nè¿è¡ŒnoVNC\n1 2 # åœ¨noVNCç›®å½•ä¸‹ï¼Œæ‰§è¡Œ ./utils/launch.sh --vnc localhost:5901 æµ‹è¯•è¿æ¥ åœ¨æµè§ˆå™¨è®¿é—®ï¼ˆæ³¨æ„æ›¿æ¢æˆè‡ªå·±çš„IPåœ°å€ï¼‰ http://192.168.204.10:6080/vnc.html è¾“å…¥å¯†ç ï¼Œè¿æ¥æˆåŠŸï¼\nå½“æœ‰è¯·æ±‚è®¿é—®vncæ—¶ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºæ—¥å¿—\nCentOS 7 çš„å®‰è£…è„šæœ¬ #!/bin/bash # stop selinux and iptables setenforce 0 systemctl stop firewalld systemctl disable firewalld # install vncserver and git yum install -y epel* yum install tigervnc-server git -y vncserver :1 # æ­¤æ—¶ä¼šæç¤ºè¾“å…¥å¯†ç  # download noVNC git clone git://github.com/kanaka/noVNC # create secure connection cd ./noVNC/utils/ openssl req -new -x509 -days 365 -nodes -out self.pem -keyout self.pem # run noVNC cd ../ ./utils/launch.sh --vnc localhost:5901 # running ","description":"\n","tags":[],"title":"\nCentOSå®‰è£…noVNCï¼Œä»¥Webæ–¹å¼äº¤ä»˜VNCè¿œç¨‹è¿æ¥","uri":"/posts/post-272/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æœ‰å¤©ï¼Œåœ¨ç¾¤æ™–çš„ Web ç•Œé¢ï¼Œçœ‹åˆ°ç½‘ç»œç›‘æ§é‚£é‡Œï¼Œä¸Šä¼ é€Ÿåº¦ç«Ÿç„¶æœ‰ 5M/sï¼Œæ¼æ²¹å™¨ä¸Šä¹Ÿçœ‹åˆ°ç¾¤æ™–çš„ä¸Šä¼ å¾ˆé«˜ï¼Œä¹Ÿå°±æ˜¯è¯´æµé‡ä¸Šä¼ åˆ°äº†å¤–ç½‘ï¼Œå§æ§½ï¼Œè¿™åˆ°åº•æ˜¯å“ªä¸ªè¿›ç¨‹åƒæˆ‘å¸¦å®½çš„ï¼Œæ‰¾å‡ºæ¥æˆ‘éå¾—æ€æ‰ä¸å¯ã€‚ å¯æƒœï¼Œç¾¤æ™–è‡ªå¸¦çš„ â€œèµ„æºç›‘æ§â€ æ— æ³•æŸ¥çœ‹è¿›ç¨‹å¯¹ç½‘ç»œçš„å ç”¨ã€‚\nå› ä¸ºç¾¤æ™–çš„ç³»ç»Ÿï¼Œè™½ç„¶æ˜¯åŸºäº debianï¼Œä½†æ˜¯é»˜è®¤æ²¡æœ‰åŒ…ç®¡ç†å™¨ï¼Œæ— æ³•é€šè¿‡ apt/yum å®‰è£… iftopã€‚ä¸è¿‡ç¾¤æ™–æ”¯æŒ dockerã€‚\nç¾¤æ™– - å¥—ä»¶ä¸­å¿ƒ - docker - å®‰è£…\nssh è¿æ¥ç¾¤æ™– janten/iftop è¿™ä¸ªé•œåƒä¸ºæˆ‘ä»¬æä¾›äº† iftop å‘½ä»¤\ndocker run -it --rm --net host janten/iftop -P -i eth0 å¦‚æœæœ¬åœ°æ²¡æœ‰æ²¡æœ‰è¿™ä¸ªé•œåƒï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‹‰å–ï¼Œæ‹‰å–é•œåƒå®Œæˆåï¼Œå°±å¯ä»¥çœ‹åˆ° iftop çš„è¿è¡Œç•Œé¢\nä½¿ç”¨ netstat å®šä½è¿›ç¨‹\nnetstat -pantu | grep [port] ","description":"\n","tags":[],"title":"\nç¾¤æ™–ä¸ŠæŸ¥æ‰¾å ç”¨å¸¦å®½æœ€å¤§çš„è¿›ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ","uri":"/posts/post-273/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ‹‰å–è·å–centos7é•œåƒ docker pull centos:7 å¯ä»¥ä»https://hub.docker.com/_/centos?tab=tagsæŸ¥è¯¢æ‹‰å–éœ€è¦çš„é•œåƒç‰ˆæœ¬\nå¯åŠ¨å®¹å™¨ æŒ‡å®šå®¹å™¨çš„åç§°ä¸ºcentos-desktop-vncï¼Œå¹¶æš´éœ²å®¿ä¸»æœºçš„5901æ¥è¿æ¥vnc\ndocker run --name centos-desktop-vnc --privileged -d -p 5901:5901 --ulimit memlock=-1 -td centos:7 /usr/sbin/init é…ç½®desktopç¯å¢ƒ è¿›å…¥å®¹å™¨ç¯å¢ƒ docker exec -it centos-desktop-vnc bash é»˜è®¤çš„é•œåƒä¸å¸¦desktopç¯å¢ƒï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…\næŸ¥çœ‹æ”¯æŒçš„ç¯å¢ƒ ä¼šå‡ºç°å¾ˆå¤šç»“æœï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©çš„æ˜¯gnomeç¯å¢ƒ\nyum grouplist å®‰è£…gnomeç¯å¢ƒ yum groupinstall GNOME Desktop -y é…ç½®ç³»ç»Ÿé»˜è®¤çš„å¯åŠ¨æ¨¡å¼ æˆ‘ä»¬è¿™é‡Œéœ€è¦è®¾ç½®å¯åŠ¨æ¨¡å¼ä¸ºå›¾å½¢åŒ–\n# è·å–å½“å‰å¯åŠ¨æ¨¡å¼ systemctl get-default # ä¿®æ”¹å¯åŠ¨æ¨¡å¼ä¸ºå›¾å½¢åŒ– systemctl set-default graphical.target # ä¿®æ”¹å¯åŠ¨æ¨¡å¼ä¸ºå‘½ä»¤è¡Œ systemctl set-default multi-user.target é…ç½®vncæœåŠ¡ç«¯ å®‰è£…vnc serverã€vimã€net-tools yum -y install tigervnc-server tigervnc-server-module vim net-tools é…ç½®vnc server å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿ cp /lib/systemd/system/vncserver@.service /lib/systemd/system/vncserver@:1.service è®¾ç½®ç”Ÿæ•ˆç”¨æˆ·-ä¿®æ”¹é…ç½®æ–‡ä»¶ vim /lib/systemd/system/vncserver\\@\\:1.service å°†é…ç½®æ–‡ä»¶çš„ ä¿®æ”¹ä¸ºrootï¼Œç”±äºrootçš„homeè·¯å¾„æ˜¯/rootï¼Œä¸æ˜¯/home/rootï¼Œå› æ­¤æ³¨æ„ä¿®æ”¹PIDFILEçš„è·¯å¾„ æ”¹å¥½ä¹‹åå¦‚ä¸‹\n[Unit] Description=Remote desktop service (VNC) After=syslog.target network.target [Service] Type=forking # Clean any existing files in /tmp/.X11-unix environment ExecStartPre=/bin/sh -c '/usr/bin/vncserver -kill %i \u003e /dev/null 2\u003e\u00261 || :' ExecStart=/usr/sbin/runuser -l root -c \"/usr/bin/vncserver %i\" PIDFile=/root/.vnc/%H%i.pid ExecStop=/bin/sh -c '/usr/bin/vncserver -kill %i \u003e /dev/null 2\u003e\u00261 || :' [Install] WantedBy=multi-user.target ä¿®æ”¹vnc serverå¯†ç  vncpasswd ç”Ÿæ•ˆvncé…ç½® systemctl daemon-reload é…ç½®vncå¼€æœºå¯åŠ¨ # å¯åŠ¨æœåŠ¡ systemctl start vncserver@:1 # è®¾ä¸ºå¼€æœºå¯åŠ¨ systemctl enable vncserver@:1 æ£€æŸ¥vnc serveræ˜¯å¦å¯åŠ¨ netstat -lnpt|grep Xvnc å‡ºç°ä¸‹å›¾ç»“æœè¯´æ˜å¯åŠ¨æˆåŠŸ\n[root@011ff517ebf7 /]# netstat -lnpt|grep Xvnc tcp 0 0 0.0.0.0:5901 0.0.0.0:* LISTEN 4658/Xvnc tcp 0 0 0.0.0.0:6001 0.0.0.0:* LISTEN 4658/Xvnc tcp6 0 0 :::5901 :::* LISTEN 4658/Xvnc tcp6 0 0 :::6001 :::* LISTEN 4658/Xvnc å…³é—­é˜²ç«å¢™ 1 2 3 4 # å…³é—­é˜²ç«å¢™ systemctl stop firewalld # ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨ systemctl disable firewalld vncå®¢æˆ·ç«¯å‘èµ·è¿æ¥ ä¸‹è½½vnc client è¿æ¥vnc server ä¿®æ”¹è‰²å½©è´¨é‡ åˆæ¬¡è¿æ¥ä¸Šå»å¯ä»¥çœ‹åˆ°æ¡Œé¢çš„è‰²å½©å¾ˆæ¨¡ç³Š è§£å†³åŠæ³•æ˜¯åœ¨å»ºç«‹å¥½çš„è¿œç¨‹è¿æ¥ç‚¹å³é”®ï¼Œé€‰æ‹© Propertiesï¼Œå†é€‰æ‹© Options é€‰é¡¹å¡ï¼Œåœ¨ General ä¸‹é¢çš„ Picture quality é€‰æ‹© Highï¼Œä¿å­˜ã€‚ç„¶åå°±å¯ä»¥çœ‹åˆ°å›¾è±¡å˜æ¸…æ™°äº†ã€‚\nä¿å­˜é•œåƒ 1 2 3 4 # 1ã€æŸ¥è¯¢container idï¼Œå‡ºç°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å°±æ˜¯container idï¼Œæˆ‘è¿™é‡Œæ˜¯011ff517ebf7 docker ps -a | grep centos-desktop-vnc # 2ã€æäº¤ä½œä¸ºæœ¬åœ°é•œåƒ docker commit 011ff517ebf7 centos:7-vnc ä¸­æ–‡å®‰è£… æŸ¥çœ‹å½“å‰å­—ç¬¦é›† $ echo $LANG en_US.UTF-8 å®‰è£…å­—ç¬¦é›† ä½¿ç”¨localeå‘½ä»¤çœ‹çœ‹å½“å‰ç³»ç»Ÿæ‰€ä½¿ç”¨çš„å­—ç¬¦é›†\n$ locale LANG=en_US.UTF-8 LC_CTYPE=\"en_US.UTF-8\" LC_NUMERIC=\"en_US.UTF-8\" LC_TIME=\"en_US.UTF-8\" LC_COLLATE=\"en_US.UTF-8\" LC_MONETARY=\"en_US.UTF-8\" LC_MESSAGES=\"en_US.UTF-8\" LC_PAPER=\"en_US.UTF-8\" LC_NAME=\"en_US.UTF-8\" LC_ADDRESS=\"en_US.UTF-8\" LC_TELEPHONE=\"en_US.UTF-8\" LC_MEASUREMENT=\"en_US.UTF-8\" LC_IDENTIFICATION=\"en_US.UTF-8\" LC_ALL= æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å®‰è£…ä¸­æ–‡å­—ç¬¦é›†æ”¯æŒ # locale -a | grep CN bo_CN bo_CN.utf8 ug_CN ug_CN.utf8 zh_CN zh_CN.gb18030 zh_CN.gb2312 zh_CN.gbk zh_CN.utf8 è‹¥æ²¡æœ‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£… yum install -y kde-l10n-Chinese yum reinstall -y glibc-common #å®šä¹‰å­—ç¬¦é›† localedef -c -f UTF-8 -i zh_CN zh_CN.UFT-8 #ç¡®è®¤è½½å…¥æˆåŠŸ locale -a ä¿®æ”¹ç³»ç»Ÿå­—ç¬¦é›† ä¿®æ”¹ç³»ç»Ÿå­—ç¬¦é›†çš„é…ç½®æ–‡ä»¶ï¼š\n# echo 'LANG=\"zh_CN.UTF-8\"' \u003e /etc/locale.conf # source /etc/locale.conf éªŒè¯å­—ç¬¦é›†ä¿®æ”¹ # echo $LANG zh_CN.UTF-8 # locale LANG=zh_CN.UTF-8 LC_CTYPE=\"zh_CN.UTF-8\" LC_NUMERIC=\"zh_CN.UTF-8\" LC_TIME=\"zh_CN.UTF-8\" LC_COLLATE=\"zh_CN.UTF-8\" LC_MONETARY=\"zh_CN.UTF-8\" LC_MESSAGES=\"zh_CN.UTF-8\" LC_PAPER=\"zh_CN.UTF-8\" LC_NAME=\"zh_CN.UTF-8\" LC_ADDRESS=\"zh_CN.UTF-8\" LC_TELEPHONE=\"zh_CN.UTF-8\" LC_MEASUREMENT=\"zh_CN.UTF-8\" LC_IDENTIFICATION=\"zh_CN.UTF-8\" LC_ALL= ","description":"\n","tags":[],"title":"\nåœ¨Dockeræ­å»ºcentos7è¿œç¨‹æ¡Œé¢ç¯å¢ƒ","uri":"/posts/post-274/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸‹è½½é•œåƒ åœ¨Dockerçš„æ³¨å†Œè¡¨ä¸­ä¸‹è½½å®˜æ–¹é•œåƒ\nåˆ›å»ºæ–‡ä»¶å¤¹ å…ˆåœ¨FIle Stationä¸­åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾é…ç½®å’Œæ•°æ®ï¼Œå¦‚å›¾æ‰€ç¤º\næ·»åŠ æ–‡ä»¶å¤¹ /docker/minio/data (å¯ä»¥ä¸æˆ‘ç›¸åŒçš„æ–¹å¼è¿›è¡Œæ–°å»ºï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯åˆ›å»º)ï¼Œè¿™ä¸ªç›®å½•ä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾æˆ‘ä»¬çš„ä¸Šä¼ æ–‡ä»¶çš„ã€‚\næ·»åŠ æ–‡ä»¶å¤¹ /docker/minio/configï¼Œè¿™ä¸ªç›®å½•ä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶çš„ã€‚\né…ç½®å®¹å™¨ åœ¨ä¸‹è½½å®Œæˆåï¼Œåœ¨ æ˜ åƒ ä¸­å¯ä»¥çœ‹åˆ°å·²ç»ä¸‹è½½å¥½çš„é•œåƒæ–‡ä»¶ï¼ŒåŒå‡»å®ƒæ¥é€‰æ‹©é«˜å°±è®¾ç½®æ¥é…ç½®å®¹å™¨ã€‚\nè‡ªåŠ¨å¯åŠ¨ å­˜å‚¨ç©ºé—´ æ·»åŠ æ˜ å°„çš„æ–‡ä»¶å¤¹\n/docker/minio/dataé…ç½®è£…è½½è·¯å¾„ /data\n/docker/minio/config é…ç½®è£…è½½è·¯å¾„ /root/.minio (å…¶ä¸­ . åƒä¸‡ä¸èƒ½æ¼)\nç«¯å£è®¾ç½® é€‰æ‹© ç«¯å£è®¾ç½® è®¾ç½®æœ¬åœ°ç«¯å£ä¸º 9000 ï¼ˆå½“ç„¶å…¶ä»–ç«¯å£ä¹Ÿå¯ä»¥ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„è®¿é—®ç«¯å£ï¼Œå¦‚æœæ­¤å¤„ä¿®æ”¹äº†ï¼Œè®¿é—®æ—¶å°±ä½¿ç”¨ä¿®æ”¹åçš„ç«¯å£è¿›è¡Œè®¿é—®ã€‚\nä¸€ä¸ªé™æ€ç«¯å£ï¼Œå¦‚æœä¸é…ç½®æ­¤ç«¯å£ç¨‹åºå¯ä»¥ç³»ç»Ÿï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯è®¿é—®ä¸åˆ°åå°ç•Œé¢ã€‚è¿™ä¸ªç«¯å£å¯ä»¥æ˜¯è‡ªå·±æœªå ç”¨çš„ä»»æ„ç«¯å£æˆ‘ç”¨çš„9001ç«¯å£\nç¯å¢ƒ åœ¨å‘½ä»¤å‡ºæ·»åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­ç«¯å£å·ä¸ºåˆšæ‰è®¾ç½®çš„é™æ€ç«¯å£å·\nserver --console-address '0.0.0.0:9001' /data ç™»å½•åå° é€šè¿‡ http://NASçš„IP:9000 è®¿é—®åˆ°minioçš„ç™»å½•é¡µé¢ï¼Œé»˜è®¤è´¦å· minioadmin ï¼Œ minioadmin\nä¿®æ”¹è´¦å·å¯†ç  ä¿®æ”¹é…ç½®æ–‡ä»¶ é€šè¿‡ File Station æ‰¾åˆ°æ–‡ä»¶ docker/minIO/data/.minio.sys/config/config.json æ–‡ä»¶\næ‰¾åˆ°å…¶ä¸­çš„å†…å®¹ credentials ï¼Œä¿®æ”¹ access_key çš„ value ä¸ºä½ è‡ªå·±æƒ³è¦çš„ï¼Œè­¬å¦‚ï¼šxiaomage-userï¼Œä¿®æ”¹å…¶ä¸­ secret_key çš„ value ä¸ºä½ è‡ªå·±æƒ³è¦çš„ï¼Œè­¬å¦‚ï¼šxiaomage-passwordï¼Œæœ€åå˜æˆå¦‚ä¸‹ï¼ˆä¸ºäº†æé«˜å¯è¯»æ€§ï¼Œæˆ‘è¿™è¾¹å¯¹æ–‡ä»¶è¿›è¡Œäº†æ ¼å¼åŒ–å¤„ç†ï¼‰\n\"credentials\": { \"_\": [ { \"key\": \"access_key\", \"value\": \"xiaomage-user\" }, { \"key\": \"secret_key\", \"value\": \"xiaomage-password\" } ] }, é‡æ–°å¯åŠ¨ æ­¤æ—¶é‡æ–°è®¿é—® å¯ä»¥ä½¿ç”¨æ–°çš„è´¦å·å¯†ç ï¼\n","description":"\n","tags":[],"title":"\nç¾¤æ™–ä½¿ç”¨Dockerå®‰è£…Minio","uri":"/posts/post-275/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä»£ç å…ˆè¡Œ demoåœ°å€\næ–‡ä»¶ä¸Šä¼ ï¼ŒæœåŠ¡å™¨å¼‚æ­¥å¤„ç†æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.APPLICATION_JSON_VALUE) public String uploadFile(MultipartFile file){ System.out.println(\"request start: file.isEmpty=\"+file.isEmpty()); new Thread(()-\u003e{ try { Thread.sleep(1000); // why file is empty? System.out.println(\"detail request: file.isEmpty=\"+file.isEmpty()); } catch (InterruptedException e) { e.printStackTrace(); } }).start(); System.out.println(\"request end: file.isEmpty=\"+file.isEmpty()); return \"{\"msg\":\"success!\"}\"; } ç»“æœè¾“å‡ºï¼š\nrequest start: file.isEmpty=false request end: file.isEmpty=false detail request: file.isEmpty=true åŸå› ï¼š\nresponseä¹‹åï¼Œä¼šclearä¸´æ—¶æ•°æ®ï¼ˆåŒ…å«ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼Œæ‰€ä»¥å¼‚æ­¥å‡ºå»çš„é€»è¾‘åœ¨responseä¹‹åå»è¯»æ–‡ä»¶ï¼Œå°†ä¼šè¯»ä¸åˆ°æ–‡ä»¶ã€‚\n","description":"\n","tags":["æ–‡ä»¶ä¸Šä¼ ","å¼‚æ­¥å¤„ç†æ–‡ä»¶"],"title":"\næ–‡ä»¶ä¸Šä¼ ï¼ŒæœåŠ¡å™¨å¼‚æ­¥å¤„ç†æ–‡ä»¶å¯¼è‡´å¼‚å¸¸","uri":"/posts/post-19/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"1.æˆ‘ä»¬ç‚¹å‡»èœå•æ ä¸­çš„Fileâ€“\u003eé€‰æ‹©Project Structureâ€¦(Ctrl+Alt+Shift+S)è¿›å…¥åˆ°è®¾ç½®é¡µé¢ï¼Œæˆ–è€…åœ¨IntelliJ IDEAé¡µé¢å³ä¾§ç‚¹å‡»å³ä¸Šè§’çš„æŒ‰é’®ä¹Ÿå¯åˆ°é…ç½®é¡µé¢ã€‚\n2.æˆ‘ä»¬åœ¨Project Structureçš„è®¾ç½®é¡µé¢é€‰æ‹©Artifactsï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ç»¿è‰²â€œ+â€å·ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€‰æ‹©JARâ€“\u003eFrom modules with dependenciesâ€¦è¿›å…¥åˆ°è®¾ç½®é¡µé¢ã€‚\n3.æ¥ä¸‹æ¥æ˜¯æœ€é‡è¦çš„æ­¥éª¤ï¼Œä¸‹å›¾ä¸­modulesä¸€èˆ¬ä¼šè‡ªåŠ¨ç”Ÿæˆï¼ŒMain classæˆ‘ä»¬éœ€è¦ç‚¹å‡»å³ä¾§çš„æŒ‰é’®ï¼Œæ‰¾åˆ°é¡¹ç›®å·¥ç¨‹ä¸­å«æœ‰mainæ–¹æ³•çš„é‚£ä¸ªç±»ã€‚JARæ–‡ä»¶è®¾ç½®æˆ‘ä»¬é€‰æ‹©extract to the target JARï¼Œæ‰“åŒ…æ—¶å¯å°†ä»£ç ä¾èµ–çš„åŒ…ä¹Ÿæ‰“å…¥ã€‚æœ€åMETA-INF/MANIFEST.MFçš„è®¾ç½®ï¼Œæˆ‘ä»¬é€‰æ‹©é¡¹ç›®çš„æ ¹è·¯å¾„å³å¯ã€‚\n4.éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­å·²ç»æœ‰META-INF/MANIFEST.MFæ–‡ä»¶çš„è¯æ˜¯è®¾ç½®ä¸æˆåŠŸçš„ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°é¡¹ç›®åœ¨ç£ç›˜ä¸­çš„ä½ç½®ï¼Œç„¶ååˆ æ‰è¯¥æ–‡ä»¶å†é‡å¤ä¸Šè¿°çš„æ­¥éª¤æ‰å¯ä»¥ã€‚\n5.è®¾ç½®å®Œæˆåæˆ‘ä»¬ä¾¿å¯ä»¥æ‰§è¡Œç”ŸæˆjaråŒ…çš„æ“ä½œäº†ï¼Œç‚¹å‡»èœå•æ ä¸­çš„Buildâ€“\u003eBuild Artifactsâ€¦ï¼Œç„¶åæˆ‘ä»¬åœ¨ä¸‹æ–¹ä»£ç åŒºä¾¿å¯ä»¥çœ‹åˆ°Build Artifact é€‰æ‹©ä¹‹å‰åˆ›å»ºçš„Artifactsç„¶åç‚¹å‡»Buildå³å¯ã€‚t,\n6.åœ¨Build JARæ–‡ä»¶åä¸‹æ–¹ä¼šæœ‰å·²å®Œæˆçš„æç¤ºï¼Œæˆ‘ä»¬æ‰¾åˆ°é¡¹ç›®æ‰€åœ¨çš„ç£ç›˜ä½ç½®ï¼Œåœ¨é¡¹ç›®æ ¹è·¯å¾„ä¸‹çš„out/artifacts/ç›®å½•ä¸‹ä¾¿æ˜¯æ–°ç”Ÿæˆçš„jaræ–‡ä»¶ã€‚\n","description":"\n","tags":[],"title":"\nIntelliJ IDEAå¦‚ä½•æŠŠjavaæºä»£ç æ‰“åŒ…æˆjaråŒ…","uri":"/posts/post-277/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"åœ¨sshè¿œç¨‹è¿æ¥192.168.2.1è¿™å°ä¸»æœºæ—¶ï¼Œå‡ºç°Permission deniedï¼Œplease try againã€‚åŒæ ·scp è¿œç¨‹æ‹·è´ä¹Ÿå‡ºç°Permission deniedï¼Œplease try againã€‚é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œå¦‚æœä¸æ˜¯å¯†ç é”™è¯¯ï¼Œå¹¶ä¸”192.168.2.1çš„sshdæœåŠ¡å¼€å¯ï¼Œåˆ™éœ€è¦ä¿®æ”¹è¿™å°ä¸»æœºçš„é…ç½®æ–‡ä»¶ï¼š\nvim /etc/ssh/sshd_config # ä¿®æ”¹PermitRootLogin yes # é‡å¯æœåŠ¡ systemctl restart sshd ","description":"\n","tags":[],"title":"\nssh scpå‡ºç°Permission denied","uri":"/posts/post-278/"},{"categories":["é»˜è®¤åˆ†ç±»","java"],"content":"ç®€ä»‹ ä»‹ç» LITIENGINEæ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºä¸”æ˜“äºå­¦ä¹ çš„2D Java æ¸¸æˆå¼•æ“ã€‚å®ƒæä¾›äº†ä½¿ç”¨åŸºç¡€ Java æ¥åˆ›å»ºåŸºäºå›¾å—çš„ 2D æ¸¸æˆçš„æ‰€æœ‰åŸºç¡€ç»“æ„ï¼Œæ— è®ºæ¸¸æˆå¹³å°ã€è‡ªä¸Šè€Œä¸‹çš„å°„å‡»æ¸¸æˆè¿˜æ˜¯RPGã€‚å…¶ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ä¸€ä¸ª2Dç‰©ç†å¼•æ“ã€ä¸€ä¸ª2Dæ¸²æŸ“å¼•æ“ã€ä¸€ä¸ª2Då£°éŸ³å¼•æ“ã€ä¸€ä¸ªç²’å­ç³»ç»Ÿï¼ˆParticle Systemï¼‰ã€å¯¹å¹³é“ºåœ°å›¾ (.tmx) çš„æ”¯æŒå’Œç”¨äºåŸºæœ¬æ¸¸æˆå¼€å‘çš„åŸºæœ¬ä¸”å¹²å‡€çš„APIã€‚ç”±äºæ²¡æœ‰å¤–éƒ¨åº“è€Œä¿æŒé«˜å¯ç§»æ¤æ€§ï¼Œæ‰€ä»¥LITIENGINEåŸç”Ÿæ”¯æŒæ‰€æœ‰å¸¸è§çš„æ¡Œé¢æ“ä½œç³»ç»Ÿã€‚\nåŒå…¶ä»–å¼•æ“çš„ç›¸æ¯”ï¼ŒLITIENGINEæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå®ƒæ˜¯å®Œå…¨åŸºäºçº¯Java AWTå›¾å½¢çš„2Dæ¸²æŸ“å¼•æ“ã€‚å¦‚æœæ‚¨ç›®å‰å·²ç»å­¦ä¹ æˆ–æ­£è¦å­¦ä¹ Javaï¼Œè¿™å°†ç«‹å³ä¸ºæ‚¨æä¾›å‡ºè‰²çš„ç»“æœå’Œé«˜åº¦ä¼˜åŒ–çš„æ¸²æŸ“æ€§èƒ½ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™æ˜¯å­¦ä¹ åˆ¶ä½œè§†é¢‘æ¸¸æˆçš„ç»ä½³è€Œç®€å•çš„æ–¹æ³•ï¼Œè€Œæ— éœ€å…³å¿ƒå¤§é‡çŸ¢é‡æ•°å­¦æˆ–â€œOpenGL shenanigansâ€ã€‚è€Œä¸”é€šè¿‡**ç²’å­ç³»ç»Ÿï¼ˆParticle Systemï¼‰**åˆ›å»ºæ¼‚äº®çš„è§†è§‰æ•ˆæœï¼ˆå¦‚ç«æˆ–çƒŸï¼‰å¯ä»¥è¿›ä¸€æ­¥å¢å¼ºå›¾å½¢ã€‚\nLITIENGINEä¸­çš„ç¯å¢ƒæ˜¯åŸºäº.tmxè´´å›¾ï¼ˆå¯ä»¥ç”¨è‘—åçš„ Tiled Level Editoråˆ›å»ºå’Œç¼–è¾‘ï¼Œå¹¶ä½¿ç”¨LITIENGINEå®ä½“èµ‹äºˆå…¶ç”Ÿå‘½ï¼‰ã€‚\næ­¤å¤–ï¼ŒSoundEngineæ”¯æŒäºŒç»´éŸ³é¢‘ï¼Œå¯ä»¥ç›¸å¯¹äºç¯å¢ƒä¸­çš„æŸä¸ªä½ç½®æ’­æ”¾ã€‚\nä½œè€…å’Œç¤¾åŒº LITIENGINEæ˜¯ç”±å·´ä¼åˆ©äºšä¸¤å…„å¼Ÿï¼ˆSteffen å’Œ Matthiasï¼‰å‘æ˜ã€ç¼–å†™å’Œç»´æŠ¤ï¼Œå®ƒå·²æˆä¸ºä¸€ä¸ªç›¸å½“å—æ¬¢è¿çš„å¼€æºé¡¹ç›®ï¼Œè´¡çŒ®è€…æ•°é‡ä¸æ–­å¢åŠ ï¼Œç¤¾åŒºæ´»è·ƒã€‚\nç¤ºä¾‹é¡¹ç›® â€œGurk Nukemâ€ - ç”¨ LITIENGINE åˆ¶ä½œçš„ 2-bitå¹³å°å°„å‡»æ¸¸æˆ\nå¼€æºæ¸¸æˆ åœ¨ LDJAM 42 çš„â€œGoIn -Behave or GET LOST!â€ åœ¨ LDJAM 44 çš„â€œServus Bonusâ€ åœ¨ LDJAM 46 çš„â€œå—ç“œå®ˆæŠ¤è€…â€ ","description":"\n","tags":["æ¸¸æˆå¼•æ“","Java 2D","LITIENGINE","java"],"title":"\nLITIENGINE çº¯ Java 2D æ¸¸æˆå¼•æ“ ï¼ˆä¸€ï¼‰","uri":"/posts/post-18/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ ¸å¿ƒåŒºåˆ« NIOæ˜¯ä»¥å—çš„æ–¹å¼å¤„ç†æ•°æ®ï¼Œä½†æ˜¯IOæ˜¯ä»¥æœ€åŸºç¡€çš„å­—èŠ‚æµçš„å½¢å¼å»å†™å…¥å’Œè¯»å‡ºçš„ã€‚æ‰€ä»¥åœ¨æ•ˆç‡ä¸Šçš„è¯ï¼Œè‚¯å®šæ˜¯NIOæ•ˆç‡æ¯”IOæ•ˆç‡ä¼šé«˜å‡ºå¾ˆå¤šã€‚ NIOä¸åœ¨æ˜¯å’ŒIOä¸€æ ·ç”¨OutputStreamå’ŒInputStream è¾“å…¥æµçš„å½¢å¼æ¥è¿›è¡Œå¤„ç†æ•°æ®çš„ï¼Œä½†æ˜¯åˆæ˜¯åŸºäºè¿™ç§æµçš„å½¢å¼ï¼Œè€Œæ˜¯é‡‡ç”¨äº†é€šé“å’Œç¼“å†²åŒºçš„å½¢å¼æ¥è¿›è¡Œå¤„ç†æ•°æ®çš„ã€‚ è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯NIOçš„é€šé“æ˜¯å¯ä»¥åŒå‘çš„ï¼Œä½†æ˜¯IOä¸­çš„æµåªèƒ½æ˜¯å•å‘çš„ã€‚ è¿˜æœ‰å°±æ˜¯NIOçš„ç¼“å†²åŒºï¼ˆå…¶å®ä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼‰è¿˜å¯ä»¥è¿›è¡Œåˆ†ç‰‡ï¼Œå¯ä»¥å»ºç«‹åªè¯»ç¼“å†²åŒºã€ç›´æ¥ç¼“å†²åŒºå’Œé—´æ¥ç¼“å†²åŒºï¼Œåªè¯»ç¼“å†²åŒºå¾ˆæ˜æ˜¾å°±æ˜¯å­—é¢æ„æ€ï¼Œç›´æ¥ç¼“å†²åŒºæ˜¯ä¸ºåŠ å¿« I/O é€Ÿåº¦ï¼Œè€Œä»¥ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼åˆ†é…å…¶å†…å­˜çš„ç¼“å†²åŒºã€‚ NIOæ¯”ä¼ ç»Ÿçš„BIOæ ¸å¿ƒåŒºåˆ«å°±æ˜¯ï¼ŒNIOé‡‡ç”¨çš„æ˜¯å¤šè·¯å¤ç”¨çš„IOæ¨¡å‹ï¼Œæ™®é€šçš„IOç”¨çš„æ˜¯é˜»å¡çš„IOæ¨¡å‹ï¼Œä¸¤ä¸ªä¹‹é—´çš„æ•ˆç‡è‚¯å®šæ˜¯å¤šè·¯å¤ç”¨æ•ˆç‡æ›´é«˜ é€šé“ é€šé“æ˜¯å¯¹åŸ I/O åŒ…ä¸­çš„æµçš„æ¨¡æ‹Ÿã€‚åˆ°ä»»ä½•ç›®çš„åœ°(æˆ–æ¥è‡ªä»»ä½•åœ°æ–¹)çš„æ‰€æœ‰æ•°æ®éƒ½å¿…é¡»é€šè¿‡ä¸€ä¸ª Channel å¯¹è±¡ï¼ˆé€šé“ï¼‰ã€‚\nä¸€ä¸ª Buffer å®è´¨ä¸Šæ˜¯ä¸€ä¸ªå®¹å™¨å¯¹è±¡ã€‚å‘é€ç»™ä¸€ä¸ªé€šé“çš„æ‰€æœ‰å¯¹è±¡éƒ½å¿…é¡»é¦–å…ˆæ”¾åˆ°ç¼“å†²åŒºä¸­ï¼›åŒæ ·åœ°ï¼Œä»é€šé“ä¸­è¯»å–çš„ä»»ä½•æ•°æ®éƒ½è¦è¯»åˆ°ç¼“å†²åŒºä¸­ã€‚Channelæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å®ƒè¯»å–å’Œå†™å…¥æ•°æ®ã€‚æ‹¿ NIO ä¸åŸæ¥çš„ I/O åšä¸ªæ¯”è¾ƒï¼Œé€šé“å°±åƒæ˜¯æµã€‚\næ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæ‰€æœ‰æ•°æ®éƒ½é€šè¿‡ Buffer å¯¹è±¡æ¥å¤„ç†ã€‚æ‚¨æ°¸è¿œä¸ä¼šå°†å­—èŠ‚ç›´æ¥å†™å…¥é€šé“ä¸­ï¼Œç›¸åï¼Œæ‚¨æ˜¯å°†æ•°æ®å†™å…¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—èŠ‚çš„ç¼“å†²åŒºã€‚åŒæ ·ï¼Œæ‚¨ä¸ä¼šç›´æ¥ä»é€šé“ä¸­è¯»å–å­—èŠ‚ï¼Œè€Œæ˜¯å°†æ•°æ®ä»é€šé“è¯»å…¥ç¼“å†²åŒºï¼Œå†ä»ç¼“å†²åŒºè·å–è¿™ä¸ªå­—èŠ‚ã€‚\nç¼“å†²åŒº Buffer æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ å®ƒåŒ…å«ä¸€äº›è¦å†™å…¥æˆ–è€…åˆšè¯»å‡ºçš„æ•°æ®ã€‚åœ¨ NIO ä¸­åŠ å…¥ Buffer å¯¹è±¡ï¼Œä½“ç°äº†æ–°åº“ä¸åŸ I/O çš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚åœ¨é¢å‘æµçš„ I/O ä¸­ï¼Œæ‚¨å°†æ•°æ®ç›´æ¥å†™å…¥æˆ–è€…å°†æ•°æ®ç›´æ¥è¯»åˆ° Stream å¯¹è±¡ä¸­ åœ¨ NIO åº“ä¸­ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯ç”¨ç¼“å†²åŒºå¤„ç†çš„ã€‚åœ¨è¯»å–æ•°æ®æ—¶ï¼Œå®ƒæ˜¯ç›´æ¥è¯»åˆ°ç¼“å†²åŒºä¸­çš„ã€‚åœ¨å†™å…¥æ•°æ®æ—¶ï¼Œå®ƒæ˜¯å†™å…¥åˆ°ç¼“å†²åŒºä¸­çš„ã€‚ä»»ä½•æ—¶å€™è®¿é—® NIO ä¸­çš„æ•°æ®ï¼Œæ‚¨éƒ½æ˜¯å°†å®ƒæ”¾åˆ°ç¼“å†²åŒºä¸­ã€‚ ç¼“å†²åŒºå®è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚é€šå¸¸å®ƒæ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç§ç±»çš„æ•°ç»„ã€‚ä½†æ˜¯ä¸€ä¸ªç¼“å†²åŒºä¸ ä»…ä»… æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ç¼“å†²åŒºæä¾›äº†å¯¹æ•°æ®çš„ç»“æ„åŒ–è®¿é—®ï¼Œè€Œä¸”è¿˜å¯ä»¥è·Ÿè¸ªç³»ç»Ÿçš„è¯»/å†™è¿›ç¨‹ ç¼“å†²åŒºç±»å‹ CharBuffer ShortBuffer IntBuffer LongBuffer FloatBuffer DoubleBuffer NIOçš„å·¥ä½œåŸç† ç¼“å†²åŒºçš„å·¥ä½œæœºåˆ¶ capacity ç¼“å†²åŒºæ•°ç»„çš„æ€»é•¿åº¦\nposition ä¸‹ä¸€ä¸ªè¦æ“ä½œçš„æ•°æ®å…ƒç´ çš„ä½ç½®\nlimit ç¼“å†²åŒºæ•°ç»„ä¸­ä¸å¯æ“ä½œçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œlimit\u003c=capacity\nmark ç”¨äºè®°å½•å½“å‰ position çš„å‰ä¸€ä¸ªä½ç½®æˆ–è€…é»˜è®¤æ˜¯ 0\n1.è¿™ä¸€æ­¥å…¶å®æ˜¯å½“æˆ‘ä»¬åˆšå¼€å§‹åˆå§‹åŒ–è¿™ä¸ªbufferæ•°ç»„çš„æ—¶å€™ï¼Œå¼€å§‹é»˜è®¤æ˜¯è¿™æ ·çš„\n2ã€ä½†æ˜¯å½“ä½ å¾€bufferæ•°ç»„ä¸­å¼€å§‹å†™å…¥çš„æ—¶å€™å‡ ä¸ªå­—èŠ‚çš„æ—¶å€™å°±ä¼šå˜æˆä¸‹é¢çš„å›¾ï¼Œpositionä¼šç§»åŠ¨ä½ æ•°æ®çš„ç»“æŸçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªæ—¶å€™ä½ éœ€è¦æŠŠbufferä¸­çš„æ•°æ®å†™åˆ°channelç®¡é“ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ç”¨è¿™ä¸ªbuffer.flip()æ–¹æ³•\n3ã€å½“ä½ è°ƒç”¨å®Œ2ä¸­çš„æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå˜æˆä¸‹é¢çš„å›¾äº†ï¼Œè¿™æ ·çš„è¯å…¶å®å°±å¯ä»¥çŸ¥é“ä½ åˆšåˆšå†™åˆ°bufferä¸­çš„æ•°æ®æ˜¯åœ¨positionâ€”-\u003elimitä¹‹é—´ï¼Œç„¶åä¸‹ä¸€æ­¥è°ƒç”¨clearï¼ˆï¼‰\n4ã€è¿™æ—¶åº•å±‚æ“ä½œç³»ç»Ÿå°±å¯ä»¥ä»ç¼“å†²åŒºä¸­æ­£ç¡®è¯»å–è¿™ 5 ä¸ªå­—èŠ‚æ•°æ®å‘é€å‡ºå»äº†ã€‚åœ¨ä¸‹ä¸€æ¬¡å†™æ•°æ®ä¹‹å‰æˆ‘ä»¬åœ¨è°ƒä¸€ä¸‹ clear() æ–¹æ³•ã€‚ç¼“å†²åŒºçš„ç´¢å¼•çŠ¶æ€åˆå›åˆ°åˆå§‹ä½ç½®ã€‚ï¼ˆå…¶å®è¿™ä¸€æ­¥æœ‰ç‚¹åƒIOä¸­çš„æŠŠè½¬è¿å­—èŠ‚æ•°ç»„char[] buf = new char[1024]ä¸è¶³1024å­—èŠ‚çš„éƒ¨åˆ†ç»™å¼ºåˆ¶åˆ·æ–°å‡ºå»çš„æ„æ€ï¼‰\nè¯´æ˜ 1ã€è¿™é‡Œè¿˜è¦è¯´æ˜ä¸€ä¸‹ markï¼Œå½“æˆ‘ä»¬è°ƒç”¨mark()æ—¶ï¼Œå®ƒå°†è®°å½•å½“å‰ position çš„å‰ä¸€ä¸ªä½ç½®ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ reset æ—¶ï¼Œposition å°†æ¢å¤ mark è®°å½•ä¸‹æ¥çš„å€¼\n2.clear()æ–¹æ³•ä¼šï¼šæ¸…ç©ºæ•´ä¸ªç¼“å†²åŒºã€‚positionå°†è¢«è®¾å›0ï¼Œlimitè¢«è®¾ç½®æˆ capacityçš„å€¼ï¼ˆè¿™ä¸ªä¸ªäººçš„ç†è§£å°±æ˜¯å½“ä½ åœ¨flipï¼ˆï¼‰æ–¹æ³•çš„åŸºç¡€ä¸Šå·²ç»è®°ä½ä½ å†™å…¥äº†å¤šå°‘å­—èŠ‚æ•°æ®ï¼Œç›´æ¥æŠŠpositionåˆ°limitä¹‹é—´çš„ä¹Ÿå°±æ˜¯ä½ å†™å…¥å·²ç»è®°ä½çš„æ•°æ®ç»™â€œå¤åˆ¶â€åˆ°ç®¡é“ä¸­ï¼‰\n3.å½“ä½ æŠŠç¼“å†²åŒºçš„æ•°å±€å†™å…¥åˆ°ç®¡é“ä¸­çš„æ—¶å€™ï¼Œä½ éœ€è¦è°ƒç”¨flip()æ–¹æ³•å°†Bufferä»å†™æ¨¡å¼åˆ‡æ¢åˆ°è¯»æ¨¡å¼ï¼Œè°ƒç”¨flip()æ–¹æ³•ä¼šå°†positionè®¾å›0ï¼Œå¹¶å°†limitè®¾ç½®æˆä¹‹å‰positionçš„å€¼ã€‚buf.flip();ï¼ˆå…¶å®æˆ‘ä¸ªäººç†è§£çš„å°±ç›¸å½“äºå…ˆè®°ä½ç¼“å†²åŒºç¼“å†²äº†å¤šå°‘æ•°æ®ï¼‰\nå·¥ä½œä»£ç ç¤ºä¾‹ public void selector() throws IOException { //å…ˆç»™ç¼“å†²åŒºç”³è¯·å†…å­˜ç©ºé—´ ByteBuffer buffer = ByteBuffer.allocate(1024); //æ‰“å¼€Selectorä¸ºäº†å®ƒå¯ä»¥è½®è¯¢æ¯ä¸ª Channel çš„çŠ¶æ€ Selector selector = Selector.open(); ServerSocketChannel ssc = ServerSocketChannel.open(); ssc.configureBlocking(false);//è®¾ç½®ä¸ºéé˜»å¡æ–¹å¼ ssc.socket().bind(new InetSocketAddress(8080)); ssc.register(selector, SelectionKey.OP_ACCEPT);//æ³¨å†Œç›‘å¬çš„äº‹ä»¶ while (true) { Set selectedKeys = selector.selectedKeys();//å–å¾—æ‰€æœ‰keyé›†åˆ Iterator it = selectedKeys.iterator(); while (it.hasNext()) { SelectionKey key = (SelectionKey) it.next(); if ((key.readyOps() \u0026 SelectionKey.OP_ACCEPT) == SelectionKey.OP_ACCEPT) { ServerSocketChannel ssChannel = (ServerSocketChannel) key.channel(); SocketChannel sc = ssChannel.accept();//æ¥å—åˆ°æœåŠ¡ç«¯çš„è¯·æ±‚ sc.configureBlocking(false); sc.register(selector, SelectionKey.OP_READ); it.remove(); } else if ((key.readyOps() \u0026 SelectionKey.OP_READ) == SelectionKey.OP_READ) { SocketChannel sc = (SocketChannel) key.channel(); while (true) { buffer.clear(); int n = sc.read(buffer);//è¯»å–æ•°æ® if (n \u003c= 0) { break; } buffer.flip(); } it.remove(); } } } } NIOçš„ç¤ºæ„å›¾ NIOå’ŒNettyçš„å·¥ä½œæ¨¡å‹å¯¹æ¯”ï¼Ÿ NIOçš„å·¥ä½œæµç¨‹æ­¥éª¤ é¦–å…ˆæ˜¯å…ˆåˆ›å»ºServerSocketChannel å¯¹è±¡ï¼Œå’ŒçœŸæ­£å¤„ç†ä¸šåŠ¡çš„çº¿ç¨‹æ±  ç„¶åç»™åˆšåˆšåˆ›å»ºçš„ServerSocketChannel å¯¹è±¡è¿›è¡Œç»‘å®šä¸€ä¸ªå¯¹åº”çš„ç«¯å£ï¼Œç„¶åè®¾ç½®ä¸ºéé˜»å¡ ç„¶ååˆ›å»ºSelectorå¯¹è±¡å¹¶æ‰“å¼€ï¼Œç„¶åæŠŠè¿™Selectorå¯¹è±¡æ³¨å†Œåˆ°ServerSocketChannel ä¸­ï¼Œå¹¶è®¾ç½®å¥½ç›‘å¬çš„äº‹ä»¶ï¼Œç›‘å¬ SelectionKey.OP_ACCEPT æ¥ç€å°±æ˜¯Selectorå¯¹è±¡è¿›è¡Œæ­»å¾ªç¯ç›‘å¬æ¯ä¸€ä¸ªChannelé€šé“çš„äº‹ä»¶ï¼Œå¾ªç¯æ‰§è¡Œ Selector.select() æ–¹æ³•ï¼Œè½®è¯¢å°±ç»ªçš„ Channel ä»Selectorä¸­è·å–æ‰€æœ‰çš„SelectorKeyï¼ˆè¿™ä¸ªå°±å¯ä»¥çœ‹æˆæ˜¯ä¸åŒçš„äº‹ä»¶ï¼‰ï¼Œå¦‚æœSelectorKeyæ˜¯å¤„äº OP_ACCEPT çŠ¶æ€ï¼Œè¯´æ˜æ˜¯æ–°çš„å®¢æˆ·ç«¯æ¥å…¥ï¼Œè°ƒç”¨ ServerSocketChannel.accept æ¥æ”¶æ–°çš„å®¢æˆ·ç«¯ã€‚ ç„¶åå¯¹è¿™ä¸ªæŠŠè¿™ä¸ªæ¥å—çš„æ–°å®¢æˆ·ç«¯çš„Channelé€šé“æ³¨å†Œåˆ°ServerSocketChannelä¸Šï¼Œå¹¶ä¸”æŠŠä¹‹å‰çš„OP_ACCEPT çŠ¶æ€æ”¹ä¸ºSelectionKey.OP_READè¯»å–äº‹ä»¶çŠ¶æ€ï¼Œå¹¶ä¸”è®¾ç½®ä¸ºéé˜»å¡çš„ï¼Œç„¶åæŠŠå½“å‰çš„è¿™ä¸ªSelectorKeyç»™ç§»é™¤æ‰ï¼Œè¯´æ˜è¿™ä¸ªäº‹ä»¶å®Œæˆäº† å¦‚æœç¬¬5æ­¥çš„æ—¶å€™è¿‡æ¥çš„äº‹ä»¶ä¸æ˜¯OP_ACCEPT çŠ¶æ€ï¼Œé‚£å°±æ˜¯OP_READè¯»å–æ•°æ®çš„äº‹ä»¶çŠ¶æ€ï¼Œç„¶åè°ƒç”¨æœ¬æ–‡ç« çš„ä¸Šé¢çš„é‚£ä¸ªè¯»å–æ•°æ®çš„æœºåˆ¶å°±å¯ä»¥äº† Nettyçš„å·¥ä½œæµç¨‹æ­¥éª¤ åˆ›å»º NIO çº¿ç¨‹ç»„ EventLoopGroup å’Œ ServerBootstrapã€‚ è®¾ç½® ServerBootstrap çš„å±æ€§ï¼šçº¿ç¨‹ç»„ã€SO_BACKLOG é€‰é¡¹ï¼Œè®¾ç½® NioServerSocketChannel ä¸º Channelï¼Œè®¾ç½®ä¸šåŠ¡å¤„ç† Handler ç»‘å®šç«¯å£ï¼Œå¯åŠ¨æœåŠ¡å™¨ç¨‹åºã€‚ åœ¨ä¸šåŠ¡å¤„ç† TimeServerHandler ä¸­ï¼Œè¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ï¼Œå¹¶ç»™å‡ºå“åº” ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼š OP_ACCEPT çš„å¤„ç†è¢«ç®€åŒ–ï¼Œå› ä¸ºå¯¹äº accept æ“ä½œçš„å¤„ç†åœ¨ä¸åŒä¸šåŠ¡ä¸Šéƒ½æ˜¯ä¸€è‡´çš„ã€‚ åœ¨ NIO ä¸­éœ€è¦è‡ªå·±æ„å»º ByteBuffer ä» Channel ä¸­è¯»å–æ•°æ®ï¼Œè€Œ Netty ä¸­æ•°æ®æ˜¯ç›´æ¥è¯»å–å®Œæˆå­˜æ”¾åœ¨ ByteBuf ä¸­çš„ã€‚ç›¸å½“äºçœç•¥äº†ç”¨æˆ·è¿›ç¨‹ä»å†…æ ¸ä¸­å¤åˆ¶æ•°æ®çš„è¿‡ç¨‹ã€‚ åœ¨ Netty ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä½¿ç”¨ä¸€ä¸ªè§£ç å™¨ FixedLengthFrameDecoderï¼Œå¯ä»¥ç”¨äºå¤„ç†å®šé•¿æ¶ˆæ¯çš„é—®é¢˜ï¼Œèƒ½å¤Ÿè§£å†³ TCP ç²˜åŒ…è¯»åŠåŒ…é—®é¢˜ï¼Œååˆ†æ–¹ä¾¿ã€‚ ","description":"\n","tags":[],"title":"\nä»€ä¹ˆæ˜¯NIOï¼ŸNIOçš„åŸç†æ˜¯ä»€ä¹ˆæœºåˆ¶ï¼Ÿ","uri":"/posts/post-279/"},{"categories":["è¯­è¨€"],"content":"å¹¶å‘\nJavaå†…å­˜æ¨¡å‹ Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ï¼Œå®ƒæè¿°äº†ä¸€ç»„è§„åˆ™æˆ–è§„èŒƒï¼Œé€šè¿‡è¿™ç»„è§„èŒƒå®šä¹‰äº†ç¨‹åºä¸­å„ä¸ªå˜é‡ï¼ˆåŒ…æ‹¬å®ä¾‹å­—æ®µã€é™æ€å­—æ®µå’Œæ„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼‰çš„è®¿é—®æ–¹å¼ã€‚è¯•å›¾å±è”½å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœã€‚\næ³¨æ„JMMä¸JVMå†…å­˜åŒºåŸŸåˆ’åˆ†çš„åŒºåˆ«ï¼š\nJMMæè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™ï¼Œå›´ç»•åŸå­æ€§ã€æœ‰åºæ€§å’Œå¯è§æ€§å±•å¼€ï¼›\nç›¸ä¼¼ç‚¹ï¼šå­˜åœ¨å…±äº«åŒºåŸŸå’Œç§æœ‰åŒºåŸŸ\nä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜ å¤„ç†å™¨ä¸Šçš„å¯„å­˜å™¨çš„è¯»å†™çš„é€Ÿåº¦æ¯”å†…å­˜å¿«å‡ ä¸ªæ•°é‡çº§ï¼Œä¸ºäº†è§£å†³è¿™ç§é€Ÿåº¦çŸ›ç›¾ï¼Œåœ¨å®ƒä»¬ä¹‹é—´åŠ å…¥äº†é«˜é€Ÿç¼“å­˜ã€‚\nåŠ å…¥é«˜é€Ÿç¼“å­˜å¸¦æ¥äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šç¼“å­˜ä¸€è‡´æ€§ã€‚å¦‚æœå¤šä¸ªç¼“å­˜å…±äº«åŒä¸€å—ä¸»å†…å­˜åŒºåŸŸï¼Œé‚£ä¹ˆå¤šä¸ªç¼“å­˜çš„æ•°æ®å¯èƒ½ä¼šä¸ä¸€è‡´ï¼Œéœ€è¦ä¸€äº›åè®®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œå·¥ä½œå†…å­˜å­˜å‚¨åœ¨é«˜é€Ÿç¼“å­˜æˆ–è€…å¯„å­˜å™¨ä¸­ï¼Œä¿å­˜äº†è¯¥çº¿ç¨‹ä½¿ç”¨çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ã€‚\nçº¿ç¨‹åªèƒ½ç›´æ¥æ“ä½œå·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´çš„å˜é‡å€¼ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚\næ•°æ®å­˜å‚¨ç±»å‹ä»¥åŠæ“ä½œæ–¹å¼ æ–¹æ³•ä¸­çš„åŸºæœ¬ç±»å‹æœ¬åœ°å˜é‡å°†ç›´æ¥å­˜å‚¨åœ¨å·¥ä½œå†…å­˜çš„æ ˆå¸§ç»“æ„ä¸­ï¼›\nå¼•ç”¨ç±»å‹çš„æœ¬åœ°å˜é‡ï¼šå¼•ç”¨å­˜å‚¨åœ¨å·¥ä½œå†…å­˜ï¼Œå®é™…å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼›\næˆå‘˜å˜é‡ã€é™æ€å˜é‡ã€ç±»ä¿¡æ¯å‡ä¼šè¢«å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼›\nä¸»å†…å­˜å…±äº«çš„æ–¹å¼æ˜¯çº¿ç¨‹å„æ‹·è´ä¸€ä»½æ•°æ®åˆ°å·¥ä½œå†…å­˜ä¸­ï¼Œæ“ä½œå®Œæˆåå°±åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚\nå†…å­˜é—´äº¤äº’æ“ä½œ Java å†…å­˜æ¨¡å‹å®šä¹‰äº† 8 ä¸ªæ“ä½œæ¥å®Œæˆä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜çš„äº¤äº’æ“ä½œã€‚\nreadï¼šæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°å·¥ä½œå†…å­˜ï¼ˆCPUçº§åˆ«çš„ç¼“å­˜ï¼‰ä¸­\nloadï¼šåœ¨ read ä¹‹åæ‰§è¡Œï¼ŒæŠŠ read å¾—åˆ°çš„å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­\nuseï¼šæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“\nassignï¼šæŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡\nstoreï¼šæŠŠå·¥ä½œå†…å­˜çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­\nwriteï¼šåœ¨ store ä¹‹åæ‰§è¡Œï¼ŒæŠŠ store å¾—åˆ°çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­\nlockï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡\nunlock\nå†…å­˜æ¨¡å‹ä¸‰å¤§ç‰¹æ€§ åŸå­æ€§ // å…ˆçœ‹ä¸€ä¸‹ä»£ç ï¼š public class Main { private static int cnt = 0; public static void main(String[] args) { Runnable runnable = () -\u003e { for (int j = 0; j \u003c 100; j++) { cnt++; try { Thread.sleep(30); } catch (InterruptedException e) { e.printStackTrace(); } } System.out.println(cnt); }; new Thread(runnable).start(); new Thread(runnable).start(); } } // å‘ç°ä¸Šé¢ä»£ç è¾“å‡ºå¹¶æ²¡æœ‰ç­‰äº200ï¼› Java å†…å­˜æ¨¡å‹ä¿è¯äº† readã€loadã€useã€assignã€storeã€writeã€lock å’Œ unlock æ“ä½œå…·æœ‰åŸå­æ€§ï¼Œä¾‹å¦‚å¯¹ä¸€ä¸ª int ç±»å‹çš„å˜é‡æ‰§è¡Œ assign èµ‹å€¼æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå°±æ˜¯åŸå­æ€§çš„ã€‚ä½†æ˜¯ Java å†…å­˜æ¨¡å‹å…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢« volatile ä¿®é¥°çš„ 64 ä½æ•°æ®ï¼ˆlongï¼Œdoubleï¼‰çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡ 32 ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œå³ loadã€storeã€read å’Œ write æ“ä½œå¯ä»¥ä¸å…·å¤‡åŸå­æ€§ã€‚\næœ‰ä¸€ä¸ªé”™è¯¯è®¤è¯†å°±æ˜¯ï¼Œint ç­‰åŸå­æ€§çš„ç±»å‹åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å‰é¢çš„çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œcnt å±äº int ç±»å‹å˜é‡ï¼Œ2 ä¸ªçº¿ç¨‹å¯¹å®ƒè¿›è¡Œè‡ªå¢æ“ä½œä¹‹åï¼Œå¾—åˆ°çš„å€¼ä¸º 1 è€Œä¸æ˜¯ 2ã€‚\nä¸ºäº†æ–¹ä¾¿è®¨è®ºï¼Œå°†å†…å­˜é—´çš„äº¤äº’æ“ä½œç®€åŒ–ä¸º 3 ä¸ªï¼šloadã€assignã€storeã€‚\nä¸‹å›¾æ¼”ç¤ºäº†ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ cnt è¿›è¡Œæ“ä½œï¼Œloadã€assignã€store è¿™ä¸€ç³»åˆ—æ“ä½œæ•´ä½“ä¸Šçœ‹ä¸å…·å¤‡åŸå­æ€§ï¼Œé‚£ä¹ˆåœ¨ T1 ä¿®æ”¹ cnt å¹¶ä¸”è¿˜æ²¡æœ‰å°†ä¿®æ”¹åçš„å€¼å†™å…¥ä¸»å†…å­˜ï¼ŒT2 ä¾ç„¶å¯ä»¥è¯»å…¥æ—§å€¼ã€‚å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹è™½ç„¶æ‰§è¡Œäº†ä¸¤æ¬¡è‡ªå¢è¿ç®—ï¼Œä½†æ˜¯ä¸»å†…å­˜ä¸­ cnt çš„å€¼æœ€åä¸º 1 è€Œä¸æ˜¯ 2ã€‚å› æ­¤å¯¹ int ç±»å‹è¯»å†™æ“ä½œæ»¡è¶³åŸå­æ€§åªæ˜¯è¯´æ˜ loadã€assignã€store è¿™äº›å•ä¸ªæ“ä½œå…·å¤‡åŸå­æ€§ã€‚\nAtomicInteger èƒ½ä¿è¯å¤šä¸ªçº¿ç¨‹ä¿®æ”¹çš„åŸå­æ€§ã€‚\nä½¿ç”¨ AtomicInteger é‡å†™ä¹‹å‰çº¿ç¨‹ä¸å®‰å…¨çš„ä»£ç ä¹‹åå¾—åˆ°ä»¥ä¸‹çº¿ç¨‹å®‰å…¨å®ç°ï¼š\nimport java.util.concurrent.atomic.AtomicInteger; public class Main { private static AtomicInteger cnt = new AtomicInteger(); public static void main(String[] args) { Runnable runnable = () -\u003e { for (int j = 0; j \u003c 100; j++) { cnt.getAndIncrement(); try { Thread.sleep(30); } catch (InterruptedException e) { e.printStackTrace(); } } System.out.println(cnt.get()); }; new Thread(runnable).start(); new Thread(runnable).start(); } } é™¤äº†ä½¿ç”¨åŸå­ç±»ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨ synchronized äº’æ–¥é”æ¥ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚å®ƒå¯¹åº”çš„å†…å­˜é—´äº¤äº’æ“ä½œä¸ºï¼šlock å’Œ unlockï¼Œåœ¨è™šæ‹Ÿæœºå®ç°ä¸Šå¯¹åº”çš„å­—èŠ‚ç æŒ‡ä»¤ä¸º monitorenter å’Œ monitorexitã€‚\npublic class Main1 { private static int cnt = 0; public synchronized void add() { cnt++; } public static void main(String[] args) { Main1 main1 =new Main1(); Runnable runnable = () -\u003e { for (int j = 0; j \u003c 100; j++) { main1.add(); try { Thread.sleep(30); } catch (InterruptedException e) { e.printStackTrace(); } } System.out.println(cnt); }; new Thread(runnable).start(); new Thread(runnable).start(); } } å¯è§æ€§ å¯è§æ€§æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶å®ƒçº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚Java å†…å­˜æ¨¡å‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åå°†æ–°å€¼åŒæ­¥å›ä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»ä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼æ¥å®ç°å¯è§æ€§çš„ã€‚\nä¸»è¦æœ‰æœ‰ä¸‰ç§å®ç°å¯è§æ€§çš„æ–¹å¼ï¼š\nvolatileï¼Œä¼šå¼ºåˆ¶å°†è¯¥å˜é‡è‡ªå·±å’Œå½“æ—¶å…¶ä»–å˜é‡çš„çŠ¶æ€éƒ½åˆ·å‡ºç¼“å­˜ã€‚\nsynchronizedï¼Œå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»æŠŠå˜é‡å€¼åŒæ­¥å›ä¸»å†…å­˜ã€‚\nfinalï¼Œè¢« final å…³é”®å­—ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œå¹¶ä¸”æ²¡æœ‰å‘ç”Ÿ this é€ƒé€¸ï¼ˆå…¶å®ƒçº¿ç¨‹é€šè¿‡ this å¼•ç”¨è®¿é—®åˆ°åˆå§‹åŒ–äº†ä¸€åŠçš„å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹å°±èƒ½çœ‹è§ final å­—æ®µçš„å€¼ã€‚\nå¯¹å‰é¢çš„çº¿ç¨‹ä¸å®‰å…¨ç¤ºä¾‹ä¸­çš„ cnt å˜é‡ä½¿ç”¨ volatile ä¿®é¥°ï¼Œä¸èƒ½è§£å†³çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Œå› ä¸º volatile å¹¶ä¸èƒ½ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚\næœ‰åºæ€§ æœ‰åºæ€§æ˜¯æŒ‡ï¼šåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰åºçš„ã€‚åœ¨ä¸€ä¸ªçº¿ç¨‹è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ï¼Œæ— åºæ˜¯å› ä¸ºå‘ç”Ÿäº†æŒ‡ä»¤é‡æ’åºã€‚åœ¨ Java å†…å­˜æ¨¡å‹ä¸­ï¼Œå…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œé‡æ’åºè¿‡ç¨‹ä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œï¼Œå´ä¼šå½±å“åˆ°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚\nç®€å•æ¥è¯´ï¼šå¯¹äºä»£ç æœ‰ä¸ªé—®é¢˜å°±æ˜¯æŒ‡ä»¤é‡æ’åºï¼Œç¼–è¯‘å™¨å’ŒæŒ‡ä»¤å™¨æœ‰æ—¶å€™ä¸ºäº†æé«˜ä»£ç æ‰§è¡Œæ•ˆç‡ä¼šå°†æŒ‡ä»¤é‡æ–°æ’åºã€‚\nflag = false; //çº¿ç¨‹1ï¼š //å‡†å¤‡èµ„æº prepare() flag = true; //çº¿ç¨‹2ï¼š while(!flag){ Thread.sleep(1000) } //åŸºäºå‡†å¤‡å¥½çš„èµ„æºæ‰§è¡Œæ“ä½œ execute() æŒ‡ä»¤é‡æ’åºåï¼Œè®©flag=true å…ˆæ‰§è¡Œäº†ï¼Œä¼šå¯¼è‡´çº¿ç¨‹2 ç›´æ¥è·³è¿‡whileç­‰å¾…ï¼Œæ‰§è¡ŒæŸæ®µä»£ç ï¼Œç»“æœprepare()æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œèµ„æºæ²¡æœ‰å‡†å¤‡å¥½ï¼Œæ­¤æ—¶å°±ä¼šå¯¼è‡´ä»£ç é€»è¾‘å‡ºç°å¼‚å¸¸ï¼\nJMM å†…éƒ¨çš„å®ç°é€šå¸¸æ˜¯ä¾èµ–äºæ‰€è°“çš„å†…å­˜å±éšœï¼Œé€šè¿‡ç¦æ­¢æŸäº›é‡æ’åºçš„æ–¹å¼ï¼Œæä¾›å†…å­˜å¯è§æ€§ä¿è¯ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†å„ç§ happen-before è§„åˆ™ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ›´å¤šå¤æ‚åº¦åœ¨äºï¼Œéœ€è¦å°½é‡ç¡®ä¿å„ç§ç¼–è¯‘å™¨ã€å„ç§ä½“ç³»ç»“æ„çš„å¤„ç†å™¨ï¼Œéƒ½èƒ½å¤Ÿæä¾›ä¸€è‡´çš„è¡Œä¸ºã€‚\nå…ˆè¡Œå‘ç”ŸåŸåˆ™(Happen-Before)\nJSR-133å†…å­˜æ¨¡å‹ä½¿ç”¨å…ˆè¡Œå‘ç”ŸåŸåˆ™åœ¨Javaå†…å­˜æ¨¡å‹ä¸­ä¿è¯å¤šçº¿ç¨‹æ“ä½œå¯è§æ€§çš„æœºåˆ¶ï¼Œä¹Ÿæ˜¯å¯¹æ—©æœŸè¯­è¨€è§„èŒƒä¸­å«ç³Šçš„å¯è§æ€§æ¦‚å¿µçš„ä¸€ä¸ªç²¾ç¡®å®šä¹‰ã€‚ä¸Šé¢æåˆ°äº†å¯ä»¥ç”¨ volatile å’Œ synchronized æ¥ä¿è¯æœ‰åºæ€§ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒJVM è¿˜è§„å®šäº†å…ˆè¡Œå‘ç”ŸåŸåˆ™ï¼Œè®©ä¸€ä¸ªæ“ä½œæ— éœ€æ§åˆ¶å°±èƒ½å…ˆäºå¦ä¸€ä¸ªæ“ä½œå®Œæˆã€‚\nç”±äºæŒ‡ä»¤é‡æ’åºçš„å­˜åœ¨ï¼Œä¸¤ä¸ªæ“ä½œä¹‹é—´æœ‰happen-beforeå…³ç³»ï¼Œå¹¶ä¸æ„å‘³ç€å‰ä¸€ä¸ªæ“ä½œå¿…é¡»è¦åœ¨åä¸€ä¸ªæ“ä½œä¹‹å‰æ‰§è¡Œã€‚ ä»…ä»…è¦æ±‚å‰ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œç»“æœå¯¹äºåä¸€ä¸ªæ“ä½œæ˜¯å¯è§çš„ï¼Œå¹¶ä¸”å‰ä¸€ä¸ªæ“ä½œ æŒ‰é¡ºåº æ’åœ¨ç¬¬äºŒä¸ªæ“ä½œä¹‹å‰ã€‚\nå•ä¸€çº¿ç¨‹åŸåˆ™ï¼ˆç¨‹åºå‘˜é¡ºåºè§„åˆ™ï¼‰Single Thread rule åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨ç¨‹åºå‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”Ÿäºä¹¦å†™åé¢çš„æ“ä½œã€‚\nç®¡ç¨‹é”å®šè§„åˆ™ï¼ˆç›‘è§†å™¨é”è§„åˆ™ï¼‰Monitor Lock Rule ä¸€ä¸ª unlockï¼ˆè§£é”ï¼‰ æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lockï¼ˆåŠ é”ï¼‰æ“ä½œã€‚æ¯”å¦‚ä»£ç é‡Œé¢å…ˆå¯¹ä¸€ä¸ªlock.lock()ç„¶ålock.unlock(),ç„¶ålock.lock()\nvolatile å˜é‡è§„åˆ™ Volatile Variable Rule å¯¹ä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œã€‚\nçº¿ç¨‹å¯åŠ¨è§„åˆ™Thread Start Rule Thread å¯¹è±¡çš„ start() æ–¹æ³•è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚æ¯”å¦‚Thread.start() interrupt()\nçº¿ç¨‹åŠ å…¥è§„åˆ™ Thread Join Rule Thread å¯¹è±¡çš„ç»“æŸå…ˆè¡Œå‘ç”Ÿäº join() æ–¹æ³•è¿”å›ã€‚\nçº¿ç¨‹ä¸­æ–­è§„åˆ™ Thread Interruption Rule å¯¹çº¿ç¨‹ interrupt() æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡ interrupted() æ–¹æ³•æ£€æµ‹åˆ°æ˜¯å¦æœ‰ä¸­æ–­å‘ç”Ÿã€‚\nå¯¹è±¡ç»ˆç»“è§„åˆ™ Finalizer Rule ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæ„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ç”Ÿäºå®ƒçš„ finalize() æ–¹æ³•çš„å¼€å§‹ã€‚\nä¼ é€’æ€§ Transitivity å¦‚æœæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Bï¼Œæ“ä½œ B å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cï¼Œé‚£ä¹ˆæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cã€‚\næ€»ç»“ï¼šè¿™äº›è§„åˆ™åˆ¶å®šäº†åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸å…è®¸ç¼–è¯‘æœºï¼ŒæŒ‡ä»¤å™¨å¯¹ä½ å†™çš„ä»£ç è¿›è¡ŒæŒ‡ä»¤é‡æ’ï¼Œå¿…é¡»ä¿è¯ä½ çš„ä»£ç çš„æœ‰åºæ€§\næŒ‡ä»¤é‡æ’åºçš„æ¡ä»¶\nåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ä¸èƒ½æ”¹å˜ç¨‹åºçš„è¿è¡Œç»“æœï¼›\nå­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»çš„ä¸å…è®¸é‡æ’åºï¼›\næ— æ³•é€šè¿‡Happens-beforeåŸåˆ™æ¨åˆ°å‡ºæ¥çš„ï¼Œæ‰èƒ½è¿›è¡ŒæŒ‡ä»¤çš„é‡æ’åºã€‚\nvolatile å¯è§æ€§ public class Main { private volatile static int i = 0; public static void main(String[] args) { new Thread(()-\u003e{ i++ ; }).start(); new Thread(()-\u003e{ // volatile ä¿®é¥°å å½“çº¿ç¨‹1 æ“ä½œi++ åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­åï¼Œä¼šè®©çº¿ç¨‹2å·¥ä½œå†…å­˜çš„ç¼“å­˜å¤±æ•ˆ // æ­¤æ—¶ä¼šè¯»å–åˆ° i=1 while (i ==0){ Thread.sleep(1000); } i++ ; }).start(); } } å¸¸ç”¨åœºæ™¯ï¼šä¸€ä¸ªç³»ç»Ÿ ä¸­é—´è¿æ¥å„ç§ä¸­é—´ä»¶ç³»ç»Ÿï¼Œä¸èƒ½ç›´æ¥ç»“æŸä¸»è¿›ç¨‹ï¼Œåœ¨ç»“æŸä¸»è¿›ç¨‹çš„æ—¶å€™è¦æŠŠé‡Œé¢çš„å„ä¸ªä¸­é—´ä»¶ç³»ç»Ÿå…³é—­åï¼Œåœ¨ç»“æŸä¸»è¿›ç¨‹ï¼Œä¸ç„¶å¯èƒ½ä¼šæ¶ˆæ¯ä¸¢å¤±ï¼Œæˆ–è€…æ•°æ®ä¸ä¸€è‡´ç­‰ç°è±¡.\npublic class Kafka{ private volatile boolean running =true ; // è¿™æ˜¯ä¸€ä¸ªæ¥å£ public void shutdown(){ //å…³é—­è¿™ä¸ªç³»ç»Ÿäº†ï¼Œshutdown.shè„šæœ¬ï¼Œæ¥è°ƒç”¨è¿™ä¸ªshutdownæ¥å£ // æœ€åè¿è¡ŒçŠ¶æ€ç½®ä¸ºfalse running =false ; } public static void main(){ //å¯åŠ¨kafka , rocketmq ,ä¼šè¿è¡Œä¸€å¤§å †ä»£ç ï¼Œä¸­é—´ä»¶ç³»ç»Ÿä¸èƒ½ç›´æ¥åœæ‰ Kafka kafka= new Kafka(); // ç›‘æ§kafka æ˜¯å¦å…³é—­ ï¼Œæœªå…³é—­åˆ™éœ€è¦ç­‰å¾…ï¼ while(kafka.running){ Thread.sleep(1000); } } } å¦‚æœä¸åŠ volatileä¿®é¥° ï¼Œåˆ™æœ‰å¯èƒ½ä¸€ç›´ä¸ä¼šå…³é—­ï¼Œæ‹¿åˆ°çš„runningçŠ¶æ€ ä¸€ç›´æ˜¯true\næœ‰åºæ€§ å‰é¢çš„æ¡ˆä¾‹ä½¿ç”¨volatile ä¼˜åŒ–å\nvolatile boolean flag = false; //çº¿ç¨‹1ï¼š //å‡†å¤‡èµ„æº prepare() flag = true; //çº¿ç¨‹2ï¼š while(!flag){ Thread.sleep(1000) } //åŸºäºå‡†å¤‡å¥½çš„èµ„æºæ‰§è¡Œæ“ä½œ execute() æ¯”å¦‚è¿™ä¸ªä¾‹å­ï¼Œå¦‚æœä½¿ç”¨ volatileæ¥ä¿®é¥°flagå˜é‡ï¼Œä¸€å®šå¯ä»¥è®©prepare() åœ¨flag = true;ä¹‹å‰å…ˆæ‰§è¡Œï¼Œè¿™å°±ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œå› ä¸ºvolatileå˜é‡è§„åˆ™è¦æ±‚çš„æ˜¯ï¼Œvolatileå‰é¢çš„ä»£ç ä¸€å®šä¸èƒ½æŒ‡ä»¤é‡æ’åˆ°volatileå˜é‡æ“ä½œåé¢ï¼Œvolatileåé¢çš„ä»£ç ä¹Ÿä¸èƒ½æŒ‡ä»¤é‡æ’åˆ°volatileå‰é¢\nä¹Ÿå¯ä»¥é€šè¿‡ synchronized æ¥ä¿è¯æœ‰åºæ€§ï¼Œå®ƒä¿è¯æ¯ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œç›¸å½“äºæ˜¯è®©çº¿ç¨‹é¡ºåºæ‰§è¡ŒåŒæ­¥ä»£ç ã€‚\nåŸå­æ€§ volatile ä¸èƒ½ä¿è¯åŸå­æ€§ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥æœ‰é™çš„ä¿è¯åŸå­æ€§ï¼Œå®ƒä¸»è¦ä¸æ˜¯ç”¨æ¥ä¿è¯åŸå­æ€§çš„ï¼ æ¯”å¦‚oracle 64ä½çš„long æ•°å­—è¿›è¡Œæ“ä½œçš„æ—¶å€™\nä¿è¯åŸå­æ€§è¿˜æ˜¯éœ€è¦synchronizedï¼Œlock è¿›è¡ŒåŠ é”\nåŸç† volatile å…³é”®å­—é€šè¿‡æ·»åŠ å†…å­˜å±éšœçš„æ–¹å¼æ¥ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œå³é‡æ’åºæ—¶ä¸èƒ½æŠŠåé¢çš„æŒ‡ä»¤æ”¾åˆ°å†…å­˜å±éšœä¹‹å‰ã€‚\nlockæŒ‡ä»¤ï¼ˆä¿è¯å¯è§æ€§ï¼‰ å¯¹ volatileä¿®é¥°çš„å˜é‡,æ‰§è¡Œå†™æ“ä½œçš„è¯,JVMä¼šå‘é€ä¸€æ¡lockå‰ç¼€æŒ‡ä»¤ç»™CPU,CPUåœ¨è®¡ç®—å®Œä¹‹åä¼šç«‹å³å°†è¿™ä¸ªå€¼å†™å›ä¸»å†…å­˜,åŒæ—¶å› ä¸ºæœ‰MESIç¼“å­˜ä¸€è‡´æ€§åè®®,æ‰€ä»¥å„ä¸ªCPUéƒ½ä¼šå¯¹æ€»çº¿è¿›è¡Œå—…æ¢,è‡ªå·±æœ¬åœ°ç¼“å­˜ä¸­çš„æ•°æ®æ˜¯å¦è¢«åˆ«äººä¿®æ”¹å¦‚æœå‘ç°åˆ«äººä¿®æ”¹äº†æŸä¸ªç¼“å­˜çš„æ•°æ®,é‚£ä¹ˆCPUå°±ä¼šå°†è‡ªå·±æœ¬åœ°ç¼“å­˜çš„æ•°æ®è¿‡æœŸæ‰,ç„¶åè¿™ä¸ªCPUä¸Šæ‰§è¡Œçš„çº¿ç¨‹åœ¨è¯»å–é‚£ä¸ªå˜é‡çš„æ—¶å€™,å°±ä¼šä»ä¸»å†…å­˜é‡æ–°åŠ è½½æœ€æ–°çš„æ•°æ®äº†\nå†…å­˜å±éšœï¼šç¦æ­¢é‡æ’åºï¼ˆä¿è¯æœ‰åºæ€§ï¼‰ Load1: int localVar = this.variable; Load2: int localVar = this.variable2; Loadloadå±éšœ:Load1; LoadLoad;Load2,ç¡®ä¿Load1æ•°æ®çš„è£…è½½å…ˆäºLoad2åæ‰€æœ‰è£…è½½æŒ‡ä»¤,ä»–çš„æ„æ€,Load1å¯¹åº”çš„ä»£ç å’ŒLoad2å¯¹åº”çš„ä»£ç ,æ˜¯ä¸èƒ½æŒ‡ä»¤é‡æ’çš„\nStore1: this.variable=1; StoreStoreå±éšœ Store2: this.variable2=2; StoreStoreå±éšœ: Store1; StoreStore; Store2,ç¡®ä¿ Store1çš„æ•°æ®ä¸€å®šåˆ·å›ä¸»å­˜,å¯¹å…¶ä»–cpu å¯è§,å…ˆäº Store2ä»¥åŠåç»­æŒ‡ä»¤\nLoadStoreå±éšœ:Load1; LoadStore; Store2,ç¡®ä¿Load1æŒ‡ä»¤çš„æ•°æ®è£…è½½,å…ˆäº Store2ä»¥åŠ åç»­æŒ‡ä»¤\nStoreloadå±éšœ: Store1; Storeload;Load2,ç¡®ä¿ Store1æŒ‡ä»¤çš„æ•°æ®ä¸€å®šåˆ·å›ä¸»å­˜,å¯¹å…¶ä»– cpuå¯è§,å…ˆäºLoad2ä»¥åŠåç»­æŒ‡ä»¤çš„æ•°æ®è£…è½½\nä½œç”¨ volatile variable =1 this variable=2=\u003e storeæ“ä½œ int localvariable= this variable=\u003eloadæ“ä½œ å¯¹äº volatileä¿®æ”¹å˜é‡çš„è¯»å†™æ“ä½œ,éƒ½ä¼šåŠ å…¥å†…å­˜å±éšœ,æ¯ä¸ª volatileå†™æ“ä½œå‰é¢,åŠ  Store Storeå±éšœ,ç¦æ­¢ä¸Šé¢çš„æ™®é€šå†™å’Œä»–é‡æ’;æ¯ä¸ª volatileå†™æ“ä½œåé¢,åŠ  Storeloadå±éšœ,ç¦æ­¢è·Ÿä¸‹é¢çš„ volatileè¯»/å†™é‡æ’â†\n","description":"\n","tags":[],"title":"\nJava volatileå…³é”®å­—","uri":"/posts/post-280/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡åˆ†å¸ƒå¼äº‹åŠ¡\nåˆ†å¸ƒå¼äº‹åŠ¡åŸºç¡€ äº‹åŠ¡ äº‹åŠ¡æŒ‡çš„å°±æ˜¯ä¸€ä¸ªæ“ä½œå•å…ƒï¼Œåœ¨è¿™ä¸ªæ“ä½œå•å…ƒä¸­çš„æ‰€æœ‰æ“ä½œæœ€ç»ˆè¦ä¿æŒä¸€è‡´çš„è¡Œä¸ºï¼Œè¦ä¹ˆæ‰€æœ‰æ“ä½œéƒ½æˆåŠŸï¼Œè¦ä¹ˆæ‰€æœ‰çš„æ“ä½œéƒ½è¢«æ’¤é”€ã€‚ç®€å•åœ°è¯´ï¼Œäº‹åŠ¡æä¾›ä¸€ç§â€œè¦ä¹ˆä»€ä¹ˆéƒ½ä¸åšï¼Œè¦ä¹ˆåšå…¨å¥—â€æœºåˆ¶ã€‚\næœ¬åœ°äº‹åŠ¡ æœ¬åœ°äº‹ç‰©å…¶å®å¯ä»¥è®¤ä¸ºæ˜¯æ•°æ®åº“æä¾›çš„äº‹åŠ¡æœºåˆ¶ã€‚è¯´åˆ°æ•°æ®åº“äº‹åŠ¡å°±ä¸å¾—ä¸è¯´ï¼Œæ•°æ®åº“äº‹åŠ¡ä¸­çš„å››å¤§ç‰¹æ€§:\nA:åŸå­æ€§(Atomicity)ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆ\nC:ä¸€è‡´æ€§(Consistency)ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¹‹å‰å’Œæ‰§è¡Œä¹‹åæ•°æ®åº“éƒ½å¿…é¡»å¤„äºä¸€è‡´æ€§çŠ¶æ€\nI:éš”ç¦»æ€§(Isolation)ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸­ï¼Œå½“ä¸åŒçš„äº‹åŠ¡åŒæ—¶æ“ä½œç›¸åŒçš„æ•°æ®æ—¶ï¼Œäº‹åŠ¡ä¹‹é—´äº’ä¸å½±å“\nD:æŒä¹…æ€§(Durability)ï¼ŒæŒ‡çš„æ˜¯åªè¦äº‹åŠ¡æˆåŠŸç»“æŸï¼Œå®ƒå¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ–°å°±å¿…é¡»æ°¸ä¹…çš„ä¿å­˜ä¸‹æ¥\næ•°æ®åº“äº‹åŠ¡åœ¨å®ç°æ—¶ä¼šå°†ä¸€æ¬¡äº‹åŠ¡æ¶‰åŠçš„æ‰€æœ‰æ“ä½œå…¨éƒ¨çº³å…¥åˆ°ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ‰§è¡Œå•å…ƒï¼Œè¯¥æ‰§è¡Œå•å…ƒä¸­ çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼Œåªè¦å…¶ä¸­ä»»ä¸€æ“ä½œæ‰§è¡Œå¤±è´¥ï¼Œéƒ½å°†å¯¼è‡´æ•´ä¸ªäº‹åŠ¡çš„å›æ»š\nåˆ†å¸ƒå¼äº‹åŠ¡ åˆ†å¸ƒå¼äº‹åŠ¡æŒ‡äº‹åŠ¡çš„å‚ä¸è€…ã€æ”¯æŒäº‹åŠ¡çš„æœåŠ¡å™¨ã€èµ„æºæœåŠ¡å™¨ä»¥åŠäº‹åŠ¡ç®¡ç†å™¨åˆ†åˆ«ä½äºä¸åŒçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸åŒèŠ‚ç‚¹ä¹‹ä¸Šã€‚\nç®€å•çš„è¯´ï¼Œå°±æ˜¯ä¸€æ¬¡å¤§çš„æ“ä½œç”±ä¸åŒçš„å°æ“ä½œç»„æˆï¼Œè¿™äº›å°çš„æ“ä½œåˆ†å¸ƒåœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œä¸”å±äºä¸åŒ çš„åº”ç”¨ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡éœ€è¦ä¿è¯è¿™äº›å°æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚\næœ¬è´¨ä¸Šæ¥è¯´ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å°±æ˜¯ä¸ºäº†ä¿è¯ä¸åŒæ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡çš„åœºæ™¯ å•ä½“ç³»ç»Ÿè®¿é—®å¤šä¸ªæ•°æ®åº“\nä¸€ä¸ªæœåŠ¡éœ€è¦è°ƒç”¨å¤šä¸ªæ•°æ®åº“å®ä¾‹å®Œæˆæ•°æ®çš„å¢åˆ æ”¹æ“ä½œ\nå¤šä¸ªå¾®æœåŠ¡è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“\nå¤šä¸ªæœåŠ¡éœ€è¦è°ƒç”¨ä¸€ä¸ªæ•°æ®åº“å®ä¾‹å®Œæˆæ•°æ®çš„å¢åˆ æ”¹æ“ä½œ\nå¤šä¸ªå¾®æœåŠ¡è®¿é—®å¤šä¸ªæ•°æ®åº“\nå¤šä¸ªæœåŠ¡éœ€è¦è°ƒç”¨ä¸€ä¸ªæ•°æ®åº“å®ä¾‹å®Œæˆæ•°æ®çš„å¢åˆ æ”¹æ“ä½œ\nåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ å…¨å±€äº‹åŠ¡ å…¨å±€äº‹åŠ¡åŸºäºDTPæ¨¡å‹å®ç°ã€‚DTPæ˜¯ç”±X/Openç»„ç»‡æå‡ºçš„ä¸€ç§åˆ†å¸ƒå¼äº‹åŠ¡æ¨¡å‹â€”â€”X/Open Distributed Transaction Processing Reference Modelã€‚å®ƒè§„å®šäº†è¦å®ç°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œéœ€è¦ä¸‰ç§è§’è‰²:\nAP: Application åº”ç”¨ç³»ç»Ÿ (å¾®æœåŠ¡) TM: Transaction Manager äº‹åŠ¡ç®¡ç†å™¨ (å…¨å±€äº‹åŠ¡ç®¡ç†) RM: Resource Manager èµ„æºç®¡ç†å™¨ (æ•°æ®åº“) æ•´ä¸ªäº‹åŠ¡åˆ†æˆä¸¤ä¸ªé˜¶æ®µ:\né˜¶æ®µä¸€: è¡¨å†³é˜¶æ®µï¼Œæ‰€æœ‰å‚ä¸è€…éƒ½å°†æœ¬äº‹åŠ¡æ‰§è¡Œé¢„æäº¤ï¼Œå¹¶å°†èƒ½å¦æˆåŠŸçš„ä¿¡æ¯åé¦ˆå‘ç»™åè°ƒè€…ã€‚\né˜¶æ®µäºŒ: æ‰§è¡Œé˜¶æ®µï¼Œåè°ƒè€…æ ¹æ®æ‰€æœ‰å‚ä¸è€…çš„åé¦ˆï¼Œé€šçŸ¥æ‰€æœ‰å‚ä¸è€…ï¼Œæ­¥è°ƒä¸€è‡´åœ°æ‰§è¡Œæäº¤æˆ–è€…å›\næ»šã€‚\nä¼˜ç‚¹\næé«˜äº†æ•°æ®ä¸€è‡´æ€§çš„æ¦‚ç‡ï¼Œå®ç°æˆæœ¬è¾ƒä½ ç¼ºç‚¹\nå•ç‚¹é—®é¢˜: äº‹åŠ¡åè°ƒè€…å®•æœº åŒæ­¥é˜»å¡: å»¶è¿Ÿäº†æäº¤æ—¶é—´ï¼ŒåŠ é•¿äº†èµ„æºé˜»å¡æ—¶é—´ æ•°æ®ä¸ä¸€è‡´: æäº¤ç¬¬äºŒé˜¶æ®µï¼Œä¾ç„¶å­˜åœ¨commitç»“æœæœªçŸ¥çš„æƒ…å†µï¼Œæœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ å¯é æ¶ˆæ¯æœåŠ¡ åŸºäºå¯é æ¶ˆæ¯æœåŠ¡çš„æ–¹æ¡ˆæ˜¯é€šè¿‡æ¶ˆæ¯ä¸­é—´ä»¶ä¿è¯ä¸Šã€ä¸‹æ¸¸åº”ç”¨æ•°æ®æ“ä½œçš„ä¸€è‡´æ€§ã€‚å‡è®¾æœ‰Aå’ŒBä¸¤ä¸ªç³» ç»Ÿï¼Œåˆ†åˆ«å¯ä»¥å¤„ç†ä»»åŠ¡Aå’Œä»»åŠ¡Bã€‚æ­¤æ—¶å­˜åœ¨ä¸€ä¸ªä¸šåŠ¡æµç¨‹ï¼Œéœ€è¦å°†ä»»åŠ¡Aå’Œä»»åŠ¡Båœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤„ ç†ã€‚å°±å¯ä»¥ä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶æ¥å®ç°è¿™ç§åˆ†å¸ƒå¼äº‹åŠ¡ã€‚\nç¬¬ä¸€æ­¥:æ¶ˆæ¯ç”±ç³»ç»ŸAæŠ•é€’åˆ°ä¸­é—´ä»¶\nåœ¨ç³»ç»ŸAå¤„ç†ä»»åŠ¡Aå‰ï¼Œé¦–å…ˆå‘æ¶ˆæ¯ä¸­é—´ä»¶å‘é€ä¸€æ¡æ¶ˆæ¯\næ¶ˆæ¯ä¸­é—´ä»¶æ”¶åˆ°åå°†è¯¥æ¡æ¶ˆæ¯æŒä¹…åŒ–ï¼Œä½†å¹¶ä¸æŠ•é€’ã€‚æŒä¹…åŒ–æˆåŠŸåï¼Œå‘Aå›å¤ä¸€ä¸ªç¡®è®¤åº”ç­”\nç³»ç»ŸAæ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œåˆ™å¯ä»¥å¼€å§‹å¤„ç†ä»»åŠ¡A\nä»»åŠ¡Aå¤„ç†å®Œæˆåï¼Œå‘æ¶ˆæ¯ä¸­é—´ä»¶å‘é€Commitæˆ–è€…Rollbackè¯·æ±‚ã€‚è¯¥è¯·æ±‚å‘é€å®Œæˆåï¼Œå¯¹ç³»ç»ŸAè€Œ\nè¨€ï¼Œè¯¥äº‹åŠ¡çš„å¤„ç†è¿‡ç¨‹å°±ç»“æŸäº†\nå¦‚æœæ¶ˆæ¯ä¸­é—´ä»¶æ”¶åˆ°Commitï¼Œåˆ™å‘Bç³»ç»ŸæŠ•é€’æ¶ˆæ¯;å¦‚æœæ”¶åˆ°Rollbackï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒæ¶ˆæ¯ã€‚ä½†æ˜¯\nå¦‚æœæ¶ˆæ¯ä¸­é—´ä»¶æ”¶ä¸åˆ°Commitå’ŒRollbackæŒ‡ä»¤ï¼Œé‚£ä¹ˆå°±è¦ä¾é \"è¶…æ—¶è¯¢é—®æœºåˆ¶\"ã€‚\nè¶…æ—¶è¯¢é—®æœºåˆ¶\nç³»ç»ŸAé™¤äº†å®ç°æ­£å¸¸çš„ä¸šåŠ¡æµç¨‹å¤–ï¼Œè¿˜éœ€æä¾›ä¸€ä¸ªäº‹åŠ¡è¯¢é—®çš„æ¥å£ï¼Œä¾›æ¶ˆæ¯ä¸­é—´ä»¶è°ƒç”¨ã€‚å½“æ¶ˆæ¯ä¸­ é—´ä»¶æ”¶åˆ°å‘å¸ƒæ¶ˆæ¯ä¾¿å¼€å§‹è®¡æ—¶ï¼Œå¦‚æœåˆ°äº†è¶…æ—¶æ²¡æ”¶åˆ°ç¡®è®¤æŒ‡ä»¤ï¼Œå°±ä¼šä¸»åŠ¨è°ƒç”¨ç³»ç»ŸAæä¾›çš„äº‹åŠ¡è¯¢ é—®æ¥å£è¯¢é—®è¯¥ç³»ç»Ÿç›®å‰çš„çŠ¶æ€ã€‚è¯¥æ¥å£ä¼šè¿”å›ä¸‰ç§ç»“æœï¼Œä¸­é—´ä»¶æ ¹æ®ä¸‰ç§ç»“æœåšå‡ºä¸åŒååº”:\næäº¤:å°†è¯¥æ¶ˆæ¯æŠ•é€’ç»™ç³»ç»ŸB å›æ»š:ç›´æ¥å°†æ¡æ¶ˆæ¯ä¸¢å¼ƒ å¤„ç†ä¸­:ç»§ç»­ç­‰å¾…\nç¬¬äºŒæ­¥:æ¶ˆæ¯ç”±ä¸­é—´ä»¶æŠ•é€’åˆ°ç³»ç»ŸB\næ¶ˆæ¯ä¸­é—´ä»¶å‘ä¸‹æ¸¸ç³»ç»ŸæŠ•é€’å®Œæ¶ˆæ¯åä¾¿è¿›å…¥é˜»å¡ç­‰å¾…çŠ¶æ€ï¼Œä¸‹æ¸¸ç³»ç»Ÿä¾¿ç«‹å³è¿›è¡Œä»»åŠ¡çš„å¤„ç†ï¼Œä»»åŠ¡å¤„ç†å®Œæˆåä¾¿å‘æ¶ˆæ¯ä¸­é—´ä»¶è¿”å›åº”ç­”ã€‚\nå¦‚æœæ¶ˆæ¯ä¸­é—´ä»¶æ”¶åˆ°ç¡®è®¤åº”ç­”åä¾¿è®¤ä¸ºè¯¥äº‹åŠ¡å¤„ç†å®Œæ¯•\nå¦‚æœæ¶ˆæ¯ä¸­é—´ä»¶åœ¨ç­‰å¾…ç¡®è®¤åº”ç­”è¶…æ—¶ä¹‹åå°±ä¼šé‡æ–°æŠ•é€’ï¼Œç›´åˆ°ä¸‹æ¸¸æ¶ˆè´¹è€…è¿”å›æ¶ˆè´¹æˆåŠŸå“åº”ä¸ºæ­¢ã€‚\nä¸€èˆ¬æ¶ˆæ¯ä¸­é—´ä»¶å¯ä»¥è®¾ç½®æ¶ˆæ¯é‡è¯•çš„æ¬¡æ•°å’Œæ—¶é—´é—´éš”ï¼Œå¦‚æœæœ€ç»ˆè¿˜æ˜¯ä¸èƒ½æˆåŠŸæŠ•é€’ï¼Œåˆ™éœ€è¦æ‰‹å·¥å¹²é¢„ã€‚ è¿™é‡Œä¹‹æ‰€ä»¥ä½¿ç”¨äººå·¥å¹²é¢„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è®©Aç³»ç»Ÿå›æ»šï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆ°æ•´ä¸ªç³»ç»Ÿè®¾è®¡çš„å¤æ‚åº¦é—®é¢˜ã€‚\nåŸºäºå¯é æ¶ˆæ¯æœåŠ¡çš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå‰åŠéƒ¨åˆ†ä½¿ç”¨å¼‚æ­¥ï¼Œæ³¨é‡æ€§èƒ½;ååŠéƒ¨åˆ†ä½¿ç”¨åŒæ­¥ï¼Œæ³¨é‡å¼€å‘æˆæœ¬ã€‚\næœ€å¤§åŠªåŠ›é€šçŸ¥ æœ€å¤§åŠªåŠ›é€šçŸ¥ä¹Ÿè¢«ç§°ä¸ºå®šæœŸæ ¡å¯¹ï¼Œå…¶å®æ˜¯å¯¹ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆçš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚å®ƒå¼•å…¥äº†æœ¬åœ°æ¶ˆæ¯è¡¨æ¥è®°å½•é”™è¯¯æ¶ˆæ¯ï¼Œç„¶ååŠ å…¥å¤±è´¥æ¶ˆæ¯çš„å®šæœŸæ ¡å¯¹åŠŸèƒ½ï¼Œæ¥è¿›ä¸€æ­¥ä¿è¯æ¶ˆæ¯ä¼šè¢«ä¸‹æ¸¸ç³»ç»Ÿæ¶ˆè´¹ã€‚\nç¬¬ä¸€æ­¥:æ¶ˆæ¯ç”±ç³»ç»ŸAæŠ•é€’åˆ°ä¸­é—´ä»¶\nå¤„ç†ä¸šåŠ¡çš„åŒä¸€äº‹åŠ¡ä¸­ï¼Œå‘æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­å†™å…¥ä¸€æ¡è®°å½•\nå‡†å¤‡ä¸“é—¨çš„æ¶ˆæ¯å‘é€è€…ä¸æ–­åœ°å‘é€æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­çš„æ¶ˆæ¯åˆ°æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå¦‚æœå‘é€å¤±è´¥åˆ™é‡è¯•\nç¬¬äºŒæ­¥:æ¶ˆæ¯ç”±ä¸­é—´ä»¶æŠ•é€’åˆ°ç³»ç»ŸB\næ¶ˆæ¯ä¸­é—´ä»¶æ”¶åˆ°æ¶ˆæ¯åè´Ÿè´£å°†è¯¥æ¶ˆæ¯åŒæ­¥æŠ•é€’ç»™ç›¸åº”çš„ä¸‹æ¸¸ç³»ç»Ÿï¼Œå¹¶è§¦å‘ä¸‹æ¸¸ç³»ç»Ÿçš„ä»»åŠ¡æ‰§è¡Œ\nå½“ä¸‹æ¸¸ç³»ç»Ÿå¤„ç†æˆåŠŸåï¼Œå‘æ¶ˆæ¯ä¸­é—´ä»¶åé¦ˆç¡®è®¤åº”ç­”ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶ä¾¿å¯ä»¥å°†è¯¥æ¡æ¶ˆæ¯åˆ é™¤ï¼Œä»è€Œè¯¥ äº‹åŠ¡å®Œæˆ\nå¯¹äºæŠ•é€’å¤±è´¥çš„æ¶ˆæ¯ï¼Œåˆ©ç”¨é‡è¯•æœºåˆ¶è¿›è¡Œé‡è¯•ï¼Œå¯¹äºé‡è¯•å¤±è´¥çš„ï¼Œå†™å…¥é”™è¯¯æ¶ˆæ¯è¡¨\næ¶ˆæ¯ä¸­é—´ä»¶éœ€è¦æä¾›å¤±è´¥æ¶ˆæ¯çš„æŸ¥è¯¢æ¥å£ï¼Œä¸‹æ¸¸ç³»ç»Ÿä¼šå®šæœŸæŸ¥è¯¢å¤±è´¥æ¶ˆæ¯ï¼Œå¹¶å°†å…¶æ¶ˆè´¹\nè¿™ç§æ–¹å¼çš„ä¼˜ç¼ºç‚¹:\nä¼˜ç‚¹: ä¸€ç§éå¸¸ç»å…¸çš„å®ç°ï¼Œå®ç°äº†æœ€ç»ˆä¸€è‡´æ€§ã€‚\nç¼ºç‚¹: æ¶ˆæ¯è¡¨ä¼šè€¦åˆåˆ°ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œå¦‚æœæ²¡æœ‰å°è£…å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šæœ‰å¾ˆå¤šæ‚æ´»éœ€è¦å¤„ç†ã€‚\nTCCäº‹åŠ¡ TCCå³ä¸ºTry Confifirm Cancelï¼Œå®ƒå±äºè¡¥å¿å‹åˆ†å¸ƒå¼äº‹åŠ¡ã€‚TCCå®ç°åˆ†å¸ƒå¼äº‹åŠ¡ä¸€å…±æœ‰ä¸‰ä¸ªæ­¥éª¤:\nTry: å°è¯•å¾…æ‰§è¡Œçš„ä¸šåŠ¡:è¿™ä¸ªè¿‡ç¨‹å¹¶æœªæ‰§è¡Œä¸šåŠ¡ï¼Œåªæ˜¯å®Œæˆæ‰€æœ‰ä¸šåŠ¡çš„ä¸€è‡´æ€§æ£€æŸ¥ï¼Œå¹¶é¢„ç•™å¥½æ‰§ è¡Œæ‰€éœ€çš„å…¨éƒ¨èµ„æº\nConfifirm: ç¡®è®¤æ‰§è¡Œä¸šåŠ¡:ç¡®è®¤æ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Œä¸åšä»»ä½•ä¸šåŠ¡æ£€æŸ¥ï¼Œ åªä½¿ç”¨Tryé˜¶æ®µé¢„ç•™çš„ä¸šåŠ¡ èµ„æºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé‡‡ç”¨TCCåˆ™è®¤ä¸º Confifirmé˜¶æ®µæ˜¯ä¸ä¼šå‡ºé”™çš„ã€‚å³:åªè¦TryæˆåŠŸï¼ŒConfifirm ä¸€å®šæˆåŠŸã€‚è‹¥Confifirmé˜¶æ®µçœŸçš„å‡ºé”™äº†ï¼Œéœ€å¼•å…¥é‡è¯•æœºåˆ¶æˆ–äººå·¥å¤„ç†ã€‚\nCancel: å–æ¶ˆå¾…æ‰§è¡Œçš„ä¸šåŠ¡:å–æ¶ˆTryé˜¶æ®µé¢„ç•™çš„ä¸šåŠ¡èµ„æºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé‡‡ç”¨TCCåˆ™è®¤ä¸ºCancel é˜¶æ®µä¹Ÿæ˜¯ä¸€å®šæˆåŠŸçš„ã€‚è‹¥Cancelé˜¶æ®µçœŸçš„å‡ºé”™äº†ï¼Œéœ€å¼•å…¥é‡è¯•æœºåˆ¶æˆ–äººå·¥å¤„ç†\nTCCä¸¤é˜¶æ®µæäº¤ä¸XAä¸¤é˜¶æ®µæäº¤çš„åŒºåˆ«æ˜¯:\nXAæ˜¯èµ„æºå±‚é¢çš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå¼ºä¸€è‡´æ€§ï¼Œåœ¨ä¸¤é˜¶æ®µæäº¤çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸€ç›´ä¼šæŒæœ‰èµ„æºçš„é”ã€‚\nTCCæ˜¯ä¸šåŠ¡å±‚é¢çš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæœ€ç»ˆä¸€è‡´æ€§ï¼Œä¸ä¼šä¸€ç›´æŒæœ‰èµ„æºçš„é”ã€‚\nTCCäº‹åŠ¡çš„ä¼˜ç¼ºç‚¹:\nä¼˜ç‚¹:æŠŠæ•°æ®åº“å±‚çš„äºŒé˜¶æ®µæäº¤ä¸Šæåˆ°äº†åº”ç”¨å±‚æ¥å®ç°ï¼Œè§„é¿äº†æ•°æ®åº“å±‚çš„2PCæ€§èƒ½ä½ä¸‹é—®é¢˜ã€‚ ç¼ºç‚¹:TCCçš„Tryã€Confifirmå’ŒCancelæ“ä½œåŠŸèƒ½éœ€ä¸šåŠ¡æä¾›ï¼Œå¼€å‘æˆæœ¬é«˜ã€‚ Seataä»‹ç» 2019 å¹´ 1 æœˆï¼Œé˜¿é‡Œå·´å·´ä¸­é—´ä»¶å›¢é˜Ÿå‘èµ·äº†å¼€æºé¡¹ç›® Fescar(Fast \u0026 EaSy Commit AndRollback)ï¼Œ å…¶æ„¿æ™¯æ˜¯è®©åˆ†å¸ƒå¼äº‹åŠ¡çš„ä½¿ç”¨åƒæœ¬åœ°äº‹åŠ¡çš„ä½¿ç”¨ä¸€æ ·ï¼Œç®€å•å’Œé«˜æ•ˆï¼Œå¹¶é€æ­¥è§£å†³å¼€å‘è€…ä»¬é‡åˆ°çš„åˆ†å¸ƒå¼ äº‹åŠ¡æ–¹é¢çš„æ‰€æœ‰éš¾é¢˜ã€‚åæ¥æ›´åä¸º Seataï¼Œæ„ä¸º:Simple Extensible Autonomous Transaction Architectureï¼Œæ˜¯ä¸€å¥—åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚\nSeataçš„è®¾è®¡ç›®æ ‡æ˜¯å¯¹ä¸šåŠ¡æ— ä¾µå…¥ï¼Œå› æ­¤ä»ä¸šåŠ¡æ— ä¾µå…¥çš„2PCæ–¹æ¡ˆç€æ‰‹ï¼Œåœ¨ä¼ ç»Ÿ2PCçš„åŸºç¡€ä¸Šæ¼”è¿›ã€‚å®ƒæŠŠ ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡ç†è§£æˆä¸€ä¸ªåŒ…å«äº†è‹¥å¹²åˆ†æ”¯äº‹åŠ¡çš„å…¨å±€äº‹åŠ¡ã€‚å…¨å±€äº‹åŠ¡çš„èŒè´£æ˜¯åè°ƒå…¶ä¸‹ç®¡è¾–çš„åˆ†æ”¯äº‹ åŠ¡è¾¾æˆä¸€è‡´ï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸæäº¤ï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥å›æ»šã€‚æ­¤å¤–ï¼Œé€šå¸¸åˆ†æ”¯äº‹åŠ¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªå…³ç³»æ•°æ®åº“çš„ æœ¬åœ°äº‹åŠ¡ã€‚\nSeataä¸»è¦ç”±ä¸‰ä¸ªé‡è¦ç»„ä»¶ç»„æˆ:\nTC:Transaction Coordinator äº‹åŠ¡åè°ƒå™¨ï¼Œç®¡ç†å…¨å±€çš„åˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œç”¨äºå…¨å±€æ€§äº‹åŠ¡çš„æäº¤ å’Œå›æ»šã€‚\nTM:Transaction Manager äº‹åŠ¡ç®¡ç†å™¨ï¼Œç”¨äºå¼€å¯ã€æäº¤æˆ–è€…å›æ»šå…¨å±€äº‹åŠ¡ã€‚\nRM:Resource Manager èµ„æºç®¡ç†å™¨ï¼Œç”¨äºåˆ†æ”¯äº‹åŠ¡ä¸Šçš„èµ„æºç®¡ç†ï¼Œå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œä¸ŠæŠ¥åˆ† æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œæ¥å—TCçš„å‘½ä»¤æ¥æäº¤æˆ–è€…å›æ»šåˆ†æ”¯äº‹åŠ¡ã€‚\nSeataçš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹:\nAæœåŠ¡çš„TMå‘TCç”³è¯·å¼€å¯ä¸€ä¸ªå…¨å±€äº‹åŠ¡ï¼ŒTCå°±ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€äº‹åŠ¡å¹¶è¿”å›ä¸€ä¸ªå”¯ä¸€çš„XID AæœåŠ¡çš„RMå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œå¹¶åŠå…¶çº³å…¥XIDå¯¹åº”å…¨å±€äº‹åŠ¡çš„ç®¡è¾– AæœåŠ¡æ‰§è¡Œåˆ†æ”¯äº‹åŠ¡ï¼Œå‘æ•°æ®åº“åšæ“ä½œ AæœåŠ¡å¼€å§‹è¿œç¨‹è°ƒç”¨BæœåŠ¡ï¼Œæ­¤æ—¶XIDä¼šåœ¨å¾®æœåŠ¡çš„è°ƒç”¨é“¾ä¸Šä¼ æ’­ BæœåŠ¡çš„RMå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œå¹¶å°†å…¶çº³å…¥XIDå¯¹åº”çš„å…¨å±€äº‹åŠ¡çš„ç®¡è¾– BæœåŠ¡æ‰§è¡Œåˆ†æ”¯äº‹åŠ¡ï¼Œå‘æ•°æ®åº“åšæ“ä½œ å…¨å±€äº‹åŠ¡è°ƒç”¨é“¾å¤„ç†å®Œæ¯•ï¼ŒTMæ ¹æ®æœ‰æ— å¼‚å¸¸å‘TCå‘èµ·å…¨å±€äº‹åŠ¡çš„æäº¤æˆ–è€…å›æ»š TCåè°ƒå…¶ç®¡è¾–ä¹‹ä¸‹çš„æ‰€æœ‰åˆ†æ”¯äº‹åŠ¡ï¼Œ å†³å®šæ˜¯å¦å›æ»š Seataå®ç°2PCä¸ä¼ ç»Ÿ2PCçš„å·®åˆ«:\næ¶æ„å±‚æ¬¡æ–¹é¢ï¼Œä¼ ç»Ÿ2PCæ–¹æ¡ˆçš„ RM å®é™…ä¸Šæ˜¯åœ¨æ•°æ®åº“å±‚ï¼ŒRMæœ¬è´¨ä¸Šå°±æ˜¯æ•°æ®åº“è‡ªèº«ï¼Œé€šè¿‡XAå è®®å®ç°ï¼Œè€Œ Seataçš„RMæ˜¯ä»¥jaråŒ…çš„å½¢å¼ä½œä¸ºä¸­é—´ä»¶å±‚éƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºè¿™ä¸€ä¾§çš„ã€‚ ä¸¤é˜¶æ®µæäº¤æ–¹é¢ï¼Œä¼ ç»Ÿ2PCæ— è®ºç¬¬äºŒé˜¶æ®µçš„å†³è®®æ˜¯commitè¿˜æ˜¯rollbackï¼Œäº‹åŠ¡æ€§èµ„æºçš„é”éƒ½è¦ä¿ æŒåˆ°Phase2å®Œæˆæ‰é‡Šæ”¾ã€‚è€ŒSeataçš„åšæ³•æ˜¯åœ¨Phase1 å°±å°†æœ¬åœ°äº‹åŠ¡æäº¤ï¼Œè¿™æ ·å°±å¯ä»¥çœå»Phase2 æŒé”çš„æ—¶é—´ï¼Œæ•´ä½“æé«˜æ•ˆç‡ Seataå®ç°åˆ†å¸ƒå¼äº‹åŠ¡æ§åˆ¶ æœ¬ç¤ºä¾‹é€šè¿‡Seataä¸­é—´ä»¶å®ç°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ¨¡æ‹Ÿç”µå•†ä¸­çš„ä¸‹å•å’Œæ‰£åº“å­˜çš„è¿‡ç¨‹\næˆ‘ä»¬é€šè¿‡è®¢å•å¾®æœåŠ¡æ‰§è¡Œä¸‹å•æ“ä½œï¼Œç„¶åç”±è®¢å•å¾®æœåŠ¡è°ƒç”¨å•†å“å¾®æœåŠ¡æ‰£é™¤åº“å­˜\næ¡ˆä¾‹åŸºæœ¬ä»£ç  ä¿®æ”¹orderå¾®æœåŠ¡ controller\n@RestController @Slf4j public class OrderController5 { @Autowired private OrderServiceImpl5 orderService; //ä¸‹å• @RequestMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"æ¥æ”¶åˆ°{}å·å•†å“çš„ä¸‹å•è¯·æ±‚,æ¥ä¸‹æ¥è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢æ­¤å•†å“ä¿¡æ¯\", pid); return orderService.createOrder(pid); } } OrderService\n@Service @Slf4j public class OrderServiceImpl5{ @Autowired private OrderDao orderDao; @Autowired private ProductService productService; @Autowired private RocketMQTemplate rocketMQTemplate; @GlobalTransactional public Order createOrder(Integer pid) { //1 è°ƒç”¨å•†å“å¾®æœåŠ¡,æŸ¥è¯¢å•†å“ä¿¡æ¯ Product product = productService.findByPid(pid); log.info(\"æŸ¥è¯¢åˆ°{}å·å•†å“çš„ä¿¡æ¯,å†…å®¹æ˜¯:{}\", pid, JSON.toJSONString(product)); //2 ä¸‹å•(åˆ›å»ºè®¢å•) Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(pid); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderDao.save(order); log.info(\"åˆ›å»ºè®¢å•æˆåŠŸ,è®¢å•ä¿¡æ¯ä¸º{}\", JSON.toJSONString(order)); //3 æ‰£åº“å­˜ productService.reduceInventory(pid, order.getNumber()); //4 å‘mqä¸­æŠ•é€’ä¸€ä¸ªä¸‹å•æˆåŠŸçš„æ¶ˆæ¯ rocketMQTemplate.convertAndSend(\"order-topic\", order); return order; } } ProductService\n@FeignClient(value = \"service-product\") public interface ProductService { //å‡åº“å­˜ @RequestMapping(\"/product/reduceInventory\") void reduceInventory(@RequestParam(\"pid\") Integer pid,@RequestParam(\"num\") } ä¿®æ”¹Productå¾®æœåŠ¡ controller\n//å‡å°‘åº“å­˜ @RequestMapping(\"/product/reduceInventory\") public void reduceInventory(Integer pid, int num) { productService.reduceInventory(pid, num); } service\n@Override public void reduceInventory(Integer pid, int num) { Product product = productDao.findById(pid).get(); product.setStock(product.getStock() - num); //å‡åº“å­˜ productDao.save(product); } å¼‚å¸¸æ¨¡æ‹Ÿ åœ¨ProductServiceImplçš„ä»£ç ä¸­æ¨¡æ‹Ÿä¸€ä¸ªå¼‚å¸¸, ç„¶åè°ƒç”¨ä¸‹å•æ¥å£\n@Override public void reduceInventory(Integer pid, Integer number) { Product product = productDao.findById(pid).get(); if (product.getStock() \u003c number) { throw new RuntimeException(\"åº“å­˜ä¸è¶³\"); } int i = 1 / 0; product.setStock(product.getStock() - number); productDao.save(product); } å¯åŠ¨Seata ä¸‹è½½seata ä¸‹è½½åœ°å€:https://github.com/seata/seata/releases/v0.9.0/\nä¿®æ”¹é…ç½®æ–‡ä»¶ å°†ä¸‹è½½å¾—åˆ°çš„å‹ç¼©åŒ…è¿›è¡Œè§£å‹ï¼Œè¿›å…¥confç›®å½•ï¼Œè°ƒæ•´ä¸‹é¢çš„é…ç½®æ–‡ä»¶:\nregistry.conf\nregistry { # file ã€nacos ã€eurekaã€redisã€zkã€consulã€etcd3ã€sofa type = \"nacos\" nacos { serverAddr = \"localhost\" namespace = \"\" cluster = \"default\" } } config { # fileã€nacos ã€apolloã€zkã€consulã€etcd3 type = \"nacos\" nacos { serverAddr = \"localhost\" namespace = \"\" } } nacos-confifig.txt\nservice.vgroup_mapping.service-product=default service.vgroup_mapping.service-order=default åˆå§‹åŒ–seataåœ¨nacosçš„é…ç½® # åˆå§‹åŒ–seata çš„nacosé…ç½® # æ³¨æ„: è¿™é‡Œè¦ä¿è¯nacosæ˜¯å·²ç»æ­£å¸¸è¿è¡Œçš„ cd conf nacos-config.sh 127.0.0.1 æ‰§è¡ŒæˆåŠŸåå¯ä»¥æ‰“å¼€Nacosçš„æ§åˆ¶å°ï¼Œåœ¨é…ç½®åˆ—è¡¨ä¸­ï¼Œå¯ä»¥çœ‹åˆ°åˆå§‹åŒ–äº†å¾ˆå¤šGroupä¸ºSEATA_GROUP çš„é…ç½®ã€‚\nå¯åŠ¨seataæœåŠ¡ cd bin seata-server.bat -p 9000 -m file å¯åŠ¨ååœ¨ Nacos çš„æœåŠ¡åˆ—è¡¨ä¸‹é¢å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º serverAddr çš„æœåŠ¡ã€‚\nä½¿ç”¨Seataå®ç°äº‹åŠ¡æ§åˆ¶ åˆå§‹åŒ–æ•°æ®è¡¨ åœ¨æˆ‘ä»¬çš„æ•°æ®åº“ä¸­åŠ å…¥ä¸€å¼ undo_logè¡¨,è¿™æ˜¯Seataè®°å½•äº‹åŠ¡æ—¥å¿—è¦ç”¨åˆ°çš„è¡¨\nCREATE TABLE `undo_log`( `id` BIGiNT(20) NOT NULL AUTO_INCREMENT, `branch_id` BIGiNT(20) NOT NULL, `xid` VARcHAR(100) NOT NULL, `context` VARcHAR(128) NOT NULL, `rollback_info` LONGBLOB NOT NULL, `log_status` iNT(11) NOT NULL, `log_created` DATETIME NOT NULL, `log_modified` DATETIME NOT NULL, `ext` VARcHAR(100) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `ux_undo_log` (`xid`, `branch_id`) ) ENGINE = INNODB AUTO_INCREMENT = 1 DEFAULT CHARSET = utf8; æ·»åŠ é…ç½® åœ¨éœ€è¦è¿›è¡Œåˆ†å¸ƒå¼æ§åˆ¶çš„å¾®æœåŠ¡ä¸­è¿›è¡Œä¸‹é¢å‡ é¡¹é…ç½®:\næ·»åŠ ä¾èµ–\n\u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-seata\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-config\u003c/artifactId\u003e \u003c/dependency\u003e DataSourceProxyConfifig\nSeata æ˜¯é€šè¿‡ä»£ç†æ•°æ®æºå®ç°äº‹åŠ¡åˆ†æ”¯çš„ï¼Œæ‰€ä»¥éœ€è¦é…ç½® io.seata.rm.datasource.DataSourceProxy çš„ Beanï¼Œä¸”æ˜¯ @Primaryé»˜è®¤çš„æ•°æ®æºï¼Œå¦åˆ™äº‹åŠ¡ä¸ä¼šå›æ»šï¼Œæ— æ³•å®ç°åˆ†å¸ƒå¼äº‹åŠ¡\n@Configuration public class DataSourceProxyConfig { @Bean @ConfigurationProperties(prefix = \"spring.datasource\") public DruidDataSource druidDataSource() { return new DruidDataSource(); } @Primary @Bean public DataSourceProxy dataSource(DruidDataSource druidDataSource) { return new DataSourceProxy(druidDataSource); } } registry.conf\nåœ¨resourcesä¸‹æ·»åŠ Seataçš„é…ç½®æ–‡ä»¶ registry.conf\nregistry { type = \"nacos\" nacos { serverAddr = \"localhost\" namespace = \"public\" cluster = \"default\" } } config { type = \"nacos\" nacos { serverAddr = \"localhost\" namespace = \"public\" cluster = \"default\" } } bootstrap.yaml\nspring: application: name: service-product cloud: nacos: config: server-addr: localhost:8848 # nacosçš„æœåŠ¡ç«¯åœ°å€ namespace: public group: SEATA_GROUP alibaba: seata: tx-service-group: ${spring.application.name } åœ¨orderå¾®æœåŠ¡å¼€å¯å…¨å±€äº‹åŠ¡ @GlobalTransactional//å…¨å±€äº‹åŠ¡æ§åˆ¶ public Order createOrder(Integer pid) {} æµ‹è¯• å†æ¬¡ä¸‹å•æµ‹è¯•\nseataè¿è¡Œæµç¨‹åˆ†æ è¦ç‚¹è¯´æ˜:\næ¯ä¸ªRMä½¿ç”¨DataSourceProxyè¿æ¥æ•°æ®åº“ï¼Œå…¶ç›®çš„æ˜¯ä½¿ç”¨ConnectionProxyï¼Œä½¿ç”¨æ•°æ®æºå’Œæ•°æ® è¿æ¥ä»£ç†çš„ç›®çš„å°±æ˜¯åœ¨ç¬¬ä¸€é˜¶æ®µå°†undo_logå’Œä¸šåŠ¡æ•°æ®æ”¾åœ¨ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡æäº¤ï¼Œè¿™æ ·å°±ä¿å­˜äº†åª è¦æœ‰ä¸šåŠ¡æ“ä½œå°±ä¸€å®šæœ‰undo_logã€‚ åœ¨ç¬¬ä¸€é˜¶æ®µundo_logä¸­å­˜æ”¾äº†æ•°æ®ä¿®æ”¹å‰å’Œä¿®æ”¹åçš„å€¼ï¼Œä¸ºäº‹åŠ¡å›æ»šä½œå¥½å‡†å¤‡ï¼Œæ‰€ä»¥ç¬¬ä¸€é˜¶æ®µå®Œ æˆå°±å·²ç»å°†åˆ†æ”¯äº‹åŠ¡æäº¤ï¼Œä¹Ÿå°±é‡Šæ”¾äº†é”èµ„æºã€‚ TMå¼€å¯å…¨å±€äº‹åŠ¡å¼€å§‹ï¼Œå°†XIDå…¨å±€äº‹åŠ¡idæ”¾åœ¨äº‹åŠ¡ä¸Šä¸‹æ–‡ä¸­ï¼Œé€šè¿‡feignè°ƒç”¨ä¹Ÿå°†XIDä¼ å…¥ä¸‹æ¸¸åˆ†æ”¯ äº‹åŠ¡ï¼Œæ¯ä¸ªåˆ†æ”¯äº‹åŠ¡å°†è‡ªå·±çš„Branch IDåˆ†æ”¯äº‹åŠ¡IDä¸XIDå…³è”ã€‚ ç¬¬äºŒé˜¶æ®µå…¨å±€äº‹åŠ¡æäº¤ï¼ŒTCä¼šé€šçŸ¥å„å„åˆ†æ”¯å‚ä¸è€…æäº¤åˆ†æ”¯äº‹åŠ¡ï¼Œåœ¨ç¬¬ä¸€é˜¶æ®µå°±å·²ç»æäº¤äº†åˆ†æ”¯ äº‹åŠ¡ï¼Œè¿™é‡Œå„å„å‚ä¸è€…åªéœ€è¦åˆ é™¤undo_logå³å¯ï¼Œå¹¶ä¸”å¯ä»¥å¼‚æ­¥æ‰§è¡Œï¼Œç¬¬äºŒé˜¶æ®µå¾ˆå¿«å¯ä»¥å®Œæˆã€‚ ç¬¬äºŒé˜¶æ®µå…¨å±€äº‹åŠ¡å›æ»šï¼ŒTCä¼šé€šçŸ¥å„å„åˆ†æ”¯å‚ä¸è€…å›æ»šåˆ†æ”¯äº‹åŠ¡ï¼Œé€šè¿‡ XID å’Œ Branch ID æ‰¾åˆ°ç›¸ åº”çš„å›æ»šæ—¥å¿—ï¼Œé€šè¿‡å›æ»šæ—¥å¿—ç”Ÿæˆåå‘çš„ SQL å¹¶æ‰§è¡Œï¼Œä»¥å®Œæˆåˆ†æ”¯äº‹åŠ¡å›æ»šåˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå¦‚æœ å›æ»šå¤±è´¥åˆ™ä¼šé‡è¯•å›æ»šæ“ä½œ ","description":"\n","tags":[],"title":"\nSeataâ€“åˆ†å¸ƒå¼äº‹åŠ¡","uri":"/posts/post-281/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\næœåŠ¡é…ç½®ä¸­å¿ƒä»‹ç» é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹,å¾®æœåŠ¡æ¶æ„ä¸‹å…³äºé…ç½®æ–‡ä»¶çš„ä¸€äº›é—®é¢˜:\né…ç½®æ–‡ä»¶ç›¸å¯¹åˆ†æ•£ã€‚åœ¨ä¸€ä¸ªå¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œé…ç½®æ–‡ä»¶ä¼šéšç€å¾®æœåŠ¡çš„å¢å¤šå˜çš„è¶Šæ¥è¶Šå¤šï¼Œè€Œä¸”åˆ†æ•£ åœ¨å„ä¸ªå¾®æœåŠ¡ä¸­ï¼Œä¸å¥½ç»Ÿä¸€é…ç½®å’Œç®¡ç†ã€‚ é…ç½®æ–‡ä»¶æ— æ³•åŒºåˆ†ç¯å¢ƒã€‚å¾®æœåŠ¡é¡¹ç›®å¯èƒ½ä¼šæœ‰å¤šä¸ªç¯å¢ƒï¼Œä¾‹å¦‚:æµ‹è¯•ç¯å¢ƒã€é¢„å‘å¸ƒç¯å¢ƒã€ç”Ÿäº§ç¯ å¢ƒã€‚æ¯ä¸€ä¸ªç¯å¢ƒæ‰€ä½¿ç”¨çš„é…ç½®ç†è®ºä¸Šéƒ½æ˜¯ä¸åŒçš„ï¼Œä¸€æ—¦éœ€è¦ä¿®æ”¹ï¼Œå°±éœ€è¦æˆ‘ä»¬å»å„ä¸ªå¾®æœåŠ¡ä¸‹æ‰‹åŠ¨ ç»´æŠ¤ï¼Œè¿™æ¯”è¾ƒå›°éš¾ã€‚ é…ç½®æ–‡ä»¶æ— æ³•å®æ—¶æ›´æ–°ã€‚æˆ‘ä»¬ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ä¹‹åï¼Œå¿…é¡»é‡æ–°å¯åŠ¨å¾®æœåŠ¡æ‰èƒ½ä½¿é…ç½®ç”Ÿæ•ˆï¼Œè¿™å¯¹ä¸€ ä¸ªæ­£åœ¨è¿è¡Œçš„é¡¹ç›®æ¥è¯´æ˜¯éå¸¸ä¸å‹å¥½çš„ã€‚ åŸºäºä¸Šé¢è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦é…ç½®ä¸­å¿ƒçš„åŠ å…¥æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚\né…ç½®ä¸­å¿ƒçš„æ€è·¯æ˜¯:\né¦–å…ˆæŠŠé¡¹ç›®ä¸­å„ç§é…ç½®å…¨éƒ¨éƒ½æ”¾åˆ°ä¸€ä¸ªé›†ä¸­çš„åœ°æ–¹è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¹¶æä¾›ä¸€å¥—æ ‡å‡†çš„æ¥å£ã€‚\nå½“å„ä¸ªæœåŠ¡éœ€è¦è·å–é…ç½®çš„æ—¶å€™ï¼Œå°±æ¥é…ç½®ä¸­å¿ƒçš„æ¥å£æ‹‰å–è‡ªå·±çš„é…ç½®ã€‚\nå½“é…ç½®ä¸­å¿ƒä¸­çš„å„ç§å‚æ•°æœ‰æ›´æ–°çš„æ—¶å€™ï¼Œä¹Ÿèƒ½é€šçŸ¥åˆ°å„ä¸ªæœåŠ¡å®æ—¶çš„è¿‡æ¥åŒæ­¥æœ€æ–°çš„ä¿¡æ¯ï¼Œä½¿ä¹‹åŠ¨æ€æ›´æ–°ã€‚\nå½“åŠ å…¥äº†æœåŠ¡é…ç½®ä¸­å¿ƒä¹‹åï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿæ¶æ„å›¾ä¼šå˜æˆä¸‹é¢è¿™æ ·\nåœ¨ä¸šç•Œå¸¸è§çš„æœåŠ¡é…ç½®ä¸­å¿ƒï¼Œæœ‰ä¸‹é¢è¿™äº›:\nApollo Apolloæ˜¯ç”±æºç¨‹å¼€æºçš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€‚ç‰¹ç‚¹æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚:é…ç½®æ›´æ–°ä¹‹åå¯ä»¥å®æ—¶ç”Ÿæ•ˆï¼Œæ”¯æŒç°åº¦å‘ å¸ƒåŠŸèƒ½ï¼Œå¹¶ä¸”èƒ½å¯¹æ‰€æœ‰çš„é…ç½®è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€æ“ä½œå®¡è®¡ç­‰åŠŸèƒ½ï¼Œæä¾›å¼€æ”¾å¹³å°APIã€‚å¹¶ä¸”èµ„æ–™ä¹Ÿå†™çš„å¾ˆ è¯¦ç»†ã€‚\nDisconf Disconfæ˜¯ç”±ç™¾åº¦å¼€æºçš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€‚å®ƒæ˜¯åŸºäºZookeeperæ¥å®ç°é…ç½®å˜æ›´åå®æ—¶é€šçŸ¥å’Œç”Ÿæ•ˆçš„ã€‚\nSpringCloud Confifig è¿™æ˜¯Spring Cloudä¸­å¸¦çš„é…ç½®ä¸­å¿ƒç»„ä»¶ã€‚å®ƒå’ŒSpringæ˜¯æ— ç¼é›†æˆï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œå¹¶ä¸”å®ƒçš„é…ç½®å­˜ å‚¨æ”¯æŒGitã€‚ä¸è¿‡å®ƒæ²¡æœ‰å¯è§†åŒ–çš„æ“ä½œç•Œé¢ï¼Œé…ç½®çš„ç”Ÿæ•ˆä¹Ÿä¸æ˜¯å®æ—¶çš„ï¼Œéœ€è¦é‡å¯æˆ–å»åˆ·æ–°ã€‚\nNacos è¿™æ˜¯SpingCloud alibabaæŠ€æœ¯æ ˆä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå‰é¢æˆ‘ä»¬å·²ç»ä½¿ç”¨å®ƒåšè¿‡æœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚å…¶å®å®ƒä¹Ÿé›†æˆ äº†æœåŠ¡é…ç½®çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä½œä¸ºæœåŠ¡é…ç½®ä¸­å¿ƒã€‚\nNacos Config å…¥é—¨ ä½¿ç”¨nacosä½œä¸ºé…ç½®ä¸­å¿ƒï¼Œå…¶å®å°±æ˜¯å°†nacoså½“åšä¸€ä¸ªæœåŠ¡ç«¯ï¼Œå°†å„ä¸ªå¾®æœåŠ¡çœ‹æˆæ˜¯å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å°†å„ä¸ªå¾®æœåŠ¡çš„é…ç½®æ–‡ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨nacosä¸Šï¼Œç„¶åå„ä¸ªå¾®æœåŠ¡ä»nacosä¸Šæ‹‰å–é…ç½®å³å¯ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬ä»¥å•†å“å¾®æœåŠ¡ä¸ºä¾‹ï¼Œå­¦ä¹ nacos confifigçš„ä½¿ç”¨ã€‚\næ­å»ºnacosç¯å¢ƒã€ä½¿ç”¨ç°æœ‰çš„nacosç¯å¢ƒå³å¯ã€‘ åœ¨å¾®æœåŠ¡ä¸­å¼•å…¥nacosçš„ä¾èµ– \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-config\u003c/artifactId\u003e \u003c/dependency\u003e åœ¨å¾®æœåŠ¡ä¸­æ·»åŠ nacos confifigçš„é…ç½® æ³¨æ„:ä¸èƒ½ä½¿ç”¨åŸæ¥çš„application.ymlä½œä¸ºé…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯æ–°å»ºä¸€ä¸ªbootstrap.ymlä½œä¸ºé…ç½®æ–‡ä»¶\né…ç½®æ–‡ä»¶ä¼˜å…ˆçº§(ç”±é«˜åˆ°ä½):\nbootstrap.properties -\u003e bootstrap.yml -\u003e application.properties -\u003e application.yml\nspring: application: name: service-product cloud: nacos: config: server-addr: 127.0.0.1:8848 #nacosä¸­å¿ƒåœ°å€ file-extension: yaml # é…ç½®æ–‡ä»¶æ ¼å¼ profiles: profiles: active: dev # ç¯å¢ƒæ ‡è¯† åœ¨nacosä¸­æ·»åŠ é…ç½® ç‚¹å‡»é…ç½®åˆ—è¡¨ï¼Œç‚¹å‡»å³è¾¹+å·ï¼Œæ–°å»ºé…ç½®ã€‚åœ¨æ–°å»ºé…ç½®è¿‡ç¨‹ä¸­ï¼Œè¦æ³¨æ„ä¸‹é¢çš„ç»†èŠ‚:\n1)Data IDä¸èƒ½éšä¾¿å†™ï¼Œè¦è·Ÿé…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”ï¼Œå¯¹åº”å…³ç³»å¦‚å›¾æ‰€ç¤º\n2)é…ç½®æ–‡ä»¶æ ¼å¼è¦è·Ÿé…ç½®æ–‡ä»¶çš„æ ¼å¼å¯¹åº”ï¼Œä¸”ç›®å‰ä»…ä»…æ”¯æŒYAMLå’ŒProperties\n3)é…ç½®å†…å®¹æŒ‰ç…§ä¸Šé¢é€‰å®šçš„æ ¼å¼ä¹¦å†™\næ³¨é‡Šæœ¬åœ°çš„application.yamä¸­çš„å†…å®¹ï¼Œ å¯åŠ¨ç¨‹åºè¿›è¡Œæµ‹è¯• å¦‚æœä¾æ—§å¯ä»¥æˆåŠŸè®¿é—®ç¨‹åºï¼Œè¯´æ˜æˆ‘ä»¬nacosçš„é…ç½®ä¸­å¿ƒåŠŸèƒ½å·²ç»å®ç°\nNacos Config æ·±å…¥ é…ç½®åŠ¨æ€åˆ·æ–° åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†é…ç½®çš„è¿œç¨‹å­˜æ”¾ï¼Œä½†æ˜¯æ­¤æ—¶å¦‚æœä¿®æ”¹äº†é…ç½®ï¼Œæˆ‘ä»¬çš„ç¨‹åºæ˜¯æ— æ³•è¯»å–åˆ°çš„ï¼Œ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¼€å¯é…ç½®çš„åŠ¨æ€åˆ·æ–°åŠŸèƒ½ã€‚\nåœ¨nacosä¸­çš„service-product-dev.yamlé…ç½®é¡¹ä¸­æ·»åŠ ä¸‹é¢é…ç½®:\nconfig: appName: product æ–¹å¼ä¸€:ç¡¬ç¼–ç æ–¹å¼\n@RestController public class NacosConfigController { @Autowired private ConfigurableApplicationContext applicationContext; @GetMapping( \"/nacos-config-test1\" ) public String nacosConfingTest1(){ return (applicationContext.getEnvironment().getProperty(\"config.appName\")); } } æ–¹å¼äºŒ:æ³¨è§£æ–¹å¼(æ¨è)\n@RestController @RefreshScope /* åªéœ€è¦åœ¨éœ€è¦åŠ¨æ€è¯»å–é…ç½®çš„ç±»ä¸Šæ·»åŠ æ­¤æ³¨è§£å°±å¯ä»¥ */ public class NacosConfigController { @Value(\"${config.appName}\") private String appName; @GetMapping(\"/nacos-config-test2\") public String nacosConfingTest2(){ return(appName); } } é…ç½®å…±äº« å½“é…ç½®è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å‘ç°æœ‰å¾ˆå¤šé…ç½®æ˜¯é‡å¤çš„ï¼Œè¿™æ—¶å€™å°±è€ƒè™‘å¯ä¸å¯ä»¥å°†å…¬å…±é…ç½®æ–‡ä»¶æå–å‡ºæ¥ï¼Œç„¶åå®ç°å…±äº«å‘¢?å½“ç„¶æ˜¯å¯ä»¥çš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ¢è®¨å¦‚ä½•å®ç°è¿™ä¸€åŠŸèƒ½ã€‚\nåŒä¸€ä¸ªå¾®æœåŠ¡çš„ä¸åŒç¯å¢ƒä¹‹é—´å…±äº«é…ç½®\nå¦‚æœæƒ³åœ¨åŒä¸€ä¸ªå¾®æœåŠ¡çš„ä¸åŒç¯å¢ƒä¹‹é—´å®ç°é…ç½®å…±äº«ï¼Œå…¶å®å¾ˆç®€å•ã€‚åªéœ€è¦æå–ä¸€ä¸ªä»¥ spring.application.name å‘½åçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åå°†å…¶æ‰€æœ‰ç¯å¢ƒçš„å…¬å…±é…ç½®æ”¾åœ¨é‡Œé¢å³å¯ã€‚\næ–°å»ºä¸€ä¸ªåä¸ºservice-product.yamlé…ç½®å­˜æ”¾å•†å“å¾®æœåŠ¡çš„å…¬å…±é…ç½® æ–°å»ºä¸€ä¸ªåä¸ºservice-product-test.yamlé…ç½®å­˜æ”¾æµ‹è¯•ç¯å¢ƒçš„é…ç½® æ–°å»ºä¸€ä¸ªåä¸ºservice-productr-dev.yamlé…ç½®å­˜æ”¾å¼€å‘ç¯å¢ƒçš„é…ç½® æ·»åŠ æµ‹è¯•æ–¹æ³• @RestController @RefreshScope public class NacosConfigController { @Value( \"${config.env}\" ) private String env; /* 3 åŒä¸€å¾®æœåŠ¡çš„ä¸åŒç¯å¢ƒä¸‹å…±äº«é…ç½® */ @GetMapping( \"/nacos-config-test3\" ) public String nacosConfingTest3(){ return(env); } } è®¿é—®æµ‹è¯• æ¥ä¸‹æ¥ï¼Œä¿®æ”¹bootstrap.ymlä¸­çš„é…ç½®ï¼Œå°†activeè®¾ç½®æˆtestï¼Œå†æ¬¡è®¿é—®ï¼Œè§‚å¯Ÿç»“æœ spring: profiles: active: test # ç¯å¢ƒæ ‡è¯† ä¸åŒå¾®æœåŠ¡ä¸­é—´å…±äº«é…ç½®\nä¸åŒä¸ºæœåŠ¡ä¹‹é—´å®ç°é…ç½®å…±äº«çš„åŸç†ç±»ä¼¼äºæ–‡ä»¶å¼•å…¥ï¼Œå°±æ˜¯å®šä¹‰ä¸€ä¸ªå…¬å…±é…ç½®ï¼Œç„¶ååœ¨å½“å‰é…ç½®ä¸­å¼• å…¥ã€‚\nåœ¨nacosä¸­å®šä¹‰ä¸€ä¸ªDataIDä¸ºall-service.yamlçš„é…ç½®ï¼Œç”¨äºæ‰€æœ‰å¾®æœåŠ¡å…±äº« spring: datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://shop?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: root jpa: properties: hibernate: hbm2ddl: auto: update dialect: org.hibernate.dialect.MySQL5InnoDBDialect cloud: nacos: discovery: server-addr: 127.0.0.1:8848 åœ¨nacosçš„ä¸­ä¿®æ”¹service-product.yamlä¸­ä¸ºä¸‹é¢å†…å®¹ server: port: 8081 config: appName: product ä¿®æ”¹bootstrap.yaml spring: application: name: service-product profiles: active: dev # ç¯å¢ƒæ ‡è¯† cloud: nacos: config: server-addr: 127.0.0.1:8848 #nacosä¸­å¿ƒåœ°å€ file-extension: yaml # é…ç½®æ–‡ä»¶æ ¼å¼ shared-dataids: all-service.yaml # é…ç½®è¦å¼•å…¥çš„é…ç½® refreshable-dataids: all-service.yaml # é…ç½®è¦å®ç°åŠ¨æ€é…ç½®åˆ·æ–°çš„é…ç½® å¯åŠ¨å•†å“å¾®æœåŠ¡è¿›è¡Œæµ‹è¯• Nacos çš„å‡ ä¸ªæ¦‚å¿µ å‘½åç©ºé—´(Namespace) å‘½åç©ºé—´å¯ç”¨äºè¿›è¡Œä¸åŒç¯å¢ƒçš„é…ç½®éš”ç¦»ã€‚ä¸€èˆ¬ä¸€ä¸ªç¯å¢ƒåˆ’åˆ†åˆ°ä¸€ä¸ªå‘½åç©ºé—´\né…ç½®åˆ†ç»„(Group) é…ç½®åˆ†ç»„ç”¨äºå°†ä¸åŒçš„æœåŠ¡å¯ä»¥å½’ç±»åˆ°åŒä¸€åˆ†ç»„ã€‚ä¸€èˆ¬å°†ä¸€ä¸ªé¡¹ç›®çš„é…ç½®åˆ†åˆ°ä¸€ç»„\né…ç½®é›†(Data ID) åœ¨ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªé…ç½®æ–‡ä»¶é€šå¸¸å°±æ˜¯ä¸€ä¸ªé…ç½®é›†ã€‚ä¸€èˆ¬å¾®æœåŠ¡çš„é…ç½®å°±æ˜¯ä¸€ä¸ªé…ç½®é›†\nç»“æœå¦‚ä¸‹\n# all-service.yaml spring: zipkin: #å¼€å¯zipkinåˆ†æ enabled: true #è®©nacosæŠŠå®ƒå½“æˆä¸€ä¸ªURLï¼Œè€Œä¸è¦å½“åšæœåŠ¡å discoveryClientEnabled: false sleuth: sampler: #é™é€Ÿå™¨ï¼Œæ¯ç§’é‡‡é›†10ä¸ªè¯·æ±‚ï¼Œé˜²æ­¢å¤§å¹¶å‘è¿‡è½½ã€‚æ¨è #rate: 10 #é‡‡é›†ç‡ï¼Œå¤§å¹¶å‘å¯èƒ½é‡‡é›†ç‡æ•°é‡ä¹Ÿä¼šå¾ˆé«˜ã€‚é‡‡æ ·çš„ç™¾åˆ†æ¯” probability: 0.1 application: name: service-product datasource: driver-class-name: com.mysql.cj.jdbc.Driver jpa: database-platform: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true hibernate: ddl-auto: update use-new-id-generator-mappings: false # service-product.yaml config: appName: product # service-product-dev.yaml config: env: dev server: port: 8081 spring: zipkin: #zipkinæœåŠ¡åœ°å€ baseUrl: http://127.0.0.1:9411/ datasource: url: jdbc:mysql://127.0.0.1:3306/spring-cloud?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: Mrf12345 cloud: nacos: discovery: server-addr: 127.0.0.1:8848 # service-product-test.yaml config: env: test server: port: 8081 spring: zipkin: #zipkinæœåŠ¡åœ°å€ baseUrl: http://127.0.0.1:9411/ datasource: url: jdbc:mysql://127.0.0.1:3306/spring-cloud?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: Mrf12345 cloud: nacos: discovery: server-addr: 127.0.0.1:8848 ","description":"\n","tags":[],"title":"\nNacos Configâ€“æœåŠ¡é…ç½®","uri":"/posts/post-282/"},{"categories":["æ¶æ„è®¾è®¡","è¯­è¨€"],"content":"å¾®æœåŠ¡çŸ­ä¿¡\nçŸ­ä¿¡æœåŠ¡ä»‹ç» çŸ­ä¿¡æœåŠ¡ï¼ˆShort Message Serviceï¼‰æ˜¯é˜¿é‡Œäº‘ä¸ºç”¨æˆ·æä¾›çš„ä¸€ç§é€šä¿¡æœåŠ¡çš„èƒ½åŠ›ã€‚\näº§å“ä¼˜åŠ¿ï¼šè¦†ç›–å…¨é¢ã€é«˜å¹¶å‘å¤„ç†ã€æ¶ˆæ¯å †ç§¯å¤„ç†ã€å¼€å‘ç®¡ç†ç®€å•ã€æ™ºèƒ½ç›‘æ§è°ƒåº¦\näº§å“åŠŸèƒ½ï¼šçŸ­ä¿¡é€šçŸ¥ã€çŸ­ä¿¡éªŒè¯ç ã€æ¨å¹¿çŸ­ä¿¡ã€å¼‚æ­¥é€šçŸ¥ã€æ•°æ®ç»Ÿè®¡\nåº”ç”¨åœºæ™¯ï¼šçŸ­ä¿¡éªŒè¯ç ã€ç³»ç»Ÿä¿¡æ¯æ¨é€ã€æ¨å¹¿çŸ­ä¿¡ç­‰\nçŸ­ä¿¡æœåŠ¡ä½¿ç”¨ æ¥ä¸‹æ¥,æˆ‘ä»¬ä½¿ç”¨çŸ­ä¿¡éªŒè¯ç åŠŸèƒ½æ¥æ¼”ç¤ºçŸ­ä¿¡æœåŠ¡çš„ä½¿ç”¨ã€‚æµç¨‹å¦‚ä¸‹:\nå‡†å¤‡å·¥ä½œ å®åè®¤è¯ https://help.aliyun.com/document_detail/48263.html?spm=5176.11533457.J_1089570.9.15da5333ZUkUdR\nå¼€é€šçŸ­ä¿¡æœåŠ¡ https://www.aliyun.com/product/sms?spm=5176.11533457.J_1089570.9.15da5333ZUkUdR\nç”³è¯·è®¤è¯ç§˜é’¥ https://ram.console.aliyun.com/manage/ak\nç”³è¯·çŸ­ä¿¡ç­¾å ç”³è¯·çŸ­ä¿¡æ¨¡æ¿ çŸ­ä¿¡æœåŠ¡ API ä»‹ç» çŸ­ä¿¡å‘é€ è°ƒç”¨SendSmså‘é€çŸ­ä¿¡ã€‚\nè¯·æ±‚å‚æ•°\nåç§° **ç±»å‹ ** æ˜¯å¦å¿…é€‰ **ç¤ºä¾‹å€¼ ** æè¿° PhoneNumbers String æ˜¯ 15900000000 æ¥æ”¶çŸ­ä¿¡çš„æ‰‹æœºå·ç ã€‚ SignName String æ˜¯ é˜¿é‡Œäº‘ çŸ­ä¿¡ç­¾ååç§°ã€‚ TemplateCode String æ˜¯ SMS_153055065 çŸ­ä¿¡æ¨¡æ¿IDã€‚ TemplateParam String å¦ {â€œcodeâ€:â€œ1111â€} çŸ­ä¿¡æ¨¡æ¿å˜é‡çš„å€¼ï¼ŒJSONæ ¼å¼ è¿”å›æ•°æ®\nåç§° ç±»å‹ ç¤ºä¾‹å€¼ æè¿° BizId String 900619746936498440 å‘é€å›æ‰§IDï¼Œå¯æ ¹æ®å®ƒæŸ¥è¯¢å…·ä½“çš„å‘ é€ Code String OK è¯·æ±‚çŠ¶æ€ç ã€‚è¿”å›OKä»£è¡¨è¯·æ±‚æˆåŠŸã€‚ Message String OK çŠ¶æ€ç çš„æè¿°ã€‚ RequestId String F655A8D5-B967-440B- 8683 è¯·æ±‚IDã€‚ çŸ­ä¿¡æŸ¥è¯¢ è°ƒç”¨QuerySendDetailsæ¥å£æŸ¥çœ‹çŸ­ä¿¡å‘é€è®°å½•å’Œå‘é€çŠ¶æ€ã€‚\nè¯·æ±‚å‚æ•°\nåç§° ç±»å‹ æ˜¯å¦å¿…é€‰ ç¤ºä¾‹å€¼ æè¿° CurrentPage Long æ˜¯ 1 åˆ†é¡µæŸ¥çœ‹å‘é€è®°å½•ï¼ŒæŒ‡å®šå‘é€è®°å½•çš„å½“å‰é¡µç ã€‚ PageSize Long æ˜¯ 10 åˆ†é¡µæŸ¥çœ‹å‘é€è®°å½•ï¼ŒæŒ‡å®šæ¯é¡µæ˜¾ç¤ºçš„çŸ­ä¿¡è®°å½•æ•°é‡ã€‚å–å€¼èŒƒå›´ä¸º1~50ã€‚ PhoneNumber String æ˜¯ 1590000**** æ¥æ”¶çŸ­ä¿¡çš„æ‰‹æœºå·ç ã€‚æ ¼å¼ï¼šå›½å†…çŸ­ä¿¡ï¼š11ä½æ‰‹æœºå·ç ï¼Œä¾‹å¦‚1590000****ã€‚å›½é™…/æ¸¯æ¾³å°æ¶ˆæ¯ï¼šå›½é™…åŒºå·+å·ç ï¼Œä¾‹å¦‚8520000****ã€‚ SendDate String æ˜¯ 20181228 çŸ­ä¿¡å‘é€æ—¥æœŸï¼Œæ”¯æŒæŸ¥è¯¢æœ€è¿‘30å¤©çš„è®°å½•ã€‚æ ¼å¼ä¸ºyyyyMMddï¼Œä¾‹å¦‚20181225ã€‚ BizId String å¦ 134523^4351232 å‘é€å›æ‰§IDï¼Œå³å‘é€æµæ°´å·ã€‚è°ƒç”¨å‘é€æ¥å£SendSmsæˆ–SendBatchSmså‘é€çŸ­ä¿¡æ—¶ï¼Œè¿”å›å€¼ä¸­çš„BizIdå­—æ®µã€‚ è¿”å›æ•°æ®\nåç§° ç±»å‹ ç¤ºä¾‹å€¼ æè¿° Code String OK è¯·æ±‚çŠ¶æ€ç ã€‚è¿”å›OKä»£è¡¨è¯·æ±‚æˆåŠŸã€‚å…¶ä»–é”™è¯¯ç ï¼Œè¯·å‚è§é”™è¯¯ç åˆ—è¡¨ã€‚ Message String OK çŠ¶æ€ç çš„æè¿°ã€‚ RequestId String 819BE656-D2E0-4858-8B21-B2E477085AAF è¯·æ±‚IDã€‚ SmsSendDetailDTOs Array of SmsSendDetailDTO çŸ­ä¿¡å‘é€æ˜ç»†ã€‚ TotalCount String 1 çŸ­ä¿¡å‘é€æ€»æ¡æ•°ã€‚ åŠŸèƒ½æµ‹è¯• ç¬¬1æ­¥: å¼•å…¥é˜¿é‡Œäº‘æœåŠ¡ä¾èµ–\n\u003c!--çŸ­ä¿¡å‘é€--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-alicloud-sms\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬2æ­¥: ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„Demoæµ‹è¯•çŸ­ä¿¡å‘é€\nimport com.aliyuncs.DefaultAcsClient; import com.aliyuncs.IAcsClient; import com.aliyuncs.dysmsapi.model.v20170525.QuerySendDetailsRequest; import com.aliyuncs.dysmsapi.model.v20170525.QuerySendDetailsResponse; import com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest; import com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse; import com.aliyuncs.exceptions.ClientException; import com.aliyuncs.profile.DefaultProfile; import com.aliyuncs.profile.IClientProfile; import java.text.SimpleDateFormat; import java.util.Date; public class SmsDemo { //äº§å“åç§°:äº‘é€šä¿¡çŸ­ä¿¡APIäº§å“,å¼€å‘è€…æ— éœ€æ›¿æ¢ static final String product = \"Dysmsapi\"; //äº§å“åŸŸå,å¼€å‘è€…æ— éœ€æ›¿æ¢ static final String domain = \"dysmsapi.aliyuncs.com\"; // TODO æ­¤å¤„éœ€è¦æ›¿æ¢æˆå¼€å‘è€…è‡ªå·±çš„AK(åœ¨é˜¿é‡Œäº‘è®¿é—®æ§åˆ¶å°å¯»æ‰¾) static final String accessKeyId = \"yourAccessKeyId\"; static final String accessKeySecret = \"yourAccessKeySecret\"; //çŸ­ä¿¡å‘é€ public static SendSmsResponse sendSms() throws ClientException { //å¯è‡ªåŠ©è°ƒæ•´è¶…æ—¶æ—¶é—´ System.setProperty(\"sun.net.client.defaultConnectTimeout\", \"10000\"); System.setProperty(\"sun.net.client.defaultReadTimeout\", \"10000\"); //åˆå§‹åŒ–acsClient,æš‚ä¸æ”¯æŒregionåŒ– IClientProfile profile = DefaultProfile.getProfile(\"cn-hangzhou\",accessKeyId, accessKeySecret); DefaultProfile.addEndpoint(\"cn-hangzhou\", \"cn-hangzhou\", product, domain); IAcsClient acsClient = new DefaultAcsClient(profile); //ç»„è£…è¯·æ±‚å¯¹è±¡-å…·ä½“æè¿°è§æ§åˆ¶å°-æ–‡æ¡£éƒ¨åˆ†å†…å®¹ SendSmsRequest request = new SendSmsRequest(); //å¿…å¡«:å¾…å‘é€æ‰‹æœºå· request.setPhoneNumbers(\"15000000000\"); //å¿…å¡«:çŸ­ä¿¡ç­¾å-å¯åœ¨çŸ­ä¿¡æ§åˆ¶å°ä¸­æ‰¾åˆ° request.setSignName(\"ä¸­å¤ç›²ç›’\"); //å¿…å¡«:çŸ­ä¿¡æ¨¡æ¿-å¯åœ¨çŸ­ä¿¡æ§åˆ¶å°ä¸­æ‰¾åˆ° request.setTemplateCode(\"SMS_1000000\"); // å¯é€‰:æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢JSONä¸²,å¦‚æ¨¡æ¿å†…å®¹ä¸º\"äº²çˆ±çš„${name},æ‚¨çš„éªŒè¯ç ä¸º${code}\"æ—¶,æ­¤å¤„çš„å€¼ä¸º request.setTemplateParam(\"{\"name\":\"Tom\", \"code\":\"123\"}\"); /** * é€‰å¡«-ä¸Šè¡ŒçŸ­ä¿¡æ‰©å±•ç (æ— ç‰¹æ®Šéœ€æ±‚ç”¨æˆ·è¯·å¿½ç•¥æ­¤å­—æ®µ) * request.setSmsUpExtendCode(\"90997\") */ // å¯é€‰:outIdä¸ºæä¾›ç»™ä¸šåŠ¡æ–¹æ‰©å±•å­—æ®µ,æœ€ç»ˆåœ¨çŸ­ä¿¡å›æ‰§æ¶ˆæ¯ä¸­å°†æ­¤å€¼å¸¦å›ç»™è°ƒç”¨è€… request.setOutId(\"yourOutId\"); // hint æ­¤å¤„å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸,æ³¨æ„catch SendSmsResponse sendSmsResponse = acsClient.getAcsResponse(request); return sendSmsResponse; } //çŸ­ä¿¡æŸ¥è¯¢ public static QuerySendDetailsResponse querySendDetails(String bizId) throws ClientException { //å¯è‡ªåŠ©è°ƒæ•´è¶…æ—¶æ—¶é—´ System.setProperty(\"sun.net.client.defaultReadTimeout\", \"10000\"); System.setProperty(\"sun.net.client.defaultConnectTimeout\", \"10000\"); //åˆå§‹åŒ–acsClient,æš‚ä¸æ”¯æŒregionåŒ– IClientProfile profile = DefaultProfile.getProfile(\"cn-hangzhou\",accessKeyId, accessKeySecret); DefaultProfile.addEndpoint(\"cn-hangzhou\", \"cn-hangzhou\", product,domain); IAcsClient acsClient = new DefaultAcsClient(profile); //ç»„è£…è¯·æ±‚å¯¹è±¡ QuerySendDetailsRequest request = new QuerySendDetailsRequest(); //å¿…å¡«-å·ç  request.setPhoneNumber(\"15000000000\"); //å¯é€‰-æµæ°´å· request.setBizId(bizId); //å¿…å¡«-å‘é€æ—¥æœŸ æ”¯æŒ30å¤©å†…è®°å½•æŸ¥è¯¢,æ ¼å¼yyyyMMdd SimpleDateFormat ft = new SimpleDateFormat(\"yyyyMMdd\"); request.setSendDate(ft.format(new Date())); //å¿…å¡«-é¡µå¤§å° request.setPageSize(10L); //å¿…å¡«-å½“å‰é¡µç ä»1å¼€å§‹è®¡æ•° request.setCurrentPage(1L); //hint æ­¤å¤„å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸,æ³¨æ„catch QuerySendDetailsResponse querySendDetailsResponse =acsClient.getAcsResponse(request); return querySendDetailsResponse; } public static void main(String[] args) throws ClientException, InterruptedException { //å‘çŸ­ä¿¡ SendSmsResponse response = sendSms(); System.out.println(\"çŸ­ä¿¡æ¥å£è¿”å›çš„æ•°æ®----------------\"); System.out.println(\"Code=\" + response.getCode()); System.out.println(\"Message=\" + response.getMessage()); System.out.println(\"RequestId=\" + response.getRequestId()); System.out.println(\"BizId=\" + response.getBizId()); Thread.sleep(3000L); //æŸ¥æ˜ç»† if (response.getCode() != null \u0026\u0026 response.getCode().equals(\"OK\")) { QuerySendDetailsResponse querySendDetailsResponse = querySendDetails(response.getBizId()); System.out.println(\"çŸ­ä¿¡æ˜ç»†æŸ¥è¯¢æ¥å£è¿”å›æ•°æ®----------------\"); System.out.println(\"Code=\" + querySendDetailsResponse.getCode()); System.out.println(\"Message=\" + querySendDetailsResponse.getMessage()); int i = 0; for (QuerySendDetailsResponse.SmsSendDetailDTO smsSendDetailDTO : querySendDetailsResponse.getSmsSendDetailDTOs()) { System.out.println(\"SmsSendDetailDTO[\" + i + \"]:\"); System.out.println(\"Content=\" + smsSendDetailDTO.getContent()); System.out.println(\"ErrCode=\" + smsSendDetailDTO.getErrCode()); System.out.println(\"OutId=\" + smsSendDetailDTO.getOutId()); System.out.println(\"PhoneNum=\" + smsSendDetailDTO.getPhoneNum()); System.out.println(\"ReceiveDate=\" + smsSendDetailDTO.getReceiveDate()); System.out.println(\"SendDate=\" + smsSendDetailDTO.getSendDate()); System.out.println(\"SendStatus=\" + smsSendDetailDTO.getSendStatus()); System.out.println(\"Template=\" + smsSendDetailDTO.getTemplateCode()); } System.out.println(\"TotalCount=\" + querySendDetailsResponse.getTotalCount()); System.out.println(\"RequestId=\" + querySendDetailsResponse.getRequestId()); } } } ä¸‹å•ä¹‹åå‘é€çŸ­ä¿¡ åœ¨ shop-user æ¨¡å—ä¸­åŠ å…¥smsä¾èµ–\n\u003c!--çŸ­ä¿¡å‘é€--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-alicloud-sms\u003c/artifactId\u003e \u003c/dependency\u003e å°†é˜¿é‡ŒçŸ­ä¿¡ç»™å‡ºçš„demoå°è£…æˆå·¥å…·ç±»\nimport com.aliyuncs.DefaultAcsClient; import com.aliyuncs.IAcsClient; import com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest; import com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse; import com.aliyuncs.profile.DefaultProfile; import com.aliyuncs.profile.IClientProfile; public class SmsUtil { //æ›¿æ¢æˆè‡ªå·±ç”³è¯·çš„accessKeyId private static String accessKeyId = \"\"; //æ›¿æ¢æˆè‡ªå·±ç”³è¯·çš„accessKeySecret private static String accessKeySecret = \"\"; static final String product = \"Dysmsapi\"; static final String domain = \"dysmsapi.aliyuncs.com\"; /** * \\* å‘é€çŸ­ä¿¡ * * \\* @param phoneNumbers è¦å‘é€çŸ­ä¿¡åˆ°å“ªä¸ªæ‰‹æœºå· * \\* @param signName çŸ­ä¿¡ç­¾å[å¿…é¡»ä½¿ç”¨å‰é¢ç”³è¯·çš„] * \\* @param templateCode çŸ­ä¿¡çŸ­ä¿¡æ¨¡æ¿ID[å¿…é¡»ä½¿ç”¨å‰é¢ç”³è¯·çš„] * \\* @param param æ¨¡æ¿ä¸­${code}ä½ç½®ä¼ é€’çš„å†…å®¹ */ public static void sendSms(String phoneNumbers, String signName, String templateCode, String param) { try { System.setProperty(\"sun.net.client.defaultConnectTimeout\", \"10000\"); System.setProperty(\"sun.net.client.defaultReadTimeout\", \"10000\"); //åˆå§‹åŒ–acsClient,æš‚ä¸æ”¯æŒregionåŒ– IClientProfile profile = DefaultProfile.getProfile(\"cn-hangzhou\", accessKeyId, accessKeySecret); DefaultProfile.addEndpoint(\"cn-hangzhou\", \"cn-hangzhou\", product, domain); IAcsClient acsClient = new DefaultAcsClient(profile); SendSmsRequest request = new SendSmsRequest(); request.setPhoneNumbers(phoneNumbers); request.setSignName(signName); request.setTemplateCode(templateCode); request.setTemplateParam(param); request.setOutId(\"yourOutId\"); SendSmsResponse sendSmsResponse = acsClient.getAcsResponse(request); if (!\"OK\".equals(sendSmsResponse.getCode())) { throw new RuntimeException(sendSmsResponse.getMessage()); } } catch (Exception e) { e.printStackTrace(); throw new RuntimeException(\"å‘é€çŸ­ä¿¡å¤±è´¥\"); } } } ä¿®æ”¹çŸ­ä¿¡å‘é€çš„æœåŠ¡\n/* å‘é€çŸ­ä¿¡çš„æœåŠ¡ */ @Slf4j @Service( \"shopSmsService\" ) @RocketMQMessageListener( consumerGroup = \"shop-user\", /* æ¶ˆè´¹ç»„å */ topic = \"order-topic\", /* æ¶ˆè´¹ä¸»é¢˜ */ consumeMode = ConsumeMode.CONCURRENTLY, /* æ¶ˆè´¹æ¨¡å¼ */ messageModel = MessageModel.CLUSTERING /* æ¶ˆæ¯æ¨¡å¼ */ ) public class SmsService implements RocketMQListener\u003cOrder\u003e { @Autowired private UserDao userDao; @Override public void onMessage(Order message) { log.info(\"æ¥æ”¶åˆ°äº†ä¸€ä¸ªè®¢å•ä¿¡æ¯{},æ¥ä¸‹æ¥å°±å¯ä»¥å‘é€çŸ­ä¿¡é€šçŸ¥äº†\", message); // æ ¹æ®uid è·å–æ‰‹æœºå· User user = userDao.findById(message.getUid()).get(); // ç”ŸæˆéªŒè¯ç  StringBuilder builder = new StringBuilder(); for (int i = 0; i \u003c 6; i++) { builder.append(new Random().nextInt(9) + 1); } String smsCode = builder.toString(); Param param = new Param(smsCode); try { // å‘é€çŸ­ä¿¡ {\"code\":\"123456\"} SmsUtil.sendSms(user.getTelephone(), \"é»‘é©¬æ—…æ¸¸ç½‘\", \"SMS_170836451\", JSON.toJSONString(param)); log.info(\"çŸ­ä¿¡å‘é€æˆåŠŸ\"); } catch (Exception e) { e.printStackTrace(); } } @Data @AllArgsConstructor @NoArgsConstructor class Param { private String code; } } ","description":"\n","tags":[],"title":"\nSMSâ€“çŸ­ä¿¡æœåŠ¡","uri":"/posts/post-283/"},{"categories":["NAS"],"content":"å¥½ç©\nç¾¤æ™–ä½¿ç”¨ali-webdav é¦–å…ˆä½ çš„ç¾¤æ™–æ”¯æŒdocker\nali-webdavä¸‹è½½ åœ¨dockerçš„æ³¨å†Œè¡¨æœç´¢ ali-webdav å¦‚å›¾æ‰€ç¤ºç„¶åç‚¹å‡»ä¸‹è½½\nali-webdavaå®‰è£… æ˜ åƒä¸­é€‰ä¸­ali-webdava ç‚¹å‡»å¯åŠ¨\né«˜çº§è®¾ç½® å¯ç”¨è‡ªåŠ¨é‡æ–°å¯åŠ¨ ä½œç”¨æ˜¯å¼€æœºå¯åŠ¨ä¸ç”¨æ¯æ¬¡é‡æ–°å¯åŠ¨\næŒ‚è½½æ–‡ä»¶å¤¹è·¯å¾„ /usr/local/java/docker/\nä½œç”¨æ˜¯1.å¦‚æœtoken å¤±æ•ˆå¯ä»¥ç›´æ¥æ›¿æ¢æ–‡ä»¶å¤¹ä¸­çš„tokenã€‚2.å¯ä»¥ç›´æ¥æŸ¥çœ‹æ—¥å¿—\nè®¾ç½®ç«¯å£ ä½œç”¨ åé¢å¯ä»¥é¡µé¢è®¿é—®ï¼Œé˜²æ­¢ç«¯å£å˜åŒ–\nè®¾ç½®å‚æ•° # ALIYUNDRIVE_REFRESH_TOKEN æ˜¯ä½ çš„refreshToken å¿…å¡«å‚æ•° # ä¸‹é¢ä¸‰ä¸ªå‚æ•°å¯ä»¥ä¸åšä¿®æ”¹ # ALIYUNDRIVE_AUTH_ENABLE æ˜¯å¦å¼€å¯WebDavè´¦æˆ·éªŒè¯ï¼Œé»˜è®¤å¼€å¯true é€‰å¡« # ALIYUNDRIVE_AUTH_USERNAME WebDavè´¦æˆ·ï¼Œé»˜è®¤admin é€‰å¡« # ALIYUNDRIVE_AUTH_PASSWORD WebDavå¯†ç ï¼Œé»˜è®¤admin é€‰å¡« éªŒè¯æ˜¯å¦æˆåŠŸ è¾“å…¥ä½ çš„ç¾¤æ™–IP åŠ ä¸Šåˆšæ‰è®¾ç½®çš„ç«¯å£å· æˆ‘çš„åœ°å€æ˜¯ http://192.168.2.153:8088/\nå¦‚æœå‡ºç°è®¿é—®é¡µé¢åˆ™ä»£è¡¨æˆåŠŸï¼Œå¦‚æœä¸æ˜¯çš„è¯ çœ‹ä¸€ä¸‹æ—¥å¿—æç¤ºçš„ä»€ä¹ˆé”™è¯¯ã€‚\næœ¬åœ°ç¡¬ç›˜æ˜ å°„ æˆ‘ä½¿ç”¨çš„æ˜¯RaiDrive å·¥å…·ï¼Œwindosè‡ªå¸¦çš„æœ‰ç‚¹å¡ï¼Œè¿™ä¸ªå¾ˆæµç•…ï¼Œæ¯ç§’æ‹·è´ 10M/s å·¦å³\n","description":"\n","tags":[],"title":"\nä½¿ç”¨ç¾¤æ™–æŠŠé˜¿é‡Œäº‘ç›˜æŒ‚è½½ä¸ºæœ¬åœ°ç³»ç»Ÿçš„ç£ç›˜","uri":"/posts/post-284/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"è¿™é‡Œåªæä¾›ç”³è¯·åœ°å€ï¼Œç”³è¯·æ•™ç¨‹å°±ä¸å†™äº†ï¼Œæ’åæ— å…ˆåã€‚\nå…¶ä¸­éƒ¨åˆ†å¯å…è´¹ç”³è¯·å¤šåŸŸåé€šé…ç¬¦è¯ä¹¦\nè…¾è®¯äº‘ï¼šhttps://cloud.tencent.com/product/ssl\né˜¿é‡Œäº‘ï¼šhttps://www.aliyun.com/product/cas\nåˆæ‹äº‘ï¼šhttps://www.upyun.com/products/ssl\næ²ƒé€šï¼šhttps://freessl.wosign.com/\nä¸ƒç‰›äº‘ï¼šhttps://www.qiniu.com/ssl\nFreeSSLï¼šhttps://freessl.cn/\nLetâ€™s Encryptï¼šhttps://letsencrypt.org/\ncloudflareï¼šhttps://www.cloudflare.com/\nFreeSSLï¼šhttps://freessl.org\nBuypassï¼š https://www.buypass.com/\nAMH: https://amh.sh/ssl.htm\n","description":"\n","tags":[],"title":"\nå…è´¹çš„SSLè¯ä¹¦ç”³è¯·åœ°å€åˆ†äº«","uri":"/posts/post-285/"},{"categories":["å¥½ç©æŠ€å·§"],"content":"å¥½ç©\nç½‘ä¸Šä¹Ÿå‘å¸ƒè¿‡ç±»ä¼¼çš„æ–‡ç« ï¼Œä¸è¿‡å¾ˆå¤šç½‘ç«™æ›´æ¢åŸŸåæˆ–åœæ­¢è®¿é—®ä¸èƒ½ç”¨äº†ï¼›è¿‘æœŸç½‘å‹åˆæ•´ç†äº†14ä¸ªç½‘å€ï¼Œå¯ä»¥ç”¨æ¥å…è´¹åœ¨çº¿æ¥æ”¶éªŒè¯ç ä½¿ç”¨ï¼Œå¯ä»¥é˜²æ­¢è‡ªå·±éšç§æ³„éœ²ï¼›å›½å†…å¤–æ‰‹æœºå·ç éƒ½æœ‰ï¼Œä¸¥ç¦ç”¨äºéæ³•ä½¿ç”¨ï¼Œåæœç”±ä½¿ç”¨è€…è‡ªæ‹…æ‰¿æ‹…ï¼\næ¥ç åœ°å€ ä»¥ä¸‹ç½‘ç«™å¯ç”¨äºåœ¨çº¿æ¥æ”¶éªŒè¯ç ï¼ˆç½‘é¡µç•Œé¢å¹¿å‘Šå¹¿å‘Šæœ‰ç‚¹å¤šï¼Œä½†ä¸å½±å“ä½¿ç”¨ï¼‰\nhttps://www.bfkdim.com\nhttps://www.materialtools.com\nhttp://www.z-sms.com\nhttps://www.yinsiduanxin.com/china-phone-number.html\nhttps://www.zusms.com/phone/china\nhttps://jieduanxin.com/China-Phone-Number\nhttps://jiemahao.com\nhttps://sms-receive.net\nhttps://getfreesmsnumber.com (uaè®¾ç½®æˆpcæˆ–è€…ç”µè„‘æ‰“å¼€)\nhttp://receive-sms-online.info\nhttps://sms-online.co/receive-free-sms\nhttps://f4.work/list_free.php?\nhttp://lothelper.com/cn/shownumber?page=1list=PHONELIST_1_1_44\nhttps://smsreceivefree.com\n","description":"\n","tags":[],"title":"\nå›½å†…å¤–åœ¨çº¿æ¥æ”¶çŸ­ä¿¡éªŒè¯ç å¤§å…¨","uri":"/posts/post-286/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å¥½ç©\næœ‰äººé—®æˆ‘æˆ‘æ‰‹æœºå·æ€ä¹ˆä¹°äº†ï¼Œæ€ä¹ˆè¿™ä¹ˆå¥½è®°ï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ï¼\nä»Šå¤©åˆ†äº«ç»™å¤§å®¶ä¸€ä¸ªå…è´¹ç”³è¯· è”é€šæ‰‹æœº15555AAæ‰‹æœºé“å·çš„æ–¹æ³•ï¼Œä¸è¦é’±ã€‚ç½‘ä¸Šå¾ˆå¤šäººå†ä¹° å‡ å å‡ ç™¾ å‡ åƒ éƒ½æœ‰ï¼Œå…¶å®è¿™äº›å·ç éƒ½å¯ä»¥ä¸è¦é’±ç”³è¯·åˆ°çš„ï¼ä¸è¦å†èŠ±é’±ä¹°æ‰‹æœºé“å·å•¦ï¼Œæ¯”å¦‚æ•™ç¨‹ä¸Šé¢å¯ä»¥ç”³è¯·çš„ 1565555è¿™æ ·çš„å·ç åœ¨â€œæŸå®â€ä¸Šé¢å–ä¸€åƒå¤šå‘¢ã€‚\nä»Šå¤©æ•™å¤§å®¶å¦‚ä½•å…è´¹ç”³è¯·ï¼ï¼\nç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°è”é€šå®˜ç½‘å…è´¹é€‰å·é“¾æ¥ ç™¾åº¦æœç´¢â€œè”é€šå¤§æ–°æ€ç»´â€ äº”ä¸ªå­—ï¼Œå°±å¯ä»¥çœ‹åˆ°è”é€šçš„ä¸€ä¸ªæœ€æ–°å®˜æ–¹ç”³è¯·é“¾æ¥ã€‚\næˆ–è€…ç›´æ¥æ‰“å¼€ä¸‹é¢é“¾æ¥\nhttp://www.10010.com/goodsdetail/301904268051.html\nç¬¬äºŒæ­¥ï¼šé€‰æ‹©å¯¹åº”å·ç åœ°åŒº 1555533/15555345é€‰â€œèŠœæ¹–â€ã€‚\n1555522/15555234é€‰â€œå®£åŸâ€\n1555511/166551155é€‰â€œåˆè‚¥â€ã€‚\n1555525/185551888é€‰â€œäº³å·â€\n1565555/1865555/1315555é€‰â€œé©¬éå±±â€ã€‚\nï¼ˆé©¬éå±±çš„æœ‰çš„æœ‰æœ€ä½æ¶ˆè´¹å’Œé¢„å­˜æ¬¾å…¶ä»–çš„ä¸éœ€è¦ï¼Œå·ç éƒ½æ˜¯å…¨å›½é€šç”¨çš„ï¼Œå‘å…¨å›½çš„ï¼Œè€Œä¸”ä»¥åä¹Ÿå¯ä»¥æºå·è½¬ç½‘ã€‚\næ‰€ä»¥åœ°åŒºä¸éœ€è¦çº ç»“ï¼Œå·ç å–œæ¬¢å°±å¥½.\nç¬¬å››æ­¥ï¼šé€‰æ‹©è‡ªå·±å–œæ¬¢çš„å·ç  å¯ä»¥å¤šé€‰å‡ é¡µï¼Œå¤šé€‰å‡ ä¸ªä¸Šé¢çš„åœ°åŒºï¼Œç„¶åçœ‹çœ‹æœ‰æ²¡æœ‰è‡ªå·±å–œæ¬¢çš„ã€‚\nç„¶åç¡®å®šå–œæ¬¢å·ç ï¼ŒåŠ å…¥å¤‡é€‰ ä¸‹å•å°±å¥½äº†ï¼Œä¸è¦é’±çš„ï¼èµ¶å¿«å»çœ‹çœ‹å§ï¼\n","description":"\n","tags":[],"title":"\nè”é€šå®˜ç½‘å…è´¹ç”³è¯·155555æ‰‹æœºé“å·","uri":"/posts/post-287/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"JDK ä¸‹è½½ å®˜ç½‘ä¸‹è½½ JDK8ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\nå®‰è£… # åˆ›å»ºç›®å½• mkdir /usr/local/java # æ‹·è´å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½• cp jdk-8u301-linux-x64.tar.gz /usr/local/java/ # è¿›å…¥javaå®‰è£…ç›®å½• cd /usr/local/java/ # è§£å‹jdkå®‰è£…åŒ… tar -zxvf jdk-8u301-linux-x64.tar.gz # åˆ é™¤å®‰è£…åŒ…ï¼ˆå¯é€‰ï¼‰ rm -rf jdk-8u301-linux-x64.tar.gz é…ç½®ç¯å¢ƒå˜é‡ # ç¼–è¾‘é…ç½®æ–‡ä»¶ vim /etc/profile # æœ€ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š export JAVA_HOME=/usr/local/java/jdk1.8.0_301 export CLASSPATH=$JAVA_HOME/lib/ export PATH=$PATH:$JAVA_HOME/bin **************** æˆ–è€…æ·»åŠ ä¸‹é¢è¿™ç§ JAVA_HOME=/usr/local/java/jdk1.8.0_301 CLASSPATH=$JAVA_HOME/lib/ PATH=$PATH:$JAVA_HOME/bin export PATH JAVA_HOME CLASSPATH # ç„¶åESC :wqä¿å­˜é€€å‡º :wq # é…ç½®ç”Ÿæ•ˆ source /etc/profile # æ£€æŸ¥å®‰è£…æƒ…å†µ java -version Maven ä¸‹è½½ å®˜ç½‘ä¸‹è½½åœ°å€ï¼š https://maven.apache.org/download.cgi\nå®‰è£… # åˆ›å»ºç›®å½• mkdir /usr/local/maven # è§£å‹åˆ°åˆ›å»ºç›®å½•ä¸‹ tar -zxvf apache-maven-3.8.2-bin.tar.gz -C /usr/local/maven/ # è¿›å…¥mavenå®‰è£…ç›®å½• ä¸‹é¢æœ‰æ–‡ä»¶åˆ™æ²¡æœ‰é—®é¢˜ cd /usr/local/maven/apache-maven-3.8.2 ********************************************************* [root@xmg-gz apache-maven-3.8.2]# ls bin boot conf lib LICENSE NOTICE README.txt é…ç½® # ç¼–è¾‘é…ç½®æ–‡ä»¶ vim /etc/profile # æœ€ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š export MAVEN_HOME=/usr/local/maven/apache-maven-3.8.2 export MAVEN_HOME export PATH=$PATH:$MAVEN_HOME/bin # ç„¶åESC :wqä¿å­˜é€€å‡º :wq # é…ç½®ç”Ÿæ•ˆ source /etc/profile # æ£€æŸ¥é…ç½®æƒ…å†µ mvn -version MYSQL èƒŒæ™¯ä¿¡æ¯ MySQLï¼š5.7.33\nMySQLç›¸å…³å®‰è£…è·¯å¾„è¯´æ˜å¦‚ä¸‹ï¼š\né…ç½®æ–‡ä»¶ï¼š/etc/my.cnf æ•°æ®å­˜å‚¨ï¼š/var/lib/mysql å‘½ä»¤æ–‡ä»¶ï¼š/usr/binå’Œ/usr/sbin æ•°æ®åº“ç«¯å£ï¼š3306\nå®‰è£…mysql # æ›´æ–°YUMæº rpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm # å®‰è£…MySQL yum -y install mysql-community-server # æŸ¥çœ‹MySQLç‰ˆæœ¬å· mysql -V é…ç½®MySQL # å¯åŠ¨MySQLæœåŠ¡ systemctl start mysqld # è®¾ç½®MySQLæœåŠ¡å¼€æœºè‡ªå¯åŠ¨ systemctl enable mysqld # æŸ¥çœ‹/var/log/mysqld.logæ–‡ä»¶ï¼Œè·å–å¹¶è®°å½•rootç”¨æˆ·çš„åˆå§‹å¯†ç  grep 'temporary password' /var/log/mysqld.log # æ‰§è¡Œå‘½ä»¤ç»“æœç¤ºä¾‹å¦‚ä¸‹ã€‚ 2020-04-08T08:12:07.893939Z 1 [Note] A temporary password is generated for root@localhost: xvlo1lZ12\u003euI # å¯¹MySQLè¿›è¡Œå®‰å…¨æ€§é…ç½®éœ€è¦åˆå§‹å¯†ç  mysql_secure_installation å®‰å…¨æ€§é…ç½® é‡ç½®rootç”¨æˆ·çš„å¯†ç  #ç¡®ä¿MySQLæœåŠ¡å™¨éƒ¨ç½²çš„å®‰å…¨ã€‚ Securing the MySQL server deployment. #è¾“å…¥rootç”¨æˆ·çš„å¯†ç : è¾“å…¥ä¸Šä¸€æ­¥è·å–çš„rootç”¨æˆ·åˆå§‹å¯†ç  Enter password for user root: #rootç”¨æˆ·çš„å¯†ç å·²ç»è¿‡æœŸã€‚è¯·è®¾ç½®æ–°å¯†ç ã€‚ The existing password for the user account root has expired. Please set a new password. #æ–°å¯†ç : New password: #é‡æ–°è¾“å…¥æ–°å¯†ç : Re-enter new password: #'validate_password'æ’ä»¶å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šã€‚ The 'validate_password' plugin is installed on the server. #åç»­æ­¥éª¤å°†ä½¿ç”¨ç°æœ‰é…ç½®è¿è¡Œçš„æ’ä»¶ã€‚ The subsequent steps will run with the existing configuration of the plugin. #ä½¿ç”¨ç°æœ‰çš„rootå¯†ç ã€‚ Using existing password for root. #ä¼°è®¡å¯†ç å¼ºåº¦:100 Estimated strength of the password: 100 #ä¿®æ”¹rootç”¨æˆ·å¯†ç ?(æŒ‰y| yè¡¨ç¤ºæ˜¯ï¼Œå…¶ä»–ä»»ä½•é”®è¡¨ç¤ºå¦):y Change the password for root ? ((Press y|Y for Yes, any other key for No) : y #æ–°å¯†ç : é•¿åº¦ä¸º8è‡³30ä¸ªå­—ç¬¦ï¼Œå¿…é¡»åŒæ—¶åŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·ã€‚ç‰¹æ®Šç¬¦å·å¯ä»¥æ˜¯()` ~!@#$%^\u0026*-+=|{}[]:;â€˜\u003c\u003e,.?/ New password: #é‡æ–°è¾“å…¥æ–°å¯†ç : Re-enter new password: #ä¼°è®¡å¯†ç å¼ºåº¦:100 Estimated strength of the password: 100 #æ‚¨å¸Œæœ›ç»§ç»­ä½¿ç”¨æ‰€æä¾›çš„å¯†ç å—?(æŒ‰y| yä¸ºYesï¼ŒæŒ‰å…¶ä»–é”®ä¸ºNo): y Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y åˆ é™¤åŒ¿åç”¨æˆ·è´¦å· #é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQLå®‰è£…æœ‰ä¸€ä¸ªåŒ¿åç”¨æˆ·ï¼Œå…è®¸ä»»ä½•äººç™»å½•åˆ°MySQLï¼Œè€Œæ— éœ€ä¸ºä»–ä»¬åˆ›å»ºç”¨æˆ·å¸æˆ·ã€‚è¿™åªç”¨äºæµ‹è¯•ï¼Œå¹¶ä½¿å®‰è£…è¿‡ç¨‹æ›´é¡ºç•…ã€‚æ‚¨åº”è¯¥åœ¨è½¬ç§»åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰åˆ é™¤å®ƒä»¬ã€‚ By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. #åˆ é™¤åŒ¿åç”¨æˆ·?(æŒ‰y| yä¸ºYesï¼ŒæŒ‰å…¶ä»–é”®ä¸ºNo): Remove anonymous users? (Press y|Y for Yes, any other key for No) : Y #æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ·ï¼Œè¾“å…¥Y Success. ç¦æ­¢rootè´¦å·è¿œç¨‹ç™»å½• # é€šå¸¸ï¼Œæ ¹åº”è¯¥åªå…è®¸ä»â€œlocalhostâ€ã€‚è¿™å°±ä¿è¯äº†åˆ«äººçŒœä¸åˆ°æ¥è‡ªç½‘ç»œçš„æ ¹å¯†ç ã€‚ Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. #ç¦æ­¢rootè¿œç¨‹ç™»å½•?(æŒ‰y| yè¡¨ç¤ºæ˜¯ï¼Œå…¶ä»–é”®è¡¨ç¤ºå¦): Disallow root login remotely? (Press y|Y for Yes, any other key for No) : Y #ç¦æ­¢rootè¿œç¨‹ç™»å½•ï¼Œè¾“å…¥Y Success. åˆ é™¤teståº“ä»¥åŠå¯¹teståº“çš„è®¿é—®æƒé™ é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQLè‡ªå¸¦ä¸€ä¸ªåä¸ºâ€œtestâ€çš„æ•°æ®åº“ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ã€‚è¿™ä¹Ÿä»…ç”¨äºæµ‹è¯•ï¼Œå¹¶ä¸”åº”è¯¥åœ¨è¿›å…¥ç”Ÿäº§ä¹‹å‰è¢«åˆ é™¤ç¯å¢ƒã€‚ By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing,and should be removed before moving into a production environment. åˆ é™¤æµ‹è¯•æ•°æ®åº“å¹¶è®¿é—®å®ƒ?(æŒ‰y| yè¡¨ç¤ºæ˜¯ï¼Œå…¶ä»–é”®è¡¨ç¤ºå¦) Remove test database and access to it? (Press y|Y for Yes, any other key for No) : Y #æ˜¯å¦åˆ é™¤teståº“å’Œå¯¹å®ƒçš„è®¿é—®æƒé™ï¼Œè¾“å…¥Y - Dropping test database... Success. é‡æ–°åŠ è½½æˆæƒè¡¨ #é‡æ–°åŠ è½½ç‰¹æƒè¡¨å°†ç¡®ä¿æ‰€æœ‰æ›´æ”¹åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„å°†ç«‹å³ç”Ÿæ•ˆã€‚ Reloading the privilege tables will ensure that all changes made so far will take effect immediately. #ç°åœ¨é‡æ–°åŠ è½½ç‰¹æƒè¡¨?(æŒ‰y| yè¡¨ç¤ºæ˜¯ï¼Œå…¶ä»–é”®è¡¨ç¤ºå¦) Reload privilege tables now? (Press y|Y for Yes, any other key for No) : Success. All done! å®‰å…¨æ€§é…ç½®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§MySQLå®˜æ–¹æ–‡æ¡£ã€‚\nè¿œç¨‹è®¿é—®MySQLæ•°æ®åº“ é…ç½®å®‰å…¨ç»„ç­–ç•¥ é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„é…ç½®\u003eé…ç½®è§„åˆ™\u003eæ·»åŠ å®‰å…¨ç»„ æˆæƒå¯¹è±¡ 0.0.0.0/0è¡¨ç¤ºä»»æ„çš„IPã€‚\næˆæƒç­–ç•¥ ä¼˜å…ˆçº§ åè®®ç±»å‹ ç«¯å£èŒƒå›´ æˆæƒå¯¹è±¡ æè¿° åˆ›å»ºæ—¶é—´ æ“ä½œ å…è®¸ 1 è‡ªå®šä¹‰ TCP ç›®çš„: 3306/3306 æº: 0.0.0.0/0 mysqlæ•°æ®åº“ 2021å¹´7æœˆ21æ—¥13:04:05 ç¼–è¾‘å¤åˆ¶åˆ é™¤ ä¿®æ”¹è¡¨æ³• # è¿›å…¥mysql è¾“å…¥å¯†ç  mysql -u root -p # åˆ‡æ¢æ•°æ®åº“ use mysql; # ä¿®æ”¹æ•°æ®åº“æ•°æ® update user set host = '%' where user = 'root'; # æŸ¥è¯¢ä¿®æ”¹ç»“æœ select host,user from user where user = 'root'; æˆæƒæ³• #ä½ æƒ³myuserä½¿ç”¨mypasswordï¼ˆå¯†ç ï¼‰ä»ä»»ä½•ä¸»æœºè¿æ¥åˆ°mysqlæœåŠ¡å™¨çš„è¯ã€‚ grant all on *.* to 'myuser'@'%' IDENTIFIED BY 'mypassword'; #ä½¿ç”¨rootæ›¿æ¢ myuserï¼Œå¯è®¾ç½®ä¸ºå…è®¸rootè´¦å·è¿œç¨‹ç™»å½•ã€‚ #å¦‚æœä½ æƒ³å…è®¸ç”¨æˆ·myuserä»ipä¸º192.168.1.6çš„ä¸»æœºè¿æ¥åˆ°mysqlæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨mypasswordä½œä¸ºå¯†ç  grant all on *.* to 'myuser'@'192.168.1.6' IDENTIFIED BY 'mypassword'; #ä½¿ä¿®æ”¹ç”Ÿæ•ˆ FLUSH PRIVILEGES åœ¨é‡‡ç”¨æˆæƒæ³•ä¹‹åï¼Œæ— æ³•åœ¨æœ¬åœ°ç™»å½•mysql æç¤ºERROR 1045 (28000): Access denied for user â€˜rootâ€™@â€™loadb116â€™ (using password: YES) ä¸Šä¾‹ä¸­loadb116æ˜¯ä¸»æœºå. è¿™æ—¶å¯ä»¥ä½¿ç”¨rootè¿›å…¥åæˆæƒ\ngrant all privileges on *.* to 'root'@'loadb116' identified by '123456' with grant option; flush privileges; æˆ–è€…ä½¿ç”¨æœ¬åœ°IPç™»å½•\né‡å¯æœåŠ¡ systemctl start mysqld å¦‚æœæ­¤æ—¶è¿ä¸ä¸Šï¼Œé‡å¯ä¸€ä¸‹ reboot\nRedis redisä¸‹è½½ ä¸‹è½½åœ°å€ï¼šhttp://redis.io/downloadï¼Œä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚\nmkdir /usr/local/redis/ wget http://download.redis.io/releases/redis-6.0.8.tar.gz tar xzf redis-6.0.8.tar.gz å®‰è£… # è¿›å…¥redisç›®å½• cd redis-6.0.8 # å®‰è£… gcc åˆ™ç›´æ¥è¿›è¡Œç¼–è¯‘ make yum -y install gcc # å¦‚æœä¸å®‰è£…ä¼šç¼–è¯‘æŠ¥é”™ # -------------å¦‚æœè¿˜æŠ¥é”™ ä¸´æ—¶å‡çº§ç‰ˆæœ¬ start gcc -v # æŸ¥çœ‹gccç‰ˆæœ¬ yum -y install centos-release-scl # å‡çº§åˆ°9.1ç‰ˆæœ¬ yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils scl enable devtoolset-9 bash # -------------å¦‚æœè¿˜æŠ¥é”™ ä¸´æ—¶å‡çº§ç‰ˆæœ¬ end # ç¼–è¯‘ make å®‰è£…æˆåŠŸä¼šå‡ºç°ï¼šHint: Itâ€™s a good idea to run â€˜make testâ€™\næ‰§è¡Œmake test è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š\n[root@localhost redis-6.0.1]# make test cd src \u0026\u0026 make test make[1]: è¿›å…¥ç›®å½•â€œ/usr/redis-6.0.1/srcâ€ CC Makefile.dep make[1]: ç¦»å¼€ç›®å½•â€œ/usr/redis-6.0.1/srcâ€ make[1]: è¿›å…¥ç›®å½•â€œ/usr/redis-6.0.1/srcâ€ You need tcl 8.5 or newer in order to run the Redis test make[1]: *** [test] é”™è¯¯ 1 make[1]: ç¦»å¼€ç›®å½•â€œ/usr/redis-6.0.1/srcâ€ make: *** [test] é”™è¯¯ 2 è§£å†³åŠæ³•\n# å®‰è£… tcl yum install tcl make test ä¿®æ”¹é…ç½®æ–‡ä»¶ # ä¿®æ”¹é…ç½®æ–‡ä»¶ vi redis.conf # ä¿®æ”¹ #bind 127.0.0.1 ä¸ºbind 0.0.0.0 -\u003e å…è®¸æ‰€æœ‰ä¸»æœºè®¿é—® 69 # bind 127.0.0.1 70 bind 0.0.0.0 # å°†daemonize no æ”¹æˆ daemonize yes -\u003e è®¾ç½®rediså¯ä»¥ä¸€ç›´åœ¨åå°è¿è¡Œï¼Œä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œ 225 daemonize yes # å¯†ç è®¾ç½®ï¼Œå°†â€#requirepass foobaredâ€œ å–æ‰æ³¨é‡Šæ”¹æˆ requirepass 123456(æˆ–è€…å…¶å®ƒä½ éœ€è¦çš„å¯†ç ) 791 requirepass 123456 GZA$bXZwnbe!6j è®¾ç½®å¼€æœºå¯åŠ¨ # åˆ›å»ºå­˜æ”¾redisçš„é…ç½®æ–‡ä»¶ mkdir /etc/redis # åˆ›å»ºå­˜æ”¾redisçš„æŒä¹…åŒ–æ–‡ä»¶ ï¼ˆå¯é€‰ï¼‰ mkdir /var/redis/ mkdir /var/redis/6379 # æ‹·è´é…ç½®æ–‡ä»¶ cp /usr/local/redis/redis-6.0.8/redis.conf /etc/redis/6379.conf # æ£€æŸ¥ä¸€ä¸‹é…ç½® daemonize\tyes\t#è®©redisä»¥daemonè¿›ç¨‹è¿è¡Œ pidfile\t/var/run/redis_6379.pid #è®¾ç½®redisçš„pidæ–‡ä»¶ä½ç½® port\t6379\t#è®¾ç½®redisçš„ç›‘å¬ç«¯å£å· dir /var/redis/6379\t#è®¾ç½®æŒä¹…åŒ–æ–‡ä»¶çš„å­˜å‚¨ä½ç½® ï¼ˆå¯é€‰ï¼‰ # æ‹·è´è„šæœ¬åˆ°å¼€æœºå¯åŠ¨è„šæœ¬ç›®å½•ä¸‹ cp /usr/local/redis/redis-6.0.8/utils/redis_init_script /etc/init.d/redis_6379 cd /etc/init.d/ vim redis_6379 # æœ€ä¸Šé¢ï¼ŒåŠ å…¥ä¸¤è¡Œæ³¨é‡Š # chkconfig: 2345 90 10 # description: Redis is a persistent key-value database # ä¿®æ”¹ ä»¥ä¸‹ä¸¤ä¸ªåœ°å€ ä¸ºè‡ªå·±çš„æ–‡ä»¶åœ°å€ EXEC=/usr/local/redis/redis-6.0.8/src/redis-server CLIEXEC=/usr/local/redis/redis-6.0.8/src/redis-cli # æˆæƒ chmod 777 redis_6379 # å¯åŠ¨ redis ./redis_6379 start # æ‰§è¡Œ åŠ å…¥å¼€æœºå¯åŠ¨ chkconfig redis_6379 on ","description":"\n","tags":[],"title":"\nCentos7æ­å»ºJDK+Mysql+Redis","uri":"/posts/post-288/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"é—®é¢˜ï¼Œåœ¨ä½¿ç”¨FreeMarkeræ—¶é‡è§äº†ä¸€ä¸ªé—®é¢˜ **ç°è±¡ï¼š**åœ¨æœåŠ¡å¯åŠ¨åï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“æ–‡ä»¶ï¼ˆå¤šçº¿ç¨‹å¹¶å‘è¿›è¡Œï¼‰æ—¶ï¼Œå‡ºç°éƒ¨åˆ†çº¿ç¨‹æŠ¥ä¸­æ–­å¼‚å¸¸ï¼Œå†æ¬¡è§¦å‘æ—¶æ­£å¸¸å®Œæˆæ¸²æŸ“ã€‚\nè¯¦ç»†å†…å®¹è§ä»£ç çš„HELP.md\né—®é¢˜å¤ç°ä»£ç åœ°å€ï¼š https://www.pfinfo.com.cn/blog/upload/2021/06/0cv4s1umsujfqrlal4rcppr684.zip\næµ‹è¯•å…¥å£ï¼š DemoApplicationTests#template()\n","description":"\n","tags":["FreeMarker","ä¸­æ–­å¼‚å¸¸"],"title":"\nFreeMarkeré¦–æ¬¡æ¸²æŸ“æ–‡ä»¶ï¼ˆå¹¶å‘ï¼‰ï¼Œéƒ¨åˆ†çº¿ç¨‹æŠ¥ä¸­æ–­å¼‚å¸¸","uri":"/posts/post-15/"},{"categories":["Docker"],"content":"Kubernetesdocker\nWhat is Kubernetesï¼Ÿ\nKubernetesè¿™ä¸ªå•è¯æ¥è‡ªäºå¸Œè…Šè¯­ï¼Œå«ä¹‰æ˜¯ èˆµæ‰‹ æˆ– é¢†èˆªå‘˜\nç®€ä»‹è¯´æ˜ Production-Grade Container Orchestration Automated container deployment, scaling, and management\nç”Ÿäº§çº§çš„å®¹å™¨ç¼–æ’ è‡ªåŠ¨åŒ–çš„å®¹å™¨éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†\nKubernetesï¼Œä¹Ÿç§°ä¸ºK8Sï¼Œå…¶ä¸­8æ˜¯ä»£è¡¨ä¸­é—´â€œuberneteâ€çš„8ä¸ªå­—ç¬¦ï¼Œæ˜¯Googleåœ¨2014å¹´å¼€æºçš„ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œç”¨äºè‡ªåŠ¨åŒ–å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ã€è§„åˆ’ã€æ‰©å±•å’Œç®¡ç†ï¼Œå®ƒå°†ç»„æˆåº”ç”¨ç¨‹åºçš„å®¹å™¨åˆ†ç»„ä¸ºé€»è¾‘å•å…ƒï¼Œä»¥ä¾¿äºç®¡ç†å’Œå‘ç°ï¼Œç”¨äºç®¡ç†äº‘å¹³å°ä¸­å¤šä¸ªä¸»æœºä¸Šçš„å®¹å™¨åŒ–çš„åº”ç”¨ï¼ŒKubernetes çš„ç›®æ ‡æ˜¯è®©éƒ¨ç½²å®¹å™¨åŒ–çš„åº”ç”¨ç®€å•å¹¶ä¸”é«˜æ•ˆï¼Œå¾ˆå¤šç»†èŠ‚éƒ½ä¸éœ€è¦è¿ç»´äººå‘˜å»è¿›è¡Œå¤æ‚çš„æ‰‹å·¥é…ç½®å’Œå¤„ç†ï¼›\nKubernetesæ‹¥æœ‰Googleåœ¨ç”Ÿäº§ç¯å¢ƒä¸Š15å¹´è¿è¡Œçš„ç»éªŒï¼Œå¹¶ç»“åˆäº†ç¤¾åŒºä¸­æœ€ä½³å®è·µï¼›\nK8Sæ˜¯ CNCF æ¯•ä¸šçš„é¡¹ç›®ï¼Œæœ¬æ¥Kubernetesæ˜¯Googleçš„å†…éƒ¨é¡¹ç›®ï¼Œåæ¥å¼€æºå‡ºæ¥ï¼Œåˆåæ¥ä¸ºäº†å…¶èŒå£®æˆé•¿ï¼Œæç»™äº†CNCFï¼›\nCNCFå…¨ç§°Cloud Native Computing Foundationï¼ˆäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼‰\nå®˜ç½‘ï¼šhttps://kubernetes.io/\nä»£ç ï¼šhttps://github.com/kubernetes/kubernetes\nKubernetesæ˜¯é‡‡ç”¨Goè¯­è¨€å¼€å‘çš„ï¼ŒGoè¯­è¨€æ˜¯è°·æ­Œ2009å‘å¸ƒçš„ä¸€æ¬¾å¼€æºç¼–ç¨‹è¯­è¨€ï¼›\nç¼–æ’æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ\næŒ‰ç…§ä¸€å®šçš„ç›®çš„ä¾æ¬¡æ’åˆ—ï¼›\nè°ƒé…ã€å®‰æ’ï¼›\næ•´ä½“æ¶æ„ Master k8sé›†ç¾¤æ§åˆ¶èŠ‚ç‚¹ï¼Œå¯¹é›†ç¾¤è¿›è¡Œè°ƒåº¦ç®¡ç†ï¼Œæ¥å—é›†ç¾¤å¤–ç”¨æˆ·å»é›†ç¾¤æ“ä½œè¯·æ±‚ï¼›\nMaster Node ç”± API Serverã€Schedulerã€ClusterState Storeï¼ˆETCD æ•°æ®åº“ï¼‰å’Œ Controller MangerServer æ‰€ç»„æˆï¼›\nNodes é›†ç¾¤å·¥ä½œèŠ‚ç‚¹ï¼Œè¿è¡Œç”¨æˆ·ä¸šåŠ¡åº”ç”¨å®¹å™¨ï¼›\nNodesèŠ‚ç‚¹ä¹Ÿå«Worker Nodeï¼ŒåŒ…å«kubeletã€kube proxy å’Œ Podï¼ˆContainer Runtimeï¼‰ï¼›\næ­å»ºæ–¹å¼ éƒ¨ç½² Kubernetes ç¯å¢ƒï¼ˆé›†ç¾¤ï¼‰ä¸»è¦æœ‰å¤šç§æ–¹å¼ï¼š\nminikube minikubeå¯ä»¥åœ¨æœ¬åœ°è¿è¡ŒKubernetesçš„å·¥å…·ï¼Œminikubeå¯ä»¥åœ¨ä¸ªäººè®¡ç®—æœºï¼ˆåŒ…æ‹¬Windowsï¼ŒmacOSå’ŒLinux PCï¼‰ä¸Šè¿è¡Œä¸€ä¸ªå•èŠ‚ç‚¹Kubernetesé›†ç¾¤ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è¯•ç”¨Kubernetesæˆ–è¿›è¡Œæ—¥å¸¸å¼€å‘å·¥ä½œï¼›\nhttps://kubernetes.io/docs/tutorials/hello-minikube/\nkind Kindå’Œminikubeç±»ä¼¼çš„å·¥å…·ï¼Œè®©ä½ åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡ŒKubernetesï¼Œæ­¤å·¥å…·éœ€è¦å®‰è£…å¹¶é…ç½®Dockerï¼›\nhttps://kind.sigs.k8s.io/\nkubeadm Kubeadmæ˜¯ä¸€ä¸ªK8séƒ¨ç½²å·¥å…·ï¼Œæä¾›kubeadm init å’Œ kubeadm joinä¸¤ä¸ªæ“ä½œå‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªKubernetesé›†ç¾¤ï¼›\nå®˜æ–¹åœ°å€ï¼š\nhttps://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/\nhttps://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/\näºŒè¿›åˆ¶åŒ… ä»Githubä¸‹è½½å‘è¡Œç‰ˆçš„äºŒè¿›åˆ¶åŒ…ï¼Œæ‰‹åŠ¨éƒ¨ç½²å®‰è£…æ¯ä¸ªç»„ä»¶ï¼Œç»„æˆKubernetesé›†ç¾¤ï¼Œæ­¥éª¤æ¯”è¾ƒç¹çï¼Œä½†æ˜¯èƒ½è®©ä½ å¯¹å„ä¸ªç»„ä»¶æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ï¼›\nyumå®‰è£… é€šè¿‡yumå®‰è£…Kubernetesçš„æ¯ä¸ªç»„ä»¶ï¼Œç»„æˆKubernetesé›†ç¾¤ï¼Œä¸è¿‡yumæºé‡Œé¢çš„k8sç‰ˆæœ¬å·²ç»æ¯”è¾ƒè€äº†ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼ç”¨å¾—ä¹Ÿæ¯”è¾ƒå°‘äº†ï¼›\nç¬¬ä¸‰æ–¹å·¥å…· æœ‰ä¸€äº›å¤§ç¥å°è£…äº†ä¸€äº›å·¥å…·ï¼Œåˆ©ç”¨è¿™äº›å·¥å…·è¿›è¡Œk8sç¯å¢ƒçš„å®‰è£…ï¼›\nèŠ±é’±è´­ä¹° ç›´æ¥è´­ä¹°ç±»ä¼¼é˜¿é‡Œäº‘è¿™æ ·çš„å…¬æœ‰äº‘å¹³å°k8sï¼Œä¸€é”®æå®šï¼›\nKubeadméƒ¨ç½² kubeadmæ˜¯å®˜æ–¹ç¤¾åŒºæ¨å‡ºçš„ä¸€ä¸ªç”¨äºå¿«é€Ÿéƒ¨ç½² kubernetes é›†ç¾¤çš„å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·èƒ½é€šè¿‡ä¸¤æ¡æŒ‡ä»¤å®Œæˆä¸€ä¸ªkubernetesé›†ç¾¤çš„éƒ¨ç½²ï¼›\nåˆ›å»ºä¸€ä¸ªMasterèŠ‚ç‚¹ï¼š\nkubeadm init å°†NodeèŠ‚ç‚¹åŠ å…¥åˆ°Masteré›†ç¾¤ä¸­ï¼š\n$ kubeadm join \u003cMasterèŠ‚ç‚¹çš„IPå’Œç«¯å£\u003e ç¯å¢ƒè¦æ±‚ ä¸€å°æˆ–å¤šå°æœºå™¨ï¼Œæ“ä½œç³»ç»ŸCentOS 7.x-86_x64\nç¡¬ä»¶é…ç½®ï¼šå†…å­˜2GBæˆ–2G+ï¼ŒCPU 2æ ¸æˆ–CPU 2æ ¸+ï¼›\né›†ç¾¤å†…å„ä¸ªæœºå™¨ä¹‹é—´èƒ½ç›¸äº’é€šä¿¡ï¼›\né›†ç¾¤å†…å„ä¸ªæœºå™¨å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œéœ€è¦æ‹‰å–é•œåƒï¼›(éå¿…é¡»)\nç¦æ­¢swapåˆ†åŒºï¼›\nå¦‚æœç¯å¢ƒä¸æ»¡è¶³è¦æ±‚ï¼Œä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ï¼š\nç¯å¢ƒå‡†å¤‡ å…³é—­é˜²ç«å¢™\nsystemctl stop firewalld systemctl disable firewalld å…³é—­selinux\nsed -i 's/enforcing/disabled/' /etc/selinux/config #æ°¸ä¹… setenforce 0 #ä¸´æ—¶ å…³é—­swapï¼ˆk8sç¦æ­¢è™šæ‹Ÿå†…å­˜ä»¥æé«˜æ€§èƒ½ï¼‰\nsed -ri 's/.*swap.*/#\u0026/' /etc/fstab #æ°¸ä¹… swapoff -a #ä¸´æ—¶ åœ¨masteræ·»åŠ hosts\ncat \u003e\u003e /etc/hosts \u003c\u003c EOF 172.16.45.131 k8smaster 172.16.45.132 k8snode1 172.16.45.133 k8snode2 EOF è®¾ç½®ç½‘æ¡¥å‚æ•°\nsystemctl stop firewalld systemctl disable firewalld æ—¶é—´åŒæ­¥\nsystemctl stop firewalld systemctl disable firewalld å®‰è£…æ­¥éª¤ æ‰€æœ‰æœåŠ¡å™¨èŠ‚ç‚¹å®‰è£… Docker/kubeadm/kubelet/kubectl\nKubernetes é»˜è®¤å®¹å™¨è¿è¡Œç¯å¢ƒæ˜¯Dockerï¼Œå› æ­¤é¦–å…ˆéœ€è¦å®‰è£…Dockerï¼›\nå®‰è£… Docker #æ›´æ–°dockerçš„yumæº yum install wget -y wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo #å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerï¼š yum install docker-ce-19.03.13 -y #yum install docker -y ï¼ˆè¿™ä¸ªå®‰è£…çš„Dockerç‰ˆæœ¬åæ—§ï¼‰ 1.13.x #é…ç½®åŠ é€Ÿå™¨åŠ é€Ÿä¸‹è½½ ç™»å½•è¯¥ç½‘å€è·å–åŠ é€Ÿåœ°å€ï¼ˆhttps://cr.console.aliyun.com/ï¼‰ sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF' { \"registry-mirrors\": [\"https://bz93554o.mirror.aliyuncs.com\"] } EOF sudo systemctl daemon-reload sudo systemctl restart docker #ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸ç„¶ä¼šæç¤ºè­¦å‘Šï¼› systemctl enable docker.service #é‚£ä¹ˆæ¥ä¸‹æ¥éœ€è¦æ­å»ºï¼škubeadmã€kubeletã€kubectl é…ç½®k8sçš„é˜¿é‡Œäº‘YUMæº cat \u003e /etc/yum.repos.d/kubernetes.repo \u003c\u003c EOF [kubernetes] name=Kubernetes baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64 enabled=1 gpgcheck=0 repo_gpgcheck=0 gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg EOF åˆ°æ—¶å€™ä¸‹è½½k8sçš„ç›¸å…³ç»„ä»¶æ‰èƒ½æ‰¾åˆ°ä¸‹è½½æºï¼›\nå®‰è£… kubeadmï¼Œkubelet å’Œ kubectl yum install kubelet-1.19.4 kubeadm-1.19.4 kubectl-1.19.4 -y #ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸ç„¶ä¼šæç¤ºè­¦å‘Šï¼› systemctl enable kubelet.service #æŸ¥çœ‹æœ‰æ²¡æœ‰å®‰è£…ï¼š yum list installed | grep kubelet yum list installed | grep kubeadm yum list installed | grep kubectl #æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬ï¼š kubelet --version Kubeletï¼šè¿è¡Œåœ¨clusteræ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼Œè´Ÿè´£å¯åŠ¨PODå’Œå®¹å™¨ï¼›\nKubeadmï¼šç”¨äºåˆå§‹åŒ–clusterçš„ä¸€ä¸ªå·¥å…·ï¼›\nKubectlï¼škubectlæ˜¯kubeneteså‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡kubectlå¯ä»¥éƒ¨ç½²å’Œç®¡ç†åº”ç”¨ï¼ŒæŸ¥çœ‹å„ç§èµ„æºï¼Œåˆ›å»ºï¼Œåˆ é™¤å’Œæ›´æ–°ç»„ä»¶ï¼›\nåˆ‡è®°ï¼šæ­¤æ—¶åº”è¯¥é‡å¯ä¸€ä¸‹centosï¼›\nåˆ‡è®°ï¼šæ­¤æ—¶åº”è¯¥é‡å¯ä¸€ä¸‹centosï¼›\nåˆ‡è®°ï¼šæ­¤æ—¶åº”è¯¥é‡å¯ä¸€ä¸‹centosï¼›\né‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼ï¼ï¼\néƒ¨ç½²Masterä¸»èŠ‚ç‚¹ åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼›\nkubeadm init --apiserver-advertise-address=172.16.45.131 --image-repository registry.aliyuncs.com/google_containers --kubernetes-version v1.19.4 --service-cidr=10.96.0.0/12 --pod-network-cidr=10.244.0.0/16 è¯´æ˜ï¼š\nservice-cidr çš„é€‰å–ä¸èƒ½å’ŒPodCIDRåŠæœ¬æœºç½‘ç»œæœ‰é‡å æˆ–è€…å†²çªï¼Œä¸€èˆ¬å¯ä»¥é€‰æ‹©ä¸€ä¸ªæœ¬æœºç½‘ç»œå’ŒPodCIDRéƒ½æ²¡æœ‰ç”¨åˆ°çš„ç§ç½‘åœ°å€æ®µï¼Œæ¯”å¦‚PODCIDRä½¿ç”¨10.244.0.0/16, é‚£ä¹ˆservice cidrå¯ä»¥é€‰æ‹©10.96.0.0/12ï¼Œç½‘ç»œæ— é‡å å†²çªå³å¯ï¼›\næ‰§è¡ŒæˆåŠŸåä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯\n[root@k8smaster ~]# kubeadm init --apiserver-advertise-address=172.16.45.131 --image-repository registry.aliyuncs.com/google_containers --kubernetes-version v1.19.4 --service-cidr=10.96.0.0/12 --pod-network-cidr=10.244.0.0/16 W0602 21:10:27.153412 8853 configset.go:348] WARNING: kubeadm cannot validate component configs for API groups [kubelet.config.k8s.io kubeproxy.config.k8s.io] [init] Using Kubernetes version: v1.19.4 [preflight] Running pre-flight checks [WARNING IsDockerSystemdCheck]: detected \"cgroupfs\" as the Docker cgroup driver. The recommended driver is \"systemd\". Please follow the guide at https://kubernetes.io/docs/setup/cri/ [preflight] Pulling images required for setting up a Kubernetes cluster [preflight] This might take a minute or two, depending on the speed of your internet connection [preflight] You can also perform this action in beforehand using 'kubeadm config images pull' [certs] Using certificateDir folder \"/etc/kubernetes/pki\" [certs] Generating \"ca\" certificate and key [certs] Generating \"apiserver\" certificate and key [certs] apiserver serving cert is signed for DNS names [k8smaster kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 172.16.45.131] [certs] Generating \"apiserver-kubelet-client\" certificate and key [certs] Generating \"front-proxy-ca\" certificate and key [certs] Generating \"front-proxy-client\" certificate and key [certs] Generating \"etcd/ca\" certificate and key [certs] Generating \"etcd/server\" certificate and key [certs] etcd/server serving cert is signed for DNS names [k8smaster localhost] and IPs [172.16.45.131 127.0.0.1 ::1] [certs] Generating \"etcd/peer\" certificate and key [certs] etcd/peer serving cert is signed for DNS names [k8smaster localhost] and IPs [172.16.45.131 127.0.0.1 ::1] [certs] Generating \"etcd/healthcheck-client\" certificate and key [certs] Generating \"apiserver-etcd-client\" certificate and key [certs] Generating \"sa\" key and public key [kubeconfig] Using kubeconfig folder \"/etc/kubernetes\" [kubeconfig] Writing \"admin.conf\" kubeconfig file [kubeconfig] Writing \"kubelet.conf\" kubeconfig file [kubeconfig] Writing \"controller-manager.conf\" kubeconfig file [kubeconfig] Writing \"scheduler.conf\" kubeconfig file [kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\" [kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\" [kubelet-start] Starting the kubelet [control-plane] Using manifest folder \"/etc/kubernetes/manifests\" [control-plane] Creating static Pod manifest for \"kube-apiserver\" [control-plane] Creating static Pod manifest for \"kube-controller-manager\" [control-plane] Creating static Pod manifest for \"kube-scheduler\" [etcd] Creating static Pod manifest for local etcd in \"/etc/kubernetes/manifests\" [wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \"/etc/kubernetes/manifests\". This can take up to 4m0s [apiclient] All control plane components are healthy after 14.502742 seconds [upload-config] Storing the configuration used in ConfigMap \"kubeadm-config\" in the \"kube-system\" Namespace [kubelet] Creating a ConfigMap \"kubelet-config-1.19\" in namespace kube-system with the configuration for the kubelets in the cluster [upload-certs] Skipping phase. Please see --upload-certs [mark-control-plane] Marking the node k8smaster as control-plane by adding the label \"node-role.kubernetes.io/master=''\" [mark-control-plane] Marking the node k8smaster as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule] [bootstrap-token] Using token: uk5qox.2z2gpcq1qtjl7hlr [bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles [bootstrap-token] configured RBAC rules to allow Node Bootstrap tokens to get nodes [bootstrap-token] configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials [bootstrap-token] configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token [bootstrap-token] configured RBAC rules to allow certificate rotation for all node client certificates in the cluster [bootstrap-token] Creating the \"cluster-info\" ConfigMap in the \"kube-public\" namespace [kubelet-finalize] Updating \"/etc/kubernetes/kubelet.conf\" to point to a rotatable kubelet client certificate and key [addons] Applied essential addon: CoreDNS [addons] Applied essential addon: kube-proxy Your Kubernetes control-plane has initialized successfully! To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config You should now deploy a pod network to the cluster. Run \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/ Then you can join any number of worker nodes by running the following on each as root: kubeadm join 172.16.45.131:6443 --token uk5qox.2z2gpcq1qtjl7hlr \\ --discovery-token-ca-cert-hash sha256:ce6240b7d71a93309c46e99d450028d2d36fcb508960c557e6ce56bfaf0b1c58 æ¥ä¸‹æ¥åœ¨masteræœºå™¨ä¸Šç»§ç»­æ‰§è¡Œï¼š\nmkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config æŸ¥çœ‹èŠ‚ç‚¹\nkubectl get nodes éƒ¨ç½²NodeèŠ‚ç‚¹ kubeadm join 172.16.45.131:6443 --token uk5qox.2z2gpcq1qtjl7hlr \\ --discovery-token-ca-cert-hash sha256:ce6240b7d71a93309c46e99d450028d2d36fcb508960c557e6ce56bfaf0b1c58 æˆåŠŸåä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯\n[root@k8snode1 ~]# kubeadm join 172.16.45.131:6443 --token uk5qox.2z2gpcq1qtjl7hlr \\ \u003e --discovery-token-ca-cert-hash sha256:ce6240b7d71a93309c46e99d450028d2d36fcb508960c557e6ce56bfaf0b1c58 [preflight] Running pre-flight checks [WARNING IsDockerSystemdCheck]: detected \"cgroupfs\" as the Docker cgroup driver. The recommended driver is \"systemd\". Please follow the guide at https://kubernetes.io/docs/setup/cri/ [preflight] Reading configuration from the cluster... [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -oyaml' [kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\" [kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\" [kubelet-start] Starting the kubelet [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap... This node has joined the cluster: * Certificate signing request was sent to apiserver and a response was received. * The Kubelet was informed of the new secure connection details. Run 'kubectl get nodes' on the control-plane to see this node join the cluster. æ­¤æ—¶åœ¨masterä¸ŠæŸ¥çœ‹èŠ‚ç‚¹æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯è¯´æ˜åŠ å…¥æˆåŠŸ\n[root@k8smaster ~]# kubectl get nodes NAME STATUS ROLES AGE VERSION k8smaster NotReady master 172m v1.19.4 k8snode1 NotReady \u003cnone\u003e 120m v1.19.4 k8snode2 NotReady \u003cnone\u003e 120m v1.19.4 éƒ¨ç½²ç½‘ç»œæ’ä»¶ ä¸‹è½½kube-flannel.ymlæ–‡ä»¶\nwget https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml åº”ç”¨kube-flannel.ymlæ–‡ä»¶å¾—åˆ°è¿è¡Œæ—¶å®¹å™¨\n#åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œ kubectl apply -f kube-flannel.yml [root@k8smaster ~]# kubectl apply -f kube-flannel.yml podsecuritypolicy.policy/psp.flannel.unprivileged created clusterrole.rbac.authorization.k8s.io/flannel created clusterrolebinding.rbac.authorization.k8s.io/flannel created serviceaccount/flannel created configmap/kube-flannel-cfg created daemonset.apps/kube-flannel-ds created #ï¼ˆç¨ç­‰å‡ åˆ†é’Ÿåï¼‰ æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯ ä¼šçœ‹è§çŠ¶æ€å‘ç”Ÿå˜åŒ– [root@k8smaster ~]# kubectl get nodes NAME STATUS ROLES AGE VERSION k8smaster Ready master 172m v1.19.4 k8snode1 Ready \u003cnone\u003e 120m v1.19.4 k8snode2 Ready \u003cnone\u003e 120m v1.19.4 è‡³æ­¤æˆ‘ä»¬çš„k8sç¯å¢ƒå°±æ­å»ºå¥½äº†ï¼›\næŸ¥çœ‹è¿è¡Œæ—¶å®¹å™¨pod ï¼ˆä¸€ä¸ªpodé‡Œé¢è¿è¡Œäº†å¤šä¸ªdockerå®¹å™¨ï¼‰\nkubectl get pods -n kube-system éƒ¨ç½²å®¹å™¨åŒ–åº”ç”¨ #éƒ¨ç½²nginx kubectl create deployment nginx --image=nginx kubectl expose deployment nginx --port=80 --type=NodePort kubectl get pod,svc #è®¿é—®åœ°å€ï¼šhttp://NodeIP:Port #éƒ¨ç½²Tomcatï¼š kubectl create deployment tomcat --image=tomcat kubectl expose deployment tomcat --port=8080 --type=NodePort #è®¿é—®åœ°å€ï¼šhttp://NodeIP:Port K8séƒ¨ç½²å¾®æœåŠ¡ 1ã€é¡¹ç›®æ‰“åŒ…ï¼ˆjarã€warï¼‰â€“\u003eå¯ä»¥é‡‡ç”¨ä¸€äº›å·¥å…·gitã€mavenã€jenkins\n2ã€åˆ¶ä½œDockerfileæ–‡ä»¶ï¼Œç”Ÿæˆé•œåƒï¼›\n3ã€kubectl create deployment nginx â€“image= ä½ çš„é•œåƒ\n4ã€ä½ çš„springbootå°±éƒ¨ç½²å¥½äº†ï¼Œæ˜¯ä»¥dockerå®¹å™¨çš„æ–¹å¼è¿è¡Œåœ¨podé‡Œé¢çš„ï¼›\n","description":"\n","tags":[],"title":"\nKubernetesç®€ä»‹å’Œå®‰è£…","uri":"/posts/post-289/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æŠŠç½‘ç»œé…ç½®æ”¹æˆnatæ¨¡å¼ è·å–ç½‘å…³åœ°å€å’Œå­ç½‘æ©ç  é€šè¿‡Macç»ˆç«¯è¿›å…¥VMware Fusionçš„vmnet8ç›®å½•\ncd /Library/Preferences/VMware\\ Fusion/vmnet8 æŸ¥çœ‹nat.conf\ncat nat.conf è®°ä½çº¢æ¡†ä¸­çš„æ•°æ®ï¼Œä¸‹é¢é…ç½®æ—¶éœ€è¦ç”¨åˆ°\nè·å–å¯ç”¨IPåœ°å€ æŸ¥çœ‹cat dhcpd.conf\ncat dhcpd.conf æ³¨æ„range è¿™ä¸ªæ˜¯è™šæ‹Ÿæœºå…è®¸é€‰æ‹©çš„é™æ€ipåœ°å€èŒƒå›´ï¼Œè‡ªå®šä¹‰çš„é™æ€ipåœ°å€å¿…é¡»è¦åœ¨è¿™ä¸ªèŒƒå›´å†…(æœ¬æ–‡æ‰“ç®—ä½¿ç”¨172.16.104.130ä¸ºä¾‹ä»‹ç»)\nè·å–DNS1åœ°å€ macç³»ç»Ÿåå¥½è®¾ç½®â€”\u003eç½‘ç»œâ€”\u003e\né…ç½®CentOS7ç½‘ç»œé…ç½® ç™»å½•CentOS7è¿›å…¥è™šæ‹Ÿæœºçš„network-scriptsç›®å½•\ncd /etc/sysconfig/network-scripts æ‰¾åˆ°ifcfg-enå¼€å¤´çš„æ–‡ä»¶,ä¸Šå›¾ä¸­æˆ‘çš„æ˜¯ifcfg-ens33\né€šè¿‡viç¼–è¾‘è¯¥æ–‡ä»¶\nä¸‹å›¾æ˜¯é»˜è®¤é…ç½®\næˆ‘ä»¬å°†å®ƒæ”¹æˆå¦‚ä¸‹é…ç½®\né‡å¯æœåŠ¡ä½¿ä¿®æ”¹ç”Ÿæ•ˆ service network restart æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸ pingä¸€ä¸‹ç™¾åº¦çœ‹çœ‹ï¼ŒæˆåŠŸPingåˆ°\nå…¶ä»–ç½‘ç»œä¸Šç½‘è¿æ¥é—®é¢˜ æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡SecureCRTç­‰å·¥å…·è¿œç¨‹è¿æ¥äº†ï¼Œæœ‰ä¸€ç‚¹è¯·è®°ä½ï¼Œå¦‚æœä½ æ¢äº†ä¸€ä¸ªåœ°æ–¹ä¸Šç½‘çš„è¯ï¼Œå¯èƒ½ä¼šå‘ç°ä½ çš„è™šæ‹Ÿæœºæœ‰ä¸é€šäº†ï¼Œé‚£æ˜¯å› ä¸ºDNSåœ°å€å‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶åªéœ€è¦å†æ¬¡ç¼–è¾‘ifcfg-enxxxæ–‡ä»¶ï¼Œç„¶ååŠ ä¸Šä½ ç°åœ¨ç½‘ç»œçš„DNSåœ°å€å³å¯\nå¦‚:\nDNS1=192.168.0.1 DNS2=114.114.114.114 æˆ‘ä»¬é€šè¿‡SecureCRTè¿æ¥æµ‹è¯•ä¸€ä¸‹\nå…¶ä»–å‘½ä»¤ ifconfig #æŸ¥è¯¢è‡ªå·±çš„IPåœ°å€ netstat -rn #æŸ¥è¯¢è‡ªå·±çš„é»˜è®¤ç½‘å…³å’Œ #å­ç½‘æ©ç  cat /etc/resolv.conf #æŸ¥è¯¢è‡ªå·±çš„ DNS é…ç½® ","description":"\n","tags":[],"title":"\nMac VM CentOS7é…ç½®é™æ€IP","uri":"/posts/post-290/"},{"categories":["Docker"],"content":"Docker\nDockerå¸¸ç”¨å®‰è£… æ€»ä½“æ­¥éª¤ æœç´¢é•œåƒ-\u003eæ‹‰å–é•œåƒ-\u003eæŸ¥çœ‹é•œåƒ-\u003eå¯åŠ¨é•œåƒ-\u003eåœæ­¢å®¹å™¨-\u003eç§»é™¤å®¹å™¨\nå®‰è£…tomcat 1.docker hubä¸Šé¢æŸ¥æ‰¾tomcaté•œåƒ\ndocker search tomcat\n2.ä»docker hubä¸Šæ‹‰å–tomcaté•œåƒåˆ°æœ¬åœ°\ndocker pull tomcat\nå®˜ç½‘å‘½ä»¤ï¼š\n3.docker imagesæŸ¥çœ‹æ˜¯å¦æœ‰æ‹‰å–åˆ°çš„tomcat\ndocker images\n4.ä½¿ç”¨tomcaté•œåƒåˆ›å»ºå®¹å™¨(ä¹Ÿå«è¿è¡Œé•œåƒ)\ndocker run -it -p 8080:8080 tomcat # -p ä¸»æœºç«¯å£:dockerå®¹å™¨ç«¯å£ # -P éšæœºåˆ†é…ç«¯å£ # i:äº¤äº’ # t:ç»ˆç«¯ å®‰è£…mysql docker hubä¸Šé¢æŸ¥æ‰¾mysqlé•œåƒ ä»docker hubä¸Š(é˜¿é‡Œäº‘åŠ é€Ÿå™¨)æ‹‰å–mysqlé•œåƒåˆ°æœ¬åœ°æ ‡ç­¾ä¸º5.6 ä½¿ç”¨mysql5.6é•œåƒåˆ›å»ºå®¹å™¨(ä¹Ÿå«è¿è¡Œé•œåƒ)\nä½¿ç”¨mysqlé•œåƒ\ndocker run -p 12345:3306 --name mysql -v /zzyyuse/mysql/conf:/etc/mysql/conf.d -v /zzyyuse/mysql/logs:/logs -v /zzyyuse/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6 #å‘½ä»¤è¯´æ˜ï¼š #-p 12345:3306ï¼šå°†ä¸»æœºçš„12345ç«¯å£æ˜ å°„åˆ°dockerå®¹å™¨çš„3306ç«¯å£ã€‚ #--name mysqlï¼šè¿è¡ŒæœåŠ¡åå­— #-v /zzyyuse/mysql/conf:/etc/mysql/conf.d ï¼šå°†ä¸»æœº/zzyyuse/mysqlå½•ä¸‹çš„conf/my.cnf æŒ‚è½½åˆ°å®¹å™¨çš„ /etc/mysql/conf.d #-v /zzyyuse/mysql/logs:/logsï¼šå°†ä¸»æœº/zzyyuse/mysqlç›®å½•ä¸‹çš„ logs ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ /logsã€‚ #-v /zzyyuse/mysql/data:/var/lib/mysql ï¼šå°†ä¸»æœº/zzyyuse/mysqlç›®å½•ä¸‹çš„dataç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ /var/lib/mysql #-e MYSQL_ROOT_PASSWORD=123456ï¼šåˆå§‹åŒ– root ç”¨æˆ·çš„å¯†ç ã€‚ #-d mysql:5.6 : åå°ç¨‹åºè¿è¡Œmysql5.6 docker exec -it MySQLè¿è¡ŒæˆåŠŸåçš„å®¹å™¨ID /bin/bash æ•°æ®å¤‡ä»½\ndocker exec myqlæœåŠ¡å®¹å™¨ID sh -c ' exec mysqldump --all-databases -uroot -p\"123456\" ' \u003e /zzyyuse/all-databases.sql å®‰è£…redis ä»docker hubä¸Š(é˜¿é‡Œäº‘åŠ é€Ÿå™¨)æ‹‰å–redisé•œåƒåˆ°æœ¬åœ°æ ‡ç­¾ä¸º3.2\nä½¿ç”¨redis3.2é•œåƒåˆ›å»ºå®¹å™¨(ä¹Ÿå«è¿è¡Œé•œåƒ)\nä½¿ç”¨é•œåƒ\ndocker run -p 6379:6379 -v /zzyyuse/myredis/data:/data -v /zzyyuse/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis:3.2 redis-server /usr/local/etc/redis/redis.conf --appendonly yes åœ¨ä¸»æœº/zzyyuse/myredis/conf/redis.confç›®å½•ä¸‹æ–°å»ºredis.confæ–‡ä»¶\nvim /zzyyuse/myredis/conf/redis.conf/redis.conf # Redis configuration file example. # Note that in order to read the configuration file, Redis must be # started with the file path as first argument: # # ./redis-server /path/to/redis.conf # Note on units: when memory size is needed, it is possible to specify # it in the usual form of 1k 5GB 4M and so forth: # # 1k =\u003e 1000 bytes # 1kb =\u003e 1024 bytes # 1m =\u003e 1000000 bytes # 1mb =\u003e 1024*1024 bytes # 1g =\u003e 1000000000 bytes # 1gb =\u003e 1024*1024*1024 bytes # # units are case insensitive so 1GB 1Gb 1gB are all the same. ################################## INCLUDES ################################### # Include one or more other config files here. This is useful if you # have a standard template that goes to all Redis servers but also need # to customize a few per-server settings. Include files can include # other files, so use this wisely. # # Notice option \"include\" won't be rewritten by command \"CONFIG REWRITE\" # from admin or Redis Sentinel. Since Redis always uses the last processed # line as value of a configuration directive, you'd better put includes # at the beginning of this file to avoid overwriting config change at runtime. # # If instead you are interested in using includes to override configuration # options, it is better to use include as the last line. # # include /path/to/local.conf # include /path/to/other.conf ################################## NETWORK ##################################### # By default, if no \"bind\" configuration directive is specified, Redis listens # for connections from all the network interfaces available on the server. # It is possible to listen to just one or multiple selected interfaces using # the \"bind\" configuration directive, followed by one or more IP addresses. # # Examples: # # bind 192.168.1.100 10.0.0.1 # bind 127.0.0.1 ::1 # # ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the # internet, binding to all the interfaces is dangerous and will expose the # instance to everybody on the internet. So by default we uncomment the # following bind directive, that will force Redis to listen only into # the IPv4 lookback interface address (this means Redis will be able to # accept connections only from clients running into the same computer it # is running). # # IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES # JUST COMMENT THE FOLLOWING LINE. # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #bind 127.0.0.1 # Protected mode is a layer of security protection, in order to avoid that # Redis instances left open on the internet are accessed and exploited. # # When protected mode is on and if: # # 1) The server is not binding explicitly to a set of addresses using the # \"bind\" directive. # 2) No password is configured. # # The server only accepts connections from clients connecting from the # IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain # sockets. # # By default protected mode is enabled. You should disable it only if # you are sure you want clients from other hosts to connect to Redis # even if no authentication is configured, nor a specific set of interfaces # are explicitly listed using the \"bind\" directive. protected-mode yes # Accept connections on the specified port, default is 6379 (IANA #815344). # If port 0 is specified Redis will not listen on a TCP socket. port 6379 # TCP listen() backlog. # # In high requests-per-second environments you need an high backlog in order # to avoid slow clients connections issues. Note that the Linux kernel # will silently truncate it to the value of /proc/sys/net/core/somaxconn so # make sure to raise both the value of somaxconn and tcp_max_syn_backlog # in order to get the desired effect. tcp-backlog 511 # Unix socket. # # Specify the path for the Unix socket that will be used to listen for # incoming connections. There is no default, so Redis will not listen # on a unix socket when not specified. # # unixsocket /tmp/redis.sock # unixsocketperm 700 # Close the connection after a client is idle for N seconds (0 to disable) timeout 0 # TCP keepalive. # # If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence # of communication. This is useful for two reasons: # # 1) Detect dead peers. # 2) Take the connection alive from the point of view of network # equipment in the middle. # # On Linux, the specified value (in seconds) is the period used to send ACKs. # Note that to close the connection the double of the time is needed. # On other kernels the period depends on the kernel configuration. # # A reasonable value for this option is 300 seconds, which is the new # Redis default starting with Redis 3.2.1. tcp-keepalive 300 ################################# GENERAL ##################################### # By default Redis does not run as a daemon. Use 'yes' if you need it. # Note that Redis will write a pid file in /var/run/redis.pid when daemonized. #daemonize no # If you run Redis from upstart or systemd, Redis can interact with your # supervision tree. Options: # supervised no - no supervision interaction # supervised upstart - signal upstart by putting Redis into SIGSTOP mode # supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET # supervised auto - detect upstart or systemd method based on # UPSTART_JOB or NOTIFY_SOCKET environment variables # Note: these supervision methods only signal \"process is ready.\" # They do not enable continuous liveness pings back to your supervisor. supervised no # If a pid file is specified, Redis writes it where specified at startup # and removes it at exit. # # When the server runs non daemonized, no pid file is created if none is # specified in the configuration. When the server is daemonized, the pid file # is used even if not specified, defaulting to \"/var/run/redis.pid\". # # Creating a pid file is best effort: if Redis is not able to create it # nothing bad happens, the server will start and run normally. pidfile /var/run/redis_6379.pid # Specify the server verbosity level. # This can be one of: # debug (a lot of information, useful for development/testing) # verbose (many rarely useful info, but not a mess like the debug level) # notice (moderately verbose, what you want in production probably) # warning (only very important / critical messages are logged) loglevel notice # Specify the log file name. Also the empty string can be used to force # Redis to log on the standard output. Note that if you use standard # output for logging but daemonize, logs will be sent to /dev/null logfile \"\" # To enable logging to the system logger, just set 'syslog-enabled' to yes, # and optionally update the other syslog parameters to suit your needs. # syslog-enabled no # Specify the syslog identity. # syslog-ident redis # Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7. # syslog-facility local0 # Set the number of databases. The default database is DB 0, you can select # a different one on a per-connection basis using SELECT \u003cdbid\u003e where # dbid is a number between 0 and 'databases'-1 databases 16 ################################ SNAPSHOTTING ################################ # # Save the DB on disk: # # save \u003cseconds\u003e \u003cchanges\u003e # # Will save the DB if both the given number of seconds and the given # number of write operations against the DB occurred. # # In the example below the behaviour will be to save: # after 900 sec (15 min) if at least 1 key changed # after 300 sec (5 min) if at least 10 keys changed # after 60 sec if at least 10000 keys changed # # Note: you can disable saving completely by commenting out all \"save\" lines. # # It is also possible to remove all the previously configured save # points by adding a save directive with a single empty string argument # like in the following example: # # save \"\" save 120 1 save 300 10 save 60 10000 # By default Redis will stop accepting writes if RDB snapshots are enabled # (at least one save point) and the latest background save failed. # This will make the user aware (in a hard way) that data is not persisting # on disk properly, otherwise chances are that no one will notice and some # disaster will happen. # # If the background saving process will start working again Redis will # automatically allow writes again. # # However if you have setup your proper monitoring of the Redis server # and persistence, you may want to disable this feature so that Redis will # continue to work as usual even if there are problems with disk, # permissions, and so forth. stop-writes-on-bgsave-error yes # Compress string objects using LZF when dump .rdb databases? # For default that's set to 'yes' as it's almost always a win. # If you want to save some CPU in the saving child set it to 'no' but # the dataset will likely be bigger if you have compressible values or keys. rdbcompression yes # Since version 5 of RDB a CRC64 checksum is placed at the end of the file. # This makes the format more resistant to corruption but there is a performance # hit to pay (around 10%) when saving and loading RDB files, so you can disable it # for maximum performances. # # RDB files created with checksum disabled have a checksum of zero that will # tell the loading code to skip the check. rdbchecksum yes # The filename where to dump the DB dbfilename dump.rdb # The working directory. # # The DB will be written inside this directory, with the filename specified # above using the 'dbfilename' configuration directive. # # The Append Only File will also be created inside this directory. # # Note that you must specify a directory here, not a file name. dir ./ ################################# REPLICATION ################################# # Master-Slave replication. Use slaveof to make a Redis instance a copy of # another Redis server. A few things to understand ASAP about Redis replication. # # 1) Redis replication is asynchronous, but you can configure a master to # stop accepting writes if it appears to be not connected with at least # a given number of slaves. # 2) Redis slaves are able to perform a partial resynchronization with the # master if the replication link is lost for a relatively small amount of # time. You may want to configure the replication backlog size (see the next # sections of this file) with a sensible value depending on your needs. # 3) Replication is automatic and does not need user intervention. After a # network partition slaves automatically try to reconnect to masters # and resynchronize with them. # # slaveof \u003cmasterip\u003e \u003cmasterport\u003e # If the master is password protected (using the \"requirepass\" configuration # directive below) it is possible to tell the slave to authenticate before # starting the replication synchronization process, otherwise the master will # refuse the slave request. # # masterauth \u003cmaster-password\u003e # When a slave loses its connection with the master, or when the replication # is still in progress, the slave can act in two different ways: # # 1) if slave-serve-stale-data is set to 'yes' (the default) the slave will # still reply to client requests, possibly with out of date data, or the # data set may just be empty if this is the first synchronization. # # 2) if slave-serve-stale-data is set to 'no' the slave will reply with # an error \"SYNC with master in progress\" to all the kind of commands # but to INFO and SLAVEOF. # slave-serve-stale-data yes # You can configure a slave instance to accept writes or not. Writing against # a slave instance may be useful to store some ephemeral data (because data # written on a slave will be easily deleted after resync with the master) but # may also cause problems if clients are writing to it because of a # misconfiguration. # # Since Redis 2.6 by default slaves are read-only. # # Note: read only slaves are not designed to be exposed to untrusted clients # on the internet. It's just a protection layer against misuse of the instance. # Still a read only slave exports by default all the administrative commands # such as CONFIG, DEBUG, and so forth. To a limited extent you can improve # security of read only slaves using 'rename-command' to shadow all the # administrative / dangerous commands. slave-read-only yes # Replication SYNC strategy: disk or socket. # # ------------------------------------------------------- # WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY # ------------------------------------------------------- # # New slaves and reconnecting slaves that are not able to continue the replication # process just receiving differences, need to do what is called a \"full # synchronization\". An RDB file is transmitted from the master to the slaves. # The transmission can happen in two different ways: # # 1) Disk-backed: The Redis master creates a new process that writes the RDB # file on disk. Later the file is transferred by the parent # process to the slaves incrementally. # 2) Diskless: The Redis master creates a new process that directly writes the # RDB file to slave sockets, without touching the disk at all. # # With disk-backed replication, while the RDB file is generated, more slaves # can be queued and served with the RDB file as soon as the current child producing # the RDB file finishes its work. With diskless replication instead once # the transfer starts, new slaves arriving will be queued and a new transfer # will start when the current one terminates. # # When diskless replication is used, the master waits a configurable amount of # time (in seconds) before starting the transfer in the hope that multiple slaves # will arrive and the transfer can be parallelized. # # With slow disks and fast (large bandwidth) networks, diskless replication # works better. repl-diskless-sync no # When diskless replication is enabled, it is possible to configure the delay # the server waits in order to spawn the child that transfers the RDB via socket # to the slaves. # # This is important since once the transfer starts, it is not possible to serve # new slaves arriving, that will be queued for the next RDB transfer, so the server # waits a delay in order to let more slaves arrive. # # The delay is specified in seconds, and by default is 5 seconds. To disable # it entirely just set it to 0 seconds and the transfer will start ASAP. repl-diskless-sync-delay 5 # Slaves send PINGs to server in a predefined interval. It's possible to change # this interval with the repl_ping_slave_period option. The default value is 10 # seconds. # # repl-ping-slave-period 10 # The following option sets the replication timeout for: # # 1) Bulk transfer I/O during SYNC, from the point of view of slave. # 2) Master timeout from the point of view of slaves (data, pings). # 3) Slave timeout from the point of view of masters (REPLCONF ACK pings). # # It is important to make sure that this value is greater than the value # specified for repl-ping-slave-period otherwise a timeout will be detected # every time there is low traffic between the master and the slave. # # repl-timeout 60 # Disable TCP_NODELAY on the slave socket after SYNC? # # If you select \"yes\" Redis will use a smaller number of TCP packets and # less bandwidth to send data to slaves. But this can add a delay for # the data to appear on the slave side, up to 40 milliseconds with # Linux kernels using a default configuration. # # If you select \"no\" the delay for data to appear on the slave side will # be reduced but more bandwidth will be used for replication. # # By default we optimize for low latency, but in very high traffic conditions # or when the master and slaves are many hops away, turning this to \"yes\" may # be a good idea. repl-disable-tcp-nodelay no # Set the replication backlog size. The backlog is a buffer that accumulates # slave data when slaves are disconnected for some time, so that when a slave # wants to reconnect again, often a full resync is not needed, but a partial # resync is enough, just passing the portion of data the slave missed while # disconnected. # # The bigger the replication backlog, the longer the time the slave can be # disconnected and later be able to perform a partial resynchronization. # # The backlog is only allocated once there is at least a slave connected. # # repl-backlog-size 1mb # After a master has no longer connected slaves for some time, the backlog # will be freed. The following option configures the amount of seconds that # need to elapse, starting from the time the last slave disconnected, for # the backlog buffer to be freed. # # A value of 0 means to never release the backlog. # # repl-backlog-ttl 3600 # The slave priority is an integer number published by Redis in the INFO output. # It is used by Redis Sentinel in order to select a slave to promote into a # master if the master is no longer working correctly. # # A slave with a low priority number is considered better for promotion, so # for instance if there are three slaves with priority 10, 100, 25 Sentinel will # pick the one with priority 10, that is the lowest. # # However a special priority of 0 marks the slave as not able to perform the # role of master, so a slave with priority of 0 will never be selected by # Redis Sentinel for promotion. # # By default the priority is 100. slave-priority 100 # It is possible for a master to stop accepting writes if there are less than # N slaves connected, having a lag less or equal than M seconds. # # The N slaves need to be in \"online\" state. # # The lag in seconds, that must be \u003c= the specified value, is calculated from # the last ping received from the slave, that is usually sent every second. # # This option does not GUARANTEE that N replicas will accept the write, but # will limit the window of exposure for lost writes in case not enough slaves # are available, to the specified number of seconds. # # For example to require at least 3 slaves with a lag \u003c= 10 seconds use: # # min-slaves-to-write 3 # min-slaves-max-lag 10 # # Setting one or the other to 0 disables the feature. # # By default min-slaves-to-write is set to 0 (feature disabled) and # min-slaves-max-lag is set to 10. # A Redis master is able to list the address and port of the attached # slaves in different ways. For example the \"INFO replication\" section # offers this information, which is used, among other tools, by # Redis Sentinel in order to discover slave instances. # Another place where this info is available is in the output of the # \"ROLE\" command of a masteer. # # The listed IP and address normally reported by a slave is obtained # in the following way: # # IP: The address is auto detected by checking the peer address # of the socket used by the slave to connect with the master. # # Port: The port is communicated by the slave during the replication # handshake, and is normally the port that the slave is using to # list for connections. # # However when port forwarding or Network Address Translation (NAT) is # used, the slave may be actually reachable via different IP and port # pairs. The following two options can be used by a slave in order to # report to its master a specific set of IP and port, so that both INFO # and ROLE will report those values. # # There is no need to use both the options if you need to override just # the port or the IP address. # # slave-announce-ip 5.5.5.5 # slave-announce-port 1234 ################################## SECURITY ################################### # Require clients to issue AUTH \u003cPASSWORD\u003e before processing any other # commands. This might be useful in environments in which you do not trust # others with access to the host running redis-server. # # This should stay commented out for backward compatibility and because most # people do not need auth (e.g. they run their own servers). # # Warning: since Redis is pretty fast an outside user can try up to # 150k passwords per second against a good box. This means that you should # use a very strong password otherwise it will be very easy to break. # # requirepass foobared # Command renaming. # # It is possible to change the name of dangerous commands in a shared # environment. For instance the CONFIG command may be renamed into something # hard to guess so that it will still be available for internal-use tools # but not available for general clients. # # Example: # # rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52 # # It is also possible to completely kill a command by renaming it into # an empty string: # # rename-command CONFIG \"\" # # Please note that changing the name of commands that are logged into the # AOF file or transmitted to slaves may cause problems. ################################### LIMITS #################################### # Set the max number of connected clients at the same time. By default # this limit is set to 10000 clients, however if the Redis server is not # able to configure the process file limit to allow for the specified limit # the max number of allowed clients is set to the current file limit # minus 32 (as Redis reserves a few file descriptors for internal uses). # # Once the limit is reached Redis will close all the new connections sending # an error 'max number of clients reached'. # # maxclients 10000 # Don't use more memory than the specified amount of bytes. # When the memory limit is reached Redis will try to remove keys # according to the eviction policy selected (see maxmemory-policy). # # If Redis can't remove keys according to the policy, or if the policy is # set to 'noeviction', Redis will start to reply with errors to commands # that would use more memory, like SET, LPUSH, and so on, and will continue # to reply to read-only commands like GET. # # This option is usually useful when using Redis as an LRU cache, or to set # a hard memory limit for an instance (using the 'noeviction' policy). # # WARNING: If you have slaves attached to an instance with maxmemory on, # the size of the output buffers needed to feed the slaves are subtracted # from the used memory count, so that network problems / resyncs will # not trigger a loop where keys are evicted, and in turn the output # buffer of slaves is full with DELs of keys evicted triggering the deletion # of more keys, and so forth until the database is completely emptied. # # In short... if you have slaves attached it is suggested that you set a lower # limit for maxmemory so that there is some free RAM on the system for slave # output buffers (but this is not needed if the policy is 'noeviction'). # # maxmemory \u003cbytes\u003e # MAXMEMORY POLICY: how Redis will select what to remove when maxmemory # is reached. You can select among five behaviors: # # volatile-lru -\u003e remove the key with an expire set using an LRU algorithm # allkeys-lru -\u003e remove any key according to the LRU algorithm # volatile-random -\u003e remove a random key with an expire set # allkeys-random -\u003e remove a random key, any key # volatile-ttl -\u003e remove the key with the nearest expire time (minor TTL) # noeviction -\u003e don't expire at all, just return an error on write operations # # Note: with any of the above policies, Redis will return an error on write # operations, when there are no suitable keys for eviction. # # At the date of writing these commands are: set setnx setex append # incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd # sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby # zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby # getset mset msetnx exec sort # # The default is: # # maxmemory-policy noeviction # LRU and minimal TTL algorithms are not precise algorithms but approximated # algorithms (in order to save memory), so you can tune it for speed or # accuracy. For default Redis will check five keys and pick the one that was # used less recently, you can change the sample size using the following # configuration directive. # # The default of 5 produces good enough results. 10 Approximates very closely # true LRU but costs a bit more CPU. 3 is very fast but not very accurate. # # maxmemory-samples 5 ############################## APPEND ONLY MODE ############################### # By default Redis asynchronously dumps the dataset on disk. This mode is # good enough in many applications, but an issue with the Redis process or # a power outage may result into a few minutes of writes lost (depending on # the configured save points). # # The Append Only File is an alternative persistence mode that provides # much better durability. For instance using the default data fsync policy # (see later in the config file) Redis can lose just one second of writes in a # dramatic event like a server power outage, or a single write if something # wrong with the Redis process itself happens, but the operating system is # still running correctly. # # AOF and RDB persistence can be enabled at the same time without problems. # If the AOF is enabled on startup Redis will load the AOF, that is the file # with the better durability guarantees. # # Please check http://redis.io/topics/persistence for more information. appendonly no # The name of the append only file (default: \"appendonly.aof\") appendfilename \"appendonly.aof\" # The fsync() call tells the Operating System to actually write data on disk # instead of waiting for more data in the output buffer. Some OS will really flush # data on disk, some other OS will just try to do it ASAP. # # Redis supports three different modes: # # no: don't fsync, just let the OS flush the data when it wants. Faster. # always: fsync after every write to the append only log. Slow, Safest. # everysec: fsync only one time every second. Compromise. # # The default is \"everysec\", as that's usually the right compromise between # speed and data safety. It's up to you to understand if you can relax this to # \"no\" that will let the operating system flush the output buffer when # it wants, for better performances (but if you can live with the idea of # some data loss consider the default persistence mode that's snapshotting), # or on the contrary, use \"always\" that's very slow but a bit safer than # everysec. # # More details please check the following article: # http://antirez.com/post/redis-persistence-demystified.html # # If unsure, use \"everysec\". # appendfsync always appendfsync everysec # appendfsync no # When the AOF fsync policy is set to always or everysec, and a background # saving process (a background save or AOF log background rewriting) is # performing a lot of I/O against the disk, in some Linux configurations # Redis may block too long on the fsync() call. Note that there is no fix for # this currently, as even performing fsync in a different thread will block # our synchronous write(2) call. # # In order to mitigate this problem it's possible to use the following option # that will prevent fsync() from being called in the main process while a # BGSAVE or BGREWRITEAOF is in progress. # # This means that while another child is saving, the durability of Redis is # the same as \"appendfsync none\". In practical terms, this means that it is # possible to lose up to 30 seconds of log in the worst scenario (with the # default Linux settings). # # If you have latency problems turn this to \"yes\". Otherwise leave it as # \"no\" that is the safest pick from the point of view of durability. no-appendfsync-on-rewrite no # Automatic rewrite of the append only file. # Redis is able to automatically rewrite the log file implicitly calling # BGREWRITEAOF when the AOF log size grows by the specified percentage. # # This is how it works: Redis remembers the size of the AOF file after the # latest rewrite (if no rewrite has happened since the restart, the size of # the AOF at startup is used). # # This base size is compared to the current size. If the current size is # bigger than the specified percentage, the rewrite is triggered. Also # you need to specify a minimal size for the AOF file to be rewritten, this # is useful to avoid rewriting the AOF file even if the percentage increase # is reached but it is still pretty small. # # Specify a percentage of zero in order to disable the automatic AOF # rewrite feature. auto-aof-rewrite-percentage 100 auto-aof-rewrite-min-size 64mb # An AOF file may be found to be truncated at the end during the Redis # startup process, when the AOF data gets loaded back into memory. # This may happen when the system where Redis is running # crashes, especially when an ext4 filesystem is mounted without the # data=ordered option (however this can't happen when Redis itself # crashes or aborts but the operating system still works correctly). # # Redis can either exit with an error when this happens, or load as much # data as possible (the default now) and start if the AOF file is found # to be truncated at the end. The following option controls this behavior. # # If aof-load-truncated is set to yes, a truncated AOF file is loaded and # the Redis server starts emitting a log to inform the user of the event. # Otherwise if the option is set to no, the server aborts with an error # and refuses to start. When the option is set to no, the user requires # to fix the AOF file using the \"redis-check-aof\" utility before to restart # the server. # # Note that if the AOF file will be found to be corrupted in the middle # the server will still exit with an error. This option only applies when # Redis will try to read more data from the AOF file but not enough bytes # will be found. aof-load-truncated yes ################################ LUA SCRIPTING ############################### # Max execution time of a Lua script in milliseconds. # # If the maximum execution time is reached Redis will log that a script is # still in execution after the maximum allowed time and will start to # reply to queries with an error. # # When a long running script exceeds the maximum execution time only the # SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be # used to stop a script that did not yet called write commands. The second # is the only way to shut down the server in the case a write command was # already issued by the script but the user doesn't want to wait for the natural # termination of the script. # # Set it to 0 or a negative value for unlimited execution without warnings. lua-time-limit 5000 ################################ REDIS CLUSTER ############################### # # ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ # WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however # in order to mark it as \"mature\" we need to wait for a non trivial percentage # of users to deploy it in production. # ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ # # Normal Redis instances can't be part of a Redis Cluster; only nodes that are # started as cluster nodes can. In order to start a Redis instance as a # cluster node enable the cluster support uncommenting the following: # # cluster-enabled yes # Every cluster node has a cluster configuration file. This file is not # intended to be edited by hand. It is created and updated by Redis nodes. # Every Redis Cluster node requires a different cluster configuration file. # Make sure that instances running in the same system do not have # overlapping cluster configuration file names. # # cluster-config-file nodes-6379.conf # Cluster node timeout is the amount of milliseconds a node must be unreachable # for it to be considered in failure state. # Most other internal time limits are multiple of the node timeout. # # cluster-node-timeout 15000 # A slave of a failing master will avoid to start a failover if its data # looks too old. # # There is no simple way for a slave to actually have a exact measure of # its \"data age\", so the following two checks are performed: # # 1) If there are multiple slaves able to failover, they exchange messages # in order to try to give an advantage to the slave with the best # replication offset (more data from the master processed). # Slaves will try to get their rank by offset, and apply to the start # of the failover a delay proportional to their rank. # # 2) Every single slave computes the time of the last interaction with # its master. This can be the last ping or command received (if the master # is still in the \"connected\" state), or the time that elapsed since the # disconnection with the master (if the replication link is currently down). # If the last interaction is too old, the slave will not try to failover # at all. # # The point \"2\" can be tuned by user. Specifically a slave will not perform # the failover if, since the last interaction with the master, the time # elapsed is greater than: # # (node-timeout * slave-validity-factor) + repl-ping-slave-period # # So for example if node-timeout is 30 seconds, and the slave-validity-factor # is 10, and assuming a default repl-ping-slave-period of 10 seconds, the # slave will not try to failover if it was not able to talk with the master # for longer than 310 seconds. # # A large slave-validity-factor may allow slaves with too old data to failover # a master, while a too small value may prevent the cluster from being able to # elect a slave at all. # # For maximum availability, it is possible to set the slave-validity-factor # to a value of 0, which means, that slaves will always try to failover the # master regardless of the last time they interacted with the master. # (However they'll always try to apply a delay proportional to their # offset rank). # # Zero is the only value able to guarantee that when all the partitions heal # the cluster will always be able to continue. # # cluster-slave-validity-factor 10 # Cluster slaves are able to migrate to orphaned masters, that are masters # that are left without working slaves. This improves the cluster ability # to resist to failures as otherwise an orphaned master can't be failed over # in case of failure if it has no working slaves. # # Slaves migrate to orphaned masters only if there are still at least a # given number of other working slaves for their old master. This number # is the \"migration barrier\". A migration barrier of 1 means that a slave # will migrate only if there is at least 1 other working slave for its master # and so forth. It usually reflects the number of slaves you want for every # master in your cluster. # # Default is 1 (slaves migrate only if their masters remain with at least # one slave). To disable migration just set it to a very large value. # A value of 0 can be set but is useful only for debugging and dangerous # in production. # # cluster-migration-barrier 1 # By default Redis Cluster nodes stop accepting queries if they detect there # is at least an hash slot uncovered (no available node is serving it). # This way if the cluster is partially down (for example a range of hash slots # are no longer covered) all the cluster becomes, eventually, unavailable. # It automatically returns available as soon as all the slots are covered again. # # However sometimes you want the subset of the cluster which is working, # to continue to accept queries for the part of the key space that is still # covered. In order to do so, just set the cluster-require-full-coverage # option to no. # # cluster-require-full-coverage yes # In order to setup your cluster make sure to read the documentation # available at http://redis.io web site. ################################## SLOW LOG ################################### # The Redis Slow Log is a system to log queries that exceeded a specified # execution time. The execution time does not include the I/O operations # like talking with the client, sending the reply and so forth, # but just the time needed to actually execute the command (this is the only # stage of command execution where the thread is blocked and can not serve # other requests in the meantime). # # You can configure the slow log with two parameters: one tells Redis # what is the execution time, in microseconds, to exceed in order for the # command to get logged, and the other parameter is the length of the # slow log. When a new command is logged the oldest one is removed from the # queue of logged commands. # The following time is expressed in microseconds, so 1000000 is equivalent # to one second. Note that a negative number disables the slow log, while # a value of zero forces the logging of every command. slowlog-log-slower-than 10000 # There is no limit to this length. Just be aware that it will consume memory. # You can reclaim memory used by the slow log with SLOWLOG RESET. slowlog-max-len 128 ################################ LATENCY MONITOR ############################## # The Redis latency monitoring subsystem samples different operations # at runtime in order to collect data related to possible sources of # latency of a Redis instance. # # Via the LATENCY command this information is available to the user that can # print graphs and obtain reports. # # The system only logs operations that were performed in a time equal or # greater than the amount of milliseconds specified via the # latency-monitor-threshold configuration directive. When its value is set # to zero, the latency monitor is turned off. # # By default latency monitoring is disabled since it is mostly not needed # if you don't have latency issues, and collecting data has a performance # impact, that while very small, can be measured under big load. Latency # monitoring can easily be enabled at runtime using the command # \"CONFIG SET latency-monitor-threshold \u003cmilliseconds\u003e\" if needed. latency-monitor-threshold 0 ############################# EVENT NOTIFICATION ############################## # Redis can notify Pub/Sub clients about events happening in the key space. # This feature is documented at http://redis.io/topics/notifications # # For instance if keyspace events notification is enabled, and a client # performs a DEL operation on key \"foo\" stored in the Database 0, two # messages will be published via Pub/Sub: # # PUBLISH __keyspace@0__:foo del # PUBLISH __keyevent@0__:del foo # # It is possible to select the events that Redis will notify among a set # of classes. Every class is identified by a single character: # # K Keyspace events, published with __keyspace@\u003cdb\u003e__ prefix. # E Keyevent events, published with __keyevent@\u003cdb\u003e__ prefix. # g Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ... # $ String commands # l List commands # s Set commands # h Hash commands # z Sorted set commands # x Expired events (events generated every time a key expires) # e Evicted events (events generated when a key is evicted for maxmemory) # A Alias for g$lshzxe, so that the \"AKE\" string means all the events. # # The \"notify-keyspace-events\" takes as argument a string that is composed # of zero or multiple characters. The empty string means that notifications # are disabled. # # Example: to enable list and generic events, from the point of view of the # event name, use: # # notify-keyspace-events Elg # # Example 2: to get the stream of the expired keys subscribing to channel # name __keyevent@0__:expired use: # # notify-keyspace-events Ex # # By default all notifications are disabled because most users don't need # this feature and the feature has some overhead. Note that if you don't # specify at least one of K or E, no events will be delivered. notify-keyspace-events \"\" ############################### ADVANCED CONFIG ############################### # Hashes are encoded using a memory efficient data structure when they have a # small number of entries, and the biggest entry does not exceed a given # threshold. These thresholds can be configured using the following directives. hash-max-ziplist-entries 512 hash-max-ziplist-value 64 # Lists are also encoded in a special way to save a lot of space. # The number of entries allowed per internal list node can be specified # as a fixed maximum size or a maximum number of elements. # For a fixed maximum size, use -5 through -1, meaning: # -5: max size: 64 Kb \u003c-- not recommended for normal workloads # -4: max size: 32 Kb \u003c-- not recommended # -3: max size: 16 Kb \u003c-- probably not recommended # -2: max size: 8 Kb \u003c-- good # -1: max size: 4 Kb \u003c-- good # Positive numbers mean store up to _exactly_ that number of elements # per list node. # The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size), # but if your use case is unique, adjust the settings as necessary. list-max-ziplist-size -2 # Lists may also be compressed. # Compress depth is the number of quicklist ziplist nodes from *each* side of # the list to *exclude* from compression. The head and tail of the list # are always uncompressed for fast push/pop operations. Settings are: # 0: disable all list compression # 1: depth 1 means \"don't start compressing until after 1 node into the list, # going from either the head or tail\" # So: [head]-\u003enode-\u003enode-\u003e...-\u003enode-\u003e[tail] # [head], [tail] will always be uncompressed; inner nodes will compress. # 2: [head]-\u003e[next]-\u003enode-\u003enode-\u003e...-\u003enode-\u003e[prev]-\u003e[tail] # 2 here means: don't compress head or head-\u003enext or tail-\u003eprev or tail, # but compress all nodes between them. # 3: [head]-\u003e[next]-\u003e[next]-\u003enode-\u003enode-\u003e...-\u003enode-\u003e[prev]-\u003e[prev]-\u003e[tail] # etc. list-compress-depth 0 # Sets have a special encoding in just one case: when a set is composed # of just strings that happen to be integers in radix 10 in the range # of 64 bit signed integers. # The following configuration setting sets the limit in the size of the # set in order to use this special memory saving encoding. set-max-intset-entries 512 # Similarly to hashes and lists, sorted sets are also specially encoded in # order to save a lot of space. This encoding is only used when the length and # elements of a sorted set are below the following limits: zset-max-ziplist-entries 128 zset-max-ziplist-value 64 # HyperLogLog sparse representation bytes limit. The limit includes the # 16 bytes header. When an HyperLogLog using the sparse representation crosses # this limit, it is converted into the dense representation. # # A value greater than 16000 is totally useless, since at that point the # dense representation is more memory efficient. # # The suggested value is ~ 3000 in order to have the benefits of # the space efficient encoding without slowing down too much PFADD, # which is O(N) with the sparse encoding. The value can be raised to # ~ 10000 when CPU is not a concern, but space is, and the data set is # composed of many HyperLogLogs with cardinality in the 0 - 15000 range. hll-sparse-max-bytes 3000 # Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in # order to help rehashing the main Redis hash table (the one mapping top-level # keys to values). The hash table implementation Redis uses (see dict.c) # performs a lazy rehashing: the more operation you run into a hash table # that is rehashing, the more rehashing \"steps\" are performed, so if the # server is idle the rehashing is never complete and some more memory is used # by the hash table. # # The default is to use this millisecond 10 times every second in order to # actively rehash the main dictionaries, freeing memory when possible. # # If unsure: # use \"activerehashing no\" if you have hard latency requirements and it is # not a good thing in your environment that Redis can reply from time to time # to queries with 2 milliseconds delay. # # use \"activerehashing yes\" if you don't have such hard requirements but # want to free memory asap when possible. activerehashing yes # The client output buffer limits can be used to force disconnection of clients # that are not reading data from the server fast enough for some reason (a # common reason is that a Pub/Sub client can't consume messages as fast as the # publisher can produce them). # # The limit can be set differently for the three different classes of clients: # # normal -\u003e normal clients including MONITOR clients # slave -\u003e slave clients # pubsub -\u003e clients subscribed to at least one pubsub channel or pattern # # The syntax of every client-output-buffer-limit directive is the following: # # client-output-buffer-limit \u003cclass\u003e \u003chard limit\u003e \u003csoft limit\u003e \u003csoft seconds\u003e # # A client is immediately disconnected once the hard limit is reached, or if # the soft limit is reached and remains reached for the specified number of # seconds (continuously). # So for instance if the hard limit is 32 megabytes and the soft limit is # 16 megabytes / 10 seconds, the client will get disconnected immediately # if the size of the output buffers reach 32 megabytes, but will also get # disconnected if the client reaches 16 megabytes and continuously overcomes # the limit for 10 seconds. # # By default normal clients are not limited because they don't receive data # without asking (in a push way), but just after a request, so only # asynchronous clients may create a scenario where data is requested faster # than it can read. # # Instead there is a default limit for pubsub and slave clients, since # subscribers and slaves receive data in a push fashion. # # Both the hard or the soft limit can be disabled by setting them to zero. client-output-buffer-limit normal 0 0 0 client-output-buffer-limit slave 256mb 64mb 60 client-output-buffer-limit pubsub 32mb 8mb 60 # Redis calls an internal function to perform many background tasks, like # closing connections of clients in timeout, purging expired keys that are # never requested, and so forth. # # Not all tasks are performed with the same frequency, but Redis checks for # tasks to perform according to the specified \"hz\" value. # # By default \"hz\" is set to 10. Raising the value will use more CPU when # Redis is idle, but at the same time will make Redis more responsive when # there are many keys expiring at the same time, and timeouts may be # handled with more precision. # # The range is between 1 and 500, however a value over 100 is usually not # a good idea. Most users should use the default of 10 and raise this up to # 100 only in environments where very low latency is required. hz 10 # When a child rewrites the AOF file, if the following option is enabled # the file will be fsync-ed every 32 MB of data generated. This is useful # in order to commit the file to the disk more incrementally and avoid # big latency spikes. aof-rewrite-incremental-fsync yes æµ‹è¯•redis-cliè¿æ¥ä¸Šæ¥\ndocker exec -it è¿è¡Œç€RediisæœåŠ¡çš„å®¹å™¨ID redis-cli æµ‹è¯•æŒä¹…åŒ–æ–‡ä»¶ç”Ÿæˆ\næœ¬åœ°é•œåƒå‘å¸ƒåˆ°é˜¿é‡Œäº‘ æœ¬åœ°é•œåƒå‘å¸ƒåˆ°é˜¿é‡Œäº‘æµç¨‹ é•œåƒçš„ç”Ÿæˆæ–¹æ³• å‰é¢çš„DockerFile\nä»å®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ\ndocker commit [OPTIONS] å®¹å™¨ID [REPOSITORY[:TAG]] # OPTIONSè¯´æ˜ï¼š # -a :æäº¤çš„é•œåƒä½œè€…ï¼› # -m :æäº¤æ—¶çš„è¯´æ˜æ–‡å­—ï¼› æœ¬åœ°é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘ æœ¬åœ°é•œåƒç´ æåŸå‹ é˜¿é‡Œäº‘å¼€å‘è€…å¹³å° https://dev.aliyun.com/search.html\nåˆ›å»ºä»“åº“é•œåƒ å°†é•œåƒæ¨é€åˆ°registry\nå…¬æœ‰äº‘å¯ä»¥æŸ¥è¯¢åˆ°\næŸ¥çœ‹è¯¦æƒ…\nå°†é˜¿é‡Œäº‘ä¸Šçš„é•œåƒä¸‹è½½åˆ°æœ¬åœ° ä¸‹è½½åˆ°æœ¬åœ°\n","description":"\n","tags":[],"title":"\nDocker-å¸¸ç”¨å®‰è£…ä¸é•œåƒå‘å¸ƒåˆ°é˜¿é‡Œäº‘ï¼ˆå››ï¼‰","uri":"/posts/post-291/"},{"categories":["Docker"],"content":"Docker\nDockerå®¹å™¨æ•°æ®å· æ˜¯ä»€ä¹ˆï¼Ÿ å…ˆæ¥çœ‹çœ‹Dockerçš„ç†å¿µï¼š\nå°†è¿ç”¨ä¸è¿è¡Œçš„ç¯å¢ƒæ‰“åŒ…å½¢æˆå®¹å™¨è¿è¡Œ ï¼Œè¿è¡Œå¯ä»¥ä¼´éšç€å®¹å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯¹æ•°æ®çš„è¦æ±‚å¸Œæœ›æ˜¯æŒä¹…åŒ–çš„\nå®¹å™¨ä¹‹é—´å¸Œæœ›æœ‰å¯èƒ½å…±äº«æ•°æ®\nDockerå®¹å™¨äº§ç”Ÿçš„æ•°æ®ï¼Œå¦‚æœä¸é€šè¿‡docker commitç”Ÿæˆæ–°çš„é•œåƒï¼Œä½¿å¾—æ•°æ®åšä¸ºé•œåƒçš„ä¸€éƒ¨åˆ†ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå½“å®¹å™¨åˆ é™¤åï¼Œæ•°æ®è‡ªç„¶ä¹Ÿå°±æ²¡æœ‰äº†ã€‚\nä¸ºäº†èƒ½ä¿å­˜æ•°æ®åœ¨dockerä¸­æˆ‘ä»¬ä½¿ç”¨å·ã€‚\nä¸€å¥è¯ï¼šæœ‰ç‚¹ç±»ä¼¼æˆ‘ä»¬Redisé‡Œé¢çš„rdbå’Œaofæ–‡ä»¶\nèƒ½å¹²å˜›ï¼Ÿ å·å°±æ˜¯ç›®å½•æˆ–æ–‡ä»¶ï¼Œå­˜åœ¨äºä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä¸­ï¼Œç”±dockeræŒ‚è½½åˆ°å®¹å™¨ï¼Œä½†ä¸å±äºè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤èƒ½å¤Ÿç»•è¿‡Union File Systemæä¾›ä¸€äº›ç”¨äºæŒç»­å­˜å‚¨æˆ–å…±äº«æ•°æ®çš„ç‰¹æ€§ï¼š\nå·çš„è®¾è®¡ç›®çš„å°±æ˜¯æ•°æ®çš„æŒä¹…åŒ–ï¼Œå®Œå…¨ç‹¬ç«‹äºå®¹å™¨çš„ç”Ÿå­˜å‘¨æœŸï¼Œå› æ­¤Dockerä¸ä¼šåœ¨å®¹å™¨åˆ é™¤æ—¶åˆ é™¤å…¶æŒ‚è½½çš„æ•°æ®å·\nç‰¹ç‚¹ï¼š\næ•°æ®å·å¯åœ¨å®¹å™¨ä¹‹é—´å…±äº«æˆ–é‡ç”¨æ•°æ®\nå·ä¸­çš„æ›´æ”¹å¯ä»¥ç›´æ¥ç”Ÿæ•ˆ\næ•°æ®å·ä¸­çš„æ›´æ”¹ä¸ä¼šåŒ…å«åœ¨é•œåƒçš„æ›´æ–°ä¸­\næ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢\nå®¹å™¨çš„æŒä¹…åŒ–\nå®¹å™¨é—´ç»§æ‰¿+å…±äº«æ•°æ®\næ•°æ®å· å®¹å™¨å†…ç›´æ¥å‘½ä»¤æ·»åŠ  å‘½ä»¤\ndocker run -it -v /å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•:/å®¹å™¨å†…ç›®å½• é•œåƒå /bin/bash æŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ\ndocker inspect å®¹å™¨ID å®¹å™¨å’Œå®¿ä¸»æœºä¹‹é—´æ•°æ®å…±äº«\nå®¹å™¨åœæ­¢é€€å‡ºåï¼Œä¸»æœºä¿®æ”¹åæ•°æ®æ˜¯å¦åŒæ­¥\ndocker run -it -v /å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•:/å®¹å™¨å†…ç›®å½•:ro é•œåƒå DockerFileæ·»åŠ  æ ¹ç›®å½•ä¸‹æ–°å»ºmydockeræ–‡ä»¶å¤¹å¹¶è¿›å…¥\nå¯åœ¨Dockerfileä¸­ä½¿ç”¨VOLUMEæŒ‡ä»¤æ¥ç»™é•œåƒæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å·\nVOLUME[\"/dataVolumeContainer\",\"/dataVolumeContainer2\",\"/dataVolumeContainer3\"]\nè¯´æ˜ï¼š\nå‡ºäºå¯ç§»æ¤å’Œåˆ†äº«çš„è€ƒè™‘ï¼Œç”¨-v ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•è¿™ç§æ–¹æ³•ä¸èƒ½å¤Ÿç›´æ¥åœ¨Dockerfileä¸­å®ç°ã€‚\nç”±äºå®¿ä¸»æœºç›®å½•æ˜¯ä¾èµ–äºç‰¹å®šå®¿ä¸»æœºçš„ï¼Œå¹¶ä¸èƒ½å¤Ÿä¿è¯åœ¨æ‰€æœ‰çš„å®¿ä¸»æœºä¸Šéƒ½å­˜åœ¨è¿™æ ·çš„ç‰¹å®šç›®å½•ã€‚\nFileæ„å»º [root@maruifu mydocker]# pwd /mydocker [root@maruifu mydocker]# cat dockerfile2 # volume test FROM centos VOLUME [\"/dataVolumeContainer1\",\"/dataVolumeContainer2\"] CMD echo \"finished,--------success1\" CMD /bin/bash buildåç”Ÿæˆé•œåƒ è·å¾—ä¸€ä¸ªæ–°é•œåƒzzyy/centos\nrunå®¹å™¨ å¯¹åº”çš„ä¸»æœºç›®å½•åœ°å€\nä¸»æœºå¯¹åº”é»˜è®¤åœ°å€\nDockeræŒ‚è½½ä¸»æœºç›®å½•Dockerè®¿é—®å‡ºç°cannot open directory .: Permission denied\nè§£å†³åŠæ³•ï¼šåœ¨æŒ‚è½½ç›®å½•åå¤šåŠ ä¸€ä¸ªâ€“privileged=trueå‚æ•°å³å¯\næ•°æ®å·å®¹å™¨ æ˜¯ä»€ä¹ˆï¼Ÿ å‘½åçš„å®¹å™¨æŒ‚è½½æ•°æ®å·ï¼Œå…¶å®ƒå®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ª(çˆ¶å®¹å™¨)å®ç°æ•°æ®å…±äº«ï¼ŒæŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œç§°ä¹‹ä¸ºæ•°æ®å·å®¹å™¨\næ€»ä½“ä»‹ç» ä»¥ä¸Šä¸€æ­¥æ–°å»ºçš„é•œåƒzzyy/centosä¸ºæ¨¡æ¿å¹¶è¿è¡Œå®¹å™¨dc01/dc02/dc03\nå®ƒä»¬å·²ç»å…·æœ‰å®¹å™¨å· /dataVolumeContainer1 å’Œ /dataVolumeContainer2\nå®¹å™¨é—´ä¼ é€’å…±äº« å…ˆå¯åŠ¨ä¸€ä¸ªçˆ¶å®¹å™¨dc01 åœ¨dataVolumeContainer2æ–°å¢å†…å®¹\ndc02/dc03ç»§æ‰¿è‡ªdc01\n--volumes-from\ndocker run -it --name dc02 --volumes-from dc01 zzyy/centos\ndc02/dc03åˆ†åˆ«åœ¨dataVolumeContainer2å„è‡ªæ–°å¢å†…å®¹\nå›åˆ°dc01å¯ä»¥çœ‹åˆ°02/03å„è‡ªæ·»åŠ çš„éƒ½èƒ½å…±äº«äº†\nåˆ é™¤dc01ï¼Œdc02ä¿®æ”¹ådc03å¯å¦è®¿é—®\næ–°å»ºdc04ç»§æ‰¿dc03åå†åˆ é™¤dc03\nç»“è®ºï¼šå®¹å™¨ä¹‹é—´é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢\nDockerFileè§£æ æ˜¯ä»€ä¹ˆï¼Ÿ Dockerfileæ˜¯ç”¨æ¥æ„å»ºDockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ã€‚\næ„å»ºä¸‰æ­¥éª¤\nç¼–å†™Dockerfileæ–‡ä»¶ -\u003edocker build-\u003edocker run\næ ·ä¾‹ï¼šä»¥æˆ‘ä»¬ç†Ÿæ‚‰çš„CentOSä¸ºä¾‹\nDockerFileæ„å»ºè¿‡ç¨‹è§£æ Dockerfileå†…å®¹åŸºç¡€çŸ¥è¯† 1ï¼šæ¯æ¡ä¿ç•™å­—æŒ‡ä»¤éƒ½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ä¸”åé¢è¦è·Ÿéšè‡³å°‘ä¸€ä¸ªå‚æ•°\n2ï¼šæŒ‡ä»¤æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ï¼Œé¡ºåºæ‰§è¡Œ\n3ï¼š#è¡¨ç¤ºæ³¨é‡Š\n4ï¼šæ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæäº¤\nDockeræ‰§è¡ŒDockerfileçš„å¤§è‡´æµç¨‹ ï¼ˆ1ï¼‰dockerä»åŸºç¡€é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨\nï¼ˆ2ï¼‰æ‰§è¡Œä¸€æ¡æŒ‡ä»¤å¹¶å¯¹å®¹å™¨ä½œå‡ºä¿®æ”¹\nï¼ˆ3ï¼‰æ‰§è¡Œç±»ä¼¼docker commitçš„æ“ä½œæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚\nï¼ˆ4ï¼‰dockerå†åŸºäºåˆšæäº¤çš„é•œåƒè¿è¡Œä¸€ä¸ªæ–°å®¹å™¨\nï¼ˆ5ï¼‰æ‰§è¡Œdockerfileä¸­çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ç›´åˆ°æ‰€æœ‰æŒ‡ä»¤éƒ½æ‰§è¡Œå®Œæˆ\næ€»ç»“ ä»åº”ç”¨è½¯ä»¶çš„è§’åº¦æ¥çœ‹ï¼ŒDockerfileã€Dockeré•œåƒä¸Dockerå®¹å™¨åˆ†åˆ«ä»£è¡¨è½¯ä»¶çš„ä¸‰ä¸ªä¸åŒé˜¶æ®µï¼Œ\n* Dockerfileæ˜¯è½¯ä»¶çš„åŸææ–™\n* Dockeré•œåƒæ˜¯è½¯ä»¶çš„äº¤ä»˜å“\n* Dockerå®¹å™¨åˆ™å¯ä»¥è®¤ä¸ºæ˜¯è½¯ä»¶çš„è¿è¡Œæ€ã€‚\nDockerfileé¢å‘å¼€å‘ï¼ŒDockeré•œåƒæˆä¸ºäº¤ä»˜æ ‡å‡†ï¼ŒDockerå®¹å™¨åˆ™æ¶‰åŠéƒ¨ç½²ä¸è¿ç»´ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯ï¼ŒåˆåŠ›å……å½“Dockerä½“ç³»çš„åŸºçŸ³ã€‚\nDockerfileï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªDockerfileï¼ŒDockerfileå®šä¹‰äº†è¿›ç¨‹éœ€è¦çš„ä¸€åˆ‡ä¸œè¥¿ã€‚Dockerfileæ¶‰åŠçš„å†…å®¹åŒ…æ‹¬æ‰§è¡Œä»£ç æˆ–è€…æ˜¯æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€ä¾èµ–åŒ…ã€è¿è¡Œæ—¶ç¯å¢ƒã€åŠ¨æ€é“¾æ¥åº“ã€æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆã€æœåŠ¡è¿›ç¨‹å’Œå†…æ ¸è¿›ç¨‹(å½“åº”ç”¨è¿›ç¨‹éœ€è¦å’Œç³»ç»ŸæœåŠ¡å’Œå†…æ ¸è¿›ç¨‹æ‰“äº¤é“ï¼Œè¿™æ—¶éœ€è¦è€ƒè™‘å¦‚ä½•è®¾è®¡namespaceçš„æƒé™æ§åˆ¶)ç­‰ç­‰;\nDockeré•œåƒï¼Œåœ¨ç”¨Dockerfileå®šä¹‰ä¸€ä¸ªæ–‡ä»¶ä¹‹åï¼Œdocker buildæ—¶ä¼šäº§ç”Ÿä¸€ä¸ªDockeré•œåƒï¼Œå½“è¿è¡Œ Dockeré•œåƒæ—¶ï¼Œä¼šçœŸæ­£å¼€å§‹æä¾›æœåŠ¡;\nDockerå®¹å™¨ï¼Œå®¹å™¨æ˜¯ç›´æ¥æä¾›æœåŠ¡çš„ã€‚\nDockerFileä½“ç³»ç»“æ„(ä¿ç•™å­—æŒ‡ä»¤ï¼‰ FROM #åŸºç¡€é•œåƒï¼Œå½“å‰æ–°é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„ MAINTAINER #é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€ RUN #å®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ EXPOSE #å®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ WOEKDIR #æŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»é™†çš„è¿›æ¥å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹ ENV #ç”¨æ¥åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ #ENV MY_PATH /usr/mytest #è¿™ä¸ªç¯å¢ƒå˜é‡å¯ä»¥åœ¨åç»­çš„ä»»ä½•RUNæŒ‡ä»¤ä¸­ä½¿ç”¨ï¼Œè¿™å°±å¦‚åŒåœ¨å‘½ä»¤å‰é¢æŒ‡å®šäº†ç¯å¢ƒå˜é‡å‰ç¼€ä¸€æ ·ï¼› #ä¹Ÿå¯ä»¥åœ¨å…¶å®ƒæŒ‡ä»¤ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡ï¼Œ #æ¯”å¦‚ï¼šWORKDIR $MY_PATH ADD #å°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹tarå‹ç¼©åŒ… COPY #ç±»ä¼¼ADDï¼Œæ‹·è´æ–‡ä»¶å’Œç›®å½•åˆ°é•œåƒä¸­ã€‚å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­ \u003cæºè·¯å¾„\u003e çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„ \u003cç›®æ ‡è·¯å¾„\u003e ä½ç½® #COPY src dest #COPY [\"src\", \"dest\"] VOLUME #å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ CMD #æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ #CMDæŒ‡ä»¤çš„æ ¼å¼å’ŒRUNç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸¤ç§æ ¼å¼ #shellæ ¼å¼ï¼šCMD\u003cå‘½ä»¤\u003e #execæ ¼å¼ï¼šCMD[\"å¯æ‰§è¡Œæ–‡ä»¶\",\"å‚æ•°1\",\"å‚æ•°2\"...] #å‚æ•°åˆ—è¡¨æ ¼å¼ï¼šCMD[\"å‚æ•°1\",\"å‚æ•°2\"...]ã€‚åœ¨æŒ‡å®šäº†ENTRYPOINTæŒ‡ä»¤åï¼Œç”¨CMDæŒ‡å®šå…·ä½“çš„å‚æ•°ã€‚ ENTRYPOINT #æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ ï¼ŒENTRYPOINTçš„ç›®çš„å’Œ CMD ä¸€æ ·éƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•° ONBUILD # å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„Dockerfileæ—¶è¿è¡Œå‘½ä»¤ï¼Œçˆ¶é•œåƒåœ¨è¢«å­ç»§æ‰¿åçˆ¶é•œåƒçš„onbuildè¢«è§¦å‘ æ€»ç»“ï¼š\næ¡ˆä¾‹ Baseé•œåƒ(scratch) Docker Hub ä¸­ 99% çš„é•œåƒéƒ½æ˜¯é€šè¿‡åœ¨ base é•œåƒä¸­å®‰è£…å’Œé…ç½®éœ€è¦çš„è½¯ä»¶æ„å»ºå‡ºæ¥çš„\nè‡ªå®šä¹‰é•œåƒmycentos ç¼–å†™ 1.Hubé»˜è®¤CentOSé•œåƒä»€ä¹ˆæƒ…å†µ\nè‡ªå®šä¹‰mycentosç›®çš„ä½¿æˆ‘ä»¬è‡ªå·±çš„é•œåƒå…·å¤‡å¦‚ä¸‹ï¼š\nç™»é™†åçš„é»˜è®¤è·¯å¾„\nvimç¼–è¾‘å™¨\næŸ¥çœ‹ç½‘ç»œé…ç½®ifconfigæ”¯æŒ\n2.å‡†å¤‡ç¼–å†™DockerFileæ–‡ä»¶\n3.myCentOSå†…å®¹DockerFile\nFROM centos MAINTAINER zzyy\u003czzyy167@126.com\u003e ENV MYPATH /usr/local WORKDIR $MYPATH RUN yum -y install vim RUN yum -y install net-tools EXPOSE 80 CMD echo $MYPATH CMD echo \"success--------------ok\" CMD /bin/bash æ„å»º docker build -t æ–°é•œåƒåå­—:TAG . ä¼šçœ‹åˆ° docker build å‘½ä»¤æœ€åæœ‰ä¸€ä¸ª .\n. è¡¨ç¤ºå½“å‰ç›®å½•\nè¿è¡Œ docker run -it æ–°é•œåƒåå­— :TAG å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è‡ªå·±çš„æ–°é•œåƒå·²ç»æ”¯æŒvim/ifconfigå‘½ä»¤ï¼Œæ‰©å±•æˆåŠŸäº†ã€‚\nå˜æ›´å†å² docker history é•œåƒå CMD/ENTRYPOINT é•œåƒ éƒ½æ˜¯æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤\nCMD:Dockerfile ä¸­å¯ä»¥æœ‰å¤šä¸ª CMD æŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼ŒCMD ä¼šè¢« docker run ä¹‹åçš„å‚æ•°æ›¿æ¢\nENTRYPOINT:docker run ä¹‹åçš„å‚æ•°ä¼šè¢«å½“åšå‚æ•°ä¼ é€’ç»™ ENTRYPOINTï¼Œä¹‹åå½¢æˆæ–°çš„å‘½ä»¤ç»„åˆ\nè‡ªå®šä¹‰é•œåƒTomcat9 mkdir -p /maruifu/mydockerfile/tomcat9\nåœ¨ä¸Šè¿°ç›®å½•ä¸‹touch c.txt\nå°†jdkå’Œtomcatå®‰è£…çš„å‹ç¼©åŒ…æ‹·è´è¿›ä¸Šä¸€æ­¥ç›®å½•\ncp apache-tomcat-9.0.8.tar.gz /maruifu/mydockerfile/tomcat9 cp jdk-8u171-linux-x64.tar.gz /maruifu/mydockerfile/tomcat9 åœ¨/maruifu/mydockerfile/tomcat9ç›®å½•ä¸‹æ–°å»ºDockerfileæ–‡ä»¶\nFROM centos MAINTAINER zzyy\u003czzyybs@126.com\u003e #æŠŠå®¿ä¸»æœºå½“å‰ä¸Šä¸‹æ–‡çš„c.txtæ‹·è´åˆ°å®¹å™¨/usr/local/è·¯å¾„ä¸‹ COPY c.txt /usr/local/cincontainer.txt #æŠŠjavaä¸tomcatæ·»åŠ åˆ°å®¹å™¨ä¸­ ADD jdk-8u171-linux-x64.tar.gz /usr/local/ ADD apache-tomcat-9.0.8.tar.gz /usr/local/ #å®‰è£…vimç¼–è¾‘å™¨ RUN yum -y install vim #è®¾ç½®å·¥ä½œè®¿é—®æ—¶å€™çš„WORKDIRè·¯å¾„ï¼Œç™»å½•è½è„šç‚¹ ENV MYPATH /usr/local WORKDIR $MYPATH #é…ç½®javaä¸tomcatç¯å¢ƒå˜é‡ ENV JAVA_HOME /usr/local/jdk1.8.0_171 ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.8 ENV CATALINA_BASE /usr/local/apache-tomcat-9.0.8 ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin #å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ EXPOSE 8080 #å¯åŠ¨æ—¶è¿è¡Œtomcat # ENTRYPOINT [\"/usr/local/apache-tomcat-9.0.8/bin/startup.sh\" ] # CMD [\"/usr/local/apache-tomcat-9.0.8/bin/catalina.sh\",\"run\"] CMD /usr/local/apache-tomcat-9.0.8/bin/startup.sh \u0026\u0026 tail -F /usr/local/apache-tomcat-9.0.8/bin/logs/catalina.out æ„å»º æ„å»ºå®Œæˆï¼šdocker image\nrun\ndocker run -d -p 9080:8080 --name myt9 -v /zzyyuse/mydockerfile/tomcat9/test:/usr/local/apache-tomcat-9.0.8/webapps/test -v /zzyyuse/mydockerfile/tomcat9/tomcat9logs/:/usr/local/apache-tomcat-9.0.8/logs --privileged=true zzyytomcat9 DockeræŒ‚è½½ä¸»æœºç›®å½•Dockerè®¿é—®å‡ºç°cannot open directory .: Permission denied\nè§£å†³åŠæ³•ï¼šåœ¨æŒ‚è½½ç›®å½•åå¤šåŠ ä¸€ä¸ªâ€“privileged=trueå‚æ•°å³å¯\néªŒè¯ ç»“åˆå‰è¿°çš„å®¹å™¨å·å°†æµ‹è¯•çš„webæœåŠ¡testå‘å¸ƒ\næ€»ä½“æ¦‚è¿°\nweb.xml\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cweb-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"\u003e \u003cdisplay-name\u003etest\u003c/display-name\u003e \u003c/web-app\u003e a.jsp\n\u003c%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%\u003e \u003c!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"\u003e \u003ctitle\u003eInsert title here\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e -----------welcome------------ \u003c%=\"i am in docker tomcat self \"%\u003e \u003cbr\u003e \u003cbr\u003e \u003c% System.out.println(\"=============docker tomcat self\");%\u003e \u003c/body\u003e \u003c/html\u003e æµ‹è¯•\næ€»ç»“ ","description":"\n","tags":[],"title":"\nDocker-å®¹å™¨æ•°æ®å·ä¸DockerFileè§£æï¼ˆä¸‰ï¼‰","uri":"/posts/post-292/"},{"categories":["Docker"],"content":"Docker\nDockerå¸¸ç”¨å‘½ä»¤ å¸®åŠ©å‘½ä»¤ docker version docker info docker --help é•œåƒå‘½ä»¤ åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ\ndocker images #å„ä¸ªé€‰é¡¹è¯´æ˜: # - REPOSITORYï¼šè¡¨ç¤ºé•œåƒçš„ä»“åº“æº # - TAGï¼šé•œåƒçš„æ ‡ç­¾ # - IMAGE IDï¼šé•œåƒID # - CREATEDï¼šé•œåƒåˆ›å»ºæ—¶é—´ # - SIZEï¼šé•œåƒå¤§å° #åŒä¸€ä»“åº“æºå¯ä»¥æœ‰å¤šä¸ª TAGï¼Œä»£è¡¨è¿™ä¸ªä»“åº“æºçš„ä¸åŒä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨ REPOSITORY:TAG æ¥å®šä¹‰ä¸åŒçš„é•œåƒã€‚ #å¦‚æœä½ ä¸æŒ‡å®šä¸€ä¸ªé•œåƒçš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œä¾‹å¦‚ä½ åªä½¿ç”¨ ubuntuï¼Œdocker å°†é»˜è®¤ä½¿ç”¨ ubuntu:latest é•œåƒ #OPTIONSè¯´æ˜ # - -a :åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼ˆå«ä¸­é—´æ˜ åƒå±‚ï¼‰ # - -q :åªæ˜¾ç¤ºé•œåƒIDã€‚ # - --digests :æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯ # - --no-trunc :æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯ docker search æŸä¸ªXXXé•œåƒåå­—\n#åœ°å€ï¼šhttps://hub.docker.com docker search [OPTIONS] é•œåƒåå­— # OPTIONSè¯´æ˜ï¼š # --no-trunc : æ˜¾ç¤ºå®Œæ•´çš„é•œåƒæè¿° # -s : åˆ—å‡ºæ”¶è—æ•°ä¸å°äºæŒ‡å®šå€¼çš„é•œåƒã€‚ # --automated : åªåˆ—å‡º automated buildç±»å‹çš„é•œåƒï¼› docker pull æŸä¸ªXXXé•œåƒåå­—\n#ä¸‹è½½é•œåƒ docker pull é•œåƒåå­— [:TAG] docker rmi æŸä¸ªXXXé•œåƒåå­—ID\n#åˆ é™¤å•ä¸ª docker rmi -f é•œåƒID #åˆ é™¤å¤šä¸ª docker rmi -f é•œåƒå1:TAG é•œåƒå2:TAG #åˆ é™¤å…¨éƒ¨ docker rmi -f $(docker images -qa) å®¹å™¨å‘½ä»¤ æœ‰é•œåƒæ‰èƒ½åˆ›å»ºå®¹å™¨ï¼Œè¿™æ˜¯æ ¹æœ¬å‰æ(ä¸‹è½½ä¸€ä¸ªCentOSé•œåƒæ¼”ç¤º)\ndocker pull centos\næ–°å»ºå¹¶å¯åŠ¨å®¹å™¨ docker run [OPTIONS] IMAGE [COMMAND][ARG...] # OPTIONSè¯´æ˜ï¼ˆå¸¸ç”¨ï¼‰ï¼šæœ‰äº›æ˜¯ä¸€ä¸ªå‡å·ï¼Œæœ‰äº›æ˜¯ä¸¤ä¸ªå‡å· #--name=\"å®¹å™¨æ–°åå­—\": ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼› #-d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼Œä¹Ÿå³å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼› #-iï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼› #-tï¼šä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼› #-P: éšæœºç«¯å£æ˜ å°„ï¼› #-p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæœ‰ä»¥ä¸‹å››ç§æ ¼å¼ # ip:hostPort:containerPort # ip::containerPort # hostPort:containerPort # containerPort #ä½¿ç”¨é•œåƒcentos:latestä»¥äº¤äº’æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,åœ¨å®¹å™¨å†…æ‰§è¡Œ/bin/bashå‘½ä»¤ã€‚ docker run -it centos /bin/bash åˆ—å‡ºå½“å‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ docker ps [OPTIONS] # OPTIONSè¯´æ˜ï¼ˆå¸¸ç”¨ï¼‰ï¼š # -a :åˆ—å‡ºå½“å‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å†å²ä¸Šè¿è¡Œè¿‡çš„ # -l :æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨ã€‚ # -nï¼šæ˜¾ç¤ºæœ€è¿‘nä¸ªåˆ›å»ºçš„å®¹å™¨ã€‚ # -q :é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·ã€‚ # --no-trunc :ä¸æˆªæ–­è¾“å‡ºã€‚ é€€å‡ºå®¹å™¨ #ä¸¤ç§é€€å‡ºæ–¹å¼ #å®¹å™¨åœæ­¢é€€å‡º exit #å®¹å™¨ä¸åœæ­¢é€€å‡º ctrl+P+Q å¯åŠ¨å®¹å™¨ docker start å®¹å™¨IDæˆ–è€…å®¹å™¨å é‡å¯å®¹å™¨ docker restart å®¹å™¨IDæˆ–è€…å®¹å™¨å åœæ­¢å®¹å™¨ docker stop å®¹å™¨IDæˆ–è€…å®¹å™¨å å¼ºåˆ¶åœæ­¢å®¹å™¨ docker kill å®¹å™¨IDæˆ–è€…å®¹å™¨å åˆ é™¤å·²åœæ­¢å®¹å™¨ # åˆ é™¤å•ä¸ªå®¹å™¨ docker rm å®¹å™¨ID #ä¸€æ¬¡åˆ é™¤å¤šä¸ªå®¹å™¨ docker rm -f $(docker ps -a -q) docker ps -a -q | xargs docker rm é‡è¦ å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨\n#å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ docker run -d å®¹å™¨å ä½¿ç”¨é•œåƒcentos:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨docker run -d centos\né—®é¢˜ï¼šç„¶ådocker ps -a è¿›è¡ŒæŸ¥çœ‹, ä¼šå‘ç°å®¹å™¨å·²ç»é€€å‡ºå¾ˆé‡è¦çš„è¦è¯´æ˜çš„ä¸€ç‚¹: Dockerå®¹å™¨åå°è¿è¡Œ,å°±å¿…é¡»æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹.å®¹å™¨è¿è¡Œçš„å‘½ä»¤å¦‚æœä¸æ˜¯é‚£äº›ä¸€ç›´æŒ‚èµ·çš„å‘½ä»¤ï¼ˆæ¯”å¦‚è¿è¡Œtopï¼Œtailï¼‰ï¼Œå°±æ˜¯ä¼šè‡ªåŠ¨é€€å‡ºçš„ã€‚\nè¿™ä¸ªæ˜¯dockerçš„æœºåˆ¶é—®é¢˜,æ¯”å¦‚ä½ çš„webå®¹å™¨,æˆ‘ä»¬ä»¥nginxä¸ºä¾‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹,æˆ‘ä»¬é…ç½®å¯åŠ¨æœåŠ¡åªéœ€è¦å¯åŠ¨å“åº”çš„serviceå³å¯ã€‚ä¾‹å¦‚service nginx startä½†æ˜¯,è¿™æ ·åš,nginxä¸ºåå°è¿›ç¨‹æ¨¡å¼è¿è¡Œ,å°±å¯¼è‡´dockerå‰å°æ²¡æœ‰è¿è¡Œçš„åº”ç”¨,è¿™æ ·çš„å®¹å™¨åå°å¯åŠ¨å,ä¼šç«‹å³è‡ªæ€å› ä¸ºä»–è§‰å¾—ä»–æ²¡äº‹å¯åšäº†.æ‰€ä»¥ï¼Œæœ€ä½³çš„è§£å†³æ–¹æ¡ˆæ˜¯,å°†ä½ è¦è¿è¡Œçš„ç¨‹åºä»¥å‰å°è¿›ç¨‹çš„å½¢å¼è¿è¡Œ\næŸ¥çœ‹å®¹å™¨æ—¥å¿—\ndocker logs -f -t --tail å®¹å™¨ID docker run -d centos /bin/sh -c \"while true;do echo hello zzyy;sleep 2;done\" # -t æ˜¯åŠ å…¥æ—¶é—´æˆ³ # -f è·Ÿéšæœ€æ–°çš„æ—¥å¿—æ‰“å° # --tail æ•°å­— æ˜¾ç¤ºæœ€åå¤šå°‘æ¡ æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹\ndocker top å®¹å™¨ID æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚\ndocker inspect å®¹å™¨ID è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨å¹¶ä»¥å‘½ä»¤è¡Œäº¤äº’\n#ç›´æ¥è¿›å…¥ docker exec -it å®¹å™¨ID bash #é‡æ–°è¿›å…¥ docker attach å®¹å™¨ID #åŒºåˆ« execæ˜¯åœ¨å®¹å™¨ä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå¹¶ä¸”å¯ä»¥å¯åŠ¨æ–°çš„è¿›ç¨‹ attachç›´æ¥è¿›å…¥å®¹å™¨å¯åŠ¨å‘½ä»¤çš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹ ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š\ndocker cp å®¹å™¨ID:å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„ æ€»ç»“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 attach Attach to a running container # å½“å‰ shell ä¸‹ attach è¿æ¥æŒ‡å®šè¿è¡Œé•œåƒ build Build an image from a Dockerfile # é€šè¿‡ Dockerfile å®šåˆ¶é•œåƒ commit Create a new image from a container changes # æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ cp Copy files/folders from the containers filesystem to the host path #ä»å®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¿ä¸»æœºä¸­ create Create a new container # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒ runï¼Œä½†ä¸å¯åŠ¨å®¹å™¨ diff Inspect changes on a container's filesystem # æŸ¥çœ‹ docker å®¹å™¨å˜åŒ– events Get real time events from the server # ä» docker æœåŠ¡è·å–å®¹å™¨å®æ—¶äº‹ä»¶ exec Run a command in an existing container # åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤ export Stream the contents of a container as a tar archive # å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ª tar å½’æ¡£æ–‡ä»¶[å¯¹åº” import ] history Show the history of an image # å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å² images List images # åˆ—å‡ºç³»ç»Ÿå½“å‰é•œåƒ import Create a new filesystem image from the contents of a tarball # ä»taråŒ…ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿæ˜ åƒ[å¯¹åº”export] info Display system-wide information # æ˜¾ç¤ºç³»ç»Ÿç›¸å…³ä¿¡æ¯ inspect Return low-level information on a container # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ kill Kill a running container # kill æŒ‡å®š docker å®¹å™¨ load Load an image from a tar archive # ä»ä¸€ä¸ª tar åŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº” save] login Register or Login to the docker registry server # æ³¨å†Œæˆ–è€…ç™»é™†ä¸€ä¸ª docker æºæœåŠ¡å™¨ logout Log out from a Docker registry server # ä»å½“å‰ Docker registry é€€å‡º logs Fetch the logs of a container # è¾“å‡ºå½“å‰å®¹å™¨æ—¥å¿—ä¿¡æ¯ port Lookup the public-facing port which is NAT-ed to PRIVATE_PORT # æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£ pause Pause all processes within a container # æš‚åœå®¹å™¨ ps List containers # åˆ—å‡ºå®¹å™¨åˆ—è¡¨ pull Pull an image or a repository from the docker registry server # ä»dockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ push Push an image or a repository to the docker registry server # æ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨ restart Restart a running container # é‡å¯è¿è¡Œçš„å®¹å™¨ rm Remove one or more containers # ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ rmi Remove one or more images # ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ[æ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ– -f å¼ºåˆ¶åˆ é™¤] run Run a command in a new container # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ save Save an image to a tar archive # ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ª tar åŒ…[å¯¹åº” load] search Search for an image on the Docker Hub # åœ¨ docker hub ä¸­æœç´¢é•œåƒ start Start a stopped containers # å¯åŠ¨å®¹å™¨ stop Stop a running containers # åœæ­¢å®¹å™¨ tag Tag an image into a repository # ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾ top Lookup the running processes of a container # æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ unpause Unpause a paused container # å–æ¶ˆæš‚åœå®¹å™¨ version Show the docker version information # æŸ¥çœ‹ docker ç‰ˆæœ¬å· wait Block until a container stops, then print its exit code # æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼ Dockeré•œåƒ æ˜¯ä»€ä¹ˆï¼Ÿ é•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚\nUnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šUnionæ–‡ä»¶ç³»ç»Ÿï¼ˆUnionFSï¼‰æ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹(unite several directories into a single virtual filesystem)ã€‚Union æ–‡ä»¶ç³»ç»Ÿæ˜¯ Docker é•œåƒçš„åŸºç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼ˆæ²¡æœ‰çˆ¶é•œåƒï¼‰ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒã€‚\nç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•\nDockeré•œåƒåŠ è½½åŸç† Dockeré•œåƒåŠ è½½åŸç†ï¼šdockerçš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFSã€‚\nbootfs(boot file system)ä¸»è¦åŒ…å«bootloaderå’Œkernel, bootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernel, Linuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„Linux/Unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfsã€‚\nrootfs (root file system) ï¼Œåœ¨bootfsä¹‹ä¸Šã€‚åŒ…å«çš„å°±æ˜¯å…¸å‹ Linux ç³»ç»Ÿä¸­çš„ /dev, /proc, /bin, /etc ç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚Ubuntuï¼ŒCentosç­‰ç­‰ã€‚\nå¹³æ—¶æˆ‘ä»¬å®‰è£…è¿›è™šæ‹Ÿæœºçš„CentOSéƒ½æ˜¯å¥½å‡ ä¸ªGï¼Œä¸ºä»€ä¹ˆdockerè¿™é‡Œæ‰200Mï¼Ÿï¼Ÿ\nå¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…æ‹¬æœ€åŸºæœ¬çš„å‘½ä»¤ã€å·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ç”¨Hostçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾› rootfs å°±è¡Œäº†ã€‚ç”±æ­¤å¯è§å¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆ, bootfsåŸºæœ¬æ˜¯ä¸€è‡´çš„, rootfsä¼šæœ‰å·®åˆ«, å› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…¬ç”¨bootfsã€‚\nåˆ†å±‚çš„é•œåƒ ä»¥æˆ‘ä»¬çš„pullä¸ºä¾‹ï¼Œåœ¨ä¸‹è½½çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°dockerçš„é•œåƒå¥½åƒæ˜¯åœ¨ä¸€å±‚ä¸€å±‚çš„åœ¨ä¸‹è½½\nDocker é•œåƒä¸ºå•¥é‡‡ç”¨åˆ†å±‚ç»“æ„ æœ€å¤§çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ - å…±äº«èµ„æº\næ¯”å¦‚ï¼šæœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„ base é•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€åœ¨ç£ç›˜ä¸Šä¿å­˜ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€åŠ è½½ä¸€ä»½ base é•œåƒï¼Œå°±å¯ä»¥ä¸ºæ‰€æœ‰å®¹å™¨æœåŠ¡äº†ã€‚è€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚\nç‰¹ç‚¹ Dockeré•œåƒéƒ½æ˜¯åªè¯»çš„\nå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ã€‚\nè¿™ä¸€å±‚é€šå¸¸è¢«ç§°ä½œâ€œå®¹å™¨å±‚â€ï¼Œâ€œå®¹å™¨å±‚â€ä¹‹ä¸‹çš„éƒ½å«â€œé•œåƒå±‚â€ã€‚\nDockeré•œåƒcommitæ“ä½œè¡¥å…… docker commitæäº¤å®¹å™¨å‰¯æœ¬ä½¿ä¹‹æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒ docker commit -m=â€œæäº¤çš„æè¿°ä¿¡æ¯â€ -a=â€œä½œè€…â€ å®¹å™¨ID è¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå:[æ ‡ç­¾å] æ¡ˆä¾‹æ¼”ç¤º\nä»Hubä¸Šä¸‹è½½tomcaté•œåƒåˆ°æœ¬åœ°å¹¶æˆåŠŸè¿è¡Œ\ndocker run -it -p 8080:8080 tomcat # -p ä¸»æœºç«¯å£:dockerå®¹å™¨ç«¯å£ # -P éšæœºåˆ†é…ç«¯å£ # i:äº¤äº’ # t:ç»ˆç«¯ æ•…æ„åˆ é™¤ä¸Šä¸€æ­¥é•œåƒç”Ÿäº§tomcatå®¹å™¨çš„æ–‡æ¡£\nä¹Ÿå³å½“å‰çš„tomcatè¿è¡Œå®ä¾‹æ˜¯ä¸€ä¸ªæ²¡æœ‰æ–‡æ¡£å†…å®¹çš„å®¹å™¨ï¼Œä»¥å®ƒä¸ºæ¨¡æ¿commitä¸€ä¸ªæ²¡æœ‰docçš„tomcatæ–°é•œåƒatguigu/tomcat02\nå¯åŠ¨æˆ‘ä»¬çš„æ–°é•œåƒå¹¶å’ŒåŸæ¥çš„å¯¹æ¯”\nå¯åŠ¨atguigu/tomcat02ï¼Œå®ƒæ²¡æœ‰docs\næ–°å¯åŠ¨åŸæ¥çš„tomcatï¼Œå®ƒæœ‰docs\n","description":"\n","tags":[],"title":"\nDocker-å‘½ä»¤ä¸é•œåƒï¼ˆäºŒï¼‰","uri":"/posts/post-293/"},{"categories":["Docker"],"content":"Docker\nDockerç®€ä»‹ æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆä¼šæœ‰dockerï¼Ÿ ä¸€æ¬¾äº§å“ä»å¼€å‘åˆ°ä¸Šçº¿ï¼Œä»æ“ä½œç³»ç»Ÿï¼Œåˆ°è¿è¡Œç¯å¢ƒï¼Œå†åˆ°åº”ç”¨é…ç½®ã€‚ä½œä¸ºå¼€å‘+è¿ç»´ä¹‹é—´çš„åä½œæˆ‘ä»¬éœ€è¦å…³å¿ƒå¾ˆå¤šä¸œè¥¿ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäº’è”ç½‘å…¬å¸éƒ½ä¸å¾—ä¸é¢å¯¹çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å„ç§ç‰ˆæœ¬çš„è¿­ä»£ä¹‹åï¼Œä¸åŒç‰ˆæœ¬ç¯å¢ƒçš„å…¼å®¹ï¼Œå¯¹è¿ç»´äººå‘˜éƒ½æ˜¯è€ƒéªŒ\nDockerä¹‹æ‰€ä»¥å‘å±•å¦‚æ­¤è¿…é€Ÿï¼Œä¹Ÿæ˜¯å› ä¸ºå®ƒå¯¹æ­¤ç»™å‡ºäº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚\nç¯å¢ƒé…ç½®å¦‚æ­¤éº»çƒ¦ï¼Œæ¢ä¸€å°æœºå™¨ï¼Œå°±è¦é‡æ¥ä¸€æ¬¡ï¼Œè´¹åŠ›è´¹æ—¶ã€‚å¾ˆå¤šäººæƒ³åˆ°ï¼Œèƒ½ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼Œè½¯ä»¶å¯ä»¥å¸¦ç¯å¢ƒå®‰è£…ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…çš„æ—¶å€™ï¼ŒæŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥ã€‚å¼€å‘äººå‘˜åˆ©ç”¨ Docker å¯ä»¥æ¶ˆé™¤åä½œç¼–ç æ—¶â€œåœ¨æˆ‘çš„æœºå™¨ä¸Šå¯æ­£å¸¸å·¥ä½œâ€çš„é—®é¢˜ã€‚\nä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„è¿è¡Œç¯å¢ƒï¼Œè¦å®‰è£…å„ç§è½¯ä»¶ï¼Œå°±æ‹¿å°šç¡…è°·ç”µå•†é¡¹ç›®çš„ç¯å¢ƒæ¥è¯´å§ï¼ŒJava/Tomcat/MySQL/JDBCé©±åŠ¨åŒ…ç­‰ã€‚å®‰è£…å’Œé…ç½®è¿™äº›ä¸œè¥¿æœ‰å¤šéº»çƒ¦å°±ä¸è¯´äº†ï¼Œå®ƒè¿˜ä¸èƒ½è·¨å¹³å°ã€‚å‡å¦‚æˆ‘ä»¬æ˜¯åœ¨ Windows ä¸Šå®‰è£…çš„è¿™äº›ç¯å¢ƒï¼Œåˆ°äº† Linux åˆå¾—é‡æ–°è£…ã€‚å†µä¸”å°±ç®—ä¸è·¨æ“ä½œç³»ç»Ÿï¼Œæ¢å¦ä¸€å°åŒæ ·æ“ä½œç³»ç»Ÿçš„æœåŠ¡å™¨ï¼Œè¦ç§»æ¤åº”ç”¨ä¹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ã€‚\nä¼ ç»Ÿä¸Šè®¤ä¸ºï¼Œè½¯ä»¶ç¼–ç å¼€å‘/æµ‹è¯•ç»“æŸåï¼Œæ‰€äº§å‡ºçš„æˆæœå³æ˜¯ç¨‹åºæˆ–æ˜¯èƒ½å¤Ÿç¼–è¯‘æ‰§è¡Œçš„äºŒè¿›åˆ¶å­—èŠ‚ç ç­‰(javaä¸ºä¾‹)ã€‚è€Œä¸ºäº†è®©è¿™äº›ç¨‹åºå¯ä»¥é¡ºåˆ©æ‰§è¡Œï¼Œå¼€å‘å›¢é˜Ÿä¹Ÿå¾—å‡†å¤‡å®Œæ•´çš„éƒ¨ç½²æ–‡ä»¶ï¼Œè®©ç»´è¿å›¢é˜Ÿå¾—ä»¥éƒ¨ç½²åº”ç”¨ç¨‹å¼ï¼Œå¼€å‘éœ€è¦æ¸…æ¥šçš„å‘Šè¯‰è¿ç»´éƒ¨ç½²å›¢é˜Ÿï¼Œç”¨çš„å…¨éƒ¨é…ç½®æ–‡ä»¶+æ‰€æœ‰è½¯ä»¶ç¯å¢ƒã€‚ä¸è¿‡ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œä»ç„¶å¸¸å¸¸å‘ç”Ÿéƒ¨ç½²å¤±è´¥çš„çŠ¶å†µã€‚Dockeré•œåƒçš„è®¾è®¡ï¼Œä½¿å¾—Dockerå¾—ä»¥æ‰“ç ´è¿‡å»ã€Œç¨‹åºå³åº”ç”¨ã€çš„è§‚å¿µã€‚é€è¿‡é•œåƒ(images)å°†ä½œä¸šç³»ç»Ÿæ ¸å¿ƒé™¤å¤–ï¼Œè¿ä½œåº”ç”¨ç¨‹å¼æ‰€éœ€è¦çš„ç³»ç»Ÿç¯å¢ƒï¼Œç”±ä¸‹è€Œä¸Šæ‰“åŒ…ï¼Œè¾¾åˆ°åº”ç”¨ç¨‹å¼è·¨å¹³å°é—´çš„æ— ç¼æ¥è½¨è¿ä½œã€‚\ndockerç†å¿µï¼Ÿ Dockeræ˜¯åŸºäºGoè¯­è¨€å®ç°çš„äº‘å¼€æºé¡¹ç›®ã€‚\nDockerçš„ä¸»è¦ç›®æ ‡æ˜¯â€œBuildï¼ŒShip and Run Any App,Anywhereâ€ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å¯¹åº”ç”¨ç»„ä»¶çš„å°è£…ã€åˆ†å‘ã€éƒ¨ç½²ã€è¿è¡Œç­‰ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œä½¿ç”¨æˆ·çš„APPï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªWEBåº”ç”¨æˆ–æ•°æ®åº“åº”ç”¨ç­‰ç­‰ï¼‰åŠå…¶è¿è¡Œç¯å¢ƒèƒ½å¤Ÿåšåˆ°â€œä¸€æ¬¡å°è£…ï¼Œåˆ°å¤„è¿è¡Œâ€ã€‚\nLinux å®¹å™¨æŠ€æœ¯çš„å‡ºç°å°±è§£å†³äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œè€Œ Docker å°±æ˜¯åœ¨å®ƒçš„åŸºç¡€ä¸Šå‘å±•è¿‡æ¥çš„ã€‚å°†åº”ç”¨è¿è¡Œåœ¨ Docker å®¹å™¨ä¸Šé¢ï¼Œè€Œ Docker å®¹å™¨åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šéƒ½æ˜¯ä¸€è‡´çš„ï¼Œè¿™å°±å®ç°äº†è·¨å¹³å°ã€è·¨æœåŠ¡å™¨ã€‚åªéœ€è¦ä¸€æ¬¡é…ç½®å¥½ç¯å¢ƒï¼Œæ¢åˆ°åˆ«çš„æœºå­ä¸Šå°±å¯ä»¥ä¸€é”®éƒ¨ç½²å¥½ï¼Œå¤§å¤§ç®€åŒ–äº†æ“ä½œ\nä¸€å¥è¯è§£å†³äº†è¿è¡Œç¯å¢ƒå’Œé…ç½®é—®é¢˜è½¯ä»¶å®¹å™¨ï¼Œæ–¹ä¾¿åšæŒç»­é›†æˆå¹¶æœ‰åŠ©äºæ•´ä½“å‘å¸ƒçš„å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚\nèƒ½å¹²å˜›ï¼Ÿ ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ è™šæ‹Ÿæœºï¼ˆvirtual machineï¼‰å°±æ˜¯å¸¦ç¯å¢ƒå®‰è£…çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚\nå®ƒå¯ä»¥åœ¨ä¸€ç§æ“ä½œç³»ç»Ÿé‡Œé¢è¿è¡Œå¦ä¸€ç§æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚åœ¨Windows ç³»ç»Ÿé‡Œé¢è¿è¡ŒLinux ç³»ç»Ÿã€‚åº”ç”¨ç¨‹åºå¯¹æ­¤æ¯«æ— æ„ŸçŸ¥ï¼Œå› ä¸ºè™šæ‹Ÿæœºçœ‹ä¸Šå»è·ŸçœŸå®ç³»ç»Ÿä¸€æ¨¡ä¸€æ ·ï¼Œè€Œå¯¹äºåº•å±‚ç³»ç»Ÿæ¥è¯´ï¼Œè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦äº†å°±åˆ æ‰ï¼Œå¯¹å…¶ä»–éƒ¨åˆ†æ¯«æ— å½±å“ã€‚è¿™ç±»è™šæ‹Ÿæœºå®Œç¾çš„è¿è¡Œäº†å¦ä¸€å¥—ç³»ç»Ÿï¼Œèƒ½å¤Ÿä½¿åº”ç”¨ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶ä¸‰è€…ä¹‹é—´çš„é€»è¾‘ä¸å˜ã€‚\nè™šæ‹Ÿæœºçš„ç¼ºç‚¹ï¼š\nèµ„æºå ç”¨å¤š å†—ä½™æ­¥éª¤å¤š å¯åŠ¨æ…¢ å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ ç”±äºå‰é¢è™šæ‹Ÿæœºå­˜åœ¨è¿™äº›ç¼ºç‚¹ï¼ŒLinux å‘å±•å‡ºäº†å¦ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼šLinux å®¹å™¨ï¼ˆLinux Containersï¼Œç¼©å†™ä¸º LXCï¼‰ã€‚\nLinux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚æœ‰äº†å®¹å™¨ï¼Œå°±å¯ä»¥å°†è½¯ä»¶è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰èµ„æºæ‰“åŒ…åˆ°ä¸€ä¸ªéš”ç¦»çš„å®¹å™¨ä¸­ã€‚å®¹å™¨ä¸è™šæ‹Ÿæœºä¸åŒï¼Œä¸éœ€è¦æ†ç»‘ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿï¼Œåªéœ€è¦è½¯ä»¶å·¥ä½œæ‰€éœ€çš„åº“èµ„æºå’Œè®¾ç½®ã€‚ç³»ç»Ÿå› æ­¤è€Œå˜å¾—é«˜æ•ˆè½»é‡å¹¶ä¿è¯éƒ¨ç½²åœ¨ä»»ä½•ç¯å¢ƒä¸­çš„è½¯ä»¶éƒ½èƒ½å§‹ç»ˆå¦‚ä¸€çš„è¿è¡Œ\næ¯”è¾ƒäº† Docker å’Œä¼ ç»Ÿè™šæ‹ŸåŒ–æ–¹å¼çš„ä¸åŒä¹‹å¤„ï¼š\nä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šå†è¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼› è€Œå®¹å™¨å†…çš„åº”ç”¨è¿›ç¨‹ç›´æ¥è¿è¡Œäºå®¿ä¸»çš„å†…æ ¸ï¼Œå®¹å™¨å†…æ²¡æœ‰è‡ªå·±çš„å†…æ ¸ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿã€‚å› æ­¤å®¹å™¨è¦æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´ä¸ºè½»ä¾¿ã€‚ æ¯ä¸ªå®¹å™¨ä¹‹é—´äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿ ï¼Œå®¹å™¨ä¹‹é—´è¿›ç¨‹ä¸ä¼šç›¸äº’å½±å“ï¼Œèƒ½åŒºåˆ†è®¡ç®—èµ„æºã€‚ å¼€å‘/è¿ç»´(DevOps) ä¸€æ¬¡æ„å»ºï¼Œéšå¤„è¿è¡Œ\næ›´å¿«é€Ÿçš„åº”ç”¨äº¤ä»˜å’Œéƒ¨ç½² ä¼ ç»Ÿçš„åº”ç”¨å¼€å‘å®Œæˆåï¼Œéœ€è¦æä¾›ä¸€å †å®‰è£…ç¨‹åºå’Œé…ç½®è¯´æ˜æ–‡æ¡£ï¼Œå®‰è£…éƒ¨ç½²åéœ€æ ¹æ®é…ç½®æ–‡æ¡£è¿›è¡Œç¹æ‚çš„é…ç½®æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚DockeråŒ–ä¹‹ååªéœ€è¦äº¤ä»˜å°‘é‡å®¹å™¨é•œåƒæ–‡ä»¶ï¼Œåœ¨æ­£å¼ç”Ÿäº§ç¯å¢ƒåŠ è½½é•œåƒå¹¶è¿è¡Œå³å¯ï¼Œåº”ç”¨å®‰è£…é…ç½®åœ¨é•œåƒé‡Œå·²ç»å†…ç½®å¥½ï¼Œå¤§å¤§èŠ‚çœéƒ¨ç½²é…ç½®å’Œæµ‹è¯•éªŒè¯æ—¶é—´ã€‚\næ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹ éšç€å¾®æœåŠ¡æ¶æ„å’ŒDockerçš„å‘å±•ï¼Œå¤§é‡çš„åº”ç”¨ä¼šé€šè¿‡å¾®æœåŠ¡æ–¹å¼æ¶æ„ï¼Œåº”ç”¨çš„å¼€å‘æ„å»ºå°†å˜æˆæ­ä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œæ¯ä¸ªDockerå®¹å™¨å°†å˜æˆä¸€å—â€œç§¯æœ¨â€ï¼Œåº”ç”¨çš„å‡çº§å°†å˜å¾—éå¸¸å®¹æ˜“ã€‚å½“ç°æœ‰çš„å®¹å™¨ä¸è¶³ä»¥æ”¯æ’‘ä¸šåŠ¡å¤„ç†æ—¶ï¼Œå¯é€šè¿‡é•œåƒè¿è¡Œæ–°çš„å®¹å™¨è¿›è¡Œå¿«é€Ÿæ‰©å®¹ï¼Œä½¿åº”ç”¨ç³»ç»Ÿçš„æ‰©å®¹ä»åŸå…ˆçš„å¤©çº§å˜æˆåˆ†é’Ÿçº§ç”šè‡³ç§’çº§ã€‚\næ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´ åº”ç”¨å®¹å™¨åŒ–è¿è¡Œåï¼Œç”Ÿäº§ç¯å¢ƒè¿è¡Œçš„åº”ç”¨å¯ä¸å¼€å‘ã€æµ‹è¯•ç¯å¢ƒçš„åº”ç”¨é«˜åº¦ä¸€è‡´ï¼Œå®¹å™¨ä¼šå°†åº”ç”¨ç¨‹åºç›¸å…³çš„ç¯å¢ƒå’ŒçŠ¶æ€å®Œå…¨å°è£…èµ·æ¥ï¼Œä¸ä¼šå› ä¸ºåº•å±‚åŸºç¡€æ¶æ„å’Œæ“ä½œç³»ç»Ÿçš„ä¸ä¸€è‡´æ€§ç»™åº”ç”¨å¸¦æ¥å½±å“ï¼Œäº§ç”Ÿæ–°çš„BUGã€‚å½“å‡ºç°ç¨‹åºå¼‚å¸¸æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æµ‹è¯•ç¯å¢ƒçš„ç›¸åŒå®¹å™¨è¿›è¡Œå¿«é€Ÿå®šä½å’Œä¿®å¤ã€‚\næ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨ Dockeræ˜¯å†…æ ¸çº§è™šæ‹ŸåŒ–ï¼Œå…¶ä¸åƒä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æŠ€æœ¯ä¸€æ ·éœ€è¦é¢å¤–çš„Hypervisoræ”¯æŒï¼Œæ‰€ä»¥åœ¨ä¸€å°ç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šä¸ªå®¹å™¨å®ä¾‹ï¼Œå¯å¤§å¤§æå‡ç‰©ç†æœåŠ¡å™¨çš„CPUå’Œå†…å­˜çš„åˆ©ç”¨ç‡ã€‚\nä¼ä¸šçº§ æ–°æµª\nç¾å›¢\nè˜‘è‡è¡—\nå»é‚£ä¸‹ï¼Ÿ å®˜ç½‘ dockerå®˜ç½‘ï¼šhttp://www.docker.com dockerä¸­æ–‡ç½‘ç«™ï¼šhttps://www.docker-cn.com/ ä»“åº“ Docker Hubå®˜ç½‘: https://hub.docker.com/ Dockerå®‰è£… å‰æè¯´æ˜ CentOS Docker å®‰è£…\nDockeræ”¯æŒä»¥ä¸‹çš„CentOSç‰ˆæœ¬ï¼š\nCentOS 7 (64-bit)\nCentOS 6.5 (64-bit) æˆ–æ›´é«˜çš„ç‰ˆæœ¬\nå‰ææ¡ä»¶\nç›®å‰ï¼ŒCentOS ä»…å‘è¡Œç‰ˆæœ¬ä¸­çš„å†…æ ¸æ”¯æŒ Dockerã€‚\nDocker è¿è¡Œåœ¨ CentOS 7 ä¸Šï¼Œè¦æ±‚ç³»ç»Ÿä¸º64ä½ã€ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸º 3.10 ä»¥ä¸Šã€‚\nDocker è¿è¡Œåœ¨ CentOS-6.5 æˆ–æ›´é«˜çš„ç‰ˆæœ¬çš„ CentOS ä¸Šï¼Œè¦æ±‚ç³»ç»Ÿä¸º64ä½ã€ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸º 2.6.32-431 æˆ–è€…æ›´é«˜ç‰ˆæœ¬ã€‚\næŸ¥çœ‹è‡ªå·±çš„å†…æ ¸\nunameå‘½ä»¤ç”¨äºæ‰“å°å½“å‰ç³»ç»Ÿç›¸å…³ä¿¡æ¯ï¼ˆå†…æ ¸ç‰ˆæœ¬å·ã€ç¡¬ä»¶æ¶æ„ã€ä¸»æœºåç§°å’Œæ“ä½œç³»ç»Ÿç±»å‹ç­‰ï¼‰ã€‚\næŸ¥çœ‹å·²å®‰è£…çš„CentOSç‰ˆæœ¬ä¿¡æ¯ï¼ˆCentOS6.8æœ‰ï¼ŒCentOS7æ— è¯¥å‘½ä»¤ï¼‰\nDockerçš„åŸºæœ¬ç»„æˆ é•œåƒ(image) Docker é•œåƒï¼ˆImageï¼‰å°±æ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ã€‚é•œåƒå¯ä»¥ç”¨æ¥åˆ›å»º Docker å®¹å™¨ï¼Œä¸€ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¾ˆå¤šå®¹å™¨ã€‚\nå®¹å™¨(container) Docker åˆ©ç”¨å®¹å™¨ï¼ˆContainerï¼‰ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚å®¹å™¨æ˜¯ç”¨é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ã€‚\nå®ƒå¯ä»¥è¢«å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ã€‚æ¯ä¸ªå®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ã€ä¿è¯å®‰å…¨çš„å¹³å°ã€‚\nå¯ä»¥æŠŠå®¹å™¨çœ‹åšæ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ Linux ç¯å¢ƒï¼ˆåŒ…æ‹¬rootç”¨æˆ·æƒé™ã€è¿›ç¨‹ç©ºé—´ã€ç”¨æˆ·ç©ºé—´å’Œç½‘ç»œç©ºé—´ç­‰ï¼‰å’Œè¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨ç¨‹åºã€‚\nå®¹å™¨çš„å®šä¹‰å’Œé•œåƒå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€å †å±‚çš„ç»Ÿä¸€è§†è§’ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äºå®¹å™¨çš„æœ€ä¸Šé¢é‚£ä¸€å±‚æ˜¯å¯è¯»å¯å†™çš„ã€‚\nä»“åº“(repository)\nä»“åº“ï¼ˆRepositoryï¼‰æ˜¯é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœºæ‰€ã€‚\nä»“åº“(Repository)å’Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰æ˜¯æœ‰åŒºåˆ«çš„ã€‚ä»“åº“æ³¨å†ŒæœåŠ¡å™¨ä¸Šå¾€å¾€å­˜æ”¾ç€å¤šä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“ä¸­åˆåŒ…å«äº†å¤šä¸ªé•œåƒï¼Œæ¯ä¸ªé•œåƒæœ‰ä¸åŒçš„æ ‡ç­¾ï¼ˆtagï¼‰ã€‚\nä»“åº“åˆ†ä¸ºå…¬å¼€ä»“åº“ï¼ˆPublicï¼‰å’Œç§æœ‰ä»“åº“ï¼ˆPrivateï¼‰ä¸¤ç§å½¢å¼ã€‚\næœ€å¤§çš„å…¬å¼€ä»“åº“æ˜¯ Docker Hub(https://hub.docker.com/)ï¼Œ\nå­˜æ”¾äº†æ•°é‡åºå¤§çš„é•œåƒä¾›ç”¨æˆ·ä¸‹è½½ã€‚å›½å†…çš„å…¬å¼€ä»“åº“åŒ…æ‹¬é˜¿é‡Œäº‘ ã€ç½‘æ˜“äº‘ ç­‰\nDocker æœ¬èº«æ˜¯ä¸€ä¸ªå®¹å™¨è¿è¡Œè½½ä½“æˆ–ç§°ä¹‹ä¸ºç®¡ç†å¼•æ“ã€‚æˆ‘ä»¬æŠŠåº”ç”¨ç¨‹åºå’Œé…ç½®ä¾èµ–æ‰“åŒ…å¥½å½¢æˆä¸€ä¸ªå¯äº¤ä»˜çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¸ªæ‰“åŒ…å¥½çš„è¿è¡Œç¯å¢ƒå°±ä¼¼ä¹ imageé•œåƒæ–‡ä»¶ã€‚åªæœ‰é€šè¿‡è¿™ä¸ªé•œåƒæ–‡ä»¶æ‰èƒ½ç”Ÿæˆ Docker å®¹å™¨ã€‚image æ–‡ä»¶å¯ä»¥çœ‹ä½œæ˜¯å®¹å™¨çš„æ¨¡æ¿ã€‚Docker æ ¹æ® image æ–‡ä»¶ç”Ÿæˆå®¹å™¨çš„å®ä¾‹ã€‚åŒä¸€ä¸ª image æ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚\nimage æ–‡ä»¶ç”Ÿæˆçš„å®¹å™¨å®ä¾‹ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç§°ä¸ºé•œåƒæ–‡ä»¶ã€‚ ä¸€ä¸ªå®¹å™¨è¿è¡Œä¸€ç§æœåŠ¡ï¼Œå½“æˆ‘ä»¬éœ€è¦çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡dockerå®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„è¿è¡Œå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„å®¹å™¨ è‡³äºä»“å‚¨ï¼Œå°±æ˜¯æ”¾äº†ä¸€å †é•œåƒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé•œåƒå‘å¸ƒåˆ°ä»“å‚¨ä¸­ï¼Œéœ€è¦çš„æ—¶å€™ä»ä»“å‚¨ä¸­æ‹‰ä¸‹æ¥å°±å¯ä»¥äº†ã€‚ Dockeræ¶æ„å›¾\nå®‰è£…æ­¥éª¤ CentOS6.8å®‰è£…Docker yum install -y epel-release Dockerä½¿ç”¨EPELå‘å¸ƒï¼ŒRHELç³»çš„OSé¦–å…ˆè¦ç¡®ä¿å·²ç»æŒæœ‰EPELä»“åº“ï¼Œå¦åˆ™å…ˆæ£€æŸ¥OSçš„ç‰ˆæœ¬ï¼Œç„¶åå®‰è£…ç›¸åº”çš„EPELåŒ…ã€‚ yum install -y docker-io å®‰è£…åçš„é…ç½®æ–‡ä»¶ï¼š/etc/sysconfig/docker å¯åŠ¨Dockeråå°æœåŠ¡ï¼šservice docker start docker versionéªŒè¯ CentOS7å®‰è£…Docker å®˜ç½‘ä¸­æ–‡å®‰è£…å‚è€ƒæ‰‹å†Œ https://docs.docker-cn.com/engine/installation/linux/docker-ce/centos/#prerequisites\nç¡®å®šä½ æ˜¯CentOS7åŠä»¥ä¸Šç‰ˆæœ¬\ncat /etc/redhat-release\nyumå®‰è£…gccç›¸å…³\nyum -y install gcc yum -y install gcc-c++ å¸è½½æ—§ç‰ˆæœ¬\n1 yum -y remove docker docker-common docker-selinux docker-engine 2018.3å®˜ç½‘ç‰ˆæœ¬\n1 yum remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-selinux docker-engine-selinux docker-engine å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…\nyum install -y yum-utils device-mapper-persistent-data lvm2 è®¾ç½®stableé•œåƒä»“åº“\nå¤§å‘ï¼š\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo æŠ¥é”™ï¼š 1 [Errno 14] curl#35 - TCP connection reset by peer 2 [Errno 12] curl#35 - Timeout æ¨èï¼š\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•\nyum makecache fast\nå®‰è£…DOCKER CE\nyum -y install docker-ce\nå¯åŠ¨docker\nsystemctl start docker\næµ‹è¯•\n```shell docker version docker run hello-world ``` é…ç½®é•œåƒåŠ é€Ÿ ```shell #åˆ›å»ºç›®å½• mkdir -p /etc/docker #åˆ›å»ºé…ç½®æ–‡ä»¶ vim /etc/docker/daemon.json #ç½‘æ˜“äº‘ {\"registry-mirrors\": [\"http://hub-mirror.c.163.com\"] } #é˜¿é‡Œäº‘ {\"registry-mirrors\": [\"https://ï½›è‡ªå·²çš„ç¼–ç ï½.mirror.aliyuncs.com\"]} #é‡è½½åŠ é€ŸåŸŸå systemctl daemon-reload #é‡å¯docker systemctl restart docker ``` å¸è½½ ```shell systemctl stop docker yum -y remove docker-ce rm -rf /var/lib/docker ``` æ°¸è¿œçš„HelloWorld é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ ç™»å½•https://dev.aliyun.com/search.html\næ³¨å†Œä¸€ä¸ªå±äºè‡ªå·±çš„é˜¿é‡Œäº‘è´¦æˆ·(å¯å¤ç”¨æ·˜å®è´¦å·)\nè·å¾—åŠ é€Ÿå™¨åœ°å€è¿æ¥ï¼ˆé•œåƒåŠ é€Ÿå™¨-ä¸“å±åŠ é€Ÿå™¨åœ°å€ï¼‰\né…ç½®æœ¬æœºDockerè¿è¡Œé•œåƒåŠ é€Ÿå™¨ é‰´äºå›½å†…ç½‘ç»œé—®é¢˜ï¼Œåç»­æ‹‰å– Docker é•œåƒååˆ†ç¼“æ…¢ï¼Œæˆ‘ä»¬å¯ä»¥éœ€è¦é…ç½®åŠ é€Ÿå™¨æ¥è§£å†³ï¼Œ æˆ‘ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœ¬äººè‡ªå·±è´¦å·çš„é•œåƒåœ°å€(éœ€è¦è‡ªå·±æ³¨å†Œæœ‰ä¸€ä¸ªå±äºä½ è‡ªå·±çš„)ï¼š https://xxxx.mirror.aliyuncs.com vim /etc/sysconfig/docker å°†è·å¾—çš„è‡ªå·±è´¦æˆ·ä¸‹çš„é˜¿é‡Œäº‘åŠ é€Ÿåœ°å€é…ç½®è¿› other_args=\"--registry-mirror=https://ä½ è‡ªå·±çš„è´¦å·åŠ é€Ÿä¿¡æ¯.mirror.aliyuncs.com\"\né‡æ–°å¯åŠ¨Dockeråå°æœåŠ¡ï¼šservice docker restart\nLinux ç³»ç»Ÿä¸‹é…ç½®å®ŒåŠ é€Ÿå™¨éœ€è¦æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ\nå¦‚æœä»ç»“æœä¸­çœ‹åˆ°äº†é…ç½®çš„â€“registry-mirrorå‚æ•°è¯´æ˜é…ç½®æˆåŠŸï¼Œå¦‚ä¸‹æ‰€ç¤º:\nç½‘æ˜“äº‘åŠ é€Ÿ åŒä¸Šè¿°é˜¿é‡Œäº‘ï¼Œåªæ˜¯é…ç½®Jsonä¸²çš„åœ°æ–¹ä¸åŒäº†:\n1 2 3 4 vim /etc/docker/daemon.json { \"registry-mirrors\": [\"http://hub-mirror.c.163.com\"] } å¯åŠ¨Dockeråå°å®¹å™¨ docker run hello-world è¾“å‡ºè¿™æ®µæç¤ºä»¥åï¼Œhello worldå°±ä¼šåœæ­¢è¿è¡Œï¼Œå®¹å™¨è‡ªåŠ¨ç»ˆæ­¢ã€‚\nrunå¹²äº†ä»€ä¹ˆï¼Ÿ åº•å±‚åŸç† Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ\nDockeræ˜¯ä¸€ä¸ªClient-Serverç»“æ„çš„ç³»ç»Ÿï¼ŒDockerå®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œ ç„¶åé€šè¿‡Socketè¿æ¥ä»å®¢æˆ·ç«¯è®¿é—®ï¼Œå®ˆæŠ¤è¿›ç¨‹ä»å®¢æˆ·ç«¯æ¥å—å‘½ä»¤å¹¶ç®¡ç†è¿è¡Œåœ¨ä¸»æœºä¸Šçš„å®¹å™¨ã€‚ å®¹å™¨ï¼Œæ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢è¯´åˆ°çš„é›†è£…ç®±\nä¸ºä»€ä¹ˆDockeræ¯”VMå¿«ï¼Ÿ\n(1)dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚ã€‚ç”±äºdockerä¸éœ€è¦Hypervisorå®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–,è¿è¡Œåœ¨dockerå®¹å™¨ä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºçš„ç¡¬ä»¶èµ„æºã€‚å› æ­¤åœ¨CPUã€å†…å­˜åˆ©ç”¨ç‡ä¸Šdockerå°†ä¼šåœ¨æ•ˆç‡ä¸Šæœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚\n(2)dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸,è€Œä¸éœ€è¦Guest OSã€‚å› æ­¤,å½“æ–°å»ºä¸€ä¸ªå®¹å™¨æ—¶,dockerä¸éœ€è¦å’Œè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚ä»è€Œé¿å…å¼•å¯»ã€åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸è¿”ä¸ªæ¯”è¾ƒè´¹æ—¶è´¹èµ„æºçš„è¿‡ç¨‹,å½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶,è™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½Guest OS,è¿”ä¸ªæ–°å»ºè¿‡ç¨‹æ˜¯åˆ†é’Ÿçº§åˆ«çš„ã€‚è€Œdockerç”±äºç›´æ¥åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ,åˆ™çœç•¥äº†è¿”ä¸ªè¿‡ç¨‹,å› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦å‡ ç§’é’Ÿã€‚\n","description":"\n","tags":[],"title":"\nDocker-ç®€ä»‹ä¸å®‰è£…ï¼ˆä¸€ï¼‰","uri":"/posts/post-294/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"MQ\nMQç®€ä»‹ ä»€ä¹ˆæ˜¯MQ MQ(Message Queue)æ˜¯ä¸€ç§è·¨è¿›ç¨‹çš„é€šä¿¡æœºåˆ¶ï¼Œç”¨äºä¼ é€’æ¶ˆæ¯ã€‚é€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æ•°\næ®ç»“æ„ã€‚\nMQçš„åº”ç”¨åœºæ™¯ å¼‚æ­¥è§£è€¦ æœ€å¸¸è§çš„ä¸€ä¸ªåœºæ™¯æ˜¯ç”¨æˆ·æ³¨å†Œåï¼Œéœ€è¦å‘é€æ³¨å†Œé‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ï¼Œä»¥å‘ŠçŸ¥ç”¨æˆ·æ³¨å†ŒæˆåŠŸã€‚ä¼ ç»Ÿçš„åšæ³•å¦‚ ä¸‹:\næ­¤æ¶æ„ä¸‹æ³¨å†Œã€é‚®ä»¶ã€çŸ­ä¿¡ä¸‰ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆåï¼Œæ‰è¿”å›æ³¨å†Œç»“æœåˆ°å®¢æˆ·ç«¯ï¼Œç”¨æˆ·æ‰èƒ½ä½¿ç”¨è´¦å·ç™»å½•ã€‚ ä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæ³¨å†ŒåŠŸèƒ½å®é™…åªéœ€è¦æ³¨å†Œç³»ç»Ÿå­˜å‚¨ç”¨æˆ·çš„è´¦æˆ·ä¿¡æ¯åï¼Œè¯¥ç”¨æˆ·ä¾¿å¯ä»¥ç™»å½•ï¼Œè€Œåç»­ çš„æ³¨å†ŒçŸ­ä¿¡å’Œé‚®ä»¶ä¸æ˜¯å³æ—¶éœ€è¦å…³æ³¨çš„æ­¥éª¤ã€‚\næ‰€ä»¥å®é™…å½“æ•°æ®å†™å…¥æ³¨å†Œç³»ç»Ÿåï¼Œæ³¨å†Œç³»ç»Ÿå°±å¯ä»¥æŠŠå…¶ä»–çš„æ“ä½œæ”¾å…¥å¯¹åº”çš„æ¶ˆæ¯é˜Ÿåˆ— MQ ä¸­ç„¶åé©¬ä¸Šè¿” å›ç”¨æˆ·ç»“æœï¼Œç”±æ¶ˆæ¯é˜Ÿåˆ— MQ å¼‚æ­¥åœ°è¿›è¡Œè¿™äº›æ“ä½œã€‚æ¶æ„å›¾å¦‚ä¸‹:\nå¼‚æ­¥è§£è€¦æ˜¯æ¶ˆæ¯é˜Ÿåˆ— MQ çš„ä¸»è¦ç‰¹ç‚¹ï¼Œä¸»è¦ç›®çš„æ˜¯å‡å°‘è¯·æ±‚å“åº”æ—¶é—´å’Œè§£è€¦ã€‚ä¸»è¦çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯å°†æ¯” è¾ƒè€—æ—¶è€Œä¸”ä¸éœ€è¦å³æ—¶(åŒæ­¥)è¿”å›ç»“æœçš„æ“ä½œä½œä¸ºæ¶ˆæ¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ã€‚åŒæ—¶ï¼Œç”±äºä½¿ç”¨äº†æ¶ˆæ¯é˜Ÿåˆ— MQï¼Œåªè¦ä¿è¯æ¶ˆæ¯æ ¼å¼ä¸å˜ï¼Œæ¶ˆæ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹å¹¶ä¸éœ€è¦å½¼æ­¤è”ç³»ï¼Œä¹Ÿä¸éœ€è¦å—å¯¹æ–¹çš„å½±å“ï¼Œå³ è§£è€¦åˆã€‚\næµé‡å‰Šå³° æµé‡å‰Šå³°ä¹Ÿæ˜¯æ¶ˆæ¯é˜Ÿåˆ— MQ çš„å¸¸ç”¨åœºæ™¯ï¼Œä¸€èˆ¬åœ¨ç§’æ€æˆ–å›¢é˜ŸæŠ¢è´­(é«˜å¹¶å‘)æ´»åŠ¨ä¸­ä½¿ç”¨å¹¿æ³›ã€‚åœ¨ç§’æ€æˆ–å›¢ é˜ŸæŠ¢è´­æ´»åŠ¨ä¸­ï¼Œç”±äºç”¨æˆ·è¯·æ±‚é‡è¾ƒå¤§ï¼Œå¯¼è‡´æµé‡æš´å¢ï¼Œç§’æ€çš„åº”ç”¨åœ¨å¤„ç†å¦‚æ­¤å¤§é‡çš„è®¿é—®æµé‡åï¼Œä¸‹æ¸¸ çš„é€šçŸ¥ç³»ç»Ÿæ— æ³•æ‰¿è½½æµ·é‡çš„è°ƒç”¨é‡ï¼Œç”šè‡³ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒç­‰é—®é¢˜è€Œå‘ç”Ÿæ¼é€šçŸ¥çš„æƒ…å†µã€‚ä¸ºè§£å†³è¿™äº›é—® é¢˜ï¼Œå¯åœ¨åº”ç”¨å’Œä¸‹æ¸¸é€šçŸ¥ç³»ç»Ÿä¹‹é—´åŠ å…¥æ¶ˆæ¯é˜Ÿåˆ— MQã€‚\nç§’æ€å¤„ç†æµç¨‹å¦‚ä¸‹æ‰€è¿°:\nç”¨æˆ·å‘èµ·æµ·é‡ç§’æ€è¯·æ±‚åˆ°ç§’æ€ä¸šåŠ¡å¤„ç†ç³»ç»Ÿã€‚\nç§’æ€å¤„ç†ç³»ç»ŸæŒ‰ç…§ç§’æ€å¤„ç†é€»è¾‘å°†æ»¡è¶³ç§’æ€æ¡ä»¶çš„è¯·æ±‚å‘é€è‡³æ¶ˆæ¯é˜Ÿåˆ— MQã€‚\nä¸‹æ¸¸çš„é€šçŸ¥ç³»ç»Ÿè®¢é˜…æ¶ˆæ¯é˜Ÿåˆ— MQ çš„ç§’æ€ç›¸å…³æ¶ˆæ¯ï¼Œå†å°†ç§’æ€æˆåŠŸçš„æ¶ˆæ¯å‘é€åˆ°ç›¸åº”ç”¨æˆ·ã€‚\nç”¨æˆ·æ”¶åˆ°ç§’æ€æˆåŠŸçš„é€šçŸ¥ã€‚\nå¸¸è§çš„MQäº§å“ ç›®å‰ä¸šç•Œæœ‰å¾ˆå¤šMQäº§å“ï¼Œæ¯”è¾ƒå‡ºåçš„æœ‰ä¸‹é¢è¿™äº›:\nZeroMQ å·ç§°æœ€å¿«çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œå°¤å…¶é’ˆå¯¹å¤§ååé‡çš„éœ€æ±‚åœºæ™¯ã€‚æ‰©å±•æ€§å¥½ï¼Œå¼€å‘æ¯”è¾ƒçµæ´»ï¼Œé‡‡ç”¨Cè¯­è¨€å® ç°ï¼Œå®é™…ä¸Šåªæ˜¯ä¸€ä¸ªsocketåº“çš„é‡æ–°å°è£…ï¼Œå¦‚æœåšä¸ºæ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨ï¼Œéœ€è¦å¼€å‘å¤§é‡çš„ä»£ç ã€‚ZeroMQä»… æä¾›éæŒä¹…æ€§çš„é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœdownæœºï¼Œæ•°æ®å°†ä¼šä¸¢å¤±ã€‚\nRabbitMQ ä½¿ç”¨erlangè¯­è¨€å¼€å‘ï¼Œæ€§èƒ½è¾ƒå¥½ï¼Œé€‚åˆäºä¼ä¸šçº§çš„å¼€å‘ã€‚ä½†æ˜¯ä¸åˆ©äºåšäºŒæ¬¡å¼€å‘å’Œç»´æŠ¤ã€‚\nActiveMQ å†å²æ‚ ä¹…çš„Apacheå¼€æºé¡¹ç›®ã€‚å·²ç»åœ¨å¾ˆå¤šäº§å“ä¸­å¾—åˆ°åº”ç”¨ï¼Œå®ç°äº†JMS1.1è§„èŒƒï¼Œå¯ä»¥å’Œspring-jmsè½» æ¾èåˆï¼Œå®ç°äº†å¤šç§åè®®ï¼Œæ”¯æŒæŒä¹…åŒ–åˆ°æ•°æ®åº“ï¼Œå¯¹é˜Ÿåˆ—æ•°è¾ƒå¤šçš„æƒ…å†µæ”¯æŒä¸å¥½ã€‚\nRocketMQ é˜¿é‡Œå·´å·´çš„MQä¸­é—´ä»¶ï¼Œç”±javaè¯­è¨€å¼€å‘ï¼Œæ€§èƒ½éå¸¸å¥½ï¼Œèƒ½å¤Ÿæ’‘ä½åŒåä¸€çš„å¤§æµé‡ï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥å¾ˆç®€ å•ã€‚\nKafka Kafkaæ˜¯Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½è·¨è¯­è¨€åˆ†å¸ƒå¼Publish/Subscribeæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œç›¸å¯¹ äºActiveMQæ˜¯ä¸€ä¸ªéå¸¸è½»é‡çº§çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œé™¤äº†æ€§èƒ½éå¸¸å¥½ä¹‹å¤–ï¼Œè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œè‰¯å¥½çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚\nRocketMQå…¥é—¨ RocketMQæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç°åœ¨æ˜¯Apacheçš„ä¸€ä¸ªé¡¶çº§é¡¹ç›®ã€‚åœ¨é˜¿é‡Œå†…éƒ¨ä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œå·²ç»ç»è¿‡äº†\"åŒ11\"è¿™ç§ä¸‡äº¿çº§çš„æ¶ˆæ¯æµè½¬ã€‚\nRocketMQç¯å¢ƒæ­å»º æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆåœ¨linuxå¹³å°ä¸‹å®‰è£…ä¸€ä¸ªRocketMQçš„æœåŠ¡\nç¯å¢ƒå‡†å¤‡ ä¸‹è½½RocketMQ\nhttp://rocketmq.apache.org/release_notes/release-notes-4.4.0/\nç¯å¢ƒè¦æ±‚\nLinux 64ä½æ“ä½œç³»ç»Ÿ 64bit\nJDK 1.8+\nå®‰è£…RocketMQ 1 ä¸Šä¼ æ–‡ä»¶åˆ°Linuxç³»ç»Ÿ\n1 2 [root@maruifu rocketmq]# ls /usr/local/src/ rocketmq-all-4.4.0-bin-release.zip 2 è§£å‹åˆ°å®‰è£…ç›®å½•\n1 2 3 [root@maruifu src]# unzip rocketmq-all-4.4.0-bin-release.zip [root@maruifu src]# mv rocketmq-all-4.4.0-bin-release ../rocketmq å¯åŠ¨RocketMQ 1åˆ‡æ¢åˆ°å®‰è£…ç›®å½•\n1 2 [root@maruifu rocketmq]# ls benchmark bin conf lib LICENSE NOTICE README.md 2 å¯åŠ¨NameServer\n1 2 3 4 [root@maruifu rocketmq]# nohup ./bin/mqnamesrv \u0026 [1] 1467 # åªè¦è¿›ç¨‹ä¸æŠ¥é”™,å°±åº”è¯¥æ˜¯å¯åŠ¨æˆåŠŸäº†,å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æ—¥å¿— [root@maruifu rocketmq]# tail -f /root/logs/rocketmqlogs/namesrv.log 3 å¯åŠ¨Broker\n1 2 3 4 5 # ç¼–è¾‘bin/runbroker.sh å’Œ bin/runserver.shæ–‡ä»¶,ä¿®æ”¹é‡Œé¢çš„ # JAVA_OPT=\"${JAVA_OPT} -server -Xms8g -Xmx8g -Xmn4g\" # ä¸ºJAVA_OPT=\"${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn128m\" [root@maruifu rocketmq]# nohup bin/mqbroker -n localhost:9876 \u0026 [root@maruifu rocketmq]# tail -f /root/logs/rocketmqlogs/broker.log æµ‹è¯•RocketMQ 1 æµ‹è¯•æ¶ˆæ¯å‘é€\n1 2 3 [root@maruifu rocketmq]# export NAMESRV_ADDR=localhost:9876 [root@maruifu rocketmq]# bin/tools.sh org.apache.rocketmq.example.quickstart.Producer 2 æµ‹è¯•æ¶ˆæ¯æ¥æ”¶\n1 2 [root@maruifu rocketmq]# export NAMESRV_ADDR=localhost:9876 [root@maruifu rocketmq]# bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer å…³é—­RocketMQ 1 2 [root@maruifu rocketmq]# bin/mqshutdown broker [root@maruifu rocketmq]# bin/mqshutdown namesrv RocketMQçš„æ¶æ„åŠæ¦‚å¿µ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ•´ä½“å¯ä»¥åˆ†æˆ4ä¸ªè§’è‰²ï¼Œåˆ†åˆ«æ˜¯:NameServerï¼ŒBrokerï¼ŒProducerï¼ŒConsumerã€‚\nBroker(é‚®é€’å‘˜):Brokeræ˜¯RocketMQçš„æ ¸å¿ƒï¼Œè´Ÿè´£æ¶ˆæ¯çš„æ¥æ”¶ï¼Œå­˜å‚¨ï¼ŒæŠ•é€’ç­‰åŠŸèƒ½\n**NameServer(é‚®å±€):**æ¶ˆæ¯é˜Ÿåˆ—çš„åè°ƒè€…ï¼ŒBrokerå‘å®ƒæ³¨å†Œè·¯ç”±ä¿¡æ¯ï¼ŒåŒæ—¶Producerå’ŒConsumer å‘å…¶è·å–è·¯ç”±ä¿¡æ¯Producer(å¯„ä»¶äºº)æ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œéœ€è¦ä»NameServerè·å–Brokerä¿¡æ¯ï¼Œç„¶åä¸ Brokerå»ºç«‹è¿æ¥ï¼Œå‘Brokerå‘é€æ¶ˆæ¯\nConsumer(æ”¶ä»¶äºº) :æ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œéœ€è¦ä»NameServerè·å–Brokerä¿¡æ¯ï¼Œç„¶åä¸Brokerå»ºç«‹è¿ æ¥ï¼Œä»Brokerè·å–æ¶ˆæ¯\n**Topic(åœ°åŒº):**ç”¨æ¥åŒºåˆ†ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼Œå‘é€å’Œæ¥æ”¶æ¶ˆæ¯å‰éƒ½éœ€è¦å…ˆåˆ›å»ºTopicï¼Œé’ˆå¯¹Topicæ¥å‘é€ å’Œæ¥æ”¶æ¶ˆæ¯Message Queue(é‚®ä»¶)ä¸ºäº†æé«˜æ€§èƒ½å’Œååé‡ï¼Œå¼•å…¥äº†Message Queueï¼Œä¸€ä¸ªTopicå¯ ä»¥è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªMessage Queueï¼Œè¿™æ ·æ¶ˆæ¯å°±å¯ä»¥å¹¶è¡Œå¾€å„ä¸ªMessage Queueå‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹ è€…ä¹Ÿå¯ä»¥å¹¶è¡Œçš„ä»å¤šä¸ªMessage Queueè¯»å–æ¶ˆæ¯\n**Message:**Message æ˜¯æ¶ˆæ¯çš„è½½ä½“ã€‚\nProducer Group:ç”Ÿäº§è€…ç»„ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¤šä¸ªå‘é€åŒä¸€ç±»æ¶ˆæ¯çš„ç”Ÿäº§è€…ç§°ä¹‹ä¸ºä¸€ä¸ªç”Ÿäº§è€…ç»„ã€‚\nConsumer Group:æ¶ˆè´¹è€…ç»„ï¼Œæ¶ˆè´¹åŒä¸€ç±»æ¶ˆæ¯çš„å¤šä¸ª consumer å®ä¾‹ç»„æˆä¸€ä¸ªæ¶ˆè´¹è€…ç»„ã€‚\nRocketMQæ§åˆ¶å°å®‰è£… 1 ä¸‹è½½\n1 2 # åœ¨gitä¸Šä¸‹è½½ä¸‹é¢çš„å·¥ç¨‹ rocketmq-console-1.0.0 https://github.com/apache/rocketmq-externals/releases 2 ä¿®æ”¹é…ç½®æ–‡ä»¶\n1 2 3 4 5 # ä¿®æ”¹é…ç½®æ–‡ä»¶ rocketmq-console\\src\\main\\resources\\application.properties #é¡¹ç›®å¯åŠ¨åçš„ç«¯å£å· server.port=7777 #nameservçš„åœ°å€ï¼Œæ³¨æ„é˜²ç«å¢™è¦å¼€å¯ 9876ç«¯å£ rocketmq.config.namesrvAddr=192.168.109.131:9876 3 æ‰“æˆjaråŒ…ï¼Œå¹¶å¯åŠ¨\n1 2 3 4 # è¿›å…¥æ§åˆ¶å°é¡¹ç›®ï¼Œå°†å·¥ç¨‹æ‰“æˆjaråŒ… mvn clean package -Dmaven.test.skip=true # å¯åŠ¨æ§åˆ¶å° java -jar target/rocketmq-console-ng-1.0.0.jar 4 è®¿é—®æ§åˆ¶å°\næ¶ˆæ¯å‘é€å’Œæ¥æ”¶æ¼”ç¤º æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨Javaä»£ç æ¥æ¼”ç¤ºæ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶\n1 2 3 4 5 \u003cdependency\u003e \u003cgroupId\u003eorg.apache.rocketmq\u003c/groupId\u003e \u003cartifactId\u003erocketmq-spring-boot-starter\u003c/artifactId\u003e \u003cversion\u003e2.0.2\u003c/version\u003e \u003c/dependency\u003e å‘é€æ¶ˆæ¯ æ¶ˆæ¯å‘é€æ­¥éª¤:\nåˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…, æŒ‡å®šç”Ÿäº§è€…æ‰€å±çš„ç»„å æŒ‡å®šNameserveråœ°å€ å¯åŠ¨ç”Ÿäº§è€… åˆ›å»ºæ¶ˆæ¯å¯¹è±¡ï¼ŒæŒ‡å®šä¸»é¢˜ã€æ ‡ç­¾å’Œæ¶ˆæ¯ä½“ å‘é€æ¶ˆæ¯ å…³é—­ç”Ÿäº§è€… 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //å‘é€æ¶ˆæ¯ public class RocketMQSendTest { public static void main(String[] args) throws Exception { //1. åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…, æŒ‡å®šç”Ÿäº§è€…æ‰€å±çš„ç»„å DefaultMQProducer producer = new DefaultMQProducer(\"myproducer-group\"); //2. æŒ‡å®šNameserveråœ°å€ producer.setNamesrvAddr(\"192.168.109.131:9876\"); //3. å¯åŠ¨ç”Ÿäº§è€… producer.start(); //4. åˆ›å»ºæ¶ˆæ¯å¯¹è±¡ï¼ŒæŒ‡å®šä¸»é¢˜ã€æ ‡ç­¾å’Œæ¶ˆæ¯ä½“ Message msg = new Message(\"myTopic\", \"myTag\", (\"RocketMQ Message\").getBytes()); //5. å‘é€æ¶ˆæ¯ SendResult sendResult = producer.send(msg, 10000); System.out.println(sendResult); //6. å…³é—­ç”Ÿäº§è€… producer.shutdown(); } } æ¥æ”¶æ¶ˆæ¯ æ¶ˆæ¯æ¥æ”¶æ­¥éª¤:\nåˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…, æŒ‡å®šæ¶ˆè´¹è€…æ‰€å±çš„ç»„å æŒ‡å®šNameserveråœ°å€ æŒ‡å®šæ¶ˆè´¹è€…è®¢é˜…çš„ä¸»é¢˜å’Œæ ‡ç­¾ è®¾ç½®å›è°ƒå‡½æ•°ï¼Œç¼–å†™å¤„ç†æ¶ˆæ¯çš„æ–¹æ³• å¯åŠ¨æ¶ˆæ¯æ¶ˆè´¹è€… 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public static void main(String[] args) throws MQClientException { //1. åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…, æŒ‡å®šæ¶ˆè´¹è€…æ‰€å±çš„ç»„å DefaultMQPushConsumer consumer = new DefaultMQPushConsumer( \"myconsumer- group\"); //2. æŒ‡å®šNameserveråœ°å€ consumer.setNamesrvAddr(\"192.168.109.131:9876\"); //3. æŒ‡å®šæ¶ˆè´¹è€…è®¢é˜…çš„ä¸»é¢˜å’Œæ ‡ç­¾ consumer.subscribe(\"myTopic\", \"*\"); //4. è®¾ç½®å›è°ƒå‡½æ•°ï¼Œç¼–å†™å¤„ç†æ¶ˆæ¯çš„æ–¹æ³• consumer.registerMessageListener(new MessageListenerConcurrently() { @Override public ConsumeConcurrentlyStatus consumeMessage( List\u003cMessageExt\u003e msgs, ConsumeConcurrentlyContext context) { System.out.println(\"Receive New Messages: \" + msgs); //è¿”å›æ¶ˆè´¹çŠ¶æ€ return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; } }); //5. å¯åŠ¨æ¶ˆæ¯æ¶ˆè´¹è€… consumer.start(); System.out.println(\"Consumer Started.\"); } æ¡ˆä¾‹ æ¥ä¸‹æ¥æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ç§åœºæ™¯: ä¸‹å•æˆåŠŸä¹‹åï¼Œå‘ä¸‹å•ç”¨æˆ·å‘é€çŸ­ä¿¡ã€‚è®¾è®¡å›¾å¦‚ä¸‹\nè®¢å•å¾®æœåŠ¡å‘é€æ¶ˆæ¯ 1 åœ¨ shop-order ä¸­æ·»åŠ rocketmqçš„ä¾èµ–\n1 2 3 4 5 6 7 8 9 10 11 \u003c!--rocketmq--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.rocketmq\u003c/groupId\u003e \u003cartifactId\u003erocketmq-spring-boot-starter\u003c/artifactId\u003e \u003cversion\u003e2.0.2\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.rocketmq\u003c/groupId\u003e \u003cartifactId\u003erocketmq-client\u003c/artifactId\u003e \u003cversion\u003e4.4.0\u003c/version\u003e \u003c/dependency\u003e 2 æ·»åŠ é…ç½®\n1 2 3 4 5 6 rocketmq: #rocketMQæœåŠ¡çš„åœ°å€ name-server: 192.168.109.131:9876 producer: # ç”Ÿäº§è€…ç»„ group: shop-order 3 ç¼–å†™æµ‹è¯•ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 @RestController @Slf4j public class OrderController2 { @Autowired private OrderService orderService; @Autowired private ProductService productService; @Autowired private RocketMQTemplate rocketMQTemplate; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•,è¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); //é€šè¿‡feginè°ƒç”¨å•†å“å¾®æœåŠ¡ Product product = productService.findByPid(pid); if (product == null) { Order order = new Order(); order.setPname(\"ä¸‹å•å¤±è´¥\"); return order; } log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\" + JSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); //ä¸‹å•æˆåŠŸä¹‹å,å°†æ¶ˆæ¯æ”¾åˆ°mqä¸­ rocketMQTemplate.convertAndSend(\"order-topic\", order); return order; } } ç”¨æˆ·å¾®æœåŠ¡è®¢é˜…æ¶ˆæ¯ 1 ä¿®æ”¹ shop-user æ¨¡å—é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eshop-user\u003c/artifactId\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cartifactId\u003eshop-common\u003c/artifactId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos- discovery\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.rocketmq\u003c/groupId\u003e \u003cartifactId\u003erocketmq-spring-boot-starter\u003c/artifactId\u003e \u003cversion\u003e2.0.2\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.rocketmq\u003c/groupId\u003e \u003cartifactId\u003erocketmq-client\u003c/artifactId\u003e \u003cversion\u003e4.4.0\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e 2 ä¿®æ”¹ä¸»ç±»\n1 2 3 4 5 6 7 @SpringBootApplication @EnableDiscoveryClient public class UserApplication { public static void main(String[] args) { SpringApplication.run(UserApplication.class, args); } } 3 ä¿®æ”¹é…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 server: port: 8071 spring: application: name: service-user datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql:///shop? serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: root jpa: properties: hibernate: hbm2ddl: auto: update dialect: org.hibernate.dialect.MySQL5InnoDBDialect cloud: nacos: discovery: server-addr: 127.0.0.1:8848 rocketmq: name-server: 192.168.109.131:9876 4 ç¼–å†™æ¶ˆæ¯æ¥æ”¶æœåŠ¡\n1 2 3 4 5 6 7 8 9 10 11 package cn.maruifu.service; //å‘é€çŸ­ä¿¡çš„æœåŠ¡ @Slf4j @Service @RocketMQMessageListener(consumerGroup = \"shop-user\", topic = \"order-topic\") public class SmsService implements RocketMQListener\u003cOrder\u003e { @Override public void onMessage(Order order) { log.info(\"æ”¶åˆ°ä¸€ä¸ªè®¢å•ä¿¡æ¯{},æ¥ä¸‹æ¥å‘é€çŸ­ä¿¡\", JSON.toJSONString(order)); } } 5 å¯åŠ¨æœåŠ¡ï¼Œæ‰§è¡Œä¸‹å•æ“ä½œï¼Œè§‚çœ‹åå°è¾“å‡º\nå‘é€ä¸åŒç±»å‹çš„æ¶ˆæ¯ æ™®é€šæ¶ˆæ¯ RocketMQæä¾›ä¸‰ç§æ–¹å¼æ¥å‘é€æ™®é€šæ¶ˆæ¯:å¯é åŒæ­¥å‘é€ã€å¯é å¼‚æ­¥å‘é€å’Œå•å‘å‘é€ã€‚\nå¯é åŒæ­¥å‘é€\nåŒæ­¥å‘é€æ˜¯æŒ‡æ¶ˆæ¯å‘é€æ–¹å‘å‡ºæ•°æ®åï¼Œä¼šåœ¨æ”¶åˆ°æ¥æ”¶æ–¹å‘å›å“åº”ä¹‹åæ‰å‘ä¸‹ä¸€ä¸ªæ•°æ®åŒ…çš„é€šè®¯æ–¹å¼ã€‚æ­¤ç§æ–¹å¼åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚é‡è¦é€šçŸ¥é‚®ä»¶ã€æŠ¥åçŸ­ä¿¡é€šçŸ¥ã€è¥é”€çŸ­ä¿¡ç³»ç»Ÿç­‰ã€‚\nå¯é å¼‚æ­¥å‘é€\nå¼‚æ­¥å‘é€æ˜¯æŒ‡å‘é€æ–¹å‘å‡ºæ•°æ®åï¼Œä¸ç­‰æ¥æ”¶æ–¹å‘å›å“åº”ï¼Œæ¥ç€å‘é€ä¸‹ä¸ªæ•°æ®åŒ…çš„é€šè®¯æ–¹å¼ã€‚å‘é€ æ–¹é€šè¿‡å›è°ƒæ¥å£æ¥æ”¶æœåŠ¡å™¨å“åº”ï¼Œå¹¶å¯¹å“åº”ç»“æœè¿›è¡Œå¤„ç†ã€‚\nå¼‚æ­¥å‘é€ä¸€èˆ¬ç”¨äºé“¾è·¯è€—æ—¶è¾ƒé•¿ï¼Œå¯¹ RT å“åº”æ—¶é—´è¾ƒä¸ºæ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·è§†é¢‘ä¸Šä¼ åé€šçŸ¥ å¯åŠ¨è½¬ç æœåŠ¡ï¼Œè½¬ç å®Œæˆåé€šçŸ¥æ¨é€è½¬ç ç»“æœç­‰ã€‚\nå•å‘å‘é€\nå•å‘å‘é€æ˜¯æŒ‡å‘é€æ–¹åªè´Ÿè´£å‘é€æ¶ˆæ¯ï¼Œä¸ç­‰å¾…æœåŠ¡å™¨å›åº”ä¸”æ²¡æœ‰å›è°ƒå‡½æ•°è§¦å‘ï¼Œå³åªå‘é€è¯·æ±‚ä¸ ç­‰å¾…åº”ç­”ã€‚\né€‚ç”¨äºæŸäº›è€—æ—¶éå¸¸çŸ­ï¼Œä½†å¯¹å¯é æ€§è¦æ±‚å¹¶ä¸é«˜çš„åœºæ™¯ï¼Œä¾‹å¦‚æ—¥å¿—æ”¶é›†ã€‚\n1 2 3 4 5 6 7 8 9 \u003c!--ä¾èµ–--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-test\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ejunit\u003c/groupId\u003e \u003cartifactId\u003ejunit\u003c/artifactId\u003e \u003c/dependency\u003e 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 //æµ‹è¯• @RunWith(SpringRunner.class) @SpringBootTest(classes = OrderApplication.class) public class MessageTypeTest { @Autowired private RocketMQTemplate rocketMQTemplate; //åŒæ­¥æ¶ˆæ¯ @Test public void testSyncSend() { //å‚æ•°ä¸€: topicï¼Œ å¦‚æœæƒ³æ·»åŠ tag å¯ä»¥ä½¿ç”¨\"topic:tag\"çš„å†™æ³• // å‚æ•°äºŒ: æ¶ˆæ¯å†…å®¹ SendResult sendResult = rocketMQTemplate.syncSend(\"test-topic-1\", \"è¿™æ˜¯ä¸€æ¡åŒæ­¥æ¶ˆæ¯\"); System.out.println(sendResult); } //å¼‚æ­¥æ¶ˆæ¯ @Test public void testSyncSendMsg () { //å‚æ•°ä¸€: topic, å¦‚æœæƒ³æ·»åŠ tag å¯ä»¥ä½¿ç”¨\"topic:tag\"çš„å†™æ³• //å‚æ•°äºŒ: æ¶ˆæ¯å†…å®¹ //å‚æ•°ä¸‰: å›è°ƒå‡½æ•°, å¤„ç†è¿”å›ç»“æœ rocketMQTemplate.asyncSend(\"test-topic-1\", \"è¿™æ˜¯ä¸€æ¡å¼‚æ­¥æ¶ˆæ¯\", new SendCallback() { @Override public void onSuccess(SendResult sendResult) { System.out.println(sendResult); } @Override public void onException(Throwable throwable) { System.out.println(throwable); } } ); //è®©çº¿ç¨‹ä¸è¦ç»ˆæ­¢ Thread.sleep(30000000); } //å•å‘æ¶ˆæ¯ @Test public void testOneWay () { rocketMQTemplate.sendOneWay(\"test-topic-1\", \"è¿™æ˜¯ä¸€æ¡å•å‘æ¶ˆæ¯\"); } } ä¸‰ç§å‘é€æ–¹å¼çš„å¯¹æ¯”\nå‘é€æ–¹å¼ å‘é€ TPS å‘é€ç»“æœåé¦ˆ å¯é æ€§ åŒæ­¥å‘é€ å¿« æœ‰ ä¸ä¸¢å¤± å¼‚æ­¥å‘é€ å¿« æœ‰ ä¸ä¸¢å¤± å•å‘å‘é€ æœ€å¿« æ—  ä¸ä¸¢å¤± é¡ºåºæ¶ˆæ¯ é¡ºåºæ¶ˆæ¯æ˜¯æ¶ˆæ¯é˜Ÿåˆ—æä¾›çš„ä¸€ç§ä¸¥æ ¼æŒ‰ç…§é¡ºåºæ¥å‘å¸ƒå’Œæ¶ˆè´¹çš„æ¶ˆæ¯ç±»å‹\n//åŒæ­¥é¡ºåºæ¶ˆæ¯[å¼‚æ­¥é¡ºåº å•å‘é¡ºåºå†™æ³•ç±»ä¼¼] public void testSyncSendOrderly() { //ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºé˜Ÿåˆ—çš„é€‰æ‹© rocketMQTemplate.syncSendOrderly(\"test-topic-1\", \"è¿™æ˜¯ä¸€æ¡å¼‚æ­¥é¡ºåºæ¶ˆæ¯\", \"xxxx\"); } äº‹åŠ¡æ¶ˆæ¯ RocketMQæä¾›äº†äº‹åŠ¡æ¶ˆæ¯ï¼Œé€šè¿‡äº‹åŠ¡æ¶ˆæ¯å°±èƒ½è¾¾åˆ°åˆ†å¸ƒå¼äº‹åŠ¡çš„æœ€ç»ˆä¸€è‡´ã€‚\näº‹åŠ¡æ¶ˆæ¯äº¤äº’æµç¨‹:\nä¸¤ä¸ªæ¦‚å¿µ:\nåŠäº‹åŠ¡æ¶ˆæ¯:æš‚ä¸èƒ½æŠ•é€’çš„æ¶ˆæ¯ï¼Œå‘é€æ–¹å·²ç»æˆåŠŸåœ°å°†æ¶ˆæ¯å‘é€åˆ°äº†RocketMQæœåŠ¡ç«¯ï¼Œä½†æ˜¯æœåŠ¡ç«¯æœª æ”¶åˆ°ç”Ÿäº§è€…å¯¹è¯¥æ¶ˆæ¯çš„äºŒæ¬¡ç¡®è®¤ï¼Œæ­¤æ—¶è¯¥æ¶ˆæ¯è¢«æ ‡è®°æˆâ€œæš‚ä¸èƒ½æŠ•é€’â€çŠ¶æ€ï¼Œå¤„äºè¯¥ç§çŠ¶æ€ä¸‹çš„æ¶ˆæ¯å³åŠ äº‹åŠ¡æ¶ˆæ¯ã€‚\næ¶ˆæ¯å›æŸ¥:ç”±äºç½‘ç»œé—ªæ–­ã€ç”Ÿäº§è€…åº”ç”¨é‡å¯ç­‰åŸå› ï¼Œå¯¼è‡´æŸæ¡äº‹åŠ¡æ¶ˆæ¯çš„äºŒæ¬¡ç¡®è®¤ä¸¢å¤±ï¼ŒRocketMQæœ åŠ¡ç«¯é€šè¿‡æ‰«æå‘ç°æŸæ¡æ¶ˆæ¯é•¿æœŸå¤„äºâ€œåŠäº‹åŠ¡æ¶ˆæ¯â€æ—¶ï¼Œéœ€è¦ä¸»åŠ¨å‘æ¶ˆæ¯ç”Ÿäº§è€…è¯¢é—®è¯¥æ¶ˆæ¯çš„æœ€ç»ˆçŠ¶æ€ (Commit æˆ–æ˜¯ Rollback)ï¼Œè¯¥è¯¢é—®è¿‡ç¨‹å³æ¶ˆæ¯å›æŸ¥ã€‚\näº‹åŠ¡æ¶ˆæ¯å‘é€æ­¥éª¤:\nå‘é€æ–¹å°†åŠäº‹åŠ¡æ¶ˆæ¯å‘é€è‡³RocketMQæœåŠ¡ç«¯ã€‚ RocketMQæœåŠ¡ç«¯å°†æ¶ˆæ¯æŒä¹…åŒ–ä¹‹åï¼Œå‘å‘é€æ–¹è¿”å›Ackç¡®è®¤æ¶ˆæ¯å·²ç»å‘é€æˆåŠŸï¼Œæ­¤æ—¶æ¶ˆæ¯ä¸ºåŠäº‹åŠ¡æ¶ˆæ¯ã€‚ å‘é€æ–¹å¼€å§‹æ‰§è¡Œæœ¬åœ°äº‹åŠ¡é€»è¾‘ã€‚ å‘é€æ–¹æ ¹æ®æœ¬åœ°äº‹åŠ¡æ‰§è¡Œç»“æœå‘æœåŠ¡ç«¯æäº¤äºŒæ¬¡ç¡®è®¤(Commit æˆ–æ˜¯ Rollback)ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°Commit çŠ¶æ€åˆ™å°†åŠäº‹åŠ¡æ¶ˆæ¯æ ‡è®°ä¸ºå¯æŠ•é€’ï¼Œè®¢é˜…æ–¹æœ€ç»ˆå°†æ”¶åˆ°è¯¥æ¶ˆæ¯;æœåŠ¡ç«¯æ”¶åˆ° Rollback çŠ¶ æ€åˆ™åˆ é™¤åŠäº‹åŠ¡æ¶ˆæ¯ï¼Œè®¢é˜…æ–¹å°†ä¸ä¼šæ¥å—è¯¥æ¶ˆæ¯ã€‚ äº‹åŠ¡æ¶ˆæ¯å›æŸ¥æ­¥éª¤:\nåœ¨æ–­ç½‘æˆ–è€…æ˜¯åº”ç”¨é‡å¯çš„ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸Šè¿°æ­¥éª¤4æäº¤çš„äºŒæ¬¡ç¡®è®¤æœ€ç»ˆæœªåˆ°è¾¾æœåŠ¡ç«¯ï¼Œç»è¿‡å›ºå®šæ—¶ é—´åæœåŠ¡ç«¯å°†å¯¹è¯¥æ¶ˆæ¯å‘èµ·æ¶ˆæ¯å›æŸ¥ã€‚ å‘é€æ–¹æ”¶åˆ°æ¶ˆæ¯å›æŸ¥åï¼Œéœ€è¦æ£€æŸ¥å¯¹åº”æ¶ˆæ¯çš„æœ¬åœ°äº‹åŠ¡æ‰§è¡Œçš„æœ€ç»ˆç»“æœã€‚ å‘é€æ–¹æ ¹æ®æ£€æŸ¥å¾—åˆ°çš„æœ¬åœ°äº‹åŠ¡çš„æœ€ç»ˆçŠ¶æ€å†æ¬¡æäº¤äºŒæ¬¡ç¡®è®¤ï¼ŒæœåŠ¡ç«¯ä»æŒ‰ç…§æ­¥éª¤4å¯¹åŠäº‹åŠ¡æ¶ˆæ¯è¿›è¡Œæ“ä½œã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 //äº‹ç‰©æ—¥å¿— @Entity(name = \"shop_txlog\") @Data public class TxLog { @Id private String txLogId; private String content; private Date date; } @Service public class OrderServiceImpl4 { @Autowiredprivate OrderDao orderDao; @Autowired private TxLogDao txLogDao; @Autowired private RocketMQTemplate rocketMQTemplate; public void createOrderBefore(Order order) { String txId = UUID.randomUUID().toString(); //å‘é€åŠäº‹åŠ¡æ¶ˆæ¯ rocketMQTemplate.sendMessageInTransaction( \"tx_producer_group\",\"tx_topic\", MessageBuilder.withPayload(order).setHeader(\"txId\", txId).build(),order); } //æœ¬åœ°äº‹ç‰© @Transactional public void createOrder(String txId, Order order) { //æœ¬åœ°äº‹ç‰©ä»£ç  orderDao.save(order); // è®°å½•æ—¥å¿—åˆ°æ•°æ®åº“,å›æŸ¥ä½¿ç”¨ TxLog txLog = new TxLog(); txLog.setTxLogId(txId); txLog.setContent(\"äº‹ç‰©æµ‹è¯•\"); txLog.setDate(new Date()); txLogDao.save(txLog); } } @RocketMQTransactionListener(txProducerGroup = \"tx_producer_group\") public class OrderServiceImpl4Listener implements RocketMQLocalTransactionListener { @Autowired private TxLogDao txLogDao; @Autowired private OrderServiceImpl4 orderServiceImpl4; //æ‰§è¡Œæœ¬åœ°äº‹ç‰© @Override public RocketMQLocalTransactionState executeLocalTransaction(Message msg, Object arg) { try { //æœ¬åœ°äº‹ç‰© orderServiceImpl4.createOrder((String) msg.getHeaders().get(\"txId\"), (Order) arg); return RocketMQLocalTransactionState.COMMIT; } catch (Exception e) { return RocketMQLocalTransactionState.ROLLBACK; } } //æ¶ˆæ¯å›æŸ¥ @Override public RocketMQLocalTransactionState checkLocalTransaction(Message msg) { //æŸ¥è¯¢æ—¥å¿—è®°å½• TxLog txLog = txLogDao.findById((String) msg.getHeaders().get(\"txId\")).get(); if (txLog == null) { return RocketMQLocalTransactionState.COMMIT; } else { return RocketMQLocalTransactionState.ROLLBACK; } } } æ¶ˆæ¯æ¶ˆè´¹è¦æ³¨æ„çš„ç»†èŠ‚ @RocketMQMessageListener( consumerGroup = \"shop\",//æ¶ˆè´¹è€…åˆ†ç»„ topic = \"order-topic\",//è¦æ¶ˆè´¹çš„ä¸»é¢˜ consumeMode = ConsumeMode.CONCURRENTLY, //æ¶ˆè´¹æ¨¡å¼:æ— åºå’Œæœ‰åº messageModel = MessageModel.CLUSTERING, //æ¶ˆæ¯æ¨¡å¼:å¹¿æ’­å’Œé›†ç¾¤,é»˜è®¤æ˜¯é›†ç¾¤ ) public class SmsService implements RocketMQListener\u003cOrder\u003e { } RocketMQæ”¯æŒä¸¤ç§æ¶ˆæ¯æ¨¡å¼:\nå¹¿æ’­æ¶ˆè´¹: æ¯ä¸ªæ¶ˆè´¹è€…å®ä¾‹éƒ½ä¼šæ”¶åˆ°æ¶ˆæ¯,ä¹Ÿå°±æ˜¯ä¸€æ¡æ¶ˆæ¯å¯ä»¥è¢«æ¯ä¸ªæ¶ˆè´¹è€…å®ä¾‹å¤„ç†; é›†ç¾¤æ¶ˆè´¹: ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹ ","description":"\n","tags":[],"title":"\nRocketmqâ€“æ¶ˆæ¯é©±åŠ¨","uri":"/posts/post-295/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\né“¾è·¯è¿½è¸ªä»‹ç» åœ¨å¤§å‹ç³»ç»Ÿçš„å¾®æœåŠ¡åŒ–æ„å»ºä¸­ï¼Œä¸€ä¸ªç³»ç»Ÿè¢«æ‹†åˆ†æˆäº†è®¸å¤šæ¨¡å—ã€‚è¿™äº›æ¨¡å—è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ï¼Œç»„åˆæˆç³» ç»Ÿï¼Œæœ€ç»ˆå¯ä»¥æä¾›ä¸°å¯Œçš„åŠŸèƒ½ã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œä¸€æ¬¡è¯·æ±‚å¾€å¾€éœ€è¦æ¶‰åŠåˆ°å¤šä¸ªæœåŠ¡ã€‚äº’è”ç½‘åº”ç”¨æ„å»ºåœ¨ ä¸åŒçš„è½¯ä»¶æ¨¡å—é›†ä¸Šï¼Œè¿™äº›è½¯ä»¶æ¨¡å—ï¼Œæœ‰å¯èƒ½æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿå¼€å‘ã€å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ¥å®ç°ã€ æœ‰å¯èƒ½å¸ƒåœ¨äº†å‡ åƒå°æœåŠ¡å™¨ï¼Œæ¨ªè·¨å¤šä¸ªä¸åŒçš„æ•°æ®ä¸­å¿ƒï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ç§æ¶æ„å½¢å¼ä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜:\nå¦‚ä½•å¿«é€Ÿå‘ç°é—®é¢˜? å¦‚ä½•åˆ¤æ–­æ•…éšœå½±å“èŒƒå›´? å¦‚ä½•æ¢³ç†æœåŠ¡ä¾èµ–ä»¥åŠä¾èµ–çš„åˆç†æ€§? å¦‚ä½•åˆ†æé“¾è·¯æ€§èƒ½é—®é¢˜ä»¥åŠå®æ—¶å®¹é‡è§„åˆ’? åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª(Distributed Tracing)ï¼Œå°±æ˜¯å°†ä¸€æ¬¡åˆ†å¸ƒå¼è¯·æ±‚è¿˜åŸæˆè°ƒç”¨é“¾è·¯ï¼Œè¿›è¡Œæ—¥å¿—è®°å½•ï¼Œæ€§ èƒ½ç›‘æ§å¹¶å°†ä¸€æ¬¡åˆ†å¸ƒå¼è¯·æ±‚çš„è°ƒç”¨æƒ…å†µé›†ä¸­å±•ç¤ºã€‚æ¯”å¦‚å„ä¸ªæœåŠ¡èŠ‚ç‚¹ä¸Šçš„è€—æ—¶ã€è¯·æ±‚å…·ä½“åˆ°è¾¾å“ªå°æœºå™¨ ä¸Šã€æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹çš„è¯·æ±‚çŠ¶æ€ç­‰ç­‰ã€‚\nå¸¸è§çš„é“¾è·¯è¿½è¸ªæŠ€æœ¯æœ‰ä¸‹é¢è¿™äº›:\ncat ç”±å¤§ä¼—ç‚¹è¯„å¼€æºï¼ŒåŸºäºJavaå¼€å‘çš„å®æ—¶åº”ç”¨ç›‘æ§å¹³å°ï¼ŒåŒ…æ‹¬å®æ—¶åº”ç”¨ç›‘æ§ï¼Œä¸šåŠ¡ç›‘æ§ ã€‚ é›†æˆ æ–¹æ¡ˆæ˜¯é€šè¿‡ä»£ç åŸ‹ç‚¹çš„æ–¹å¼æ¥å®ç°ç›‘æ§ï¼Œæ¯”å¦‚: æ‹¦æˆªå™¨ï¼Œè¿‡æ»¤å™¨ç­‰ã€‚ å¯¹ä»£ç çš„ä¾µå…¥æ€§å¾ˆå¤§ï¼Œé›†æˆ æˆæœ¬è¾ƒé«˜ã€‚é£é™©è¾ƒå¤§ã€‚ zipkin ç”±Twitterå…¬å¸å¼€æºï¼Œå¼€æ”¾æºä»£ç åˆ†å¸ƒå¼çš„è·Ÿè¸ªç³»ç»Ÿï¼Œç”¨äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£å†³å¾® æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬:æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç°ã€‚è¯¥äº§å“ç»“åˆspring-cloud-sleuth ä½¿ç”¨è¾ƒä¸ºç®€å•ï¼Œ é›†æˆå¾ˆæ–¹ä¾¿ï¼Œ ä½†æ˜¯åŠŸèƒ½è¾ƒç®€å•ã€‚ pinpoint :Pinpointæ˜¯éŸ©å›½äººå¼€æºçš„åŸºäºå­—èŠ‚ç æ³¨å…¥çš„è°ƒç”¨é“¾åˆ†æï¼Œä»¥åŠåº”ç”¨ç›‘æ§åˆ†æå·¥å…·ã€‚ç‰¹ç‚¹ æ˜¯æ”¯æŒå¤šç§æ’ä»¶ï¼ŒUIåŠŸèƒ½å¼ºå¤§ï¼Œæ¥å…¥ç«¯æ— ä»£ç ä¾µå…¥ã€‚ skywalking:SkyWalkingæ˜¯æœ¬åœŸå¼€æºçš„åŸºäºå­—èŠ‚ç æ³¨å…¥çš„è°ƒç”¨é“¾åˆ†æï¼Œä»¥åŠåº”ç”¨ç›‘æ§åˆ†æå·¥å…·ã€‚ ç‰¹ç‚¹æ˜¯æ”¯æŒå¤šç§æ’ä»¶ï¼ŒUIåŠŸèƒ½è¾ƒå¼ºï¼Œæ¥å…¥ç«¯æ— ä»£ç ä¾µå…¥ã€‚ç›®å‰å·²åŠ å…¥Apacheå­µåŒ–å™¨ã€‚ Sleuth:SpringCloud æä¾›çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­é“¾è·¯è¿½è¸ªè§£å†³æ–¹æ¡ˆã€‚ æ³¨æ„:SpringCloud alibabaæŠ€æœ¯æ ˆä¸­å¹¶æ²¡æœ‰æä¾›è‡ªå·±çš„é“¾è·¯è¿½è¸ªæŠ€æœ¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨Sleuth +Zinkinæ¥åšé“¾è·¯è¿½è¸ªè§£å†³æ–¹æ¡ˆ\nSleuthå…¥é—¨ Sleuthä»‹ç» SpringCloud Sleuthä¸»è¦åŠŸèƒ½å°±æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æä¾›è¿½è¸ªè§£å†³æ–¹æ¡ˆã€‚å®ƒå¤§é‡å€Ÿç”¨äº†Google Dapperçš„ è®¾è®¡ï¼Œ å…ˆæ¥äº†è§£ä¸€ä¸‹Sleuthä¸­çš„æœ¯è¯­å’Œç›¸å…³æ¦‚å¿µã€‚\nTrace ç”±ä¸€ç»„Trace Idç›¸åŒçš„Spanä¸²è”å½¢æˆä¸€ä¸ªæ ‘çŠ¶ç»“æ„ã€‚ä¸ºäº†å®ç°è¯·æ±‚è·Ÿè¸ªï¼Œå½“è¯·æ±‚åˆ°è¾¾åˆ†å¸ƒå¼ç³»ç»Ÿ çš„å…¥å£ç«¯ç‚¹æ—¶ï¼Œåªéœ€è¦æœåŠ¡è·Ÿè¸ªæ¡†æ¶ä¸ºè¯¥è¯·æ±‚åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†(å³TraceId)ï¼ŒåŒæ—¶åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿ å†…éƒ¨æµè½¬çš„æ—¶å€™ï¼Œæ¡†æ¶å§‹ç»ˆä¿æŒä¼ é€’è¯¥å”¯ä¸€å€¼ï¼Œç›´åˆ°æ•´ä¸ªè¯·æ±‚çš„è¿”å›ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¯¥å”¯ä¸€æ ‡è¯† å°†æ‰€æœ‰çš„è¯·æ±‚ä¸²è”èµ·æ¥ï¼Œå½¢æˆä¸€æ¡å®Œæ•´çš„è¯·æ±‚é“¾è·¯ã€‚\nSpan ä»£è¡¨äº†ä¸€ç»„åŸºæœ¬çš„å·¥ä½œå•å…ƒã€‚ä¸ºäº†ç»Ÿè®¡å„å¤„ç†å•å…ƒçš„å»¶è¿Ÿï¼Œå½“è¯·æ±‚åˆ°è¾¾å„ä¸ªæœåŠ¡ç»„ä»¶çš„æ—¶å€™ï¼Œä¹Ÿ é€šè¿‡ä¸€ä¸ªå”¯ä¸€æ ‡è¯†(SpanId)æ¥æ ‡è®°å®ƒçš„å¼€å§‹ã€å…·ä½“è¿‡ç¨‹å’Œç»“æŸã€‚é€šè¿‡SpanIdçš„å¼€å§‹å’Œç»“æŸæ—¶é—´æˆ³ï¼Œ å°±èƒ½ç»Ÿè®¡è¯¥spançš„è°ƒç”¨æ—¶é—´ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è·å–å¦‚äº‹ä»¶çš„åç§°ã€‚è¯·æ±‚ä¿¡æ¯ç­‰å…ƒæ•°æ®ã€‚\nAnnotation\nç”¨å®ƒè®°å½•ä¸€æ®µæ—¶é—´å†…çš„äº‹ä»¶ï¼Œå†…éƒ¨ä½¿ç”¨çš„é‡è¦æ³¨é‡Š:\ncs(Client Send)å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼Œå¼€å§‹ä¸€ä¸ªè¯·æ±‚çš„ç”Ÿå‘½ sr(Server Received)æœåŠ¡ç«¯æ¥å—åˆ°è¯·æ±‚å¼€å§‹è¿›è¡Œå¤„ç†ï¼Œ sr-cs = ç½‘ç»œå»¶è¿Ÿ(æœåŠ¡è°ƒç”¨çš„æ—¶é—´) ss(Server Send)æœåŠ¡ç«¯å¤„ç†å®Œæ¯•å‡†å¤‡å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œss - sr = æœåŠ¡å™¨ä¸Šçš„è¯·æ±‚å¤„ç†æ—¶é—´ cr(Client Reveived)å®¢æˆ·ç«¯æ¥å—åˆ°æœåŠ¡ç«¯çš„å“åº”ï¼Œè¯·æ±‚ç»“æŸã€‚ cr - sr = è¯·æ±‚çš„æ€»æ—¶é—´ Sleuthå…¥é—¨ å¾®æœåŠ¡åç§°, traceId, spanid,æ˜¯å¦å°†é“¾è·¯çš„è¿½è¸ªç»“æœè¾“å‡ºåˆ°ç¬¬ä¸‰æ–¹å¹³å°\n[api-gateway,3977125f73391553,3977125f73391553,false]\n[service-order,3977125f73391553,57547b5bf71f8242,false]\n[service-product,3977125f73391553,449f5b3f3ef8d5c5,false]\næ¥ä¸‹æ¥é€šè¿‡ä¹‹å‰çš„é¡¹ç›®æ¡ˆä¾‹æ•´åˆSleuthï¼Œå®Œæˆå…¥é—¨æ¡ˆä¾‹çš„ç¼–å†™ã€‚ ä¿®æ”¹commonçˆ¶å·¥ç¨‹å¼•å…¥Sleuthä¾èµ–\n\u003c!--é“¾è·¯è¿½è¸ª Sleuth--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-sleuth\u003c/artifactId\u003e \u003c/dependency\u003e å¯åŠ¨å¾®æœåŠ¡ï¼Œè°ƒç”¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è§‚å¯Ÿåˆ°sleuthçš„æ—¥å¿—è¾“å‡º\nå…¶ä¸­ 5399d5cb061971bd æ˜¯TraceIdï¼Œ 5399d5cb061971bd æ˜¯SpanIdï¼Œä¾æ¬¡è°ƒç”¨æœ‰ä¸€ä¸ªå…¨å±€çš„ TraceIdï¼Œå°†è°ƒç”¨é“¾è·¯ä¸²èµ·æ¥ã€‚ä»”ç»†åˆ†ææ¯ä¸ªå¾®æœåŠ¡çš„æ—¥å¿—ï¼Œä¸éš¾çœ‹å‡ºè¯·æ±‚çš„å…·ä½“è¿‡ç¨‹ã€‚\næŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå½“å¾®æœåŠ¡è¶Šæ¥è¶Šå¤šæ—¥å¿—æ–‡ä»¶ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œé€šè¿‡Zipkinå¯ä»¥å°†æ—¥ å¿—èšåˆï¼Œå¹¶è¿›è¡Œå¯è§†åŒ–å±•ç¤ºå’Œå…¨æ–‡æ£€ç´¢ã€‚\nZipkinçš„é›†æˆ ZipKinä»‹ç» Zipkin æ˜¯ Twitter çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒåŸºäºGoogle Dapperå®ç°ï¼Œå®ƒè‡´åŠ›äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£ å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç°ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æ”¶é›†å„ä¸ªæœåŠ¡å™¨ä¸Šè¯·æ±‚é“¾è·¯çš„è·Ÿè¸ªæ•°æ®ï¼Œå¹¶é€šè¿‡å®ƒæä¾›çš„REST APIæ¥å£æ¥è¾…åŠ©æˆ‘ä»¬æŸ¥ è¯¢è·Ÿè¸ªæ•°æ®ä»¥å®ç°å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç›‘æ§ç¨‹åºï¼Œä»è€ŒåŠæ—¶åœ°å‘ç°ç³»ç»Ÿä¸­å‡ºç°çš„å»¶è¿Ÿå‡é«˜é—®é¢˜å¹¶æ‰¾å‡ºç³»ç»Ÿæ€§ èƒ½ç“¶é¢ˆçš„æ ¹æºã€‚\né™¤äº†é¢å‘å¼€å‘çš„ API æ¥å£ä¹‹å¤–ï¼Œå®ƒä¹Ÿæä¾›äº†æ–¹ä¾¿çš„UIç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬ç›´è§‚çš„æœç´¢è·Ÿè¸ªä¿¡æ¯å’Œåˆ†æè¯·æ±‚é“¾ è·¯æ˜ç»†ï¼Œæ¯”å¦‚:å¯ä»¥æŸ¥è¯¢æŸæ®µæ—¶é—´å†…å„ç”¨æˆ·è¯·æ±‚çš„å¤„ç†æ—¶é—´ç­‰ã€‚\nZipkin æä¾›äº†å¯æ’æ‹”æ•°æ®å­˜å‚¨æ–¹å¼:In-Memoryã€MySqlã€Cassandra ä»¥åŠ Elasticsearchã€‚\nä¸Šå›¾å±•ç¤ºäº† Zipkin çš„åŸºç¡€æ¶æ„ï¼Œå®ƒä¸»è¦ç”± 4 ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆ:\nCollector:æ”¶é›†å™¨ç»„ä»¶ï¼Œå®ƒä¸»è¦ç”¨äºå¤„ç†ä»å¤–éƒ¨ç³»ç»Ÿå‘é€è¿‡æ¥çš„è·Ÿè¸ªä¿¡æ¯ï¼Œå°†è¿™äº›ä¿¡æ¯è½¬æ¢ä¸º Zipkinå†…éƒ¨å¤„ç†çš„ Span æ ¼å¼ï¼Œä»¥æ”¯æŒåç»­çš„å­˜å‚¨ã€åˆ†æã€å±•ç¤ºç­‰åŠŸèƒ½ã€‚\nStorage:å­˜å‚¨ç»„ä»¶ï¼Œå®ƒä¸»è¦å¯¹å¤„ç†æ”¶é›†å™¨æ¥æ”¶åˆ°çš„è·Ÿè¸ªä¿¡æ¯ï¼Œé»˜è®¤ä¼šå°†è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿®æ”¹æ­¤å­˜å‚¨ç­–ç•¥ï¼Œé€šè¿‡ä½¿ç”¨å…¶ä»–å­˜å‚¨ç»„ä»¶å°†è·Ÿè¸ªä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚\nRESTful API:API ç»„ä»¶ï¼Œå®ƒä¸»è¦ç”¨æ¥æä¾›å¤–éƒ¨è®¿é—®æ¥å£ã€‚æ¯”å¦‚ç»™å®¢æˆ·ç«¯å±•ç¤ºè·Ÿè¸ªä¿¡æ¯ï¼Œæˆ–æ˜¯å¤–æ¥ ç³»ç»Ÿè®¿é—®ä»¥å®ç°ç›‘æ§ç­‰ã€‚\nWeb UI:UI ç»„ä»¶ï¼Œ åŸºäºAPIç»„ä»¶å®ç°çš„ä¸Šå±‚åº”ç”¨ã€‚é€šè¿‡UIç»„ä»¶ç”¨æˆ·å¯ä»¥æ–¹ä¾¿è€Œæœ‰ç›´è§‚åœ°æŸ¥è¯¢å’Œåˆ† æè·Ÿè¸ªä¿¡æ¯ã€‚\nZipkinåˆ†ä¸ºä¸¤ç«¯ï¼Œä¸€ä¸ªæ˜¯ ZipkinæœåŠ¡ç«¯ï¼Œä¸€ä¸ªæ˜¯ Zipkinå®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿå°±æ˜¯å¾®æœåŠ¡çš„åº”ç”¨ã€‚ å®¢æˆ·ç«¯ä¼š é…ç½®æœåŠ¡ç«¯çš„ URL åœ°å€ï¼Œä¸€æ—¦å‘ç”ŸæœåŠ¡é—´çš„è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šè¢«é…ç½®åœ¨å¾®æœåŠ¡é‡Œé¢çš„ Sleuth çš„ç›‘å¬å™¨ç›‘ å¬ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ Trace å’Œ Span ä¿¡æ¯å‘é€ç»™æœåŠ¡ç«¯ã€‚\nZipKinæœåŠ¡ç«¯å®‰è£… ç¬¬1æ­¥: ä¸‹è½½ZipKinçš„jaråŒ…\nhttps://search.maven.org/remote_content?g=io.zipkin.java\u0026a=zipkin-server\u0026v=LATEST\u0026c=exec ç¬¬2æ­¥: é€šè¿‡å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ZipKin Server\njava -jar zipkin-server-2.12.9-exec.jar ç¬¬3æ­¥:é€šè¿‡æµè§ˆå™¨è®¿é—® http://localhost:9411è®¿é—®\nZipkinå®¢æˆ·ç«¯é›†æˆ ZipKinå®¢æˆ·ç«¯å’ŒSleuthçš„é›†æˆéå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å¾®æœåŠ¡ä¸­æ·»åŠ å…¶ä¾èµ–å’Œé…ç½®å³å¯ã€‚\nç¬¬1æ­¥:åœ¨æ¯ä¸ªå¾®æœåŠ¡ä¸Šæ·»åŠ ä¾èµ–\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-zipkin\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬2æ­¥:æ·»åŠ é…ç½®\nspring: zipkin: #å¼€å¯zipkinåˆ†æ enabled: true #zipkinæœåŠ¡åœ°å€ baseUrl: http://127.0.0.1:9411/ #è®©nacosæŠŠå®ƒå½“æˆä¸€ä¸ªURLï¼Œè€Œä¸è¦å½“åšæœåŠ¡å discoveryClientEnabled: false sleuth: sampler: #é™é€Ÿå™¨ï¼Œæ¯ç§’é‡‡é›†10ä¸ªè¯·æ±‚ï¼Œé˜²æ­¢å¤§å¹¶å‘è¿‡è½½ã€‚æ¨è #rate: 10 #é‡‡é›†ç‡ï¼Œå¤§å¹¶å‘å¯èƒ½é‡‡é›†ç‡æ•°é‡ä¹Ÿä¼šå¾ˆé«˜ã€‚é‡‡æ ·çš„ç™¾åˆ†æ¯” probability: 0.1 ç¬¬3æ­¥: è®¿é—®å¾®æœåŠ¡\nhttp://localhost:7000/order-serv/order/prod/1 ç¬¬4æ­¥: è®¿é—®zipkinçš„UIç•Œé¢ï¼Œè§‚å¯Ÿæ•ˆæœ\nç¬¬5æ­¥:ç‚¹å‡»å…¶ä¸­ä¸€æ¡è®°å½•ï¼Œå¯è§‚å¯Ÿä¸€æ¬¡è®¿é—®çš„è¯¦ç»†çº¿è·¯ã€‚\nZipKinæ•°æ®æŒä¹…åŒ– Zipkin Serveré»˜è®¤ä¼šå°†è¿½è¸ªæ•°æ®ä¿¡æ¯ä¿å­˜åˆ°å†…å­˜ï¼Œä½†è¿™ç§æ–¹å¼ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒã€‚Zipkinæ”¯æŒå°†è¿½è¸ªæ•°æ®æŒä¹…åŒ–åˆ°mysqlæ•°æ®åº“æˆ–elasticsearchä¸­ã€‚\nä½¿ç”¨mysqlå®ç°æ•°æ®æŒä¹…åŒ– CREATE TABLE IF NOT EXISTS zipkin_spans ( `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit', `trace_id` BIGINT NOT NULL, `id` BIGINT NOT NULL, `name` VARCHAR(255) NOT NULL, `parent_id` BIGINT, `debug` BIT(1), `start_ts` BIGINT COMMENT 'Span.timestamp(): epoch micros used for endTs query and to implement TTL',`duration` BIGINT COMMENT 'Span.duration(): micros used for minDuration and maxDuration query' ) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci; ALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `id`) COMMENT 'ignore insert on duplicate'; ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`, `id`) COMMENT 'for joining with zipkin_annotations'; ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTracesByIds'; ALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT 'for getTraces and getSpanNames'; ALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT 'for getTraces ordering and range'; CREATE TABLE IF NOT EXISTS zipkin_annotations ( `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit', `trace_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.trace_id', `span_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.id', `a_key` VARCHAR(255) NOT NULL COMMENT 'BinaryAnnotation.key or Annotation.value if type == -1', `a_value` BLOB COMMENT 'BinaryAnnotation.value(), which must be smaller than 64KB', `a_type` INT NOT NULL COMMENT 'BinaryAnnotation.type() or -1 if Annotation', `a_timestamp` BIGINT COMMENT 'Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp', `endpoint_ipv4` INT COMMENT 'Null when Binary/Annotation.endpoint is null', `endpoint_ipv6` BINARY(16) COMMENT 'Null when Binary/Annotation.endpoint is null, or no IPv6 address', `endpoint_port` SMALLINT COMMENT 'Null when Binary/Annotation.endpoint is null', `endpoint_service_name` VARCHAR(255) COMMENT 'Null when Binary/Annotation.endpoint is null' ) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci; ALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `span_id`, `a_key`, `a_timestamp`) COMMENT 'Ignore insert on duplicate'; ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`, `span_id`) COMMENT 'for joining with zipkin_spans'; ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTraces/ByIds'; ALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT 'for getTraces and getServiceNames'; ALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT 'for getTraces'; ALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT 'for getTraces'; ALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`, `a_key`) COMMENT 'for dependencies job'; CREATE TABLE IF NOT EXISTS zipkin_dependencies ( `day` DATE NOT NULL, `parent` VARCHAR(255) NOT NULL, `child` VARCHAR(255) NOT NULL, `call_count` BIGINT ) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci; ALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`,`child`); ç¬¬2æ­¥: åœ¨å¯åŠ¨ZipKin Serverçš„æ—¶å€™,æŒ‡å®šæ•°æ®ä¿å­˜çš„mysqlçš„ä¿¡æ¯\njava -jar zipkin-server-2.12.9-exec.jar --STORAGE_TYPE=mysql -- MYSQL_HOST=127.0.0.1 --MYSQL_TCP_PORT=3306 --MYSQL_DB=zipkin --MYSQL_USER=root - -MYSQL_PASS=root ä½¿ç”¨elasticsearchå®ç°æ•°æ®æŒä¹…åŒ– ç¬¬1æ­¥: ä¸‹è½½elasticsearch ä¸‹è½½åœ°å€:https://www.elastic.co/cn/downloads/past-releases/elasticsearch-6-8-4 ç¬¬2æ­¥: å¯åŠ¨elasticsearch\nç¬¬3æ­¥: åœ¨å¯åŠ¨ZipKin Serverçš„æ—¶å€™ï¼ŒæŒ‡å®šæ•°æ®ä¿å­˜çš„elasticsearchçš„ä¿¡æ¯\njava -jar zipkin-server-2.12.9-exec.jar --STORAGE_TYPE=elasticsearch --ES- HOST=localhost:9200 ","description":"\n","tags":[],"title":"\nSleuthâ€“é“¾è·¯è¿½è¸ª","uri":"/posts/post-296/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" QPSã€TPSã€PVã€UVã€GMVã€IPã€RPSç­‰å„ç§åè¯ï¼Œå¤–è¡Œçœ‹èµ·æ¥å¾ˆç‰›Xï¼Œå®é™…ä¸Šæ¯ä¸ªç¨‹åºå‘˜éƒ½æ˜¯å¿…æ‡‚çŸ¥è¯†ç‚¹ã€‚ä¸‹é¢æˆ‘æ¥ä¸€ä¸€è§£é‡Šä¸€ä¸‹ã€‚\nQPS Queries Per Secondï¼Œæ¯ç§’æŸ¥è¯¢æ•°ã€‚æ¯ç§’èƒ½å¤Ÿå“åº”çš„æŸ¥è¯¢æ¬¡æ•°ã€‚\nQPS æ˜¯ä¸€å°æœåŠ¡å™¨æ¯ç§’èƒ½å¤Ÿç›¸åº”çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œå³1ç§’å†…å®Œæˆçš„è¯·æ±‚æ•°é‡ï¼Œæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†\nQPSæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†ï¼Œåœ¨å› ç‰¹ç½‘ä¸Šï¼Œä½œä¸ºåŸŸåç³»ç»ŸæœåŠ¡å™¨çš„æœºå™¨çš„æ€§èƒ½ç»å¸¸ç”¨æ¯ç§’æŸ¥è¯¢ç‡æ¥è¡¡é‡ã€‚æ¯ç§’çš„å“åº”è¯·æ±‚æ•°ï¼Œä¹Ÿå³æ˜¯æœ€å¤§ååèƒ½åŠ›ã€‚\nTPS Transactions Per Second çš„ç¼©å†™ï¼Œæ¯ç§’å¤„ç†çš„äº‹åŠ¡æ•°ç›®ã€‚ä¸€ä¸ªäº‹åŠ¡æ˜¯æŒ‡ä¸€ä¸ªå®¢æˆ·æœºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ç„¶åæœåŠ¡å™¨åšå‡ºååº”çš„è¿‡ç¨‹ã€‚å®¢æˆ·æœºåœ¨å‘é€è¯·æ±‚æ—¶å¼€å§‹è®¡æ—¶ï¼Œæ”¶åˆ°æœåŠ¡å™¨å“åº”åç»“æŸè®¡æ—¶ï¼Œä»¥æ­¤æ¥è®¡ç®—ä½¿ç”¨çš„æ—¶é—´å’Œå®Œæˆçš„äº‹åŠ¡ä¸ªæ•°ï¼Œæœ€ç»ˆåˆ©ç”¨è¿™äº›ä¿¡æ¯ä½œå‡ºçš„è¯„ä¼°åˆ†ã€‚\nTPS çš„è¿‡ç¨‹åŒ…æ‹¬ï¼šå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡ç«¯ã€æœåŠ¡ç«¯å†…éƒ¨å¤„ç†ã€æœåŠ¡ç«¯è¿”å›å®¢æˆ·ç«¯ã€‚\nä¾‹å¦‚ï¼Œè®¿é—®ä¸€ä¸ª Index é¡µé¢ä¼šè¯·æ±‚æœåŠ¡å™¨ 3 æ¬¡ï¼ŒåŒ…æ‹¬ä¸€æ¬¡ htmlï¼Œä¸€æ¬¡ cssï¼Œä¸€æ¬¡ jsï¼Œé‚£ä¹ˆè®¿é—®è¿™ä¸€ä¸ªé¡µé¢å°±ä¼šäº§ç”Ÿä¸€ä¸ªâ€œTâ€ï¼Œäº§ç”Ÿä¸‰ä¸ªâ€œQâ€ã€‚\nQPS ä¸ TPS åŒºåˆ« QPSåŸºæœ¬ç±»ä¼¼äºTPSï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œå¯¹äºä¸€ä¸ªWebé¡µé¢çš„ä¸€æ¬¡è®¿é—®ï¼Œå½¢æˆä¸€ä¸ªTPSï¼ˆå°±åšä¸€ä»¶äº‹å„¿ï¼Œæ‰“å¼€Webç½‘é¡µï¼‰ï¼›ä½†ä¸€æ¬¡Webé¡µé¢è¯·æ±‚ï¼Œå¯èƒ½äº§ç”Ÿå¤šæ¬¡å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼ˆhtmlã€cssã€jsã€imagesã€filesç­‰ï¼‰ï¼ŒæœåŠ¡å™¨å¯¹è¿™äº›è¯·æ±‚ï¼Œå°±å¯è®¡å…¥QPSä¹‹ä¸­ã€‚æ¯ç§’æŸ¥è¯¢ç‡QPSæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†ã€‚\nä¸€ä¸ªäº‹åŠ¡æ˜¯æŒ‡ä¸€ä¸ªå®¢æˆ·æœºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ç„¶åæœåŠ¡å™¨åšå‡ºååº”çš„è¿‡ç¨‹ã€‚å®¢æˆ·æœºåœ¨å‘é€è¯·æ±‚æ—¶å¼€å§‹è®¡æ—¶ï¼Œæ”¶åˆ°æœåŠ¡å™¨å“åº”åç»“æŸè®¡æ—¶ï¼Œä»¥æ­¤æ¥è®¡ç®—ä½¿ç”¨çš„æ—¶é—´å’Œå®Œæˆçš„äº‹åŠ¡ä¸ªæ•°ã€‚\nå¦‚æœæ˜¯å¯¹ä¸€ä¸ªæ¥å£ï¼ˆå•åœºæ™¯ï¼‰å‹æµ‹ï¼Œä¸”è¿™ä¸ªæ¥å£å†…éƒ¨ä¸ä¼šå†å»è¯·æ±‚å…¶å®ƒæ¥å£ï¼Œé‚£ä¹ˆTPSç­‰äºQPSï¼Œå¦åˆ™ï¼Œè‹¥è¿™ä¸ªæ¥å£å†…éƒ¨è¿˜ä¼šå†å»è¯·æ±‚å…¶å®ƒæ¥å£ï¼ˆä¸‹è½½å›¾ç‰‡ã€æ–‡ä»¶ç­‰æœåŠ¡å™¨æ¥å£ï¼‰ï¼Œé‚£ä¹ˆ TPSä¸ç­‰äºQPSï¼Œé€šå¸¸æ˜¯ QPSä¼šå¤§äºTPS\nPV page viewå³é¡µé¢æµè§ˆé‡\né€šå¸¸æ˜¯è¡¡é‡ä¸€ä¸ªç½‘ç»œæ–°é—»é¢‘é“æˆ–ç½‘ç«™ç”šè‡³ä¸€æ¡ç½‘ç»œæ–°é—»çš„ä¸»è¦æŒ‡æ ‡ã€‚\nç”¨æˆ·æ¯ä¸€æ¬¡å¯¹ç½‘ç«™ä¸­çš„æ¯ä¸ªé¡µé¢è®¿é—®å‡è¢«è®°å½• 1 æ¬¡ã€‚\nç”¨æˆ·å¯¹åŒä¸€é¡µé¢çš„å¤šæ¬¡åˆ·æ–°ï¼Œè®¿é—®é‡ç´¯è®¡ã€‚\næ ¹æ®è¿™ä¸ªç‰¹æ€§ï¼Œåˆ·ç½‘ç«™çš„ PV å°±å¾ˆå¥½åˆ·äº†ã€‚\nä¸ PV ç›¸å…³çš„è¿˜æœ‰ RVï¼Œå³é‡å¤è®¿é—®è€…æ•°é‡ï¼ˆrepeat visitorsï¼‰ã€‚\nUV Unique Visitor æŒ‡ç‹¬ç«‹è®¿å®¢è®¿é—®æ•°ï¼Œç»Ÿè®¡1å¤©å†…è®¿é—®æŸç«™ç‚¹çš„ç”¨æˆ·æ•°(ä»¥ cookie ä¸ºä¾æ®)ï¼Œä¸€å°ç”µè„‘ç»ˆç«¯ä¸ºä¸€ä¸ªè®¿å®¢ã€‚\nIP Internet Protocolç‹¬ç«‹ IP æ•°\næ˜¯æŒ‡ 1 å¤©å†…å¤šå°‘ä¸ªç‹¬ç«‹çš„ IP æµè§ˆäº†é¡µé¢ï¼Œå³ç»Ÿè®¡ä¸åŒçš„ IP æµè§ˆç”¨æˆ·æ•°é‡ã€‚\nåŒä¸€ IP ä¸ç®¡è®¿é—®äº†å‡ ä¸ªé¡µé¢ï¼Œç‹¬ç«‹ IP æ•°å‡ä¸º 1ï¼›\nä¸åŒçš„ IP æµè§ˆé¡µé¢ï¼Œè®¡æ•°ä¼šåŠ  1ã€‚\nIP æ˜¯åŸºäºç”¨æˆ·å¹¿åŸŸç½‘ IP åœ°å€æ¥åŒºåˆ†ä¸åŒçš„è®¿é—®è€…çš„ï¼Œæ‰€ä»¥ï¼Œå¤šä¸ªç”¨æˆ·ï¼ˆå¤šä¸ªå±€åŸŸç½‘ IPï¼‰åœ¨åŒä¸€ä¸ªè·¯ç”±å™¨ï¼ˆåŒä¸€ä¸ªå¹¿åŸŸç½‘ IPï¼‰å†…ä¸Šç½‘ï¼Œå¯èƒ½è¢«è®°å½•ä¸ºä¸€ä¸ªç‹¬ç«‹ IP è®¿é—®è€…ã€‚å¦‚æœç”¨æˆ·ä¸æ–­æ›´æ¢ IPï¼Œåˆ™æœ‰å¯èƒ½è¢«å¤šæ¬¡ç»Ÿè®¡ã€‚\nRT Response Time å“åº”æ—¶é—´æ˜¯ä¸€ä¸ªç³»ç»Ÿæœ€é‡è¦çš„æŒ‡æ ‡ä¹‹ä¸€ï¼Œå®ƒçš„æ•°å€¼å¤§å°ç›´æ¥ååº”äº†ç³»ç»Ÿçš„å¿«æ…¢ã€‚\nå“åº”æ—¶é—´æ˜¯æŒ‡ç³»ç»Ÿå¯¹è¯·æ±‚ä½œå‡ºå“åº”çš„æ—¶é—´ã€‚ç›´è§‚ä¸Šçœ‹ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¸äººå¯¹è½¯ä»¶æ€§èƒ½çš„ä¸»è§‚æ„Ÿå—æ˜¯éå¸¸ä¸€è‡´çš„ï¼Œå› ä¸ºå®ƒå®Œæ•´åœ°è®°å½•äº†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿå¤„ç†è¯·æ±‚çš„æ—¶é—´ã€‚ç”±äºä¸€ä¸ªç³»ç»Ÿé€šå¸¸ä¼šæä¾›è®¸å¤šåŠŸèƒ½ï¼Œè€Œä¸åŒåŠŸèƒ½çš„å¤„ç†é€»è¾‘ä¹Ÿåƒå·®ä¸‡åˆ«ï¼Œå› è€Œä¸åŒåŠŸèƒ½çš„å“åº”æ—¶é—´ä¹Ÿä¸å°½ç›¸åŒï¼Œç”šè‡³åŒä¸€åŠŸèƒ½åœ¨ä¸åŒè¾“å…¥æ•°æ®çš„æƒ…å†µä¸‹å“åº”æ—¶é—´ä¹Ÿä¸ç›¸åŒã€‚æ‰€ä»¥ï¼Œåœ¨è®¨è®ºä¸€ä¸ªç³»ç»Ÿçš„å“åº”æ—¶é—´æ—¶ï¼Œäººä»¬é€šå¸¸æ˜¯æŒ‡è¯¥ç³»ç»Ÿæ‰€æœ‰åŠŸèƒ½çš„å¹³å‡æ—¶é—´æˆ–è€…æ‰€æœ‰åŠŸèƒ½çš„æœ€å¤§å“åº”æ—¶é—´ã€‚å½“ç„¶ï¼Œå¾€å¾€ä¹Ÿéœ€è¦å¯¹æ¯ä¸ªæˆ–æ¯ç»„åŠŸèƒ½è®¨è®ºå…¶å¹³å‡å“åº”æ—¶é—´å’Œæœ€å¤§å“åº”æ—¶é—´ã€‚\nå¯¹äºå•æœºçš„æ²¡æœ‰å¹¶å‘æ“ä½œçš„åº”ç”¨ç³»ç»Ÿè€Œè¨€ï¼Œäººä»¬æ™®éè®¤ä¸ºå“åº”æ—¶é—´æ˜¯ä¸€ä¸ªåˆç†ä¸”å‡†ç¡®çš„æ€§èƒ½æŒ‡æ ‡ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œå“åº”æ—¶é—´çš„ç»å¯¹å€¼å¹¶ä¸èƒ½ç›´æ¥åæ˜ è½¯ä»¶çš„æ€§èƒ½çš„é«˜ä½ï¼Œè½¯ä»¶æ€§èƒ½çš„é«˜ä½å®é™…ä¸Šå–å†³äºç”¨æˆ·å¯¹è¯¥å“åº”æ—¶é—´çš„æ¥å—ç¨‹åº¦ã€‚å¯¹äºä¸€ä¸ªæ¸¸æˆè½¯ä»¶æ¥è¯´ï¼Œå“åº”æ—¶é—´å°äº100æ¯«ç§’åº”è¯¥æ˜¯ä¸é”™çš„ï¼Œå“åº”æ—¶é—´åœ¨1ç§’å·¦å³å¯èƒ½å±äºå‹‰å¼ºå¯ä»¥æ¥å—ï¼Œå¦‚æœå“åº”æ—¶é—´è¾¾åˆ°3ç§’å°±å®Œå…¨éš¾ä»¥æ¥å—äº†ã€‚è€Œå¯¹äºç¼–è¯‘ç³»ç»Ÿæ¥è¯´ï¼Œå®Œæ•´ç¼–è¯‘ä¸€ä¸ªè¾ƒå¤§è§„æ¨¡è½¯ä»¶çš„æºä»£ç å¯èƒ½éœ€è¦å‡ ååˆ†é’Ÿç”šè‡³æ›´é•¿æ—¶é—´ï¼Œä½†è¿™äº›å“åº”æ—¶é—´å¯¹äºç”¨æˆ·æ¥è¯´éƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚\nå“åº”æ—¶é—´æ˜¯æŒ‡æ‰§è¡Œä¸€ä¸ªè¯·æ±‚ä»å¼€å§‹åˆ°æœ€åæ”¶åˆ°å“åº”æ•°æ®æ‰€èŠ±è´¹çš„æ€»ä½“æ—¶é—´,å³ä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åˆ°æ”¶åˆ°æœåŠ¡å™¨å“åº”ç»“æœçš„æ—¶é—´\nGMV Gross Merchandise Volume çš„ç®€ç§°ã€‚åªè¦æ˜¯è®¢å•ï¼Œä¸ç®¡æ¶ˆè´¹è€…æ˜¯å¦ä»˜æ¬¾ã€å–å®¶æ˜¯å¦å‘è´§ã€æ˜¯å¦é€€è´§ï¼Œéƒ½å¯æ”¾è¿› GMV ã€‚\nRPS RPS ä»£è¡¨ååç‡ï¼Œå³ Requests Per Second çš„ç¼©å†™ã€‚ååç‡æ˜¯æœåŠ¡å™¨å¹¶å‘å¤„ç†èƒ½åŠ›çš„é‡åŒ–æè¿°ï¼Œå•ä½æ˜¯ reqs/sï¼ŒæŒ‡çš„æ˜¯æŸä¸ªå¹¶å‘ç”¨æˆ·æ•°ä¸‹å•ä½æ—¶é—´å†…å¤„ç†çš„è¯·æ±‚æ•°ã€‚\næŸä¸ªå¹¶å‘ç”¨æˆ·æ•°ä¸‹å•ä½æ—¶é—´å†…èƒ½å¤„ç†çš„æœ€å¤§çš„è¯·æ±‚æ•°ï¼Œç§°ä¹‹ä¸ºæœ€å¤§ååç‡ã€‚\næœ‰äººæŠŠ RPS è¯´ç­‰æ•ˆäº QPSã€‚å…¶å®å¯ä»¥çœ‹ä½œåŒä¸€ä¸ªç»Ÿè®¡æ–¹å¼ï¼Œåªæ˜¯å«æ³•ä¸åŒè€Œå·²ã€‚RPS/QPSï¼Œå¯ä»¥ä½¿ç”¨ apche ab å·¥å…·è¿›è¡Œæµ‹é‡ã€‚\nQPSã€PV ã€RT ä¹‹é—´çš„å…³ç³» åœ¨è¿›è¡Œç³»ç»Ÿæ€§èƒ½å‹æµ‹å’Œç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–çš„æ—¶å€™ï¼Œä¼šæ¶‰åŠåˆ°QPS,PV,RTç›¸å…³çš„æ¦‚å¿µï¼Œ QPS,PV,RTä¹‹é—´çš„å…³ç³»\nå¯¹äºå¤§éƒ¨åˆ†webç³»ç»Ÿï¼Œå“åº”æ—¶é—´ä¸€èˆ¬ç”±CPUæ‰§è¡Œæ—¶é—´ï¼Œçº¿ç¨‹ç­‰å¾…æ—¶é—´ï¼ˆIOç­‰å¾…ï¼Œsleep, waitï¼‰æ—¶é—´ç»„æˆï¼ŒQPSå’ŒRTæˆåæ¯”å…³ç³»\nåœ¨å®é™…çš„æµ‹è¯•ç¯å¢ƒä¸­ï¼ŒQPSå’ŒRTå¹¶ä¸æ˜¯éå¸¸ç›´æ¥çš„åæ¯”å…³ç³»\nQPS æ˜¯ä»€ä¹ˆ\nQPSï¼šå•ä¸ªè¿›ç¨‹æ¯ç§’è¯·æ±‚æœåŠ¡å™¨çš„æˆåŠŸæ¬¡æ•° QPS = req/sec = è¯·æ±‚æ•°/ç§’\nQPSå¦‚ä½•ç»Ÿè®¡\nQPSç»Ÿè®¡æ–¹å¼ [ä¸€èˆ¬ä½¿ç”¨ http_load è¿›è¡Œç»Ÿè®¡] QPS = æ€»è¯·æ±‚æ•° / ( è¿›ç¨‹æ€»æ•° * è¯·æ±‚æ—¶é—´ )\næ ¹æ®QPSæ¨ç®—PVï¼š\nå•å°æœåŠ¡å™¨æ¯å¤©PVè®¡ç®—:\nå…¬å¼1ï¼šæ¯å¤©æ€»PV = QPS * 3600 * 6 å…¬å¼2ï¼šæ¯å¤©æ€»PV = QPS * 3600 * 8\næ ¹æ®QPSï¼ŒPVæ¨ç®—æœåŠ¡å™¨æ•°é‡\næœåŠ¡å™¨æ•°é‡ = æ¯å¤©æ€»PV / å•å°æœåŠ¡å™¨æ¯å¤©æ€»PV\nå³°å€¼QPSå’Œæœºå™¨è®¡ç®—å…¬å¼ï¼š\nåŸç†ï¼šæ¯å¤©80%çš„è®¿é—®é›†ä¸­åœ¨20%çš„æ—¶é—´é‡Œï¼Œè¿™20%æ—¶é—´å«åšå³°å€¼æ—¶é—´\nå³°å€¼æ—¶é—´æ¯ç§’è¯·æ±‚æ•°(QPS)ï¼š( æ€»PVæ•° * 80% ) / ( æ¯å¤©ç§’æ•° * 20% )\nå³°å€¼æœºå™¨æ•°é‡ï¼šå³°å€¼æ—¶é—´QPS / å•å°æœºå™¨çš„QPS\nä¾‹å­ï¼š\né—®ï¼šæ¯å¤©300w PV çš„åœ¨å•å°æœºå™¨ä¸Šï¼Œè¿™å°æœºå™¨éœ€è¦å¤šå°‘QPSï¼Ÿ\nç­”ï¼š( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS)\né—®ï¼šå¦‚æœä¸€å°æœºå™¨çš„QPSæ˜¯58ï¼Œéœ€è¦å‡ å°æœºå™¨æ¥æ”¯æŒï¼Ÿ\nç­”ï¼š139 / 58 = 3\nå¯¹äºå¤§éƒ¨åˆ†webç³»ç»Ÿï¼Œå“åº”æ—¶é—´ä¸€èˆ¬ç”±CPUæ‰§è¡Œæ—¶é—´ï¼Œçº¿ç¨‹ç­‰å¾…æ—¶é—´ï¼ˆIOç­‰å¾…ï¼Œsleep, waitï¼‰æ—¶é—´ç»„æˆï¼ŒQPSå’ŒRTæˆåæ¯”å…³ç³»\nåœ¨å®é™…çš„æµ‹è¯•ç¯å¢ƒä¸­ï¼ŒQPSå’ŒRTå¹¶ä¸æ˜¯éå¸¸ç›´æ¥çš„åæ¯”å…³ç³»\næœ€ä½³çº¿ç¨‹æ•° æ€§èƒ½å‹æµ‹çš„æƒ…å†µä¸‹ï¼Œèµ·åˆéšç€ç”¨æˆ·æ•°çš„å¢åŠ ï¼ŒQPSä¼šä¸Šå‡ï¼Œå½“åˆ°äº†ä¸€å®šçš„é˜€å€¼ä¹‹åï¼Œç”¨æˆ·æ•°é‡å¢åŠ QPSå¹¶ä¸ä¼šå¢åŠ ï¼Œæˆ–è€…å¢åŠ ä¸æ˜æ˜¾ï¼ŒåŒæ—¶è¯·æ±‚çš„å“åº”æ—¶é—´å´å¤§å¹…å¢åŠ ï¼Œè¿™ä¸ªé˜€å€¼æˆ‘ä»¬è®¤ä¸ºæ˜¯æœ€ä½³çº¿ç¨‹æ•°ã€‚\nåˆšå¥½æ¶ˆè€—å®ŒæœåŠ¡å™¨çš„ç“¶é¢ˆèµ„æºçš„ä¸´ç•Œçº¿ç¨‹æ•°ï¼Œå…¬å¼å¦‚ä¸‹\næœ€ä½³çº¿ç¨‹æ•°é‡ =ï¼ˆï¼ˆçº¿ç¨‹ç­‰å¾…æ—¶é—´ + çº¿ç¨‹CPUæ‰§è¡Œæ—¶é—´ï¼‰/ çº¿ç¨‹CPUæ‰§è¡Œæ—¶é—´ï¼‰* CPUæ•°é‡\nç‰¹æ€§ï¼š\nåœ¨è¾¾åˆ°æœ€ä½³çº¿ç¨‹æ•°çš„æ—¶å€™ï¼Œçº¿ç¨‹æ•°é‡ç»§ç»­é€’å¢ï¼Œåˆ™QPSä¸å˜ï¼Œè€Œå“åº”æ—¶é—´å˜é•¿ï¼ŒæŒç»­é€’å¢çº¿ç¨‹æ•°é‡ï¼Œåˆ™QPSå¼€å§‹ä¸‹é™\næ¯ä¸ªç³»ç»Ÿéƒ½æœ‰å…¶æœ€ä½³çº¿ç¨‹æ•°é‡ï¼Œä½†æ˜¯ä¸åŒçŠ¶æ€ä¸‹ï¼Œæœ€ä½³çº¿ç¨‹æ•°é‡æ˜¯ä¼šå˜åŒ–çš„\nç“¶é¢ˆèµ„æºå¯ä»¥æ˜¯CPU,å¯ä»¥æ˜¯å†…å­˜ï¼Œå¯ä»¥æ˜¯é”èµ„æºï¼ŒIOèµ„æº\nè¶…è¿‡æœ€ä½³çº¿ç¨‹æ•°ï¼Œä¼šå¯¼è‡´èµ„æºçš„ç«äº‰ï¼›è¶…è¿‡æœ€ä½³çº¿ç¨‹æ•°ï¼Œä¼šå“åº”æ—¶é—´é€’å¢ã€‚\nä¸ºä»€ä¹ˆè¦æ‰¾æœ€ä½³çº¿ç¨‹æ•° è¿‡å¤šçš„çº¿ç¨‹åªä¼šé€ æˆï¼Œæ›´å¤šçš„å†…å­˜å¼€é”€ï¼Œæ›´å¤šçš„CPUå¼€é”€ï¼Œä½†æ˜¯å¯¹æå‡QPSç¡®æ¯«æ— å¸®åŠ©\næ‰¾åˆ°æœ€ä½³çº¿ç¨‹æ•°åé€šè¿‡ç®€å•çš„è®¾ç½®ï¼Œå¯ä»¥è®©webç³»ç»Ÿæ›´åŠ ç¨³å®šï¼Œå¾—åˆ°æœ€é«˜ï¼Œæœ€ç¨³å®šçš„QPSè¾“å‡º\næœ€ä½³çº¿ç¨‹æ•°çš„è·å–ï¼š é€šè¿‡ç”¨æˆ·æ…¢æ…¢é€’å¢æ¥è¿›è¡Œæ€§èƒ½å‹æµ‹ï¼Œè§‚å¯ŸQPSï¼Œå“åº”æ—¶é—´\næ ¹æ®å…¬å¼è®¡ç®—:æœåŠ¡å™¨ç«¯æœ€ä½³çº¿ç¨‹æ•°é‡=((çº¿ç¨‹ç­‰å¾…æ—¶é—´+çº¿ç¨‹cpuæ—¶é—´)/çº¿ç¨‹cpuæ—¶é—´) * cpuæ•°é‡\nå•ç”¨æˆ·å‹æµ‹ï¼ŒæŸ¥çœ‹CPUçš„æ¶ˆè€—ï¼Œç„¶åç›´æ¥ä¹˜ä»¥ç™¾åˆ†æ¯”ï¼Œå†è¿›è¡Œå‹æµ‹ï¼Œä¸€èˆ¬è¿™ä¸ªå€¼çš„é™„è¿‘åº”è¯¥å°±æ˜¯æœ€ä½³çº¿ç¨‹æ•°é‡ã€‚\nå½±å“æœ€ä½³çº¿ç¨‹æ•°çš„ä¸»è¦å› ç´  IO IOå¼€é”€è¾ƒå¤šçš„åº”ç”¨å…¶CPUçº¿ç¨‹ç­‰å¾…æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥çº¿ç¨‹æ•°é‡å¯ä»¥å¼€çš„å¤šä¸€äº›ï¼Œç›¸ååˆ™çº¿ç¨‹æ•°é‡è¦å°‘ä¸€äº›ï¼Œå…¶å®æœ‰ä¸¤ç§æç«¯ï¼Œçº¯IOçš„åº”ç”¨ï¼Œæ¯”å¦‚proxyï¼Œåˆ™çº¿ç¨‹æ•°é‡å¯ä»¥å¼€åˆ°éå¸¸å¤§ï¼ˆå®åœ¨å¤ªå¤§äº†åˆ™éœ€è¦è€ƒè™‘çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼‰ï¼Œè¿™ç§åº”ç”¨åŸºæœ¬ä¸Šåç«¯ï¼ˆæ¯”å¦‚è¿™ä¸ªproxyæ˜¯ä»£ç†æœç´¢çš„ï¼‰çš„QPSèƒ½æœ‰å¤šå°‘ï¼Œproxyå°±æœ‰å¤šå°‘ã€‚\nCPU å¯¹äºè€—CPUçš„è®¡ç®—ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æ¥è®²åªèƒ½å¼€åˆ°CPUä¸ªæ•°çš„çº¿ç¨‹æ•°é‡ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯è¯´è¿™ç§åº”ç”¨çš„QPSå°±ä¸é«˜ï¼Œå¾€å¾€è¿™ç§åº”ç”¨çš„QPSå¯ä»¥å¾ˆé«˜ï¼Œå› ä¸ºè€—CPUè®¡ç®—çš„åº”ç”¨ï¼Œå¾€å¾€å¤„ç†å•æ¬¡è¯·æ±‚çš„æ—¶é—´ä¼šå¾ˆçŸ­ã€‚\nQPSå’Œçº¿ç¨‹æ•°çš„å…³ç³» åœ¨æœ€ä½³çº¿ç¨‹æ•°é‡ä¹‹å‰ï¼ŒQPSå’Œçº¿ç¨‹æ˜¯äº’ç›¸é€’å¢çš„å…³ç³»ï¼Œçº¿ç¨‹æ•°é‡åˆ°äº†æœ€ä½³çº¿ç¨‹ä¹‹åï¼ŒQPSæŒå¹³ï¼Œä¸åœ¨ä¸Šå‡ï¼Œç”šè‡³ç•¥æœ‰ä¸‹é™ï¼ŒåŒæ—¶å“åº”æ—¶é—´æŒç»­ä¸Šå‡ã€‚\nåŒä¸€ä¸ªç³»ç»Ÿè€Œè¨€ï¼Œæœ€ä½³çº¿ç¨‹æ•°è¶Šå¤šï¼ŒQPSè¶Šé«˜\nå¹¶å‘æ•°ï¼ˆParallelsï¼‰ å¹¶å‘æ•°æ˜¯æŒ‡ç³»ç»ŸåŒæ—¶èƒ½å¤„ç†çš„è¯·æ±‚æ•°é‡ï¼Œä¸€èˆ¬è·ŸCPUä¸ªæ•°ï¼Œçº¿ç¨‹æ•°æœ‰å…³ï¼Œè¿™ååº”äº†ç³»ç»Ÿçš„è´Ÿè½½èƒ½åŠ›\nå¹¶å‘ç”¨æˆ·æ•°æ˜¯æŒ‡ç³»ç»Ÿå¯ä»¥åŒæ—¶æ‰¿è½½çš„æ­£å¸¸ä½¿ç”¨ç³»ç»ŸåŠŸèƒ½çš„ç”¨æˆ·çš„æ•°é‡ã€‚ä¸ååé‡ç›¸æ¯”ï¼Œå¹¶å‘ç”¨æˆ·æ•°æ˜¯ä¸€ä¸ªæ›´ç›´è§‚ä½†ä¹Ÿæ›´ç¬¼ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡ã€‚å®é™…ä¸Šï¼Œå¹¶å‘ç”¨æˆ·æ•°æ˜¯ä¸€ä¸ªéå¸¸ä¸å‡†ç¡®çš„æŒ‡æ ‡ï¼Œå› ä¸ºç”¨æˆ·ä¸åŒçš„ä½¿ç”¨æ¨¡å¼ä¼šå¯¼è‡´ä¸åŒç”¨æˆ·åœ¨å•ä½æ—¶é—´å‘å‡ºä¸åŒæ•°é‡çš„è¯·æ±‚ã€‚ä¸€ç½‘ç«™ç³»ç»Ÿä¸ºä¾‹ï¼Œå‡è®¾ç”¨æˆ·åªæœ‰æ³¨å†Œåæ‰èƒ½ä½¿ç”¨ï¼Œä½†æ³¨å†Œç”¨æˆ·å¹¶ä¸æ˜¯æ¯æ—¶æ¯åˆ»éƒ½åœ¨ä½¿ç”¨è¯¥ç½‘ç«™ï¼Œå› æ­¤å…·ä½“ä¸€ä¸ªæ—¶åˆ»åªæœ‰éƒ¨åˆ†æ³¨å†Œç”¨æˆ·åŒæ—¶åœ¨çº¿ï¼Œåœ¨çº¿ç”¨æˆ·å°±åœ¨æµè§ˆç½‘ç«™æ—¶ä¼šèŠ±å¾ˆå¤šæ—¶é—´é˜…è¯»ç½‘ç«™ä¸Šçš„ä¿¡æ¯ï¼Œå› è€Œå…·ä½“ä¸€ä¸ªæ—¶åˆ»åªæœ‰éƒ¨åˆ†åœ¨çº¿ç”¨æˆ·åŒæ—¶å‘ç³»ç»Ÿå‘å‡ºè¯·æ±‚ã€‚è¿™æ ·ï¼Œå¯¹äºç½‘ç«™ç³»ç»Ÿæˆ‘ä»¬ä¼šæœ‰ä¸‰ä¸ªå…³äºç”¨æˆ·æ•°çš„ç»Ÿè®¡æ•°å­—ï¼šæ³¨å†Œç”¨æˆ·æ•°ã€åœ¨çº¿ç”¨æˆ·æ•°å’ŒåŒæ—¶å‘è¯·æ±‚ç”¨æˆ·æ•°ã€‚ç”±äºæ³¨å†Œç”¨æˆ·å¯èƒ½é•¿æ—¶é—´ä¸ç™»é™†ç½‘ç«™ï¼Œä½¿ç”¨æ³¨å†Œç”¨æˆ·æ•°ä½œä¸ºæ€§èƒ½æŒ‡æ ‡ä¼šé€ æˆå¾ˆå¤§çš„è¯¯å·®ã€‚è€Œåœ¨çº¿ç”¨æˆ·æ•°å’ŒåŒäº‹å‘è¯·æ±‚ç”¨æˆ·æ•°éƒ½å¯ä»¥ä½œä¸ºæ€§èƒ½æŒ‡æ ‡ã€‚ç›¸æ¯”è€Œè¨€ï¼Œä»¥åœ¨çº¿ç”¨æˆ·ä½œä¸ºæ€§èƒ½æŒ‡æ ‡æ›´ç›´è§‚äº›ï¼Œè€Œä»¥åŒæ—¶å‘è¯·æ±‚ç”¨æˆ·æ•°ä½œä¸ºæ€§èƒ½æŒ‡æ ‡æ›´å‡†ç¡®äº›ã€‚\nååé‡ï¼ˆThroughputï¼‰ ååé‡æ˜¯æŒ‡å•ä½æ—¶é—´å†…ç³»ç»Ÿèƒ½å¤„ç†çš„è¯·æ±‚æ•°é‡ï¼Œä½“ç°ç³»ç»Ÿå¤„ç†è¯·æ±‚çš„èƒ½åŠ›ï¼Œè¿™æ˜¯ç›®å‰æœ€å¸¸ç”¨çš„æ€§èƒ½æµ‹è¯•æŒ‡æ ‡\nååé‡æ˜¯æŒ‡ç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…å¤„ç†è¯·æ±‚çš„æ•°é‡ã€‚å¯¹äºæ— å¹¶å‘çš„åº”ç”¨ç³»ç»Ÿè€Œè¨€ï¼Œååé‡ä¸å“åº”æ—¶é—´æˆä¸¥æ ¼çš„åæ¯”å…³ç³»ï¼Œå®é™…ä¸Šæ­¤æ—¶ååé‡å°±æ˜¯å“åº”æ—¶é—´çš„å€’æ•°ã€‚å‰é¢å·²ç»è¯´è¿‡ï¼Œå¯¹äºå•ç”¨æˆ·çš„ç³»ç»Ÿï¼Œå“åº”æ—¶é—´ï¼ˆæˆ–è€…ç³»ç»Ÿå“åº”æ—¶é—´å’Œåº”ç”¨å»¶è¿Ÿæ—¶é—´ï¼‰å¯ä»¥å¾ˆå¥½åœ°åº¦é‡ç³»ç»Ÿçš„æ€§èƒ½ï¼Œä½†å¯¹äºå¹¶å‘ç³»ç»Ÿï¼Œé€šå¸¸éœ€è¦ç”¨ååé‡ä½œä¸ºæ€§èƒ½æŒ‡æ ‡ã€‚\nå¯¹äºä¸€ä¸ªå¤šç”¨æˆ·çš„ç³»ç»Ÿï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨æ—¶ç³»ç»Ÿçš„å¹³å‡å“åº”æ—¶é—´æ˜¯tï¼Œå½“æœ‰ä½ nä¸ªç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹åˆ°çš„å“åº”æ—¶é—´é€šå¸¸å¹¶ä¸æ˜¯nÃ—tï¼Œè€Œå¾€å¾€æ¯”nÃ—tå°å¾ˆå¤šï¼ˆå½“ç„¶ï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ä¹Ÿå¯èƒ½æ¯”nÃ—tå¤§ï¼Œç”šè‡³å¤§å¾ˆå¤šï¼‰ã€‚è¿™æ˜¯å› ä¸ºå¤„ç†æ¯ä¸ªè¯·æ±‚éœ€è¦ç”¨åˆ°å¾ˆå¤šèµ„æºï¼Œç”±äºæ¯ä¸ªè¯·æ±‚çš„å¤„ç†è¿‡ç¨‹ä¸­æœ‰è®¸å¤šä¸èµ°éš¾ä»¥å¹¶å‘æ‰§è¡Œï¼Œè¿™å¯¼è‡´åœ¨å…·ä½“çš„ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæ‰€å èµ„æºå¾€å¾€å¹¶ä¸å¤šã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å¤„ç†å•ä¸ªè¯·æ±‚æ—¶ï¼Œåœ¨æ¯ä¸ªæ—¶é—´ç‚¹éƒ½å¯èƒ½æœ‰è®¸å¤šèµ„æºè¢«é—²ç½®ï¼Œå½“å¤„ç†å¤šä¸ªè¯·æ±‚æ—¶ï¼Œå¦‚æœèµ„æºé…ç½®åˆç†ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹åˆ°çš„å¹³å‡å“åº”æ—¶é—´å¹¶ä¸éšç”¨æˆ·æ•°çš„å¢åŠ è€Œçº¿æ€§å¢åŠ ã€‚å®é™…ä¸Šï¼Œä¸åŒç³»ç»Ÿçš„å¹³å‡å“åº”æ—¶é—´éšç”¨æˆ·æ•°å¢åŠ è€Œå¢é•¿çš„é€Ÿåº¦ä¹Ÿä¸å¤§ç›¸åŒï¼Œè¿™ä¹Ÿæ˜¯é‡‡ç”¨ååé‡æ¥åº¦é‡å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½çš„ä¸»è¦åŸå› ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œååé‡æ˜¯ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„æŒ‡æ ‡ï¼Œä¸¤ä¸ªå…·æœ‰ä¸åŒç”¨æˆ·æ•°å’Œç”¨æˆ·ä½¿ç”¨æ¨¡å¼çš„ç³»ç»Ÿï¼Œå¦‚æœå…¶æœ€å¤§ååé‡åŸºæœ¬ä¸€è‡´ï¼Œåˆ™å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›åŸºæœ¬ä¸€è‡´ã€‚\nå¹¶å‘é‡ã€QPSã€RT ä¹‹é—´çš„å…³ç³»ï¼š QPS = å¹¶å‘é‡ / å¹³å‡å“åº”æ—¶é—´ ï¼ˆæ¨èï¼‰\nå¹¶å‘é‡ = QPS * å¹³å‡å“åº”æ—¶é—´\nå‡è®¾æ¯å¤©80%çš„è®¿é—®é›†ä¸­åœ¨20%çš„æ—¶é—´é‡Œï¼Œè¿™20%æ—¶é—´å«åšå³°å€¼æ—¶é—´\nå…¬å¼ï¼š( æ€»PVæ•° * 80% ) / ( æ¯å¤©ç§’æ•° * 20% ) = å³°å€¼æ—¶é—´æ¯ç§’è¯·æ±‚æ•°(QPS)\næœºå™¨ï¼šå³°å€¼æ—¶é—´æ¯ç§’QPS / å•å°æœºå™¨çš„QPS = éœ€è¦çš„æœºå™¨\næ¯å¤©300w PV çš„åœ¨å•å°æœºå™¨ä¸Šï¼Œè¿™å°æœºå™¨éœ€è¦å¤šå°‘QPSï¼Ÿ\n( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS)\nå¦‚æœä¸€å°æœºå™¨çš„QPSæ˜¯58ï¼Œéœ€è¦å‡ å°æœºå™¨æ¥æ”¯æŒï¼Ÿ\n139 / 58 = 3 ï¼ˆè¿›ä¸€æ³•ï¼Œå–ä¸Šé™ï¼‰\nå•çº¿ç¨‹QPSå…¬å¼ï¼ŒQPS=1000ms/RT,å¯¹åŒä¸€ä¸ªç³»ç»Ÿè€Œè¨€ï¼Œæ”¯æŒçš„çº¿ç¨‹æ•°è¶Šå¤šï¼ŒQPSè¶Šé«˜ã€‚\nå‡è®¾ä¸€ä¸ªRTæ˜¯80ms,åˆ™å¯ä»¥å¾ˆå®¹æ˜“çš„è®¡ç®—å‡ºQPS,QPS = 1000/80 = 12.5\nå¤šçº¿ç¨‹åœºæ™¯ï¼Œå¦‚æœæŠŠæœåŠ¡ç«¯çš„çº¿ç¨‹æ•°æå‡åˆ°2ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿçš„QPSåˆ™ä¸º 2*ï¼ˆ1000/80ï¼‰ = 25,\nå¯è§QPSéšç€çº¿ç¨‹çš„å¢åŠ è€Œçº¿æ€§å¢é•¿ï¼Œé‚£QPSä¸Šä¸å»å°±åŠ çº¿ç¨‹å‘—ï¼Œå¬èµ·æ¥å¾ˆæœ‰é“ç†ï¼Œå…¬å¸ä¹Ÿè¯´çš„é€šï¼Œä½†æ˜¯å¾€å¾€ç°å®å¹¶éå¦‚æ­¤ã€‚\nå¦‚ä½•æå‡RTï¼ˆå“åº”æ—¶é—´ï¼‰ å‡å°‘ IO çš„å“åº”æ—¶é—´ï¼Œå‡å°‘ IO çš„è°ƒç”¨æ¬¡æ•° å¹¶å‘HTTPè¯·æ±‚ï¼Œæ— ä¸Šä¸‹æ–‡ä¾èµ–ï¼Œå¤šä¸ªè¿æ¥ï¼Œä¸€ä¸ªçº¿ç¨‹\nHTTPè¿æ¥æ± ï¼ˆé•¿è¿æ¥ï¼Œkeep-aliveï¼‰\nå‡å°‘ CPU çš„ä½¿ç”¨æ—¶é—´ forest å¾ªç¯çš„ä¾‹å­\nå¦‚ä½•æå‡ QPSï¼ˆæ¯ç§’æŸ¥è¯¢æ•°ï¼‰ å‡å°‘ CPU çš„ä½¿ç”¨æ—¶é—´\nå¢åŠ  CPU çš„æ•°é‡\nå‡å°‘åŒæ­¥é”\nå¦‚æœ CPU ä¸èƒ½è¢«å‹åˆ° 85% ä»¥ä¸Šï¼Œå¹¶ä¸”æ­¤æ—¶çš„OPSå·²ç»è¾¾åˆ°äº†å³°å€¼ï¼Œåˆ™è¯´æ˜å¦æœ‰ç“¶é¢ˆï¼Œæ¥ä¸‹å»è¦é‡ç‚¹å…³æ³¨å†…å­˜\næ’æŸ¥å†…å­˜æ˜¯å¦æœ‰ç“¶é¢ˆ\nåˆ¤æ–­ä¾æ®ï¼Œæ˜¯åœ¨æœ€ä½³çº¿ç¨‹æ•°é‡ * 5 å·¦å³çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œå‹æµ‹ï¼Œè§‚å¯Ÿ Old åŒºå†…å­˜å¢é•¿æ˜¯å¦æ­£å¸¸\næ€§èƒ½å‹æµ‹è¦å…³æ³¨ä½¿ç”¨äº†å¤šå°‘ç”¨æˆ·æ•°ï¼Œç›®å‰çš„å‹æµ‹æ–¹å¼å®¹æ˜“é—æ¼å†…å­˜ç“¶é¢ˆ\næ€»ç»“ Proxy åº”ç”¨ï¼ˆè€—IOï¼‰çš„çº¿ç¨‹è¶Šå¤šè¶Šå¥½ï¼Œå½“çº¿ç¨‹è¾¾åˆ°è¿‡å¤šæ—¶ï¼Œçº¿ç¨‹æœ¬èº«èµ„æºçš„å¼€é”€ä¹Ÿä¼šæˆä¸ºç“¶é¢ˆï¼Œçº¿ç¨‹æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªèµ„æºã€‚ æ‰€ä»¥è¿™ç±»Proxyåº”ç”¨ä¸€èˆ¬é‡‡å–è½»ç¨‹æ¨¡å‹ï¼ŒNIOè§£å†³ï¼Œå¦‚ nginx\nè®¡ç®—å‹åº”ç”¨ï¼ˆè€—CPUï¼‰ï¼Œçº¿ç¨‹æ•°é‡å°±æ˜¯CPUçš„æ ¸æ•°ï¼Œå¦‚æœç´¢ç´¢å¼•æœåŠ¡å™¨ï¼Œéœ€è¦åšå¤§é‡çš„è®¡ç®—æ’åºï¼Œéå¸¸è€—CPUèµ„æº ","description":"\n","tags":[],"title":"\nç§’æ‡‚QPSã€TPSã€PVã€UVã€GMVã€IPã€RPS","uri":"/posts/post-297/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" åå°å¼€å‘ä½œä¸ºäº’è”ç½‘æŠ€æœ¯é¢†åŸŸçš„æŒä¸Šæ˜ç ï¼Œä¸€ç›´éƒ½æ˜¯å¼€å‘è€…ä»¬çš„è¿½é€çš„é«˜å³°ã€‚æœ¬æ–‡å°†ä»åå°å¼€å‘æ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯æœ¯è¯­å‡ºå‘ï¼ŒåŸºäºç³»ç»Ÿå¼€å‘ã€æ¶æ„è®¾è®¡ã€ç½‘ç»œé€šä¿¡ç­‰å‡ ä¸ªæ–¹é¢è®©å¤§å®¶å¯¹åå°æ¥å‘æœ‰ä¸€ä¸ªæ¸…æ™°çš„äº†è§£ï¼Œè®²è§£å…¨é¢æ˜“æ‡‚ã€‚\nç³»ç»Ÿå¼€å‘ é«˜å†…èš/ä½è€¦åˆ é«˜å†…èšæŒ‡ä¸€ä¸ªè½¯ä»¶æ¨¡å—æ˜¯ç”±ç›¸å…³æ€§å¾ˆå¼ºçš„ä»£ç ç»„æˆï¼Œåªè´Ÿè´£ä¸€é¡¹ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„å•ä¸€è´£ä»»åŸåˆ™ã€‚æ¨¡å—çš„å†…èšåæ˜ æ¨¡å—å†…éƒ¨è”ç³»çš„ç´§å¯†ç¨‹åº¦ã€‚\næ¨¡å—ä¹‹é—´è”ç³»è¶Šç´§å¯†ï¼Œå…¶è€¦åˆæ€§å°±è¶Šå¼ºï¼Œæ¨¡å—çš„ç‹¬ç«‹æ€§åˆ™è¶Šå·®ã€‚æ¨¡å—é—´è€¦åˆé«˜ä½å–å†³äºæ¨¡å—é—´æ¥å£çš„å¤æ‚æ€§ã€è°ƒç”¨çš„æ–¹å¼åŠä¼ é€’çš„ä¿¡æ¯ã€‚ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œæ¨¡å—ä¸æ¨¡å—ä¹‹é—´ï¼Œå°½å¯èƒ½çš„ä½¿å…¶ç‹¬ç«‹å­˜åœ¨ã€‚**é€šå¸¸ç¨‹åºç»“æ„ä¸­å„æ¨¡å—çš„å†…èšç¨‹åº¦è¶Šé«˜ï¼Œæ¨¡å—é—´çš„è€¦åˆç¨‹åº¦å°±è¶Šä½ã€‚\nè¿‡åº¦è®¾è®¡ è¿‡åº¦è®¾è®¡å°±æ˜¯è¿›è¡Œäº†è¿‡å¤šçš„é¢å‘æœªæ¥çš„è®¾è®¡æˆ–è€…è¯´æŠŠç›¸å¯¹ç®€å•çš„äº‹æƒ…æƒ³å¤æ‚äº†ï¼Œè¿‡åº¦è¿½æ±‚æ¨¡å—åŒ–ã€å¯æ‰©å±•æ€§ã€è®¾è®¡æ¨¡å¼ç­‰ï¼Œä¸ºç³»ç»Ÿå¢åŠ äº†ä¸å¿…è¦çš„å¤æ‚åº¦ã€‚\nè¿‡æ—©ä¼˜åŒ– è¿‡æ—©æŒ‡çš„ä¸æ˜¯åœ¨å¼€å‘è¿‡ç¨‹çš„æ—©æœŸï¼Œè€Œæ˜¯åœ¨è¿˜æ²¡å¼„æ¸…æ¥šéœ€æ±‚æœªæ¥çš„å˜åŒ–çš„èµ°å‘çš„æ—¶å€™ã€‚ä½ çš„ä¼˜åŒ–ä¸ä»…å¯èƒ½å¯¼è‡´ä½ æ— æ³•å¾ˆå¥½åœ°å®ç°æ–°çš„éœ€æ±‚ï¼Œè€Œä¸”ä½ å¯¹ä¼˜åŒ–çš„é¢„æœŸçš„çŒœæµ‹æœ‰å¯èƒ½è¿˜æ˜¯é”™çš„ï¼Œå¯¼è‡´å®é™…ä¸Šä½ é™¤äº†æŠŠä»£ç å˜å¤æ‚ä»¥å¤–ä»€ä¹ˆéƒ½æ²¡å¾—åˆ°ã€‚\næ­£ç¡®çš„æ–¹æ³•æ˜¯ï¼Œå…ˆæœ‰è´¨é‡åœ°å®ç°ä½ çš„éœ€æ±‚ï¼Œå†™å¤Ÿtestcaseï¼Œç„¶ååšprofileå»æ‰¾åˆ°æ€§èƒ½çš„ç“¶é¢ˆï¼Œè¿™ä¸ªæ—¶å€™æ‰åšä¼˜åŒ–ã€‚\né‡æ„ (Refactoring) é‡æ„ï¼ˆRefactoringï¼‰å°±æ˜¯é€šè¿‡è°ƒæ•´ç¨‹åºä»£ç æ”¹å–„è½¯ä»¶çš„è´¨é‡ã€æ€§èƒ½ï¼Œä½¿å…¶ç¨‹åºçš„è®¾è®¡æ¨¡å¼å’Œæ¶æ„æ›´è¶‹åˆç†ï¼Œæé«˜è½¯ä»¶çš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚\nç ´çª—æ•ˆåº” åˆç§°ç ´çª—ç†è®ºï¼Œç ´çª—æ•ˆåº”ï¼ˆBroken windows theoryï¼‰æ˜¯çŠ¯ç½ªå­¦çš„ä¸€ä¸ªç†è®ºã€‚æ­¤ç†è®ºè®¤ä¸ºç¯å¢ƒä¸­çš„ä¸è‰¯ç°è±¡å¦‚æœè¢«æ”¾ä»»å­˜åœ¨ï¼Œä¼šè¯±ä½¿äººä»¬ä»¿æ•ˆï¼Œç”šè‡³å˜æœ¬åŠ å‰ã€‚ä¸€å¹¢æœ‰å°‘è®¸ç ´çª—çš„å»ºç­‘ä¸ºä¾‹ï¼Œå¦‚æœé‚£äº›çª—ä¸è¢«ä¿®ç†å¥½ï¼Œå¯èƒ½å°†ä¼šæœ‰ç ´åè€…ç ´åæ›´å¤šçš„çª—æˆ·ã€‚æœ€ç»ˆä»–ä»¬ç”šè‡³ä¼šé—¯å…¥å»ºç­‘å†…ï¼Œå¦‚æœå‘ç°æ— äººå±…ä½ï¼Œä¹Ÿè®¸å°±åœ¨é‚£é‡Œå®šå±…æˆ–è€…çºµç«ã€‚\nåº”ç”¨åœ¨è½¯ä»¶å·¥ç¨‹ä¸Šå°±æ˜¯ï¼Œä¸€å®šä¸èƒ½è®©ç³»ç»Ÿä»£ç æˆ–è€…æ¶æ„è®¾è®¡çš„éšæ‚£æœ‰å†’å¤´çš„æœºä¼šï¼Œå¦åˆ™éšç€æ—¶é—´çš„æ¨ç§»ï¼Œéšæ‚£ä¼šè¶Šæ¥è¶Šé‡ã€‚åä¹‹ï¼Œä¸€ä¸ªæœ¬èº«ä¼˜è´¨çš„ç³»ç»Ÿï¼Œä¼šè®©äººä¸ç”±è‡ªä¸»çš„å†™å‡ºä¼˜è´¨çš„ä»£ç ã€‚\näº’ä¸ä¿¡ä»»åŸåˆ™ æŒ‡åœ¨ç¨‹åºè¿è¡Œä¸Šä¸‹æ¸¸çš„æ•´ä¸ªé“¾è·¯ä¸­ï¼Œæ¯ä¸ªç‚¹éƒ½æ˜¯ä¸èƒ½ä¿è¯ç»å¯¹å¯é çš„ï¼Œä»»ä½•ä¸€ä¸ªç‚¹éƒ½å¯èƒ½éšæ—¶å‘ç”Ÿæ•…éšœæˆ–è€…ä¸å¯é¢„çŸ¥çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬æœºå™¨ç½‘ç»œã€æœåŠ¡æœ¬èº«ã€ä¾èµ–ç¯å¢ƒã€è¾“å…¥å’Œè¯·æ±‚ç­‰ï¼Œå› æ­¤è¦å¤„å¤„è®¾é˜²ã€‚\næŒä¹…åŒ– (Persistence) æŒä¹…åŒ–æ˜¯å°†ç¨‹åºæ•°æ®åœ¨ä¸´æ—¶çŠ¶æ€å’ŒæŒä¹…çŠ¶æ€é—´è½¬æ¢çš„æœºåˆ¶ã€‚é€šä¿—çš„è®²ï¼Œå°±æ˜¯ä¸´æ—¶æ•°æ®ï¼ˆæ¯”å¦‚å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ˜¯ä¸èƒ½æ°¸ä¹…ä¿å­˜çš„ï¼‰æŒä¹…åŒ–ä¸ºæŒä¹…æ•°æ®ï¼ˆæ¯”å¦‚æŒä¹…åŒ–è‡³æ•°æ®åº“æˆ–è€…æœ¬åœ°ç£ç›˜ä¸­ï¼Œèƒ½å¤Ÿé•¿ä¹…ä¿å­˜ï¼‰ã€‚\nä¸´ç•ŒåŒº ä¸´ç•ŒåŒºç”¨æ¥è¡¨ç¤ºä¸€ç§å…¬å…±èµ„æºæˆ–è€…è¯´æ˜¯å…±äº«æ•°æ®ï¼Œå¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨å®ƒï¼Œä¸€æ—¦ä¸´ç•ŒåŒºèµ„æºè¢«å ç”¨ï¼Œå…¶ä»–çº¿ç¨‹è¦æƒ³ä½¿ç”¨è¿™ä¸ªèµ„æºï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚\né˜»å¡/éé˜»å¡ é˜»å¡å’Œéé˜»å¡é€šå¸¸å½¢å®¹å¤šçº¿ç¨‹é—´çš„ç›¸äº’å½±å“ã€‚æ¯”å¦‚ä¸€ä¸ªçº¿ç¨‹å ç”¨äº†ä¸´ç•ŒåŒºèµ„æºï¼Œé‚£ä¹ˆå…¶å®ƒæ‰€æœ‰éœ€è¦è¿™ä¸ªèµ„æºçš„çº¿ç¨‹å°±å¿…é¡»åœ¨è¿™ä¸ªä¸´ç•ŒåŒºä¸­è¿›è¡Œç­‰å¾…ï¼Œç­‰å¾…ä¼šå¯¼è‡´çº¿ç¨‹æŒ‚èµ·ã€‚è¿™ç§æƒ…å†µå°±æ˜¯é˜»å¡ã€‚æ­¤æ—¶ï¼Œå¦‚æœå ç”¨èµ„æºçš„çº¿ç¨‹ä¸€ç›´ä¸æ„¿æ„é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆå…¶å®ƒæ‰€æœ‰é˜»å¡åœ¨è¿™ä¸ªä¸´ç•ŒåŒºä¸Šçš„çº¿ç¨‹éƒ½ä¸èƒ½å·¥ä½œã€‚è€Œéé˜»å¡å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºã€‚\nåŒæ­¥/å¼‚æ­¥ é€šå¸¸åŒæ­¥å’Œå¼‚æ­¥æ˜¯æŒ‡å‡½æ•°/æ–¹æ³•è°ƒç”¨æ–¹é¢ã€‚\nåŒæ­¥å°±æ˜¯åœ¨å‘å‡ºä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨å°±ä¸è¿”å›ã€‚å¼‚æ­¥è°ƒç”¨ä¼šç¬é—´è¿”å›ï¼Œä½†æ˜¯å¼‚æ­¥è°ƒç”¨ç¬é—´è¿”å›å¹¶ä¸ä»£è¡¨ä½ çš„ä»»åŠ¡å°±å®Œæˆäº†ï¼Œä»–ä¼šåœ¨åå°èµ·ä¸ªçº¿ç¨‹ç»§ç»­è¿›è¡Œä»»åŠ¡ï¼Œç­‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åé€šè¿‡å›è°ƒcallbackæˆ–å…¶ä»–æ–¹å¼é€šçŸ¥è°ƒç”¨æ–¹ã€‚\nå¹¶å‘/å¹¶è¡Œ **å¹¶è¡Œ(parallel)**æŒ‡åœ¨åŒä¸€æ—¶åˆ»ï¼Œæœ‰å¤šæ¡æŒ‡ä»¤åœ¨å¤šä¸ªå¤„ç†å™¨ä¸ŠåŒæ—¶æ‰§è¡Œã€‚æ‰€ä»¥æ— è®ºä»å¾®è§‚è¿˜æ˜¯ä»å®è§‚æ¥çœ‹ï¼ŒäºŒè€…éƒ½æ˜¯ä¸€èµ·æ‰§è¡Œçš„ã€‚\n**å¹¶å‘(concurrency)**æŒ‡åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œï¼Œä½†å¤šä¸ªè¿›ç¨‹æŒ‡ä»¤è¢«å¿«é€Ÿçš„è½®æ¢æ‰§è¡Œï¼Œä½¿å¾—åœ¨å®è§‚ä¸Šå…·æœ‰å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œçš„æ•ˆæœï¼Œä½†åœ¨å¾®è§‚ä¸Šå¹¶ä¸æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œåªæ˜¯æŠŠæ—¶é—´åˆ†æˆè‹¥å¹²æ®µï¼Œä½¿å¤šä¸ªè¿›ç¨‹å¿«é€Ÿäº¤æ›¿çš„æ‰§è¡Œã€‚\næ¶æ„è®¾è®¡ é«˜å¹¶å‘ (High Concurrency) ç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„é—®ä¸–ï¼Œé«˜å¹¶å‘ï¼ˆHigh Concurrencyï¼‰é€šå¸¸æ˜¯æŒ‡é€šè¿‡è®¾è®¡ä¿è¯ç³»ç»Ÿèƒ½å¤ŸåŒæ—¶å¹¶è¡Œå¤„ç†å¾ˆå¤šè¯·æ±‚ã€‚é€šä¿—æ¥è®²ï¼Œé«˜å¹¶å‘æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·åŒæ—¶çš„è®¿é—®åŒä¸€ API æ¥å£æˆ–è€… Url åœ°å€ã€‚å®ƒç»å¸¸ä¼šå‘ç”Ÿåœ¨æœ‰å¤§æ´»è·ƒç”¨æˆ·é‡ï¼Œç”¨æˆ·é«˜èšé›†çš„ä¸šåŠ¡åœºæ™¯ä¸­ã€‚\né«˜å¯ç”¨ (High Availability) é«˜å¯ç”¨HAï¼ˆHigh Availabilityï¼‰æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸­å¿…é¡»è€ƒè™‘çš„å› ç´ ä¹‹ä¸€ï¼Œå®ƒé€šå¸¸æ˜¯æŒ‡ï¼Œä¸€ä¸ªç³»ç»Ÿç»è¿‡ä¸“é—¨çš„è®¾è®¡ï¼Œä»¥å‡å°‘åœå·¥æ—¶é—´ï¼Œè€Œä¿æŒå…¶æœåŠ¡çš„é«˜åº¦å¯ç”¨æ€§ã€‚\nè¯»å†™åˆ†ç¦» ä¸ºäº†ç¡®ä¿æ•°æ®åº“äº§å“çš„ç¨³å®šæ€§ï¼Œå¾ˆå¤šæ•°æ®åº“æ‹¥æœ‰åŒæœºçƒ­å¤‡åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯ï¼Œç¬¬ä¸€å°æ•°æ®åº“æœåŠ¡å™¨ï¼Œæ˜¯å¯¹å¤–æä¾›å¢åˆ æ”¹ä¸šåŠ¡çš„ç”Ÿäº§æœåŠ¡å™¨ï¼›ç¬¬äºŒå°æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸»è¦è¿›è¡Œè¯»çš„æ“ä½œã€‚\nå†·å¤‡/çƒ­å¤‡ å†·å¤‡ï¼šä¸¤ä¸ªæœåŠ¡å™¨ï¼Œä¸€å°è¿è¡Œï¼Œä¸€å°ä¸è¿è¡Œåšä¸ºå¤‡ä»½ã€‚è¿™æ ·ä¸€æ—¦è¿è¡Œçš„æœåŠ¡å™¨å®•æœºï¼Œå°±æŠŠå¤‡ä»½çš„æœåŠ¡å™¨è¿è¡Œèµ·æ¥ã€‚å†·å¤‡çš„æ–¹æ¡ˆæ¯”è¾ƒå®¹æ˜“å®ç°ï¼Œä½†å†·å¤‡çš„ç¼ºç‚¹æ˜¯ä¸»æœºå‡ºç°æ•…éšœæ—¶å¤‡æœºä¸ä¼šè‡ªåŠ¨æ¥ç®¡ï¼Œéœ€è¦ä¸»åŠ¨åˆ‡æ¢æœåŠ¡ã€‚ çƒ­å¤‡ï¼šå³æ˜¯é€šå¸¸æ‰€è¯´çš„active/standbyæ–¹å¼ï¼ŒæœåŠ¡å™¨æ•°æ®åŒ…æ‹¬æ•°æ®åº“æ•°æ®åŒæ—¶å¾€ä¸¤å°æˆ–å¤šå°æœåŠ¡å™¨å†™ã€‚å½“activeæœåŠ¡å™¨å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œé€šè¿‡è½¯ä»¶è¯Šæµ‹ï¼ˆä¸€èˆ¬æ˜¯é€šè¿‡å¿ƒè·³è¯Šæ–­ï¼‰å°†standbyæœºå™¨æ¿€æ´»ï¼Œä¿è¯åº”ç”¨åœ¨çŸ­æ—¶é—´å†…å®Œå…¨æ¢å¤æ­£å¸¸ä½¿ç”¨ã€‚å½“ä¸€å°æœåŠ¡å™¨å®•æœºåï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å°å¤‡ç”¨æœºä½¿ç”¨ã€‚ å¼‚åœ°å¤šæ´» å¼‚åœ°å¤šæ´»ä¸€èˆ¬æ˜¯æŒ‡åœ¨ä¸åŒåŸå¸‚å»ºç«‹ç‹¬ç«‹çš„æ•°æ®ä¸­å¿ƒï¼Œâ€œæ´»â€æ˜¯ç›¸å¯¹äºå†·å¤‡ä»½è€Œè¨€çš„ï¼Œå†·å¤‡ä»½æ˜¯å¤‡ä»½å…¨é‡æ•°æ®ï¼Œå¹³æ—¶ä¸æ”¯æ’‘ä¸šåŠ¡éœ€æ±‚ï¼Œåªæœ‰åœ¨ä¸»æœºæˆ¿å‡ºç°æ•…éšœçš„æ—¶å€™æ‰ä¼šåˆ‡æ¢åˆ°å¤‡ç”¨æœºæˆ¿ï¼Œè€Œå¤šæ´»ï¼Œæ˜¯æŒ‡è¿™äº›æœºæˆ¿åœ¨æ—¥å¸¸çš„ä¸šåŠ¡ä¸­ä¹Ÿéœ€è¦èµ°æµé‡ï¼Œåšä¸šåŠ¡æ”¯æ’‘ã€‚\nè´Ÿè½½å‡è¡¡ (Load Balance) è´Ÿè½½å‡è¡¡ï¼Œæ˜¯å¯¹å¤šå°æœåŠ¡å™¨è¿›è¡Œæµé‡åˆ†å‘çš„è´Ÿè½½å‡è¡¡æœåŠ¡ã€‚å¯åœ¨å¤šä¸ªå®ä¾‹é—´è‡ªåŠ¨åˆ†é…åº”ç”¨ç¨‹åºçš„å¯¹å¤–æœåŠ¡èƒ½åŠ›ï¼Œé€šè¿‡æ¶ˆé™¤å•ç‚¹æ•…éšœæå‡åº”ç”¨ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œè®©æ‚¨å®ç°æ›´é«˜æ°´å¹³çš„åº”ç”¨ç¨‹åºå®¹é”™èƒ½åŠ›ï¼Œä»è€Œæ— ç¼æä¾›åˆ†é…åº”ç”¨ç¨‹åºæµé‡æ‰€éœ€çš„è´Ÿè½½å‡è¡¡å®¹é‡ï¼Œä¸ºæ‚¨æä¾›é«˜æ•ˆã€ç¨³å®šã€å®‰å…¨çš„æœåŠ¡ã€‚\nåŠ¨é™åˆ†ç¦» åŠ¨é™åˆ†ç¦»æ˜¯æŒ‡åœ¨webæœåŠ¡å™¨æ¶æ„ä¸­ï¼Œå°†é™æ€é¡µé¢ä¸åŠ¨æ€é¡µé¢æˆ–è€…é™æ€å†…å®¹æ¥å£å’ŒåŠ¨æ€å†…å®¹æ¥å£åˆ†å¼€ä¸åŒç³»ç»Ÿè®¿é—®çš„æ¶æ„è®¾è®¡æ–¹æ³•ï¼Œè¿›è€Œæå‡æ•´ä¸ªæœåŠ¡è®¿é—®æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚\né›†ç¾¤ å•å°æœåŠ¡å™¨çš„å¹¶å‘æ‰¿è½½èƒ½åŠ›æ€»æ˜¯æœ‰é™çš„ï¼Œå½“å•å°æœåŠ¡å™¨å¤„ç†èƒ½åŠ›è¾¾åˆ°æ€§èƒ½ç“¶é¢ˆçš„æ—¶ï¼Œå°†å¤šå°æœåŠ¡å™¨ç»„åˆèµ·æ¥æä¾›æœåŠ¡ï¼Œè¿™ç§ç»„åˆæ–¹å¼ç§°ä¹‹ä¸ºé›†ç¾¤ï¼Œé›†ç¾¤ä¸­æ¯å°æœåŠ¡å™¨å°±å«åšè¿™ä¸ªé›†ç¾¤çš„ä¸€ä¸ªâ€œèŠ‚ç‚¹â€ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½æä¾›ç›¸åŒçš„æœåŠ¡ï¼Œä»è€Œæˆå€çš„æå‡æ•´ä¸ªç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚\nåˆ†å¸ƒå¼ åˆ†å¸ƒå¼ç³»ç»Ÿå°±æ˜¯å°†ä¸€ä¸ªå®Œæ•´çš„ç³»ç»ŸæŒ‰ç…§ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†æˆå¾ˆå¤šç‹¬ç«‹çš„å­ç³»ç»Ÿï¼Œæ¯ä¸ªå­ç³»ç»Ÿå°±è¢«ç§°ä¸ºâ€œæœåŠ¡â€ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå°†è¯·æ±‚åˆ†æ‹£å’Œåˆ†å‘åˆ°ä¸åŒçš„å­ç³»ç»Ÿï¼Œè®©ä¸åŒçš„æœåŠ¡æ¥å¤„ç†ä¸åŒçš„è¯·æ±‚ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå­ç³»ç»Ÿç‹¬ç«‹è¿è¡Œï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡ç½‘ç»œé€šä¿¡è¿æ¥èµ·æ¥å®ç°æ•°æ®äº’é€šå’Œç»„åˆæœåŠ¡ã€‚\nCAPç†è®º CAPç†è®ºï¼ŒæŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒConsistency(ä¸€è‡´æ€§)ã€Availability(å¯ç”¨æ€§)ã€Partition Tolerance(åˆ†åŒºå®¹é”™æ€§)ï¼Œä¸èƒ½åŒæ—¶æˆç«‹ã€‚\n**ä¸€è‡´æ€§ï¼š**å®ƒè¦æ±‚åœ¨åŒä¸€æ—¶åˆ»ç‚¹ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å¤‡ä»½éƒ½ç›¸åŒæˆ–è€…éƒ½å¤„äºåŒä¸€çŠ¶æ€ã€‚\n**å¯ç”¨æ€§ï¼š**åœ¨ç³»ç»Ÿé›†ç¾¤çš„ä¸€éƒ¨åˆ†èŠ‚ç‚¹å®•æœºåï¼Œç³»ç»Ÿä¾ç„¶èƒ½å¤Ÿæ­£ç¡®çš„å“åº”ç”¨æˆ·çš„è¯·æ±‚ã€‚\n**åˆ†åŒºå®¹é”™æ€§ï¼š**ç³»ç»Ÿèƒ½å¤Ÿå®¹å¿èŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œé€šä¿¡çš„æ•…éšœã€‚\nç®€å•çš„æ¥è¯´ï¼Œ**åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæœ€å¤šèƒ½æ”¯æŒä¸Šé¢çš„ä¸¤ç§å±æ€§ã€‚**ä½†æ˜¾ç„¶æ—¢ç„¶æ˜¯åˆ†å¸ƒå¼æ³¨å®šæˆ‘ä»¬æ˜¯å¿…ç„¶è¦è¿›è¡Œåˆ†åŒºï¼Œæ—¢ç„¶åˆ†åŒºï¼Œæˆ‘ä»¬å°±æ— æ³•ç™¾åˆ†ç™¾é¿å…åˆ†åŒºçš„é”™è¯¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§å»ä½œå‡ºé€‰æ‹©ã€‚\nåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¾€å¾€è¿½æ±‚çš„æ˜¯å¯ç”¨æ€§ï¼Œå®ƒçš„é‡è¦æ€§æ¯”ä¸€è‡´æ€§è¦é«˜ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°é«˜å¯ç”¨ï¼Œè¿™é‡Œåˆæœ‰ä¸€ä¸ªç†è®ºï¼Œå°±æ˜¯ BASE ç†è®ºï¼Œå®ƒç»™ CAP ç†è®ºåšäº†è¿›ä¸€æ­¥çš„æ‰©å……ã€‚\nBASEç†è®º BASE ç†è®ºæŒ‡å‡ºï¼š\nBasically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰\nSoft stateï¼ˆè½¯çŠ¶æ€ï¼‰\nEventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰\nBASE ç†è®ºæ˜¯å¯¹ CAP ä¸­çš„ä¸€è‡´æ€§å’Œå¯ç”¨æ€§è¿›è¡Œä¸€ä¸ªæƒè¡¡çš„ç»“æœï¼Œç†è®ºçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šæˆ‘ä»¬æ— æ³•åšåˆ°å¼ºä¸€è‡´ï¼Œä½†æ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ã€‚\næ°´å¹³æ‰©å±•/å‚ç›´æ‰©å±• æ°´å¹³æ‰©å±• Scale Outé€šè¿‡å¢åŠ æ›´å¤šçš„æœåŠ¡å™¨æˆ–è€…ç¨‹åºå®ä¾‹æ¥åˆ†æ•£è´Ÿè½½ï¼Œä»è€Œæå‡å­˜å‚¨èƒ½åŠ›å’Œè®¡ç®—èƒ½åŠ›ã€‚\nå‚ç›´æ‰©å±• Scale Up æå‡å•æœºå¤„ç†èƒ½åŠ›ã€‚\nå‚ç›´æ‰©å±•çš„æ–¹å¼åˆæœ‰ä¸¤ç§ï¼š\nï¼ˆ1ï¼‰å¢å¼ºå•æœºç¡¬ä»¶æ€§èƒ½ï¼Œä¾‹å¦‚ï¼šå¢åŠ CPUæ ¸æ•°å¦‚32æ ¸ï¼Œå‡çº§æ›´å¥½çš„ç½‘å¡å¦‚ä¸‡å…†ï¼Œå‡çº§æ›´å¥½çš„ç¡¬ç›˜å¦‚SSDï¼Œæ‰©å……ç¡¬ç›˜å®¹é‡å¦‚2Tï¼Œæ‰©å……ç³»ç»Ÿå†…å­˜å¦‚128G;\nï¼ˆ2ï¼‰æå‡å•æœºè½¯ä»¶æˆ–è€…æ¶æ„æ€§èƒ½ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨Cacheæ¥å‡å°‘IOæ¬¡æ•°ï¼Œä½¿ç”¨å¼‚æ­¥æ¥å¢åŠ å•æœåŠ¡ååé‡ï¼Œä½¿ç”¨æ— é”æ•°æ®ç»“æ„æ¥å‡å°‘å“åº”æ—¶é—´ï¼›\nå¹³è¡Œæ‰©å®¹ ä¸æ°´å¹³æ‰©å±•ç±»ä¼¼ã€‚é›†ç¾¤æœåŠ¡å™¨ä¸­çš„èŠ‚ç‚¹å‡ä¸ºå¹³è¡Œå¯¹ç­‰èŠ‚ç‚¹ï¼Œå½“éœ€è¦æ‰©å®¹æ—¶ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æ›´å¤šèŠ‚ç‚¹ä»¥æé«˜é›†ç¾¤çš„æœåŠ¡èƒ½åŠ›ã€‚ä¸€èˆ¬æ¥è¯´æœåŠ¡å™¨ä¸­å…³é”®è·¯å¾„ï¼ˆå¦‚æœåŠ¡å™¨ä¸­çš„ç™»å½•ã€æ”¯ä»˜ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ç­‰ï¼‰éƒ½éœ€è¦æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€å¹³è¡Œæ‰©å®¹ã€‚\nå¼¹æ€§æ‰©å®¹ æŒ‡å¯¹éƒ¨ç½²çš„é›†ç¾¤è¿›è¡ŒåŠ¨æ€åœ¨çº¿æ‰©å®¹ã€‚å¼¹æ€§æ‰©å®¹ç³»ç»Ÿå¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡ç¯å¢ƒæŒ‰ç…§ä¸€å®šç­–ç•¥è‡ªåŠ¨åœ°æ·»åŠ æ›´å¤šçš„èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬å­˜å‚¨èŠ‚ç‚¹ã€è®¡ç®—èŠ‚ç‚¹ã€ç½‘ç»œèŠ‚ç‚¹ï¼‰æ¥å¢åŠ ç³»ç»Ÿå®¹é‡ã€æé«˜ç³»ç»Ÿæ€§èƒ½æˆ–è€…å¢å¼ºç³»ç»Ÿå¯é æ€§ï¼Œæˆ–è€…åŒæ—¶å®Œæˆè¿™ä¸‰ä¸ªç›®æ ‡ã€‚\nçŠ¶æ€åŒæ­¥/å¸§åŒæ­¥ **çŠ¶æ€åŒæ­¥ï¼š**çŠ¶æ€åŒæ­¥æ˜¯æŒ‡æœåŠ¡å™¨è´Ÿè´£è®¡ç®—å…¨éƒ¨çš„æ¸¸æˆé€»è¾‘ï¼Œå¹¶ä¸”å¹¿æ’­è¿™äº›è®¡ç®—çš„ç»“æœï¼Œå®¢æˆ·ç«¯ä»…ä»…è´Ÿè´£å‘é€ç©å®¶çš„æ“ä½œï¼Œä»¥åŠè¡¨ç°æ”¶åˆ°çš„æ¸¸æˆç»“æœã€‚ **ç‰¹å¾ï¼š**çŠ¶æ€åŒæ­¥å®‰å…¨æ€§é«˜ï¼Œé€»è¾‘æ›´æ–°æ–¹ä¾¿ï¼Œæ–­çº¿é‡è¿å¿«ï¼Œä½†æ˜¯å¼€å‘æ•ˆç‡è¾ƒä½ï¼Œç½‘ç»œæµé‡éšæ¸¸æˆå¤æ‚åº¦å¢åŠ ï¼ŒæœåŠ¡å™¨éœ€è¦æ‰¿è½½æ›´å¤§å‹åŠ›ã€‚\n**å¸§åŒæ­¥ï¼š**æœåŠ¡ç«¯åªè½¬å‘æ¶ˆæ¯ï¼Œä¸åšä»»ä½•é€»è¾‘å¤„ç†ï¼Œå„å®¢æˆ·ç«¯æ¯ç§’å¸§æ•°ä¸€è‡´ï¼Œåœ¨æ¯ä¸€å¸§éƒ½å¤„ç†åŒæ ·çš„è¾“å…¥æ•°æ®ã€‚ **ç‰¹å¾ï¼š**å¸§åŒæ­¥éœ€è¦ä¿è¯ç³»ç»Ÿåœ¨ç›¸åŒçš„è¾“å…¥ä¸‹ï¼Œè¦æœ‰ç›¸åŒçš„è¾“å‡ºã€‚å¸§åŒæ­¥å¼€å‘æ•ˆç‡é«˜ï¼Œæµé‡æ¶ˆè€—ä½è€Œä¸”ç¨³å®šï¼Œå¯¹æœåŠ¡å™¨çš„å‹åŠ›éå¸¸å°ã€‚ä½†æ˜¯ç½‘ç»œè¦æ±‚é«˜ï¼Œæ–­çº¿é‡è¿æ—¶é—´é•¿ï¼Œå®¢æˆ·ç«¯è®¡ç®—å‹åŠ›å¤§ã€‚\nç½‘ç»œé€šä¿¡ è¿æ¥æ±  é¢„å…ˆå»ºç«‹ä¸€ä¸ªè¿æ¥ç¼“å†²æ± ï¼Œå¹¶æä¾›ä¸€å¥—è¿æ¥ä½¿ç”¨ã€åˆ†é…ã€ç®¡ç†ç­–ç•¥ï¼Œä½¿å¾—è¯¥è¿æ¥æ± ä¸­çš„è¿æ¥å¯ä»¥å¾—åˆ°é«˜æ•ˆã€å®‰å…¨çš„å¤ç”¨ï¼Œé¿å…äº†è¿æ¥é¢‘ç¹å»ºç«‹ã€å…³é—­çš„å¼€é”€ã€‚\næ–­çº¿é‡è¿ ç”±äºç½‘ç»œæ³¢åŠ¨é€ æˆç”¨æˆ·é—´æ­‡æ€§çš„æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¾…ç½‘ç»œæ¢å¤ä¹‹åæœåŠ¡å™¨å°è¯•å°†ç”¨æˆ·è¿æ¥åˆ°ä¸Šæ¬¡æ–­å¼€æ—¶çš„çŠ¶æ€å’Œæ•°æ®ã€‚\nä¼šè¯ä¿æŒ ä¼šè¯ä¿æŒæ˜¯æŒ‡åœ¨è´Ÿè½½å‡è¡¡å™¨ä¸Šçš„ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥è¯†åˆ«å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´äº¤äº’è¿‡ç¨‹çš„å…³è¿æ€§ï¼Œåœ¨ä½œè´Ÿè½½å‡è¡¡çš„åŒæ—¶è¿˜ä¿è¯ä¸€ç³»åˆ—ç›¸å…³è¿çš„è®¿é—®è¯·æ±‚éƒ½ä¼šåˆ†é…åˆ°ä¸€å°æœºå™¨ä¸Šã€‚ç”¨äººè¯æ¥è¡¨è¿°å°±æ˜¯ï¼šåœ¨ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ä¸­å‘èµ·çš„å¤šä¸ªè¯·æ±‚éƒ½ä¼šè½åˆ°åŒä¸€å°æœºå™¨ä¸Šã€‚\né•¿è¿æ¥/çŸ­è¿æ¥ é€šå¸¸æ˜¯æŒ‡TCPçš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ã€‚é•¿è¿æ¥å°±æ˜¯å»ºç«‹TCPè¿æ¥åï¼Œä¸€ç›´ä¿æŒè¿™ä¸ªè¿æ¥ï¼Œä¸€èˆ¬ä¼šä¸­é—´å½¼æ­¤å‘é€å¿ƒè·³æ¥ç¡®è®¤å¯¹åº”çš„å­˜åœ¨ï¼Œä¸­é—´ä¼šåšå¤šæ¬¡ä¸šåŠ¡æ•°æ®ä¼ è¾“ï¼Œä¸€èˆ¬ä¸ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚çŸ­è¿æ¥ä¸€èˆ¬æŒ‡å»ºç«‹è¿æ¥åï¼Œæ‰§è¡Œä¸€æ¬¡äº‹åŠ¡åï¼ˆå¦‚ï¼šhttpè¯·æ±‚ï¼‰ï¼Œç„¶åå°±å…³æ‰è¿™ä¸ªè¿æ¥ã€‚\næµé‡æ§åˆ¶/æ‹¥å¡æ§åˆ¶ æµé‡æ§åˆ¶é˜²æ­¢å‘é€æ–¹å‘çš„å¤ªå¿«ï¼Œè€—å°½æ¥æ”¶æ–¹çš„èµ„æºï¼Œä»è€Œä½¿æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†ã€‚ æ‹¥å¡æ§åˆ¶é˜²æ­¢å‘é€æ–¹å‘çš„å¤ªå¿«ï¼Œä½¿å¾—ç½‘ç»œæ¥ä¸åŠå¤„ç†äº§ç”Ÿæ‹¥å¡ï¼Œè¿›è€Œå¼•èµ·è¿™éƒ¨åˆ†ä¹ƒè‡³æ•´ä¸ªç½‘ç»œæ€§èƒ½ä¸‹é™çš„ç°è±¡ï¼Œä¸¥é‡æ—¶ç”šè‡³ä¼šå¯¼è‡´ç½‘ç»œé€šä¿¡ä¸šåŠ¡é™·å…¥åœé¡¿ã€‚ æƒŠç¾¤æ•ˆåº” æƒŠç¾¤æ•ˆåº”ä¹Ÿæœ‰äººå«åšé›·é¸£ç¾¤ä½“æ•ˆåº”ï¼Œä¸è¿‡å«ä»€ä¹ˆï¼Œç®€è¨€ä¹‹ï¼ŒæƒŠç¾¤ç°è±¡å°±æ˜¯å¤šè¿›ç¨‹ï¼ˆå¤šçº¿ç¨‹ï¼‰åœ¨åŒæ—¶é˜»å¡ç­‰å¾…åŒä¸€ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼ˆä¼‘çœ çŠ¶æ€ï¼‰ï¼Œå¦‚æœç­‰å¾…çš„è¿™ä¸ªäº‹ä»¶å‘ç”Ÿï¼Œé‚£ä¹ˆä»–å°±ä¼šå”¤é†’ç­‰å¾…çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆæˆ–è€…çº¿ç¨‹ï¼‰ï¼Œä½†æ˜¯æœ€ç»ˆå´åªå¯èƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å¾—è¿™ä¸ªæ—¶é—´çš„â€œæ§åˆ¶æƒâ€ï¼Œå¯¹è¯¥äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œè€Œå…¶ä»–è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å–â€œæ§åˆ¶æƒâ€å¤±è´¥ï¼Œåªèƒ½é‡æ–°è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œè¿™ç§ç°è±¡å’Œæ€§èƒ½æµªè´¹å°±å«åšæƒŠç¾¤ã€‚\nNAT NATï¼ˆNetwork Address Translationï¼Œç½‘ç»œåœ°å€è½¬æ¢ï¼‰ï¼Œå°±æ˜¯æ›¿æ¢IPæŠ¥æ–‡å¤´éƒ¨çš„åœ°å€ä¿¡æ¯ã€‚NATé€šå¸¸éƒ¨ç½²åœ¨ä¸€ä¸ªç»„ç»‡çš„ç½‘ç»œå‡ºå£ä½ç½®ï¼Œé€šè¿‡å°†å†…éƒ¨ç½‘ç»œIPåœ°å€æ›¿æ¢ä¸ºå‡ºå£çš„IPåœ°å€æä¾›å…¬ç½‘å¯è¾¾æ€§å’Œä¸Šå±‚åè®®çš„è¿æ¥èƒ½åŠ›ã€‚\næ•…éšœå¼‚å¸¸ å®•æœº å®•æœºï¼Œä¸€èˆ¬æƒ…å†µä¸‹æŒ‡çš„å°±æ˜¯è®¡ç®—æœºä¸»æœºå‡ºç°æ„å¤–æ•…éšœè€Œæ­»æœºã€‚å…¶æ¬¡ï¼Œä¸€äº›æœåŠ¡å™¨ä¾‹å¦‚æ•°æ®åº“æ­»é”ä¹Ÿå¯ä»¥ç§°ä¸ºå®•æœºï¼Œä¸€äº›æœåŠ¡å™¨çš„æŸäº›æœåŠ¡æŒ‚æ‰äº†ï¼Œå°±å¯ä»¥è¿™ä¹ˆè¯´ã€‚\ncoredump å½“ç¨‹åºå‡ºé”™è€Œå¼‚å¸¸ä¸­æ–­æ—¶ï¼ŒOSä¼šæŠŠç¨‹åºå·¥ä½œçš„å½“å‰çŠ¶æ€å­˜å‚¨æˆä¸€ä¸ªcoredunmpæ–‡ä»¶ã€‚é€šå¸¸æƒ…å†µä¸‹coredumpæ–‡ä»¶åŒ…å«äº†ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜ï¼Œå¯„å­˜å™¨çŠ¶æ€ï¼Œå †æ ˆæŒ‡é’ˆï¼Œå†…å­˜ç®¡ç†ä¿¡æ¯ç­‰ã€‚\nç¼“å­˜ç©¿é€/å‡»ç©¿/é›ªå´© **ç¼“å­˜ç©¿é€ï¼š**ç¼“å­˜ç©¿é€æ˜¯æŒ‡æŸ¥è¯¢ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ï¼Œç”±äºç¼“å­˜æ˜¯ä¸å‘½ä¸­æ—¶éœ€è¦ä»æ•°æ®åº“æŸ¥è¯¢ï¼ŒæŸ¥ä¸åˆ°æ•°æ®åˆ™ä¸å†™å…¥ç¼“å­˜ï¼Œè¿™å°†å¯¼è‡´è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ°æ•°æ®åº“å»æŸ¥è¯¢ï¼Œè¿›è€Œç»™æ•°æ®åº“å¸¦æ¥å‹åŠ›ã€‚ **ç¼“å­˜å‡»ç©¿ï¼š**ç¼“å­˜å‡»ç©¿æ˜¯æŒ‡çƒ­ç‚¹keyåœ¨æŸä¸ªæ—¶é—´ç‚¹è¿‡æœŸçš„æ—¶å€™ï¼Œè€Œæ°å¥½åœ¨è¿™ä¸ªæ—¶é—´ç‚¹å¯¹è¿™ä¸ªKeyæœ‰å¤§é‡çš„å¹¶å‘è¯·æ±‚è¿‡æ¥ï¼Œä»è€Œå¤§é‡çš„è¯·æ±‚æ‰“åˆ°dbã€‚ **ç¼“å­˜é›ªå´©ï¼š**ç¼“å­˜é›ªå´©æ˜¯æŒ‡ç¼“å­˜ä¸­æ•°æ®å¤§æ‰¹é‡åˆ°è¿‡æœŸæ—¶é—´ï¼Œè€ŒæŸ¥è¯¢æ•°æ®é‡å·¨å¤§ï¼Œå¼•èµ·æ•°æ®åº“å‹åŠ›è¿‡å¤§ç”šè‡³downæœºã€‚ **ä¸ç¼“å­˜å‡»ç©¿ä¸åŒçš„æ˜¯ï¼š**å­˜å‡»ç©¿æ˜¯çƒ­ç‚¹keyå¤±æ•ˆï¼Œç¼“å­˜é›ªå´©æ˜¯å¤§é‡çš„keyåŒæ—¶å¤±æ•ˆã€‚ 500/501/502/503/504/505 **500 Internal Server Errorï¼š**å†…éƒ¨æœåŠ¡é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯æœåŠ¡å™¨é‡åˆ°æ„å¤–æƒ…å†µï¼Œè€Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚å¯èƒ½åŸå› : 1ã€ç¨‹åºé”™è¯¯ï¼Œä¾‹å¦‚ï¼šASPæˆ–è€…PHPè¯­æ³•é”™è¯¯ï¼›2ã€é«˜å¹¶å‘å¯¼è‡´ï¼Œç³»ç»Ÿèµ„æºé™åˆ¶ä¸èƒ½æ‰“å¼€è¿‡å¤šçš„æ–‡ä»¶æ‰€è‡´ã€‚ **501Not implementedï¼š**æœåŠ¡å™¨ä¸ç†è§£æˆ–ä¸æ”¯æŒè¯·æ±‚çš„HTTPè¯·æ±‚ã€‚ **502Bad Gatewayï¼š**WEBæœåŠ¡å™¨æ•…éšœï¼Œå¯èƒ½æ˜¯ç”±äºç¨‹åºè¿›ç¨‹ä¸å¤Ÿï¼Œè¯·æ±‚çš„php-fpmå·²ç»æ‰§è¡Œï¼Œä½†æ˜¯ç”±äºæŸç§åŸå› è€Œæ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼Œæœ€ç»ˆå¯¼è‡´php-fpmè¿›ç¨‹ç»ˆæ­¢ã€‚å¯èƒ½åŸå› ï¼š1ã€NginxæœåŠ¡å™¨ï¼Œphp-cgiè¿›ç¨‹æ•°ä¸å¤Ÿç”¨ï¼›2ã€PHPæ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼›3ã€php-cgiè¿›ç¨‹æ­»æ‰ï¼› **503Service Unavailableï¼š**æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ã€‚ç³»ç»Ÿç»´æŠ¤æœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚å¯ä»¥è”ç³»ä¸‹æœåŠ¡å™¨æä¾›å•†ã€‚ **504Gateway Timeoutï¼š**æœåŠ¡å™¨504é”™è¯¯è¡¨ç¤ºè¶…æ—¶ï¼Œæ˜¯æŒ‡å®¢æˆ·ç«¯æ‰€å‘å‡ºçš„è¯·æ±‚æ²¡æœ‰åˆ°è¾¾ç½‘å…³ï¼Œè¯·æ±‚æ²¡æœ‰åˆ°å¯ä»¥æ‰§è¡Œçš„php-fpmï¼Œä¸€èˆ¬æ˜¯ä¸nginx.confçš„é…ç½®æœ‰å…³ã€‚ **505HTTP Version Not Supportedï¼š**æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ é™¤äº†500é”™è¯¯å¯èƒ½æ˜¯ç¨‹åºè¯­è¨€é”™è¯¯ï¼Œå…¶ä½™çš„æŠ¥é”™ï¼Œéƒ½å¤§æ¦‚å¯ä»¥ç†è§£ä¸ºæœåŠ¡å™¨æˆ–è€…æœåŠ¡å™¨é…ç½®å‡ºç°é—®é¢˜ã€‚\nå†…å­˜æº¢å‡º/å†…å­˜æ³„æ¼ **å†…å­˜æº¢å‡ºï¼š**å†…å­˜æº¢å‡ºï¼ˆOut Of Memoryï¼‰æŒ‡ç¨‹åºç”³è¯·å†…å­˜æ—¶ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ä¾›ç”³è¯·è€…ä½¿ç”¨ï¼Œæˆ–è€…è¯´ï¼Œç»™äº†ä½ ä¸€å—å­˜å‚¨intç±»å‹æ•°æ®çš„å­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯ä½ å´å­˜å‚¨longç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯å†…å­˜ä¸å¤Ÿç”¨ï¼Œæ­¤æ—¶å°±ä¼šæŠ¥é”™OOM,å³æ‰€è°“çš„å†…å­˜æº¢å‡ºã€‚ **å†…å­˜æ³„æ¼ï¼š**å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰æŒ‡ç¨‹åºä¸­å·±åŠ¨æ€åˆ†é…çš„å †å†…å­˜ç”±äºæŸç§åŸå› ç¨‹åºæœªé‡Šæ”¾æˆ–æ— æ³•é‡Šæ”¾ï¼Œé€ æˆç³»ç»Ÿå†…å­˜çš„æµªè´¹ï¼Œå¯¼è‡´ç¨‹åºè¿è¡Œé€Ÿåº¦å‡æ…¢ç”šè‡³ç³»ç»Ÿå´©æºƒç­‰ä¸¥é‡åæœã€‚ å¥æŸ„æ³„æ¼ å¥æŸ„æ³„æ¼æ˜¯è¿›ç¨‹åœ¨è°ƒç”¨ç³»ç»Ÿæ–‡ä»¶ä¹‹åï¼Œæ²¡æœ‰é‡Šæ”¾å·²ç»æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„ã€‚ä¸€èˆ¬å¥æŸ„æ³„æ¼åçš„ç°è±¡æ˜¯ï¼Œæœºå™¨å˜æ…¢ï¼ŒCPUé£™å‡ï¼Œå‡ºç°å¥æŸ„æ³„æ¼çš„cgiæˆ–serverçš„CPUä½¿ç”¨ç‡å¢åŠ ã€‚\næ­»é” æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç«äº‰èµ„æºæˆ–è€…ç”±äºå½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½æŠ‘åˆ¶å¤„äºé˜»å¡çŠ¶æ€å¹¶æ— æ³•è¿›è¡Œä¸‹å»ï¼Œæ­¤æ—¶ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ã€‚\nè½¯ä¸­æ–­/ç¡¬ä¸­æ–­ **ç¡¬ä¸­æ–­ï¼š**æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ä¸­æ–­æŒ‡çš„æ˜¯ç¡¬ä¸­æ–­(hardirq)ã€‚ç”±ä¸ç³»ç»Ÿç›¸è¿çš„å¤–è®¾(æ¯”å¦‚ç½‘å¡ã€ç¡¬ç›˜)è‡ªåŠ¨äº§ç”Ÿçš„ã€‚ä¸»è¦æ˜¯ç”¨æ¥é€šçŸ¥æ“ä½œç³»ç»Ÿç³»ç»Ÿå¤–è®¾çŠ¶æ€çš„å˜åŒ–ã€‚ **è½¯ä¸­æ–­ï¼š**1ã€é€šå¸¸æ˜¯ç¡¬ä¸­æ–­æœåŠ¡ç¨‹åºå¯¹å†…æ ¸çš„ä¸­æ–­ï¼›2ã€ä¸ºäº†æ»¡è¶³å®æ—¶ç³»ç»Ÿçš„è¦æ±‚ï¼Œä¸­æ–­å¤„ç†åº”è¯¥æ˜¯è¶Šå¿«è¶Šå¥½ã€‚ linuxä¸ºäº†å®ç°è¿™ä¸ªç‰¹ç‚¹ï¼Œå½“ä¸­æ–­å‘ç”Ÿçš„æ—¶å€™ï¼Œç¡¬ä¸­æ–­å¤„ç†é‚£äº›çŸ­æ—¶é—´å°±å¯ä»¥å®Œæˆçš„å·¥ä½œï¼Œè€Œå°†é‚£äº›å¤„ç†äº‹ä»¶æ¯”è¾ƒé•¿çš„å·¥ä½œï¼Œæ”¾åˆ°ä¸­æ–­ä¹‹åæ¥å®Œæˆï¼Œä¹Ÿå°±æ˜¯è½¯ä¸­æ–­(softirq)æ¥å®Œæˆã€‚\næ¯›åˆº åœ¨çŸ­æš‚çš„æŸä¸€åˆ»ï¼ŒæœåŠ¡å™¨æ€§èƒ½æŒ‡æ ‡ï¼ˆå¦‚æµé‡ã€ç£ç›˜IOã€CPUä½¿ç”¨ç‡ç­‰ï¼‰è¿œå¤§äºè¯¥æ—¶åˆ»å‰åæ—¶é—´æ®µã€‚æ¯›åˆºçš„å‡ºç°ä»£è¡¨è¿™æœåŠ¡å™¨èµ„æºåˆ©ç”¨ä¸å‡åŒ€ï¼Œä¸å……åˆ†ï¼Œå®¹æ˜“è¯±å‘å…¶ä»–æ›´ä¸¥é‡çš„é—®é¢˜ã€‚\né‡æ”¾æ”»å‡» æ”»å‡»è€…å‘é€ä¸€ä¸ªç›®çš„ä¸»æœºå·²æ¥æ”¶è¿‡çš„åŒ…ï¼Œæ¥è¾¾åˆ°æ¬ºéª—ç³»ç»Ÿçš„ç›®çš„ï¼Œä¸»è¦ç”¨äºèº«ä»½è®¤è¯è¿‡ç¨‹ï¼Œç ´åè®¤è¯çš„æ­£ç¡®æ€§ã€‚å®ƒæ˜¯ä¸€ç§æ”»å‡»ç±»å‹ï¼Œè¿™ç§æ”»å‡»ä¼šä¸æ–­æ¶æ„æˆ–æ¬ºè¯ˆæ€§åœ°é‡å¤ä¸€ä¸ªæœ‰æ•ˆçš„æ•°æ®ä¼ è¾“ï¼Œé‡æ”¾æ”»å‡»å¯ä»¥ç”±å‘èµ·è€…ï¼Œä¹Ÿå¯ä»¥ç”±æ‹¦æˆªå¹¶é‡å‘è¯¥æ•°æ®çš„æ•Œæ–¹è¿›è¡Œã€‚æ”»å‡»è€…åˆ©ç”¨ç½‘ç»œç›‘å¬æˆ–è€…å…¶ä»–æ–¹å¼ç›—å–è®¤è¯å‡­æ®ï¼Œä¹‹åå†æŠŠå®ƒé‡æ–°å‘ç»™è®¤è¯æœåŠ¡å™¨ã€‚\nç½‘ç»œå­¤å²› ç½‘ç»œå­¤å²›æŒ‡é›†ç¾¤ç¯å¢ƒä¸­ï¼Œéƒ¨åˆ†æœºå™¨ä¸æ•´ä¸ªé›†ç¾¤å¤±å»ç½‘ç»œè¿æ¥ï¼Œåˆ†è£‚ä¸ºä¸€ä¸ªå°é›†ç¾¤å¹¶ä¸”å‘ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„çŠ¶å†µã€‚\næ•°æ®å€¾æ–œ å¯¹äºé›†ç¾¤ç³»ç»Ÿï¼Œä¸€èˆ¬ç¼“å­˜æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå³ä¸åŒèŠ‚ç‚¹è´Ÿè´£ä¸€å®šèŒƒå›´çš„ç¼“å­˜æ•°æ®ã€‚æˆ‘ä»¬æŠŠç¼“å­˜æ•°æ®åˆ†æ•£åº¦ä¸å¤Ÿï¼Œå¯¼è‡´å¤§é‡çš„ç¼“å­˜æ•°æ®é›†ä¸­åˆ°äº†ä¸€å°æˆ–è€…å‡ å°æœåŠ¡èŠ‚ç‚¹ä¸Šï¼Œç§°ä¸ºæ•°æ®å€¾æ–œã€‚ä¸€èˆ¬æ¥è¯´æ•°æ®å€¾æ–œæ˜¯ç”±äºè´Ÿè½½å‡è¡¡å®æ–½çš„æ•ˆæœä¸å¥½å¼•èµ·çš„ã€‚\nè„‘è£‚ è„‘è£‚æ˜¯æŒ‡åœ¨é›†ç¾¤ç³»ç»Ÿä¸­ï¼Œéƒ¨åˆ†èŠ‚ç‚¹ä¹‹é—´ç½‘ç»œä¸å¯è¾¾è€Œå¼•èµ·çš„ç³»ç»Ÿåˆ†è£‚ï¼Œä¸åŒåˆ†è£‚çš„å°é›†ç¾¤ä¼šæŒ‰ç…§å„è‡ªçš„çŠ¶æ€æä¾›æœåŠ¡ï¼ŒåŸæœ¬çš„é›†ç¾¤ä¼šåŒæ—¶å­˜åœ¨ä¸ä¸€è‡´çš„ååº”ï¼Œé€ æˆèŠ‚ç‚¹ä¹‹é—´äº’ç›¸äº‰æŠ¢èµ„æºï¼Œç³»ç»Ÿæ··ä¹±ï¼Œæ•°æ®æŸåã€‚\nç›‘æ§å‘Šè­¦ æœåŠ¡ç›‘æ§ æœåŠ¡ç›‘æ§ä¸»è¦ç›®çš„åœ¨æœåŠ¡å‡ºç°é—®é¢˜æˆ–è€…å¿«è¦å‡ºç°é—®é¢˜æ—¶èƒ½å¤Ÿå‡†ç¡®å¿«é€Ÿåœ°å‘ç°ä»¥å‡å°å½±å“èŒƒå›´ã€‚æœåŠ¡ç›‘æ§ä¸€èˆ¬æœ‰å¤šç§æ‰‹æ®µï¼ŒæŒ‰å±‚æ¬¡å¯åˆ’åˆ†ä¸ºï¼š\nç³»ç»Ÿå±‚ï¼ˆCPUã€ç½‘ç»œçŠ¶æ€ã€IOã€æœºå™¨è´Ÿè½½ç­‰ï¼‰ åº”ç”¨å±‚ï¼ˆè¿›ç¨‹çŠ¶æ€ã€é”™è¯¯æ—¥å¿—ã€ååé‡ç­‰ï¼‰ ä¸šåŠ¡å±‚ï¼ˆæœåŠ¡/æ¥å£çš„é”™è¯¯ç ã€å“åº”æ—¶é—´ï¼‰ ç”¨æˆ·å±‚ï¼ˆç”¨æˆ·è¡Œä¸ºã€èˆ†æƒ…ç›‘æ§ã€å‰ç«¯åŸ‹ç‚¹ï¼‰ å…¨é“¾è·¯ç›‘æ§ **æœåŠ¡æ‹¨æµ‹ï¼š**æœåŠ¡æ‹¨æµ‹æ˜¯æ¢æµ‹æœåŠ¡ï¼ˆåº”ç”¨ï¼‰å¯ç”¨æ€§çš„ç›‘æ§æ–¹å¼ï¼Œé€šè¿‡æ‹¨æµ‹èŠ‚ç‚¹å¯¹ç›®æ ‡æœåŠ¡è¿›è¡Œå‘¨æœŸæ€§æ¢æµ‹ï¼Œä¸»è¦é€šè¿‡å¯ç”¨æ€§å’Œå“åº”æ—¶é—´æ¥åº¦é‡ï¼Œæ‹¨æµ‹èŠ‚ç‚¹é€šå¸¸æœ‰å¼‚åœ°å¤šä¸ªã€‚ **èŠ‚ç‚¹æ¢æµ‹ï¼š**èŠ‚ç‚¹æ¢æµ‹æ˜¯ç”¨æ¥å‘ç°å’Œè¿½è¸ªä¸åŒçš„æœºæˆ¿ï¼ˆæ•°æ®ä¸­å¿ƒï¼‰èŠ‚ç‚¹ä¹‹é—´ç½‘ç»œå¯ç”¨æ€§å’Œé€šç•…æ€§çš„ç›‘æ§æ–¹å¼ï¼Œä¸»è¦é€šè¿‡å“åº”æ—¶é—´ã€ä¸¢åŒ…ç‡ã€è·³æ•°æ¥åº¦é‡ï¼Œæ¢æµ‹æ–¹æ³•ä¸€èˆ¬æ˜¯pingã€mtræˆ–å…¶ä»–ç§æœ‰åè®®ã€‚ **å‘Šè­¦è¿‡æ»¤ï¼š**å¯¹æŸäº›å¯é¢„çŸ¥çš„å‘Šè­¦è¿›è¡Œè¿‡æ»¤ï¼Œä¸è¿›å…¥å‘Šè­¦ç»Ÿè®¡çš„æ•°æ®ï¼Œå¦‚å°‘é‡çˆ¬è™«è®¿é—®å¯¼è‡´çš„httpå“åº”500é”™è¯¯ï¼Œä¸šåŠ¡ç³»ç»Ÿè‡ªå®šä¹‰å¼‚å¸¸ä¿¡æ¯ç­‰ã€‚ **å‘Šè­¦å»é‡ï¼š**å½“ä¸€ä¸ªå‘Šè­¦é€šçŸ¥è´Ÿè´£äººåï¼Œåœ¨è¿™ä¸ªå‘Šè­¦æ¢å¤ä¹‹å‰ï¼Œä¸ä¼šç»§ç»­æ”¶åˆ°ç›¸åŒçš„å‘Šè­¦ã€‚ **å‘Šè­¦æŠ‘åˆ¶ï¼š**ä¸ºäº†å‡å°‘ç”±äºç³»ç»ŸæŠ–åŠ¨å¸¦æ¥çš„å¹²æ‰°ï¼Œè¿˜éœ€è¦å®ç°æŠ‘åˆ¶ï¼Œä¾‹å¦‚æœåŠ¡å™¨ç¬é—´é«˜è´Ÿè½½ï¼Œå¯èƒ½æ˜¯æ­£å¸¸çš„ï¼Œåªæœ‰æŒç»­ä¸€æ®µæ—¶é—´çš„é«˜è´Ÿè½½æ‰éœ€è¦å¾—åˆ°é‡è§†ã€‚ **å‘Šè­¦æ¢å¤ï¼š**å¼€å‘/è¿ç»´äººå‘˜ä¸ä»…éœ€è¦æ”¶åˆ°å‘Šè­¦é€šçŸ¥ï¼Œè¿˜éœ€è¦æ”¶åˆ°æ•…éšœæ¶ˆé™¤å‘Šè­¦æ¢å¤æ­£å¸¸çš„é€šçŸ¥ã€‚ **å‘Šè­¦åˆå¹¶ï¼š**å¯¹åŒä¸€æ—¶åˆ»äº§ç”Ÿçš„å¤šæ¡ç›¸åŒå‘Šè­¦è¿›è¡Œåˆå¹¶ï¼Œå¦‚æŸä¸ªå¾®æœåŠ¡é›†ç¾¤åŒä¸€æ—¶åˆ»å‡ºç°å¤šä¸ªå­æœåŠ¡è´Ÿè½½è¿‡é«˜çš„å‘Šè­¦ï¼Œéœ€è¦åˆå¹¶æˆä¸ºä¸€æ¡å‘Šè­¦ã€‚ **å‘Šè­¦æ”¶æ•›ï¼š**æœ‰æ—¶æŸä¸ªå‘Šè­¦äº§ç”Ÿæ—¶ï¼Œå¾€å¾€ä¼šä¼´éšç€å…¶å®ƒå‘Šè­¦ã€‚è¿™æ—¶å¯ä»¥åªå¯¹æ ¹æœ¬åŸå› äº§ç”Ÿå‘Šè­¦ï¼Œå…¶å®ƒå‘Šè­¦æ”¶æ•›ä¸ºå­å‘Šè­¦ä¸€å¹¶å‘é€é€šçŸ¥ã€‚å¦‚äº‘æœåŠ¡å™¨å‡ºç°CPUè´Ÿè½½å‘Šè­¦æ—¶å¾€å¾€ä¼´éšå…¶æ­è½½çš„æ‰€æœ‰ç³»ç»Ÿçš„å¯ç”¨æ€§å‘Šè­¦ã€‚ **æ•…éšœè‡ªæ„ˆï¼š**å®æ—¶å‘ç°å‘Šè­¦ï¼Œé¢„è¯Šæ–­åˆ†æï¼Œè‡ªåŠ¨æ¢å¤æ•…éšœï¼Œå¹¶æ‰“é€šå‘¨è¾¹ç³»ç»Ÿå®ç°æ•´ä¸ªæµç¨‹çš„é—­ç¯ã€‚ æœåŠ¡æ²»ç† å¾®æœåŠ¡ å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œå®ƒæå€¡å°†å•ä¸€åº”ç”¨ç¨‹åºåˆ’åˆ†æˆä¸€ç»„å°çš„æœåŠ¡ï¼ŒæœåŠ¡ä¹‹é—´ç›¸äº’åè°ƒã€äº’ç›¸é…åˆï¼Œä¸ºç”¨æˆ·æä¾›æœ€ç»ˆä»·å€¼ã€‚æ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶ç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼ŒæœåŠ¡å’ŒæœåŠ¡ä¹‹é—´é‡‡ç”¨è½»é‡çº§çš„é€šä¿¡æœºåˆ¶ç›¸äº’æ²Ÿé€šï¼ˆé€šå¸¸æ˜¯åŸºäºHTTPçš„Restful API).æ¯ä¸ªæœåŠ¡éƒ½å›´ç»•ç€å…·ä½“çš„ä¸šåŠ¡è¿›è¡Œæ„å»ºï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢«ç‹¬ç«‹çš„éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€ç±»ç”Ÿäº§ç¯å¢ƒç­‰ã€‚\næœåŠ¡å‘ç° æœåŠ¡å‘ç°æ˜¯æŒ‡ä½¿ç”¨ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒæ¥è®°å½•åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å…¨éƒ¨æœåŠ¡çš„ä¿¡æ¯ï¼Œä»¥ä¾¿å…¶ä»–æœåŠ¡èƒ½å¤Ÿå¿«é€Ÿçš„æ‰¾åˆ°è¿™äº›å·²æ³¨å†Œçš„æœåŠ¡ã€‚æœåŠ¡å‘ç°æ˜¯æ”¯æ’‘å¤§è§„æ¨¡ SOA å’Œå¾®æœåŠ¡æ¶æ„çš„æ ¸å¿ƒæ¨¡å—ï¼Œå®ƒåº”è¯¥å°½é‡åšåˆ°é«˜å¯ç”¨ã€‚\næµé‡å‰Šå³° å¦‚æœè§‚çœ‹æŠ½å¥–æˆ–ç§’æ€ç³»ç»Ÿçš„è¯·æ±‚ç›‘æ§æ›²çº¿ï¼Œä½ å°±ä¼šå‘ç°è¿™ç±»ç³»ç»Ÿåœ¨æ´»åŠ¨å¼€æ”¾çš„æ—¶é—´æ®µå†…ä¼šå‡ºç°ä¸€ä¸ªæ³¢å³°ï¼Œè€Œåœ¨æ´»åŠ¨æœªå¼€æ”¾æ—¶ï¼Œç³»ç»Ÿçš„è¯·æ±‚é‡ã€æœºå™¨è´Ÿè½½ä¸€èˆ¬éƒ½æ˜¯æ¯”è¾ƒå¹³ç¨³çš„ã€‚ä¸ºäº†èŠ‚çœæœºå™¨èµ„æºï¼Œæˆ‘ä»¬ä¸å¯èƒ½æ—¶æ—¶éƒ½æä¾›æœ€å¤§åŒ–çš„èµ„æºèƒ½åŠ›æ¥æ”¯æŒçŸ­æ—¶é—´çš„é«˜å³°è¯·æ±‚ã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸€äº›æŠ€æœ¯æ‰‹æ®µï¼Œæ¥å‰Šå¼±ç¬æ—¶çš„è¯·æ±‚é«˜å³°ï¼Œè®©ç³»ç»Ÿååé‡åœ¨é«˜å³°è¯·æ±‚ä¸‹ä¿æŒå¯æ§ã€‚å‰Šå³°ä¹Ÿå¯ç”¨äºæ¶ˆé™¤æ¯›åˆºï¼Œä½¿æœåŠ¡å™¨èµ„æºåˆ©ç”¨æ›´åŠ å‡è¡¡å’Œå……åˆ†ã€‚å¸¸è§çš„å‰Šå³°ç­–ç•¥æœ‰é˜Ÿåˆ—ï¼Œé™é¢‘ï¼Œåˆ†å±‚è¿‡æ»¤ï¼Œå¤šçº§ç¼“å­˜ç­‰ã€‚\nç‰ˆæœ¬å…¼å®¹ åœ¨å‡çº§ç‰ˆæœ¬çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è€ƒè™‘å‡çº§ç‰ˆæœ¬åï¼Œæ–°çš„æ•°æ®ç»“æ„æ˜¯å¦èƒ½å¤Ÿç†è§£å’Œè§£ææ—§æ•°æ®ï¼Œæ–°ä¿®æ”¹çš„åè®®æ˜¯å¦èƒ½å¤Ÿç†è§£æ—§çš„åè®®ä»¥åŠåšå‡ºé¢„æœŸå†…åˆé€‚çš„å¤„ç†ã€‚è¿™å°±éœ€è¦åœ¨æœåŠ¡è®¾è®¡è¿‡ç¨‹ä¸­åšå¥½ç‰ˆæœ¬å…¼å®¹ã€‚\nè¿‡è½½ä¿æŠ¤ è¿‡è½½æ˜¯æŒ‡å½“å‰è´Ÿè½½å·²ç»è¶…è¿‡äº†ç³»ç»Ÿçš„æœ€å¤§å¤„ç†èƒ½åŠ›ï¼Œè¿‡è½½çš„å‡ºç°ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†æœåŠ¡ä¸å¯ç”¨ï¼Œå¦‚æœå¤„ç½®ä¸å½“ï¼Œææœ‰å¯èƒ½å¼•èµ·æœåŠ¡å®Œå…¨ä¸å¯ç”¨ï¼Œä¹ƒè‡³é›ªå´©ã€‚è¿‡è½½ä¿æŠ¤æ­£æ˜¯é’ˆå¯¹è¿™ç§å¼‚å¸¸æƒ…å†µåšçš„æªæ–½ï¼Œé˜²æ­¢å‡ºç°æœåŠ¡å®Œå…¨ä¸å¯ç”¨çš„ç°è±¡ã€‚\næœåŠ¡ç†”æ–­ æœåŠ¡ç†”æ–­çš„ä½œç”¨ç±»ä¼¼äºæˆ‘ä»¬å®¶ç”¨çš„ä¿é™©ä¸ï¼Œå½“æŸæœåŠ¡å‡ºç°ä¸å¯ç”¨æˆ–å“åº”è¶…æ—¶çš„æƒ…å†µæ—¶ï¼Œä¸ºäº†é˜²æ­¢æ•´ä¸ªç³»ç»Ÿå‡ºç°é›ªå´©ï¼Œæš‚æ—¶åœæ­¢å¯¹è¯¥æœåŠ¡çš„è°ƒç”¨ã€‚\næœåŠ¡é™çº§ æœåŠ¡é™çº§æ˜¯å½“æœåŠ¡å™¨å‹åŠ›å‰§å¢çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å½“å‰ä¸šåŠ¡æƒ…å†µåŠæµé‡å¯¹ä¸€äº›æœåŠ¡å’Œé¡µé¢æœ‰ç­–ç•¥çš„é™çº§ï¼Œä»¥æ­¤é‡Šæ”¾æœåŠ¡å™¨èµ„æºä»¥ä¿è¯æ ¸å¿ƒä»»åŠ¡çš„æ­£å¸¸è¿è¡Œã€‚é™çº§å¾€å¾€ä¼šæŒ‡å®šä¸åŒçš„çº§åˆ«ï¼Œé¢ä¸´ä¸åŒçš„å¼‚å¸¸ç­‰çº§æ‰§è¡Œä¸åŒçš„å¤„ç†ã€‚\næ ¹æ®æœåŠ¡æ–¹å¼ï¼šå¯ä»¥æ‹’æ¥æœåŠ¡ï¼Œå¯ä»¥å»¶è¿ŸæœåŠ¡ï¼Œä¹Ÿæœ‰æ—¶å€™å¯ä»¥éšæœºæœåŠ¡ã€‚ æ ¹æ®æœåŠ¡èŒƒå›´ï¼šå¯ä»¥ç æ‰æŸä¸ªåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç æ‰æŸäº›æ¨¡å—ã€‚ æ€»ä¹‹æœåŠ¡é™çº§éœ€è¦æ ¹æ®ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚é‡‡ç”¨ä¸åŒçš„é™çº§ç­–ç•¥ã€‚ä¸»è¦çš„ç›®çš„å°±æ˜¯æœåŠ¡è™½ç„¶æœ‰æŸä½†æ˜¯æ€»æ¯”æ²¡æœ‰å¥½ã€‚\nç†”æ–­VSé™çº§ ç›¸åŒç‚¹ï¼šç›®æ ‡ä¸€è‡´ï¼Œéƒ½æ˜¯ä»å¯ç”¨æ€§å’Œå¯é æ€§å‡ºå‘ï¼Œä¸ºäº†é˜²æ­¢ç³»ç»Ÿå´©æºƒï¼›ç”¨æˆ·ä½“éªŒç±»ä¼¼ï¼Œæœ€ç»ˆéƒ½è®©ç”¨æˆ·ä½“éªŒåˆ°çš„æ˜¯æŸäº›åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼› ä¸åŒç‚¹ï¼šè§¦å‘åŸå› ä¸åŒï¼ŒæœåŠ¡ç†”æ–­ä¸€èˆ¬æ˜¯æŸä¸ªæœåŠ¡ï¼ˆä¸‹æ¸¸æœåŠ¡ï¼‰æ•…éšœå¼•èµ·ï¼Œè€ŒæœåŠ¡é™çº§ä¸€èˆ¬æ˜¯ä»æ•´ä½“è´Ÿè·è€ƒè™‘ï¼› æœåŠ¡é™æµ é™æµå¯ä»¥è®¤ä¸ºæœåŠ¡é™çº§çš„ä¸€ç§ï¼Œé™æµå°±æ˜¯é™åˆ¶ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºæµé‡å·²è¾¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ã€‚ä¸€èˆ¬æ¥è¯´ç³»ç»Ÿçš„ååé‡æ˜¯å¯ä»¥è¢«æµ‹ç®—çš„ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šè¿è¡Œï¼Œä¸€æ—¦è¾¾åˆ°çš„éœ€è¦é™åˆ¶çš„é˜ˆå€¼ï¼Œå°±éœ€è¦é™åˆ¶æµé‡å¹¶é‡‡å–ä¸€äº›æªæ–½ä»¥å®Œæˆé™åˆ¶æµé‡çš„ç›®çš„ã€‚æ¯”å¦‚ï¼šå»¶è¿Ÿå¤„ç†ï¼Œæ‹’ç»å¤„ç†ï¼Œæˆ–è€…éƒ¨åˆ†æ‹’ç»å¤„ç†ç­‰ç­‰ã€‚\næ•…éšœå±è”½ å°†æ•…éšœæœºå™¨ä»é›†ç¾¤å‰”é™¤ï¼Œä»¥ä¿è¯æ–°çš„è¯·æ±‚ä¸ä¼šåˆ†å‘åˆ°æ•…éšœæœºå™¨ã€‚\næµ‹è¯•æ–¹æ³• é»‘ç›’/ç™½ç›’æµ‹è¯• é»‘ç›’æµ‹è¯•ä¸è€ƒè™‘ç¨‹åºå†…éƒ¨ç»“æ„å’Œé€»è¾‘ç»“æ„ï¼Œä¸»è¦æ˜¯ç”¨æ¥æµ‹è¯•ç³»ç»Ÿçš„åŠŸèƒ½æ˜¯å¦æ»¡è¶³éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ã€‚ä¸€èˆ¬ä¼šæœ‰ä¸€ä¸ªè¾“å…¥å€¼ï¼Œä¸€ä¸ªè¾“å…¥å€¼ï¼Œå’ŒæœŸæœ›å€¼åšæ¯”è¾ƒã€‚\nç™½ç›’æµ‹è¯•ä¸»è¦åº”ç”¨åœ¨å•å…ƒæµ‹è¯•é˜¶æ®µï¼Œä¸»è¦æ˜¯å¯¹ä»£ç çº§çš„æµ‹è¯•ï¼Œé’ˆå¯¹ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„ï¼Œæµ‹è¯•æ‰‹æ®µæœ‰ï¼šè¯­å¥è¦†ç›–ã€åˆ¤å®šè¦†ç›–ã€æ¡ä»¶è¦†ç›–ã€è·¯å¾„è¦†ç›–ã€æ¡ä»¶ç»„åˆè¦†ç›–\nå•å…ƒ/é›†æˆ/ç³»ç»Ÿ/éªŒæ”¶æµ‹è¯• è½¯ä»¶æµ‹è¯•ä¸€èˆ¬åˆ†ä¸º4ä¸ªé˜¶æ®µï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ã€éªŒæ”¶æµ‹è¯•ã€‚\n**å•å…ƒæµ‹è¯•ï¼š**å•å…ƒæµ‹è¯•æ˜¯å¯¹è½¯ä»¶ä¸­çš„æœ€å°å¯éªŒè¯å•å…ƒè¿›è¡Œæ£€æŸ¥å’ŒéªŒè¯ï¼Œå¦‚ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªè¿‡ç¨‹ã€ä¸€ä¸ªæ–¹æ³•ç­‰ã€‚å•å…ƒæµ‹è¯•ç²’åº¦æœ€å°ï¼Œä¸€èˆ¬ç”±å¼€å‘å°ç»„é‡‡ç”¨ç™½ç›’æ–¹å¼æ¥æµ‹è¯•ï¼Œä¸»è¦æµ‹è¯•å•å…ƒæ˜¯å¦ç¬¦åˆâ€œè®¾è®¡â€ã€‚ **é›†æˆæµ‹è¯•ï¼š**é›†æˆæµ‹è¯•ä¹Ÿå«åšç»„è£…æµ‹è¯•ï¼Œé€šå¸¸åœ¨å•å…ƒæµ‹è¯•çš„åŸºç¡€ä¸Šï¼Œå°†æ‰€æœ‰çš„ç¨‹åºæ¨¡å—è¿›è¡Œæœ‰åºçš„ã€é€’å¢çš„æµ‹è¯•ã€‚é›†æˆæµ‹è¯•ç•Œäºå•å…ƒæµ‹è¯•å’Œç³»ç»Ÿæµ‹è¯•ä¹‹é—´ï¼Œèµ·åˆ°â€œæ¡¥æ¢ä½œç”¨â€ï¼Œä¸€èˆ¬ç”±å¼€å‘å°ç»„é‡‡ç”¨ç™½ç›’åŠ é»‘ç›’çš„æ–¹å¼æ¥æµ‹è¯•ï¼Œæ—¢éªŒè¯â€œè®¾è®¡â€ï¼ŒåˆéªŒè¯â€œéœ€æ±‚â€ã€‚ **ç³»ç»Ÿæµ‹è¯•ï¼š**ç³»ç»Ÿæµ‹è¯•æ—¶å°†ç»è¿‡é›†æˆæµ‹è¯•çš„è½¯ä»¶ï¼Œä½œä¸ºè®¡ç®—æœºç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¸ç³»ç»Ÿä¸­å…¶ä»–éƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œåœ¨å®é™…è¿è¡Œç¯å¢ƒä¸‹è¿›è¡Œä¸€ç³»åˆ—ä¸¥æ ¼æœ‰æ•ˆçš„æµ‹è¯•ï¼Œä»¥å‘ç°è½¯ä»¶æ½œåœ¨çš„é—®é¢˜ï¼Œä¿è¯ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œã€‚ç³»ç»Ÿæµ‹è¯•çš„ç²’åº¦æœ€å¤§ï¼Œä¸€èˆ¬ç”±ç‹¬ç«‹æµ‹è¯•å°ç»„é‡‡ç”¨é»‘ç›’æ–¹å¼æ¥æµ‹è¯•ï¼Œä¸»è¦æµ‹è¯•ç³»ç»Ÿæ˜¯å¦ç¬¦åˆâ€œéœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦â€ã€‚ **éªŒæ”¶æµ‹è¯•ï¼š**éªŒæ”¶æµ‹è¯•ä¹Ÿç§°äº¤ä»˜æµ‹è¯•ï¼Œæ˜¯é’ˆå¯¹ç”¨æˆ·éœ€æ±‚ã€ä¸šåŠ¡æµç¨‹è¿›è¡Œçš„æ­£å¼çš„æµ‹è¯•ï¼Œä»¥ç¡®å®šç³»ç»Ÿæ˜¯å¦æ»¡è¶³éªŒæ”¶æ ‡å‡†ï¼Œç”±ç”¨æˆ·ã€å®¢æˆ·æˆ–å…¶ä»–æˆæƒæœºæ„å†³å®šæ˜¯å¦æ¥å—ç³»ç»Ÿã€‚éªŒæ”¶æµ‹è¯•ä¸ç³»ç»Ÿæµ‹è¯•ç›¸ä¼¼ï¼Œä¸»è¦åŒºåˆ«æ˜¯æµ‹è¯•äººå‘˜ä¸åŒï¼ŒéªŒæ”¶æµ‹è¯•ç”±ç”¨æˆ·æ‰§è¡Œã€‚ å›å½’æµ‹è¯• å½“å‘ç°å¹¶ä¿®æ”¹ç¼ºé™·åï¼Œæˆ–åœ¨è½¯ä»¶ä¸­æ·»åŠ æ–°çš„åŠŸèƒ½åï¼Œé‡æ–°æµ‹è¯•ã€‚ç”¨æ¥æ£€æŸ¥è¢«å‘ç°çš„ç¼ºé™·æ˜¯å¦è¢«æ”¹æ­£ï¼Œå¹¶ä¸”æ‰€åšçš„ä¿®æ”¹æ²¡æœ‰å¼•å‘æ–°çš„é—®é¢˜ã€‚\nå†’çƒŸæµ‹è¯• è¿™ä¸€æœ¯è¯­æºè‡ªç¡¬ä»¶è¡Œä¸šã€‚å¯¹ä¸€ä¸ªç¡¬ä»¶æˆ–ç¡¬ä»¶ç»„ä»¶è¿›è¡Œæ›´æ”¹æˆ–ä¿®å¤åï¼Œç›´æ¥ç»™è®¾å¤‡åŠ ç”µã€‚å¦‚æœæ²¡æœ‰å†’çƒŸï¼Œåˆ™è¯¥ç»„ä»¶å°±é€šè¿‡äº†æµ‹è¯•ã€‚åœ¨è½¯ä»¶ä¸­ï¼Œâ€œå†’çƒŸæµ‹è¯•â€è¿™ä¸€æœ¯è¯­æè¿°çš„æ˜¯åœ¨å°†ä»£ç æ›´æ”¹åµŒå…¥åˆ°äº§å“çš„æºæ ‘ä¸­ä¹‹å‰å¯¹è¿™äº›æ›´æ”¹è¿›è¡ŒéªŒè¯çš„è¿‡ç¨‹ã€‚\nå†’çƒŸæµ‹è¯•æ˜¯åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€ç§é’ˆå¯¹è½¯ä»¶ç‰ˆæœ¬åŒ…çš„å¿«é€ŸåŸºæœ¬åŠŸèƒ½éªŒè¯ç­–ç•¥ï¼Œæ˜¯å¯¹è½¯ä»¶åŸºæœ¬åŠŸèƒ½è¿›è¡Œç¡®è®¤éªŒè¯çš„æ‰‹æ®µï¼Œå¹¶éå¯¹è½¯ä»¶ç‰ˆæœ¬åŒ…çš„æ·±å…¥æµ‹è¯•ã€‚\næ¯”å¦‚ï¼šå¯¹äºä¸€ä¸ªç™»å½•ç³»ç»Ÿçš„å†’çƒŸæµ‹è¯•ï¼Œæˆ‘ä»¬åªéœ€æµ‹è¯•è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åã€å¯†ç ï¼ŒéªŒè¯ç™»å½•è¿™ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ç‚¹ï¼Œè‡³äºè¾“å…¥æ¡†ã€ç‰¹æ®Šå­—ç¬¦ç­‰ï¼Œå¯ä»¥åœ¨å†’çƒŸæµ‹è¯•ä¹‹åè¿›è¡Œã€‚\næ€§èƒ½æµ‹è¯• æ€§èƒ½æµ‹è¯•æ˜¯é€šè¿‡è‡ªåŠ¨åŒ–çš„æµ‹è¯•å·¥å…·æ¨¡æ‹Ÿå¤šç§æ­£å¸¸ã€å³°å€¼ä»¥åŠå¼‚å¸¸è´Ÿè½½æ¡ä»¶æ¥å¯¹ç³»ç»Ÿçš„å„é¡¹æ€§èƒ½æŒ‡æ ‡è¿›è¡Œæµ‹è¯•ã€‚è´Ÿè½½æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•éƒ½å±äºæ€§èƒ½æµ‹è¯•ï¼Œä¸¤è€…å¯ä»¥ç»“åˆè¿›è¡Œã€‚\né€šè¿‡è´Ÿè½½æµ‹è¯•ï¼Œç¡®å®šåœ¨å„ç§å·¥ä½œè´Ÿè½½ä¸‹ç³»ç»Ÿçš„æ€§èƒ½ï¼Œç›®æ ‡æ˜¯æµ‹è¯•å½“è´Ÿè½½é€æ¸å¢åŠ æ—¶ï¼Œç³»ç»Ÿå„é¡¹æ€§èƒ½æŒ‡æ ‡çš„å˜åŒ–æƒ…å†µã€‚ å‹åŠ›æµ‹è¯•æ˜¯é€šè¿‡ç¡®å®šä¸€ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆæˆ–è€…ä¸èƒ½æ¥å—çš„æ€§èƒ½ç‚¹ï¼Œæ¥è·å¾—ç³»ç»Ÿèƒ½æä¾›çš„æœ€å¤§æœåŠ¡çº§åˆ«çš„æµ‹è¯•ã€‚ åŸºå‡†æµ‹è¯• åŸºå‡†æµ‹è¯•ï¼ˆBenchmarkï¼‰ä¹Ÿæ˜¯ä¸€ç§æ€§èƒ½æµ‹è¯•æ–¹å¼ï¼Œç”¨æ¥æµ‹é‡æœºå™¨çš„ç¡¬ä»¶æœ€é«˜å®é™…è¿è¡Œæ€§èƒ½ï¼Œä»¥åŠè½¯ä»¶ä¼˜åŒ–çš„æ€§èƒ½æå‡æ•ˆæœ, åŒæ—¶ä¹Ÿå¯ä»¥ç”¨æ¥è¯†åˆ«æŸæ®µä»£ç çš„CPUæˆ–è€…å†…å­˜æ•ˆç‡é—®é¢˜. è®¸å¤šå¼€å‘äººå‘˜ä¼šç”¨åŸºå‡†æµ‹è¯•æ¥æµ‹è¯•ä¸åŒçš„å¹¶å‘æ¨¡å¼, æˆ–è€…ç”¨åŸºå‡†æµ‹è¯•æ¥è¾…åŠ©é…ç½®å·¥ä½œæ± çš„æ•°é‡, ä»¥ä¿è¯èƒ½æœ€å¤§åŒ–ç³»ç»Ÿçš„ååé‡.\nA/Bæµ‹è¯• A/Bæµ‹è¯•ï¼Œæ˜¯ç”¨ä¸¤ç»„åŠä»¥ä¸Šéšæœºåˆ†é…çš„ã€æ•°é‡ç›¸ä¼¼çš„æ ·æœ¬è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœå®éªŒç»„å’Œå¯¹æ¯”ç»„çš„å®éªŒç»“æœç›¸æ¯”ï¼Œåœ¨ç›®æ ‡æŒ‡æ ‡ä¸Šå…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§ï¼Œé‚£å°±å¯ä»¥è¯´æ˜å®éªŒç»„çš„åŠŸèƒ½å¯ä»¥å¯¼è‡´ä½ æƒ³è¦çš„ç»“æœï¼Œä»è€Œå¸®ä½ éªŒè¯å‡è®¾æˆ–è€…åšå‡ºäº§å“å†³å®šã€‚\nä»£ç è¦†ç›–æµ‹è¯• ä»£ç è¦†ç›–ï¼ˆCode coverageï¼‰æ˜¯è½¯ä»¶æµ‹è¯•ä¸­çš„ä¸€ç§åº¦é‡ï¼Œæè¿°ç¨‹å¼ä¸­æºä»£ç è¢«æµ‹è¯•çš„æ¯”ä¾‹å’Œç¨‹åº¦ï¼Œæ‰€å¾—æ¯”ä¾‹ç§°ä¸ºä»£ç è¦†ç›–ç‡ã€‚åœ¨åšå•å…ƒæµ‹è¯•æ—¶ï¼Œä»£ç è¦†ç›–ç‡å¸¸å¸¸è¢«æ‹¿æ¥ä½œä¸ºè¡¡é‡æµ‹è¯•å¥½åçš„æŒ‡æ ‡ï¼Œç”šè‡³ï¼Œç”¨ä»£ç è¦†ç›–ç‡æ¥è€ƒæ ¸æµ‹è¯•ä»»åŠ¡å®Œæˆæƒ…å†µï¼Œæ¯”å¦‚ï¼Œä»£ç è¦†ç›–ç‡å¿…é¡»è¾¾åˆ°80%æˆ– 90%ã€‚äºæ˜¯ä¹ï¼Œæµ‹è¯•äººå‘˜è´¹å°½å¿ƒæ€è®¾è®¡æ¡ˆä¾‹è¦†ç›–ä»£ç ã€‚\nå‘å¸ƒéƒ¨ç½² DEV/PRO/FAT/UAT proï¼ˆProduction environmentï¼‰ï¼šç”Ÿäº§ç¯å¢ƒï¼Œé¢å‘å¤–éƒ¨ç”¨æˆ·çš„ç¯å¢ƒï¼Œæ­£å¼ç¯å¢ƒï¼Œè¿æ¥ä¸Šäº’è”ç½‘å³å¯è®¿é—®ã€‚\nsit(System Integration Test ): ç³»ç»Ÿé›†æˆæµ‹è¯•ï¼Œå¼€å‘äººå‘˜è‡ªå·±æµ‹è¯•æµç¨‹æ˜¯å¦èµ°é€šã€‚\nuat(User Acceptance Test environment): ç”¨æˆ·éªŒæ”¶æµ‹è¯•ç¯å¢ƒï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒä¸‹çš„è½¯ä»¶æµ‹è¯•è€…æµ‹è¯•ä½¿ç”¨ã€‚\ntest: æµ‹è¯•ç¯å¢ƒï¼Œå¤–éƒ¨ç”¨æˆ·æ— æ³•è®¿é—®ï¼Œä¸“é—¨ç»™æµ‹è¯•äººå‘˜ä½¿ç”¨çš„ï¼Œç‰ˆæœ¬ç›¸å¯¹ç¨³å®šã€‚\npre ï¼šç°åº¦ç¯å¢ƒï¼Œå¤–éƒ¨ç”¨æˆ·å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯æœåŠ¡å™¨é…ç½®ç›¸å¯¹ä½ï¼Œå…¶å®ƒå’Œç”Ÿäº§ä¸€æ ·ï¼Œå¤–éƒ¨ç”¨æˆ·å¯ä»¥è®¿é—®ï¼Œç‰ˆæœ¬å‘å¸ƒåˆæœŸï¼Œæ­£å¼ç‰ˆæœ¬å‘å¸ƒå‰ã€‚\ndev ï¼ˆDevelopment environmentï¼‰ ï¼š å¼€å‘ç¯å¢ƒï¼Œå¤–éƒ¨ç”¨æˆ·æ— æ³•è®¿é—®ï¼Œå¼€å‘äººå‘˜ä½¿ç”¨ï¼Œç‰ˆæœ¬å˜åŠ¨å¾ˆå¤§ã€‚\nfat (Feature Acceptance Test environment) : åŠŸèƒ½éªŒæ”¶æµ‹è¯•ç¯å¢ƒï¼Œç”¨äºè½¯ä»¶æµ‹è¯•è€…æµ‹è¯•ä½¿ç”¨\nç°åº¦å‘å¸ƒ ç°åº¦å‘å¸ƒæ˜¯æŒ‡åœ¨å‡çº§ç‰ˆæœ¬è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡åˆ†åŒºæ§åˆ¶ï¼Œç™½åå•æ§åˆ¶ç­‰æ–¹å¼å¯¹ä¸€éƒ¨åˆ†ç”¨æˆ·å…ˆå‡çº§äº§å“ç‰¹æ€§ï¼Œè€Œå…¶ä½™ç”¨æˆ·åˆ™ä¿æŒä¸å˜ï¼Œå½“ä¸€æ®µæ—¶é—´åå‡çº§äº§å“ç‰¹æ€§çš„ç”¨æˆ·æ²¡æœ‰åé¦ˆé—®é¢˜ï¼Œå°±é€æ­¥æ‰©å¤§èŒƒå›´ï¼Œæœ€ç»ˆå‘æ‰€æœ‰ç”¨æˆ·å¼€æ”¾æ–°ç‰ˆæœ¬ç‰¹æ€§ï¼Œç°åº¦å‘å¸ƒå¯ä»¥ä¿è¯æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šï¼Œåœ¨åˆå§‹ç°åº¦çš„æ—¶å€™å°±å¯ä»¥å‘ç°ã€ä¿®æ”¹é—®é¢˜ï¼Œä»¥ä¿è¯å…¶å½±å“åº¦ã€‚\nå›æ»š (Rollback) æŒ‡çš„æ˜¯ç¨‹åºæˆ–æ•°æ®å¤„ç†é”™è¯¯æ—¶ï¼Œå°†ç¨‹åºæˆ–æ•°æ®æ¢å¤åˆ°ä¸Šä¸€æ¬¡æ­£ç¡®çŠ¶æ€(æˆ–è€…æ˜¯ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬)çš„è¡Œä¸ºã€‚\n","description":"\n","tags":[],"title":"\nåç«¯å¼€å‘æœ¯è¯­","uri":"/posts/post-298/"},{"categories":["è¯­è¨€"],"content":"ä¸ºä»€ä¹ˆè¦çœ‹JDKæºç  ä¸€ï¼ŒJDKæºç æ˜¯å…¶å®ƒæ‰€æœ‰æºç çš„åŸºç¡€ï¼Œçœ‹æ‡‚äº†JDKæºç å†çœ‹å…¶å®ƒçš„æºç ä¼šè¾¾åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚\näºŒï¼ŒJDKæºç ä¸­åŒ…å«å¤§é‡çš„æ•°æ®ç»“æ„çŸ¥è¯†ï¼Œæ˜¯å­¦ä¹ æ•°æ®ç»“æ„å¾ˆå¥½çš„èµ„æ–™ï¼Œæ¯”å¦‚ï¼Œé“¾è¡¨ã€é˜Ÿåˆ—ã€æ•£åˆ—è¡¨ã€çº¢é»‘æ ‘ã€è·³è¡¨ã€æ¡¶ã€å †ã€åŒç«¯é˜Ÿåˆ—ç­‰ã€‚\nä¸‰ã€JDKæºç ä¸­åŒ…å«å¤§é‡çš„è®¾è®¡æ¨¡å¼ï¼Œæ˜¯å­¦ä¹ è®¾è®¡æ¨¡å¼å¾ˆå¥½çš„èµ„æ–™ï¼Œæ¯”å¦‚ï¼Œé€‚é…å™¨æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ç­‰ã€‚\nä¸‰ï¼ŒJDKæºç ä¸­åŒ…å«å¤§é‡Javaçš„é«˜é˜¶çŸ¥è¯†ï¼Œæ¯”å¦‚å¼±å¼•ç”¨ã€Unsafeã€CASã€é”åŸç†ã€ä¼ªå…±äº«ç­‰ï¼Œä¸çœ‹æºç æ˜¯å¾ˆéš¾å­¦ä¼šè¿™äº›çŸ¥è¯†çš„ã€‚\nå››ï¼Œé¢è¯•æ—¶æ›´å¥½åœ°æ”¶å‰²offerï¼Œè¿™å¯èƒ½æ˜¯å¾ˆå¤šåŒå­¦æœ€åˆçš„æƒ³æ³•ï¼Œå…¶å®çœŸæ­£çœ‹å¤šäº†æºç ï¼Œè¿™ä¸€ç‚¹å¯èƒ½å¹¶ä¸æ˜¯å¤ªé‡è¦äº†ï¼Œå› ä¸ºä½ ä¼šå‘ç°æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚\näº”ï¼Œæˆ‘è®¤ä¸ºæœ€é‡è¦çš„ï¼Œé˜…è¯»æºç æ˜¯å¯¹æ€ç»´çš„ä¸€ç§é”»ç‚¼ï¼Œæ˜¯å­¦ä¹ ä¼˜ç§€è®¾è®¡çš„æœ€ä½³é€”å¾„\nJDKæºç çš„é˜…è¯»é¡ºåº JDK ä¸­çš„ä»£ç éå¸¸å¤šï¼Œä¸å¯èƒ½ã€ä¹Ÿæ²¡å¿…è¦å…¨éƒ¨è¯»å®Œï¼Œå› æ­¤è¦æœ‰çš„æ”¾çŸ¢ã€‚ä»æ•´ä½“ä¸Šæ¥è®²ï¼Œæˆ‘åˆ†æˆäº†ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š\nåŸºç¡€ç±» åŸºç¡€ç±»ï¼Œæ˜¯æŒ‡ç»„æˆJDKæºç åœ°åŸºçš„ä¸€éƒ¨åˆ†ç±»ã€‚\næ¯”å¦‚åŒ…è£…ç±»ã€åå°„ç±»ã€å·¥å…·ç±»ç­‰ï¼Œè¿™äº›ç±»æœ‰ä¸ªå…±åŒç‚¹ï¼Œå°±æ˜¯ä»£ç é€»è¾‘ç›¸å¯¹ç®€å•ï¼Œä¸å­˜åœ¨æ•°æ®ç»“æ„ã€å¤æ‚è¿ç®—ç­‰é—®é¢˜ã€‚\nå¯¹äºåŸºç¡€ç±»ï¼Œæˆ‘çš„å»ºè®®æ˜¯è‡ªå·±ä»å¤´åˆ°å°¾æµè§ˆä¸€éï¼Œå¯¹äºçœ‹ä¸æ‡‚çš„åœ°æ–¹å¯ä»¥å†™æµ‹è¯•ç”¨ä¾‹æˆ–è€…ä¸Šç½‘æŸ¥æŸ¥èµ„æ–™ã€‚æ¯”å¦‚ï¼ŒIntegeré‡Œé¢æœ‰ä¸ªIntegerCacheå†…éƒ¨ç±»ä½ å¯èƒ½ä¸çŸ¥é“å¹²å˜›çš„ï¼Œè¿™æ—¶å€™å…‰çœ‹ä»£ç æ˜¯æ²¡ç”¨çš„ï¼Œåªèƒ½ä¸Šç½‘æŸ¥æŸ¥èµ„æ–™äº†ï¼Œä¹Ÿä¸èƒ½ç›²ç›®åœ°æ­»ç£•ã€‚\nç®€å•é›†åˆ ç®€å•é›†åˆï¼Œæ˜¯æŒ‡ä¸å­˜åœ¨å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜çš„é›†åˆã€‚\nè¿™éƒ¨åˆ†é›†åˆä¸€èˆ¬ç”¨åœ¨å•çº¿ç¨‹ä¸­ï¼Œæˆ–è€…æ–¹æ³•ä½“ä¸­ï¼Œä½†æ˜¯ä»–ä»¬ç”¨åˆ°äº†å¾ˆå¤šçš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥éœ€è¦ä¸€å®šçš„æ•°æ®ç»“æ„çŸ¥è¯†ã€‚\nå¯¹äºç®€å•é›†åˆï¼Œæˆ‘çš„å»ºè®®æ˜¯å…ˆå¼„æ˜ç™½åº•å±‚çš„æ•°æ®ç»“æ„çŸ¥è¯†ï¼Œå†å»çœ‹æºç ï¼Œè¿™æ ·å¯èƒ½ä¼šè½»æ¾ä¸€äº›ã€‚å½“ç„¶ï¼Œæˆ‘åé¢ä¹Ÿä¼šå‡ºæ•°æ®ç»“æ„ç³»åˆ—çš„ã€‚\nåŸå­ç±» åŸå­ç±»ï¼Œæ˜¯æŒ‡åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹èƒ½å¤Ÿä¿è¯åŸå­æ€§çš„ç±»ã€‚\nè¿™éƒ¨åˆ†ç±»ä¸»è¦åŒ…æ‹¬Atomic_å¼€å¤´å’Œ_Adderç»“å°¾çš„ç±»ï¼Œä½äºjucä¸‹é¢çš„atomicåŒ…ä¸­ã€‚\nå¯¹äºåŸå­ç±»ï¼Œæˆ‘çš„å»ºè®®æ˜¯å…ˆå»äº†è§£åº•å±‚çš„Unsafeã€CASã€ä¼ªå…±äº«ç­‰æ¦‚å¿µï¼Œå†å»çœ‹æœ€ç®€å•çš„AtomicIntegerï¼Œæœ€åå†çœ‹LongAdderè¿™ç§å¤æ‚çš„ç±»ã€‚å…¶ä¸­ï¼Œæ–­ç‚¹è°ƒè¯•æ˜¯ä¸å¯æˆ–ç¼ºçš„æ‰‹æ®µã€‚\nè¯´å¥å®è¯ï¼ŒLongAdderè¿™ä¸ªç±»èƒ½å­¦åˆ°å¾ˆå¤šé«˜é˜¶çš„çŸ¥è¯†ï¼Œéå¸¸æ¨èæŠŠè¿™ä¸ªç±»ç ”ç©¶é€å½»ï¼Œåé¢å†å»çœ‹Disruptorã€Nettyç­‰æºç ä¼šäº‹åŠåŠŸå€ã€‚\nåŒæ­¥å™¨ åŒæ­¥å™¨ï¼Œæ˜¯æŒ‡ä¸ºäº†æ§åˆ¶å¤šä¸ªçº¿ç¨‹çš„ç«äº‰å…³ç³»è€Œå­˜åœ¨çš„ç±»æˆ–è€…å…³é”®å­—ç­‰ï¼Œ ï¼Œå®ƒä»¬å¯ä»¥è¯´æ˜¯Javaä¸­æœ€é‡è¦çš„å†…å®¹ï¼Œæ²¡æœ‰å®ƒä»¬å°±æ— æ³•æ§åˆ¶å¤šçº¿ç¨‹çš„æ­£å¸¸è¿è½¬ã€‚\nè¿™éƒ¨åˆ†å†…å®¹ä¸»è¦åŒ…æ‹¬synchronizedå…³é”®å­—ã€volatileå…³é”®å­—ã€é‡å…¥é”ã€è¯»å†™é”ã€å€’è®¡æ—¶å™¨ã€ä¿¡å·é‡ã€å›ç¯æ …æ ã€é˜¶æ®µå™¨ã€åˆ†å¸ƒå¼é”çš„å®ç°ç­‰ç­‰ã€‚\nå¯¹äºåŒæ­¥å™¨ï¼Œæˆ‘çš„å»ºè®®æ˜¯å…ˆäº†è§£å†…å­˜æ¨¡å‹ã€å¯è§æ€§ã€åŸå­æ€§ã€æœ‰åºæ€§ã€Happens-Beforeç­‰åŸºæœ¬æ¦‚å¿µï¼Œå†å°è¯•é˜…è¯»è¿™éƒ¨åˆ†çš„æºç ï¼Œæœ€åå†å½’çº³å‡ºå±äºä½ è‡ªå·±ç†è§£çš„â€œåŒæ­¥å™¨çš„åŸç†â€ã€‚\nå¹¶å‘é›†åˆ å¹¶å‘é›†åˆï¼Œæ˜¯æŒ‡å¤šçº¿ç¨‹ç¯å¢ƒä¸‹èƒ½å¤Ÿä¿è¯æ•°æ®ä¸€è‡´æ€§çš„é›†åˆã€‚\nè¿™éƒ¨åˆ†é›†åˆä¸»è¦æ˜¯è¿ç”¨åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œåªæœ‰æä¸ªåˆ«ç±»ç‰µæ¶‰åˆ°é«˜çº§çš„æ•°æ®ç»“æ„ï¼Œæ›´å¤šçš„æ˜¯é”ã€CASã€volatileã€è‡ªæ—‹ç­‰é«˜é˜¶æŠ€å·§çš„è¿ç”¨ã€‚\nå¯¹äºå¹¶å‘é›†åˆï¼Œæˆ‘çš„å»ºè®®æœ‰ä¸‰ç‚¹ï¼š\nä¸€å®šè¦åœ¨åŒæ­¥å™¨ä¹‹åé˜…è¯»\næ•°æ®ç»“æ„å…ˆæé€ï¼Œæ¯”å¦‚ConcurrentSkipList\nåˆ©ç”¨IDEAçš„Threadçº§åˆ«çš„æ–­ç‚¹ï¼Œä¸æ–­è°ƒè¯•ï¼Œä¸æ–­è°ƒè¯•ï¼Œä¸æ–­è°ƒè¯•\nçº¿ç¨‹ï¼ˆæ± ï¼‰ç±» çº¿ç¨‹ï¼ˆæ± ï¼‰ç±»ï¼Œæ˜¯æŒ‡è·Ÿçº¿ç¨‹å’Œçº¿ç¨‹æ± ç›¸å…³çš„ç±»ã€‚\nè¿™éƒ¨åˆ†ç±»ä¸»è¦åŒ…å«Threadã€ThreadLocalã€ä¸‰ç§çº¿ç¨‹æ± ç­‰ã€‚\nå¯¹äºçº¿ç¨‹ï¼ˆæ± ï¼‰ç±»ï¼Œæˆ‘çš„å»ºè®®æ˜¯å…ˆä»æ•´ä½“ä¸ŠæŠŠæ¡ï¼Œå†åˆ†æˆå‡ ä¸ªå—æ¥çœ‹ï¼Œçœ‹å“ªå—çš„ä¸œè¥¿å°±åªçœ‹é‚£å—çš„ä¸œè¥¿ï¼Œä¸è¦ç®¡å…¶å®ƒçš„ä»£ç ï¼Œå³è¦ææ¸…æ¥šä½ çš„é‡ç‚¹åœ¨å“ªé‡Œï¼Œæ¯”å¦‚ï¼Œçœ‹çº¿ç¨‹è¿è¡Œçš„æµç¨‹å°±ä¸è¦ç®¡çŠ¶æ€çš„äº‹ï¼Œå‡¡æ˜¯ç‰µæ¶‰åˆ°çŠ¶æ€çš„ä»£ç å…¨éƒ¨è·³è¿‡ï¼Œåä¹‹äº¦ç„¶ï¼Œéƒ½çœ‹å®Œäº†ï¼Œå†ä¸²ä¸€èµ·çœ‹ã€‚\nIO/NIOç±» IOç±»ï¼Œæ˜¯æŒ‡è·Ÿè¾“å…¥è¾“å‡ºæµç›¸å…³çš„ç±»ï¼Œè¿™éƒ¨åˆ†ç±»ä¸»è¦åŒ…æ‹¬æ–‡ä»¶æ“ä½œç›¸å…³çš„ç±»ä»¥åŠç½‘ç»œIOç›¸å…³çš„ç±»ã€‚\nå¯¹äºIOç±»ï¼Œæˆ‘çš„å»ºè®®æ˜¯ç®€å•æµè§ˆï¼Œåšåˆ°å¿ƒé‡Œæœ‰æ•°å³å¯ï¼Œç”¨åˆ°çš„æ—¶å€™å†å»æŸ¥éƒ½å¯ä»¥ã€‚\nä½†æ˜¯å¯¹äºnioç›¸å…³çš„ç±»ï¼Œè¿˜æ˜¯è¦å¥½å¥½ç ”ç©¶çš„ï¼Œè¿™éƒ¨åˆ†ç±»æˆ‘ä»¬æ”¾åœ¨Nettyæºç é˜…è¯»çš„ç›¸å…³ç« èŠ‚ä¸­ä¸€èµ·å­¦ä¹ ã€‚\nå…¶å®ƒç±» å…¶å®ƒç±»ï¼Œå·¥ä½œä¸­é‡åˆ°äº†å¯ä»¥ç‚¹è¿›å»çœ‹çœ‹ï¼Œä½†æ˜¯ä¸å»ºè®®æŠ½å‡ºæ—¶é—´å•ç‹¬å»ç ”ç©¶ï¼Œæ¯”å¦‚ï¼Œæ—¶é—´ç±»ã€awtç±»ï¼Œçœ‹çš„å¿…è¦æ€§ä¸æ˜¯å¾ˆå¤§ã€‚\nå¦‚ä½•é˜…è¯»é›†åˆ é¦–é¡µäº†è§£å„ä¸ªé›†åˆç‰¹ç‚¹ï¼Œå¯ä»¥ç”»ä¸ªæ€ç»´å¯¼å›¾æˆ–è€…å•¥çš„åŠ©äºç†è§£\nå¦‚ä½•é˜…è¯»å…·ä½“ä¸€ä¸ªç±» å¦‚ä½•é˜…è¯»ä¸€ä¸ªç±»çš„æºç å‘¢ï¼Ÿä¸»è¦æ­¥éª¤å¤§æ¦‚æ˜¯ï¼š\nå…ˆè¯»æ¥å£ä»£ç ã€‚åŒ…æ‹¬æ¥å£è¯´æ˜æ–‡æ¡£ã€å„ä¸ªæ–¹æ³•çš„å®šä¹‰å’Œè¯´æ˜æ–‡æ¡£ã€‚ å†è¯»å®ç°ç±»çš„ä¸»è¦æ–¹æ³•å®ç°ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸¤æ¡ä¸»çº¿å…¥å£ï¼šæ„é€ æ–¹æ³•å’Œ å¸¸ç”¨æ–¹æ³• åœ¨ Java ä¸­ï¼Œæ¥å£é€šå¸¸æ„å‘³ç€æ˜¯ä¸€ç§â€œæ ‡å‡†â€ã€æˆ–è€…â€œåè®®â€ã€‚ä¸€ä¸ªæ¥å£å¯ä»¥æœ‰å¤šä¸ªå®ç°ç±»ï¼Œå®ƒä»¬éƒ½ä¼šæŒ‰ç…§æ¥å£çš„è¿™ç§æ ‡å‡†æ¥å®ç°æ¥å£çš„å„ä¸ªæ–¹æ³•ã€‚å› æ­¤ï¼Œç†è§£äº†ä¸€ä¸ªæ–¹æ³•çš„å®šä¹‰ï¼Œå†å»çœ‹å®ƒçš„å®ç°ä¼šæ›´å®¹æ˜“ç†è§£ã€‚\nä¸‹é¢ä»¥å¸¸ç”¨çš„ ArrayList ä¸ºä¾‹ï¼Œåˆ†æå¦‚ä½•å»é˜…è¯»å®ƒçš„æºç ã€‚\nç»§æ‰¿ç»“æ„ é¦–å…ˆçœ‹ä¸‹ ArrayList çš„ç»§æ‰¿ç»“æ„ï¼š\nArrayListï¼šå¯ä»¥çœ‹åˆ°å®ƒå®ç°äº†å¾ˆå¤šæ¥å£ï¼Œå…¶ä¸­ä¸‰ä¸ªæ¥å£ Cloneableã€RandomAccessã€Serializable éƒ½æ˜¯ç©ºçš„ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ã€‚ä¸»è¦å»çœ‹ Iterableã€Collection ä»¥åŠ List æ¥å£çš„æ–¹æ³•å®šä¹‰ã€‚\nIterable æ¥å£ï¼š\nCollection æ¥å£ï¼š\nList æ¥å£ï¼š\nçœ‹èµ·æ¥æ–¹æ³•æŒºå¤šï¼Œå…¶å®ä¸å°‘éƒ½æ˜¯æˆ‘ä»¬å¹³æ—¶ä¼šç”¨åˆ°çš„ï¼Œå¤§éƒ¨åˆ†ç†è§£èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œè€Œä¸”æ–¹æ³•ä¹Ÿéƒ½æœ‰æ³¨é‡Šã€‚è¿™éƒ¨åˆ†éš¾åº¦ä¸å¤§ã€‚\næ¥ä¸‹æ¥æ ¹æ®å‰é¢æåˆ°çš„ä¸¤æ¡ä¸»çº¿å…¥å£ï¼Œåˆ†æ ArrayList çš„æºç å¦‚ä½•é˜…è¯»ã€‚\næ„é€ å™¨ åˆ†æä¸€ä¸ªç±»çš„æºç æ—¶ï¼Œæ„é€ å™¨é€šå¸¸æ˜¯ä¸€ä¸ªå¥½çš„åˆ‡å…¥ç‚¹ã€‚æ¯”å¦‚ ArrayList çš„ä¸‰ä¸ªæ„é€ å™¨å¦‚ä¸‹ï¼š\npublic ArrayList() { this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA; } public ArrayList(int initialCapacity) { if (initialCapacity \u003e 0) { this.elementData = new Object[initialCapacity]; } else if (initialCapacity == 0) { this.elementData = EMPTY_ELEMENTDATA; } else { throw new IllegalArgumentException(\"Illegal Capacity: \"+ initialCapacity); } } public ArrayList(Collection\u003c? extends E\u003e c) { elementData = c.toArray(); if ((size = elementData.length) != 0) { // c.toArray might (incorrectly) not return Object[] (see 6260652) if (elementData.getClass() != Object[].class) elementData = Arrays.copyOf(elementData, size, Object[].class); } else { // replace with empty array. this.elementData = EMPTY_ELEMENTDATA; } } æ„é€ å™¨ä¸­æœ‰ä¸å°‘æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚ elementDataã€EMPTY_ELEMENTDATAã€DEFAULTCAPACITY_EMPTY_ELEMENTDATA ç­‰ï¼Œç»§ç»­è·Ÿè¿›è¿™å‡ ä¸ªå˜é‡ï¼š\nprivate static final Object[] EMPTY_ELEMENTDATA = {}; private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {}; transient Object[] elementData; // non-private to simplify nested class access ç”±æ­¤å¯ä»¥å¾—çŸ¥ï¼Œå½“æˆ‘ä»¬å†™äº† new ArrayList() æ—¶ï¼Œå®ƒçš„å†…éƒ¨åˆ°åº•åšäº†äº›ä»€ä¹ˆã€‚\nå¸¸ç”¨æ–¹æ³• é™¤äº†æ„é€ å™¨ï¼Œå¸¸ç”¨æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªä¸»è¦çš„å…¥å£ï¼Œæ¯”å¦‚ addã€remove ç­‰ã€‚\nadd æ–¹æ³•å®ç°ï¼š\npublic boolean add(E e) { ensureCapacityInternal(size + 1); // Increments modCount!! elementData[size++] = e; return true; } private void ensureCapacityInternal(int minCapacity) { ensureExplicitCapacity(calculateCapacity(elementData, minCapacity)); } å¯ä»¥ä¸€è¡Œè¡Œè·Ÿè¿›ä»£ç ï¼ŒæŸ¥çœ‹ add æ–¹æ³•å†…éƒ¨åˆ°åº•åšäº†ä»€ä¹ˆã€‚ å…¶ä»–æ–¹æ³•çš„å¥—è·¯ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸å†ä¸€ä¸€è¯´æ˜ã€‚ æŒ‰ç…§è¿™æ ·ä¸€æ¡æ¡ä¸»çº¿èµ°ä¸‹æ¥ï¼Œå°±å¯ä»¥å¯¹ ArrayList çš„å®ç°åŸç†æœ‰ä¸ªæ•´ä½“çš„è®¤çŸ¥äº†ã€‚æ•´ä½“éƒ¨åˆ†ææ¸…æ¥šä¹‹åï¼Œæ¥ä¸‹æ¥è¿˜å¯ä»¥å»è¯»ä¸€äº›ä¸å¤ªå¸¸ç”¨çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å‰©ä½™çš„æ‰€æœ‰éƒ¨åˆ†ã€‚\nJDKæºç çš„é˜…è¯»æ–¹æ³• ä¸€ï¼Œè®¾å®šç›®æ ‡ï¼Œç›®æ ‡è¶Šæ˜ç¡®è¶Šå¥½ï¼Œä¸è¦è®¾å®šå¾—è¿‡äºè™šæ— ç¼¥ç¼ˆã€‚æ¯”å¦‚ï¼Œç†Ÿæ‚‰HashMapçš„æ•°æ®ç»“æ„ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆæ˜ç¡®çš„ç›®æ ‡ï¼›å†æ¯”å¦‚ï¼Œçœ‹æ‡‚HashMapçš„æºç ï¼Œè¿™å°±å¾ˆç¼¥ç¼ˆäº†ã€‚\näºŒï¼Œå°è¯•è‡ªå·±æå‡ºé—®é¢˜ï¼Œå…ˆè‡ªå·±æ ¹æ®æŸä¸ªçŸ¥è¯†ç‚¹å‘æ•£æå‡ºé—®é¢˜ã€‚æ¯”å¦‚ï¼Œå…³äºHashMapä½ èƒ½æƒ³åˆ°å“ªäº›çŸ¥è¯†ç‚¹ï¼Œè¿™éƒ¨åˆ†å¯ä»¥å€ŸåŠ©æ€ç»´å¯¼å›¾æ— é™æƒ³è±¡ï¼Œåé¢æœ‰æœºä¼šæˆ‘ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹æ€ç»´å¯¼å›¾è”æƒ³æ³•ã€‚\nä¸‰ï¼Œå°è¯•ç½‘ç»œæŸ¥è¯¢é—®é¢˜ï¼Œæ‰“å¼€åº¦å¨˜ï¼Œè¾“å…¥ä½ è¦å­¦ä¹ çš„çŸ¥è¯†ç‚¹ï¼ŒæŠŠå‰é¢å‡ é¡µç»Ÿç»Ÿç‚¹å¼€ï¼Œçœ‹çœ‹åˆ«äººéƒ½é‡åˆ°äº†å“ªäº›é—®é¢˜ï¼Œå½“ç„¶ï¼Œèƒ½åŠ›å¼ºçš„åŒå­¦ä¹Ÿå¯ä»¥ä½¿ç”¨Googleï¼Œè¿™éƒ¨åˆ†æŸ¥è¯¢å‡ºæ¥çš„é—®é¢˜ä¹Ÿå¯ä»¥è¡¥å……åˆ°ä½ çš„æ€ç»´å¯¼å›¾ä¸­å»ã€‚\nå››ï¼Œå°è¯•é˜…è¯»æºç ï¼Œå¯¹äºä¸Šé¢çš„é—®é¢˜ï¼Œä¸€ä¸ªä¸€ä¸ªå°è¯•å»æºç ä¸­å¯»æ‰¾ç­”æ¡ˆï¼Œç”±ç‚¹åŠé¢ï¼Œæœ€åå†æ€»ç»“æ•´ä¸ªå¤§çš„çŸ¥è¯†ç‚¹ã€‚\näº”ï¼Œä¸æ–­å‘ç°é—®é¢˜ï¼Œåœ¨é˜…è¯»æºç çš„è¿‡ç¨‹ä¸­å¯èƒ½åˆä¼šå‘ç°æ–°çš„é—®é¢˜ï¼Œå…ˆè·³è¿‡å»ï¼Œè€Œæ˜¯æŠŠå®ƒåŠ åˆ°æ€ç»´å¯¼å›¾ä¸­ï¼Œç­‰å½“å‰çš„é—®é¢˜è§£å†³å®Œäº†å†å»è§£å†³ã€‚\nå…­ï¼Œä¸“æ³¨ä½ çš„é—®é¢˜ï¼Œåœ¨é˜…è¯»æºç çš„æ—¶å€™ä¸€å®šè¦ä¸“æ³¨äºä½ å½“å‰çš„é—®é¢˜ï¼Œä¸è¦å—å…¶å®ƒé—®é¢˜çš„å¹²æ‰°ï¼Œæ¯”å¦‚çœ‹çº¿ç¨‹æ± ä»»åŠ¡æ‰§è¡Œçš„æµç¨‹ï¼Œä½ å°±ä¸è¦ç®¡çº¿ç¨‹æ± çŠ¶æ€çš„äº‹æƒ…ã€‚\nä¸ƒï¼Œå¤šåšæ¯”è¾ƒï¼Œæ¨ªå‘æ¯”è¾ƒå’Œçºµå‘æ¯”è¾ƒï¼Œä»å¤šç»´åº¦å»æ¯”è¾ƒ ã€‚\nå…«ï¼Œå¤šåšå®éªŒï¼Œå¤šå¤šåˆ©ç”¨IDEçš„è°ƒè¯•æ¨¡å¼ï¼Œä¸æ–­ä¿®æ”¹æ–­ç‚¹ï¼Œä¸æ–­è°ƒè¯•ã€‚\nä¹ï¼Œå¤šä¸äººäº¤æµï¼Œå¦‚æœæ¡ä»¶å…è®¸çš„è¯ï¼Œå¤šä¸å‘¨è¾¹çš„äººä¸€èµ·äº¤æµï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ¥éªšæ‰°æˆ‘ã€‚\nåï¼Œå¤šåšæ€»ç»“ï¼Œå¯¹äºè‡ªå·±è§£å†³çš„é—®é¢˜ï¼Œä¸€å®šè¦å­¦ä¼šæ€»ç»“ï¼Œå¤šåšå­¦ä¹ ç¬”è®°ï¼Œå½“ç„¶ï¼Œä¹Ÿæ¬¢è¿æ¥æˆ‘è¿™é‡ŒæŠ•ç¨¿ã€‚\nåä¸€ï¼Œè€å¿ƒ\u0026åšæŒï¼Œé˜…è¯»æºç æ˜¯ä¸€ä»¶éå¸¸æ¯ç‡¥è€Œä¸”æ¯ç‡¥çš„äº‹æƒ…ï¼Œä¸€å®šè¦åšæŒåšæŒåšæŒã€‚\n","description":"\n","tags":[],"title":"\nå…³äºJDKæºç ï¼šæˆ‘æƒ³èŠèŠå¦‚ä½•æ›´é«˜æ•ˆåœ°é˜…è¯»","uri":"/posts/post-299/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æœ€è¿‘å¼€å‘ä¸­ï¼Œå‘ç°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œç”¨idea çš„maven ï¼Œç¼–è¯‘ï¼Œæ‰“åŒ…éƒ½èƒ½å¤ŸæˆåŠŸï¼Œé¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰çˆ†çº¢å‡ºé”™ï¼Œä½†æ˜¯ä½ è¿è¡Œ/è°ƒå¼SpringBootçš„å¯åŠ¨ç±»çš„æ—¶å€™ï¼Œä¼šæç¤ºåŒ…**ä¸å­˜åœ¨ã€‚ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆ éƒ½æ²¡æˆåŠŸã€‚æœ€åç»ˆäºæˆåŠŸäº†ï¼Œç‰¹æ­¤è®°å½•åˆ†äº«ä¸‹ï¼š\nIdea Terminal ä¸­ è¾“å…¥ mvn idea:idea File-Invadiate Cache/Restart ï¼Œæ¸…é™¤ç¼“å­˜ï¼Œé‡å¯ ","description":"\n","tags":[],"title":"\nIdea æ‰“åŒ…æˆåŠŸï¼Œè¿è¡Œå¤±è´¥","uri":"/posts/post-300/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Spring Boot å‚æ•°æ ¡éªŒ\nå‰è¨€ æ­å»ºspringbooté¡¹ç›®ï¼Œæˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨çš„Restfulæ¥å£ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå½“å‰ç«¯è°ƒç”¨æ¥å£æˆ–è€…æ˜¯å…¶ä»–é¡¹ç›®è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½å•ä¸€é è°ƒç”¨æ–¹æ¥æ§åˆ¶å‚æ•°çš„å‡†ç¡®æ€§ï¼Œè‡ªå·±ä¹Ÿè¦å¯¹ä¸€äº›éç©ºçš„ å€¼è¿›è¡Œåˆ¤å®šã€‚\næ–¹æ¡ˆ æŒ‰ç…§æˆ‘ä»¬ä»¥å¾€çš„åšæ³•ï¼Œéƒ½æ˜¯å¯¹requestä¸­çš„å‚æ•°ä¸€ä¸ªä¸€ä¸ªè¿›è¡Œéç©ºåˆ¤å®šã€‚\nModel:\n1 2 3 4 5 publicclassOrder{ private Long userID; private Long addressID; private String comment; } Controller:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @PostMapping(\"/createOrders\") publicStringcreateOrders(@RequestBodyOrderdto){ if(dto.getUserID==null){ return \"userIDä¸èƒ½ä¸ºç©º\"; } if(dto.getAddressID==null){ return \"addressIDä¸èƒ½ä¸ºç©º\"; } if(dto.getComment==null){ return \"commentä¸èƒ½ä¸ºç©º\"; } return \"sucess\"; } è¿™ç§åšæ³•é¦–å…ˆæ˜¯å¯å–çš„ï¼Œèƒ½è¾¾åˆ°æˆ‘ä»¬çš„è¦æ±‚ï¼Œä½†æ˜¯è¿™æ ·å¦‚æœmodelå­—æ®µè¿‡å¤šï¼Œåˆ¤å®šçš„å°±å¾ˆ å¤šï¼Œç›¸å¯¹ç»´æŠ¤èµ·æ¥å°±ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ï¼Œå…¶æ¬¡å¢åŠ controllerå±‚çš„è´Ÿæ‹…ï¼Œæ—¢ç„¶æˆ‘ä»¬æ¥åˆ°spring4 çš„æ—¶ä»£ï¼Œå°±åº”è¯¥é€‚åº”ä½¿ç”¨æ³¨è§£çš„è¶‹åŠ¿ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨æ³¨è§£åçš„æ¯”å˜åŒ–ã€‚\nModel:\n1 2 3 4 5 6 7 8 9 10 11 publicclassOrder{ @NotNull(message = \"ç”¨æˆ·IDä¸èƒ½ä¸ºç©º\") private Long userID; @NotNull(message = \"æ”¶è´§äººåœ°å€idä¸èƒ½ä¸ºç©º\") private Long addressID; @NotBlank(message = \"å¤‡æ³¨ä¸ä¸ºç©º\") private String comment; } Controller:\n1 2 3 4 5 6 7 8 9 @PostMapping(\"/createOrders\") publicStringcreateOrders(@RequestBody @Valid Order dto,BindingResult results) { if (results.hasErrors()){ return results.getFieldError().getDefaultMessage(); } return \"success\"; } è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦åœ¨modelå­—æ®µä¸ŠåŠ ä¸Šéç©ºéªŒè¯å’Œç›¸åº”æç¤ºè¯­å°±å¥½äº†ã€‚ å¤‡æ³¨:@Valid å’Œ@Validatedæ•ˆæœä¸€æ ·ï¼Œå¯ä»¥åŠ åœ¨controllerä¸­ï¼Œä¹Ÿå¯ä»¥åŠ è½½dtoä¸Š\nå¸¸ç”¨çš„æ ¡éªŒæ³¨è§£ 1. javax.validation.constraints.NotNull 2. @Null è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ºnull 3. @NotNull è¢«æ³¨é‡Šçš„å…ƒç´ ä¸èƒ½ä¸ºnull 4. @AssertTrue è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ºtrue 5. @AssertFalse è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ºfalse 6. @Min(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼ 7. @Max(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼ 8. @DecimalMin(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„ æœ€å°å€¼ 9. @DecimalMax(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„ æœ€å¤§å€¼ 10. @Size(max,min) è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…ã€‚ 11. @Digits(integer,fraction) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥ å—çš„èŒƒå›´å†… 12. @Past è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ 13. @Future è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ 14. @Pattern(regexp) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ 15. @Email è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ä»¶åœ°å€ 16. @Length è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†… 17. @NotEmpty è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²å¿…é¡»éç©º 18. @Range è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†… å…¶ä»– @Valid æ³¨è§£ç±»å‹çš„ä½¿ç”¨: @Null é™åˆ¶åªèƒ½ä¸ºnull @NotNull é™åˆ¶å¿…é¡»ä¸ä¸ºnull @AssertFalse é™åˆ¶å¿…é¡»ä¸ºfalse, @AssertTrue é™åˆ¶å¿…é¡»ä¸ºtrue, @DecimalMax(value) é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªä¸å¤§äºæŒ‡å®šå€¼çš„æ•°å­— @DecimalMin(value) é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªä¸å°äºæŒ‡å®šå€¼çš„æ•°å­— @Digits(integer,fraction) é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªå°æ•°ï¼Œä¸”æ•´æ•°éƒ¨åˆ†çš„ä½æ•°ä¸èƒ½è¶…è¿‡integerï¼Œå°æ•°éƒ¨åˆ†çš„ä½æ•°ä¸èƒ½è¶…è¿‡ fraction @Future é™åˆ¶å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ @Max(value) é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªä¸å¤§äºæŒ‡å®šå€¼çš„æ•°å­— @Min(value) é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªä¸å°äºæŒ‡å®šå€¼çš„æ•°å­— @Past é™åˆ¶å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ @Pattern(value) é™åˆ¶å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ @Size(max,min) é™åˆ¶å­—ç¬¦é•¿åº¦å¿…é¡»åœ¨minåˆ°maxä¹‹é—´ @Past éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼(æ—¥æœŸç±»å‹)æ¯”å½“å‰æ—¶é—´æ—© @NotEmpty éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸ä¸ºnullä¸”ä¸ä¸ºç©º(å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0ã€é›†åˆå¤§å°ä¸ä¸º0) @NotBlank éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸ä¸ºç©º(ä¸ä¸ºnullã€å»é™¤é¦–ä½ç©ºæ ¼åé•¿åº¦ä¸º0)ï¼Œä¸åŒäº@NotEmptyï¼Œ @NotBlankåªåº”ç”¨äºå­—ç¬¦ä¸²ä¸”åœ¨æ¯”è¾ƒæ—¶ä¼šå»é™¤å­—ç¬¦ä¸²çš„ç©ºæ ¼ @Email éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯Emailï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å’ŒflagæŒ‡å®šè‡ªå®šä¹‰çš„emailæ ¼å¼ é—®é¢˜ @NotBlankæ— æ•ˆ å¯èƒ½ä½ ä¸ºäº†ä½¿ç”¨@NotBlankå¼•å…¥äº†åŒ…\n\u003cdependency\u003e \u003cgroupId\u003ejakarta.validation\u003c/groupId\u003e \u003cartifactId\u003ejakarta.validationâ€api\u003c/arti \u003cversion\u003e2.0.2\u003c/version\u003e \u003c/dependency\u003e ä¹‹æ‰€ä»¥éœ€è¦å¼•å…¥è¿™ä¸ªåŒ…ï¼Œæ˜¯å› ä¸ºä½ çš„spring boot ç‰ˆæœ¬æ˜¯2.3.1æˆ–è€…æ›´é«˜ï¼Œæ­¤æ—¶çš„spring boot å·²ç»ä¸åœ¨å†…ç½®éªŒè¯ã€‚ æ­¤æ—¶éœ€è¦å¼•å…¥åŒ… å“ªæ€•ä¸@Validæ­é…ä¹Ÿæ˜¯æ²¡æœ‰æ•ˆæœï¼Œå¤§æ¦‚ç‡æ˜¯å› ä¸ºæˆ‘ä»¬å°‘å¯¼å…¥äº†ä¸€ä¸ªåŒ…hibernate- validatorï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å¯¼å…¥ä»¥ä¸‹ä¸¤ä¸ªåŒ…\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espringâ€bootâ€starterâ€validation\u003c/artifactId\u003e \u003c/dependency\u003e \u003c!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.hibernate.validator\u003c/groupId\u003e \u003cartifactId\u003ehibernate-validator\u003c/artifactId\u003e \u003cversion\u003e6.0.2.Final\u003c/version\u003e \u003c/dependency\u003e æˆ–è€…æ˜¯ä¸å¯¼å…¥ä»¥ä¸Šä¸¤ä¸ªåŒ…ï¼Œç›´æ¥å°†spring bootä¿®æ”¹ä¸º2.1.1å‡å¯ä»¥è§£å†³æ­¤é—®é¢˜\n\u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espringâ€bootâ€starterâ€web\u003c/artifactId\u003e \u003cversion\u003e2.1.1.RELEASE\u003c/version\u003e \u003c/dependency\u003e æ‰©å±• 1.@NotNull:ä¸èƒ½ä¸ºnullï¼Œä½†å¯ä»¥ä¸ºempty (\"\",\"\",\" \") 2.@NotEmpty:ä¸èƒ½ä¸ºnullï¼Œè€Œä¸”é•¿åº¦å¿…é¡»å¤§äº0 (\" \",\" \") 3.@NotBlank:åªèƒ½ä½œç”¨åœ¨Stringä¸Šï¼Œä¸èƒ½ä¸ºnullï¼Œè€Œä¸”è°ƒç”¨trim()åï¼Œé•¿åº¦å¿…é¡»å¤§äº0(\"test\") å³:å¿…é¡»æœ‰å®é™…å­—ç¬¦ @NotNull:The CharSequence,Collection,Map or Array object is not null,but can be empty. @NotEmpty:The CharSequence,Collection,Map or Array object is not null and size \u003e 0 . @NotBlank:The string is not null and the trimmed length is greater than zero. Stringname=null; @NotNull:false @NotEmpty:false @NotBlank:false Stringname=\"\"; @NotNull:true @NotEmpty:false @NotBlank:false Stringname=\" \"; @NotNull:true @NotEmpty:true @NotBlank:false Stringname=\"Greatanswer!\"; @NotNull:true @NotEmpty:true @NotBlank:true ","description":"\n","tags":[],"title":"\nspringbootè‡ªåŠ¨åˆ¤å®šç©ºå€¼","uri":"/posts/post-301/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸€ã€å®‰è£… 1ã€docker å®‰è£… 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 DOCKER_NAME=mysql MYSQL_ROOT_PASSWORD=78Jikbfz6zKYfPjC # åˆ›å»ºæŒ‚è½½ç›®å½• mkdir -p /data/$DOCKER_NAME mkdir -p /data/$DOCKER_NAME/conf mkdir -p /data/$DOCKER_NAME/data mkdir -p /data/$DOCKER_NAME/sql # ç¼–å†™åˆå§‹åŒ–sql vi /data/$DOCKER_NAME/sql/init.sql # ç¼–å†™mysqlé…ç½®æ–‡ä»¶ vi /data/$DOCKER_NAME/conf/my.cnf # ä¸‹è½½å®¹å™¨é•œåƒ # docker search mysql docker pull mysql:5.7 # è¿è¡Œå®¹å™¨ docker run --name $DOCKER_NAME \\ --restart=always \\ -p 3306:3306 \\ -v /data/$DOCKER_NAME/conf:/etc/mysql \\ -v /data/$DOCKER_NAME/data:/var/lib/mysql \\ -e MYSQL_ROOT_PASSWORD=$MYSQL_ROOT_PASSWORD \\ -d mysql:5.7 # æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ mysql -uroot -p$MYSQL_ROOT_PASSWORD -h 127.0.0.1 -P 3306 \u003c /data/$DOCKER_NAME/sql/init.sql # ç™»é™†éªŒè¯ mysql -uroot -p$MYSQL_ROOT_PASSWORD -h 127.0.0.1 -P 33307 mysql\u003e show databases ; 2ã€ç¼–è¯‘å®‰è£… 3ã€Yumå®‰è£… äºŒã€é…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 # å®¢æˆ·ç«¯ç™»å½•é…ç½® [client] port = 3306 # ç«¯å£å· socket = /var/lib/mysql/mysql.sock # å¥—æ¥å­—æ–‡ä»¶ # å®¢æˆ·ç«¯å‘½ä»¤è¡Œé…ç½® [mysql] no-auto-rehash # é»˜è®¤ä¸è‡ªåŠ¨è¡¥å…¨ auto-rehashè‡ªåŠ¨è¡¥å…¨ # æœåŠ¡ä¼˜åŒ–é…ç½® [mysqld] skip-grant-tables # è·³è¿‡ç™»å½•éªŒè¯ user = mysql # é»˜è®¤å¯åŠ¨ç”¨æˆ·ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ï¼Œå¯èƒ½å‡ºç°å¯åŠ¨ä¸æˆåŠŸ port = 3306 # ç«¯å£å· socket = /var/lib/mysql/mysql.sock # å¥—æ¥å­—æ–‡ä»¶ ï¼ˆå¥—æ¥å­—æ–¹å¼ç™»é™†æ¯”TCP/IPæ–¹å¼è¿æ¥å¿«ï¼‰ character-set-server = utf8mb4 # è®¾ç½®æ•°æ®åº“æœåŠ¡å™¨é»˜è®¤ç¼–ç  utf-8 basedir = /usr/local/mysql # æ•°æ®åº“å®‰è£…ç›®å½•--æŒ‡å®šæ­¤å‚æ•°å¯è§£å†³ç›¸å¯¹è·¯å¾„é€ æˆçš„é—®é¢˜ datadir = /var/lib/mysql #æ•°æ®åº“ç›®å½•ï¼Œæ•°æ®åº“ç›®å½•åˆ‡æ¢æ—¶éœ€è¦ç”¨åˆ° pid-file = /var/run/mysqld/mysqld.pid #mysqlè¿›ç¨‹æ–‡ä»¶ï¼Œå¯æŒ‡å®šè‡ªå·±çš„è¿›ç¨‹æ–‡ä»¶ external-locking = FALSE #å¤–éƒ¨é”å®š(éå¤šæœåŠ¡å™¨å¯ä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œé»˜è®¤skip-external-locking) skip-external-locking #è·³è¿‡å¤–éƒ¨é”å®š ï¼ˆé¿å…å¤šè¿›ç¨‹ç¯å¢ƒä¸‹çš„external locking--é”æœºåˆ¶ï¼‰ skip-name-resolve = 1 #è·³è¿‡ä¸»æœºåè§£æï¼Œç›´æ¥IPè®¿é—®ï¼Œå¯æå‡è®¿é—®é€Ÿåº¦ log-error = /data/log/mysqld_error.log #é”™è¯¯æ—¥å¿—æ–‡ä»¶ # é‡è¦é…ç½® max_connections = 5000 # æœ€å¤§è¿æ¥æ•° max_connect_errors = 6000 # å®¢æˆ·ç«¯è¯·æ±‚å¼‚å¸¸ä¸­æ–­æ¬¡æ•° max_allowed_packet = 32M # é™åˆ¶å•æ¡æ•°æ®å¤§å° sort_buffer_size = 8M # æ¯ä¸ªè¿æ¥ç‹¬äº«å†…å­˜æ•°ï¼Œå¦‚ï¼š500è¿æ¥ * 8 = 4G å†…å­˜ join_buffer_size = 8M # è¡¨å…³è”ç¼“å­˜å¤§å°ï¼Œæ¯ä¸ªè¿æ¥ç‹¬äº« # æ•°æ®åº“å¼•æ“ç›¸å…³å‚æ•° default-storage-engine = InnoDB # é»˜è®¤æ•°æ®åº“å¼•æ“ # æ€§èƒ½åˆ†æ slow-query-log = 1 # æ˜¯å¦è®°å½•æ…¢æŸ¥è¯¢æ—¥å¿— long_query_time = 2 # æ…¢æŸ¥è¯¢è¶…æ—¶æ—¶é—´è®¾ç½® slow-query-log-file=/var/log/mysql/query-slow.log #æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•æ–‡ä»¶ # äºŒè¿›åˆ¶æ–‡ä»¶è®¾ç½® log_bin = = /data/log/mysql/bin-log.log # å¼€å¯bin-logæ—¥å¿—ï¼ŒæŒ‡å®šå­˜å‚¨è·¯å¾„ binlog_format = ROW # ROW(åŸºäºè¡Œçš„å¤åˆ¶--å®‰å…¨ï¼Œä½†æ˜¯æ³¨æ„å¹¶å‘) STATEMENT(åŸºäºsqlè¯­å¥çš„å¤åˆ¶)ï¼ŒMIXED(æ··åˆæ¨¡å¼å¤åˆ¶) binlog_cache_size = 4M # äºŒè¿›åˆ¶æ—¥å¿—ç¼“å­˜ï¼Œæé«˜log-binè®°å½•æ•ˆç‡ log_bin_trust_function_creators = 1 #ä¸»ä»å¤åˆ¶æ˜¯éœ€è¦æ³¨æ„ï¼Œä¸ºäº†ä¿è¯ä¸»ä»å¤åˆ¶å®Œå…¨ä¸€è‡´ï¼Œéœ€è¦å¼€å¯æ­¤é€‰é¡¹ï¼Œä¸»ä»é»˜è®¤é˜»æ­¢å‡½æ•°åˆ›å»º max_binlog_size = 1G # äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶å¤§å°é»˜è®¤1G è¦æ±‚å¤§äº4096 å°äº1G expire_logs_days = 7 # æ¸…é™¤è¿‡æœŸæ—¥å¿— # ä¸»ä»å¤åˆ¶ç›¸å…³ server-id = 2020 #ä¸»ä»å¤åˆ¶å¿…é¡»ï¼Œå¹¶ä¸”å„æœåŠ¡å™¨å…·æœ‰å”¯ä¸€æ€§ log_slave_updates #é…ç½®ä»æœåŠ¡å™¨çš„æ›´æ–°æ˜¯å¦å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ï¼Œé»˜è®¤æ˜¯ä¸æ‰“å¼€çš„ replicate-ignore-db = mysql #ä¸»ä»å¤åˆ¶é»˜è®¤å¿½ç•¥çš„æ•°æ®åº“ï¼Œå¯ç”¨\",\"åˆ†éš”æˆ–ä½¿ç”¨å¤šæ¡è®°å½• # replicate-do-db=qrs,login #ä¸»ä»å¤åˆ¶æŒ‡å®šæ•°æ®åº“,\",\"å·éš”å¼€æˆ–ä½¿ç”¨å¤šæ¡è®°å½• #æ•°æ®åº“å…¨é‡å¤‡ä»½ [mysqldump] quick #å¼ºåˆ¶mysqldumpä»æœåŠ¡å™¨ä¸€æ¬¡ä¸€è¡Œåœ°æ£€ç´¢è¡¨ä¸­çš„è¡Œ max_allowed_packet = 32M #å¯æ¥æ”¶æ•°æ®åŒ…å¤§å° [isamchk] #åœ¨mysqldæœåŠ¡å™¨ä¸ä½¿ç”¨çš„æƒ…å†µä¸‹ä¿®å¤è¡¨æˆ–åœ¨å´©æºƒçŠ¶æ€ä¸‹æ¢å¤è¡¨ key_buffer = 1024M sort_buff_size =1024M read_buffer = 16M write_buffer = 16M [myisamchk] #åœ¨mysqldæœåŠ¡å™¨ä¸ä½¿ç”¨çš„æƒ…å†µä¸‹ä¿®å¤è¡¨æˆ–åœ¨å´©æºƒçŠ¶æ€ä¸‹æ¢å¤è¡¨ key_buffer = 1024M sort_buff_size = 1024M read_buffer = 16M write_buffer = 16M [mysqld_safe] #safeæ–¹å¼å¯åŠ¨æ•°æ®åº“ï¼Œç›¸æ¯”äºmysqld,ä¼šåœ¨æœåŠ¡å¯åŠ¨åç»§ç»­ç›‘æ§æœåŠ¡çŠ¶æ€ï¼Œæ­»æœºæ—¶é‡å¯ open-files-limit = 8192 ä¸‰ã€sqlè¯­å¥ å››ã€å¤‡ä»½ 1ã€mysqldump 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #!/bin/bash # å»ºé€ AR-mysql server_host= server_port= server_user= server_passwd= back_date=`date \"+%Y-%m-%d\"` back_time=`date \"+%H:%M:%S\"` back_path=/data/backup/$back_date/mysql # åˆ‡æ¢åˆ°å¤‡ä»½ç›®å½• mkdir -p $back_path cd $back_path # dbåˆ—è¡¨(è¿‡æ»¤ä¸å¤‡ä»½åº“) db_list=`mysql -h $server_host \\ -P $server_port \\ -u$server_user \\ -p$server_passwd \\ -e \"show databases;\" \\ | grep -Ev \"Database|information_schema|mysql|test|performance_schema|sys\" ` # éå†å¤‡ä»½ for db in $db_list;do sql_name=${db}_${back_time}.sql mysqldump -h $server_host \\ -P $server_port \\ -u$server_user \\ -p$server_passwd \\ --databases $db \u003e $sql_name done # åˆ é™¤è¿‡æœŸæ–‡ä»¶ find /data/backup/ -mindepth 2 -type d -mtime +3 -exec rm -rf {} \\; 1 2 3 4 5 6 7 8 9 10 --all-databases \\ # å¤‡ä»½æ‰€æœ‰æœåŠ¡å™¨ --compact \\ # å‹ç¼©æ¨¡å¼ --comments \\ # æ·»åŠ æ³¨é‡Šä¿¡æ¯ --complete-insert \\ # è¾“å‡ºå®Œæˆçš„æ’å…¥è¯­å¥ --lock-tables \\ # å¤‡ä»½å‰ï¼Œé”å®šæ‰€æœ‰æ•°æ®åº“è¡¨ --no-create-db | --no-create-info \\ # ç¦æ­¢ç”Ÿæˆåˆ›å»ºæ•°æ®åº“è¯­å¥ --force \\ # å½“å‡ºç°é”™è¯¯æ—¶ä»ç„¶ç»§ç»­å¤‡ä»½æ“ä½œ --default-character-set \\ # æŒ‡å®šé»˜è®¤å­—ç¬¦é›† --add-locks --no-data \\ # ä¸åˆ°å¤„ ","description":"\n","tags":[],"title":"\nMysqlé…ç½®è¯¦è§£","uri":"/posts/post-302/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸€ã€å®‰è£… docker 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 docker pull minio/minio:latest DOCKER_NAME=minio MINIO_ACCESS_KEY=admin MINIO_SECRET_KEY=admin123 mkdir -p /data/$DOCKER_NAME/data mkdir -p /data/$DOCKER_NAME/conf docker run --name $DOCKER_NAME \\ -p 9000:9000 \\ -d \\ -e \"MINIO_ACCESS_KEY=$MINIO_ACCESS_KEY\" \\ -e \"MINIO_SECRET_KEY=$MINIO_SECRET_KEY\" \\ -v /data/$DOCKER_NAME/data:/data \\ -v /data/$DOCKER_NAME/conf:/root/.minio \\ minio/minio server /data # å®¢æˆ·ç«¯ docker pull minio/mc docker run -it --entrypoint=/bin/sh minio/mc mc config host add myminio http://192.168.0.1:9000 $MINIO_ACCESS_KEY $MINIO_SECRET_KEY # é…ç½®æŒ‡å®šæ¡¶å¼€æ”¾ä¸‹è½½ mc policy set public myminio/backup æºç  â€¦\näºŒã€mcå®¢æˆ·ç«¯ä½¿ç”¨ bucketæ¡¶ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 cat \u003e getonly.json \u003c\u003c EOF { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Action\": [\t// å¯ä»¥åšå‡ºçš„è¡ŒåŠ¨ï¼ˆæƒé™ï¼‰ \"s3:ListAllMyBuckets\", // æŸ¥çœ‹æ‰€æœ‰çš„â€œæ¡¶â€åˆ—è¡¨ \"s3:ListBucket\", // æŸ¥çœ‹æ¡¶å†…çš„å¯¹è±¡åˆ—è¡¨ \"s3:GetBucketLocation\", \"s3:GetObject\", // ä¸‹è½½å¯¹è±¡ \"s3:PutObject\", // ä¸Šä¼ å¯¹è±¡ \"s3:DeleteObject\" // åˆ é™¤å¯¹è±¡\t], \"Resource\": [ \"arn:aws:s3:::my-bucketname/*\" // ï¼ˆåº”ç”¨åˆ°çš„èµ„æºï¼Œ*è¡¨ç¤ºæ‰€æœ‰ï¼Œä¹Ÿå¯ä»¥ç”¨è·¯å¾„æ¥æ§åˆ¶èŒƒå›´ã€‚arn:aws:s3æ˜¯å‘½åç©ºé—´ï¼‰ ], \"Sid\": \"\" } ] } EOF 1 2 # æ·»åŠ è¯¥ç­–ç•¥ mc admin policy add myminio getonly getonly.json ç®¡ç†ç”¨æˆ· 1 2 3 4 5 6 7 8 9 10 11 # åˆ›å»ºç”¨æˆ· mc admin user add myminio newuser password # æˆæƒç­–ç•¥ mc admin policy set myminio getonly user=newuser # ç¦ç”¨ç”¨æˆ· mc admin user disable myminio newuser # åˆ—å‡ºæ‰€æœ‰ç”¨æˆ· mc admin user list myminio ç®¡ç†ç»„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åˆ›å»ºç»„ mc admin group add myminio newgroup newuser # æˆæƒç­–ç•¥ mc admin policy set myminio getonly group=newgroup # # ç¦ç”¨ç»„ mc admin group disable myminio newgroup # åˆ—å‡ºæ‰€æœ‰ç»„ ä¸‰ã€ä½¿ç”¨é—®é¢˜ 1ã€åˆ†äº«é“¾æ¥æ— æ³•è®¿é—® nginxä»£ç†é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 server { listen 80; server_name minio.maruifu.cn; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-Forwarded-Host $http_host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://127.0.0.1:9000; } } é…ç½®bucketè®¿é—®æƒé™ minioé»˜è®¤bucketæ— è¯»å–å’Œå†™å…¥æƒé™\n1ã€ç‚¹å‡»ä¸‰ä¸ªç‚¹æŒ‰é’®\n2ã€ç¼–è¾‘ç­–ç•¥\n3ã€æ·»åŠ æƒé™\nä¸‰ã€API 1ã€golang æ–‡æ¡£åœ°å€ï¼šhttps://docs.minio.io/docs/golang-client-quickstart-guide.html\nè¿æ¥minioæœåŠ¡å™¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \"log\" \"github.com/minio/minio-go/v7\" \"github.com/minio/minio-go/v7/pkg/credentials\" ) func main() { endpoint := \"minio.dongzi.online\" accessKeyID := \"dongdonghe\" // ID secretAccessKey := \"19981014\" // Secret useSSL := false // sslé…ç½® // Initialize minio client object. minioClient, err := minio.New(endpoint, \u0026minio.Options{ Creds: credentials.NewStaticV4(accessKeyID, secretAccessKey, \"\"), Secure: useSSL, }) if err != nil { log.Fatalln(err) } log.Printf(\"%#v\\n\", minioClient) // minioClient is now setup } åˆ›å»ºbucket\n1 2 3 4 5 6 7 8 9 func createBucket(mc *minio.Client, bucketName string) (err error) { err = mc.MakeBucket(context.Background(), bucketName, minio.MakeBucketOptions{Region: \"us-east-1\", ObjectLocking: false}) // Region : å­˜å‚¨æ¡¶ï¼ˆus-east-1ï¼šé»˜è®¤ï¼‰ if err != nil { fmt.Println(err) return } fmt.Println(\"Successfully created mybucket.\") return } åˆ—å‡ºæ‰€æœ‰bucket\n1 2 3 4 5 6 7 8 9 10 11 func listBucket(mc *minio.Client) (err error) { buckets, err := mc.ListBuckets(context.Background()) if err != nil { fmt.Println(err) return } for _, bucket := range buckets { fmt.Printf(\"bucketåç§°ï¼š%sï¼Œåˆ›å»ºæ—¶é—´ï¼š%s\\n\", bucket.Name, bucket.CreationDate) } return } æ£€æŸ¥bucketæ˜¯å¦å­˜åœ¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 func bucketExits(mc *minio.Client, bucketName string) (err error) { found, err := mc.BucketExists(context.Background(), bucketName) if err != nil { fmt.Println(err) return } if found { fmt.Println(\"Bucket found\") } else { fmt.Println(\"Bucket not found\") } return } åˆ é™¤bucket\n1 2 3 4 5 6 7 8 func deleteBucket(mc *minio.Client, bucketName string) (err error) { err = mc.RemoveBucket(context.Background(), bucketName) if err != nil { fmt.Println(err) return } return } è·å–bucketæ–‡ä»¶å¯¹è±¡åˆ—è¡¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 func listObjs(mc *minio.Client, bucketName string) (err error) { ctx, cancel := context.WithCancel(context.Background()) defer cancel() objectCh := mc.ListObjects(ctx, bucketName, minio.ListObjectsOptions{ Prefix: \"åˆ¶å›¾\", // å‰ç¼€æ¡ä»¶ Recursive: true, // å¾ªç¯ }) for object := range objectCh { if object.Err != nil { fmt.Println(object.Err) return } fmt.Printf(\"æ–‡ä»¶åï¼š%sï¼Œå¤§å°ï¼š%verb\", object.Key, object.Size) } return } ä¸Šä¼ æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 func uploadObject(mc *minio.Client, bucketName, objectName string, filePath string, contentType string) { n, err := mc.FPutObject(context.Background(), bucketName, // bucket objectName, // ä¸Šä¼ æ–‡ä»¶åç§° filePath, // ä¸Šä¼ æ–‡ä»¶åœ°å€ minio.PutObjectOptions{ContentType: contentType}) // ä¸Šä¼ æ–‡ä»¶ç±»å‹ if err != nil { log.Fatalln(err) } log.Printf(\"Successfully uploaded %s of size %d byte \\n\", objectName, n.Size) } ","description":"\n","tags":[],"title":"\nminioå®‰è£…ä½¿ç”¨","uri":"/posts/post-303/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\nç½‘å…³ç®€ä»‹ å¤§å®¶éƒ½éƒ½çŸ¥é“åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªç³»ç»Ÿä¼šè¢«æ‹†åˆ†ä¸ºå¾ˆå¤šä¸ªå¾®æœåŠ¡ã€‚é‚£ä¹ˆä½œä¸ºå®¢æˆ·ç«¯è¦å¦‚ä½•å»è°ƒç”¨è¿™ä¹ˆ å¤šçš„å¾®æœåŠ¡å‘¢?å¦‚æœæ²¡æœ‰ç½‘å…³çš„å­˜åœ¨ï¼Œæˆ‘ä»¬åªèƒ½åœ¨å®¢æˆ·ç«¯è®°å½•æ¯ä¸ªå¾®æœåŠ¡çš„åœ°å€ï¼Œç„¶ååˆ†åˆ«å»è°ƒç”¨ã€‚\nè¿™æ ·çš„æ¶æ„ï¼Œä¼šå­˜åœ¨ç€è¯¸å¤šçš„é—®é¢˜:\nå®¢æˆ·ç«¯å¤šæ¬¡è¯·æ±‚ä¸åŒçš„å¾®æœåŠ¡ï¼Œå¢åŠ å®¢æˆ·ç«¯ä»£ç æˆ–é…ç½®ç¼–å†™çš„å¤æ‚æ€§\nè®¤è¯å¤æ‚ï¼Œæ¯ä¸ªæœåŠ¡éƒ½éœ€è¦ç‹¬ç«‹è®¤è¯ã€‚\nå­˜åœ¨è·¨åŸŸè¯·æ±‚ï¼Œåœ¨ä¸€å®šåœºæ™¯ä¸‹å¤„ç†ç›¸å¯¹å¤æ‚ã€‚\nä¸Šé¢çš„è¿™äº›é—®é¢˜å¯ä»¥å€ŸåŠ©APIç½‘å…³æ¥è§£å†³ã€‚ æ‰€è°“çš„APIç½‘å…³ï¼Œå°±æ˜¯æŒ‡ç³»ç»Ÿçš„ç»Ÿä¸€å…¥å£ï¼Œå®ƒå°è£…äº†åº”ç”¨ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œä¸ºå®¢æˆ·ç«¯æä¾›ç»Ÿä¸€æœåŠ¡ï¼Œä¸€äº›ä¸ä¸šåŠ¡æœ¬èº«åŠŸèƒ½æ— å…³çš„å…¬å…±é€»è¾‘å¯ä»¥åœ¨è¿™é‡Œå®ç°ï¼Œè¯¸å¦‚è®¤è¯ã€é‰´æƒã€ç›‘æ§ã€è·¯ç”±è½¬å‘ç­‰ç­‰ã€‚ æ·»åŠ ä¸ŠAPIç½‘å…³ä¹‹åï¼Œç³»ç»Ÿçš„æ¶æ„å›¾å˜æˆäº†å¦‚ä¸‹æ‰€ç¤º:\næˆ‘ä»¬ä¹Ÿå¯ä»¥è§‚å¯Ÿä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨çš„æ•´ä½“æ¶æ„å›¾:\nåœ¨ä¸šç•Œæ¯”è¾ƒæµè¡Œçš„ç½‘å…³ï¼Œæœ‰ä¸‹é¢è¿™äº›:\nNgnix+lua:ä½¿ç”¨nginxçš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡å¯å®ç°å¯¹apiæœåŠ¡å™¨çš„è´Ÿè½½å‡è¡¡åŠé«˜å¯ç”¨ï¼Œluaæ˜¯ä¸€ ç§è„šæœ¬è¯­è¨€,å¯ä»¥æ¥ç¼–å†™ä¸€äº›ç®€å•çš„é€»è¾‘, nginxæ”¯æŒluaè„šæœ¬\nKong:åŸºäºNginx+Luaå¼€å‘ï¼Œæ€§èƒ½é«˜ï¼Œç¨³å®šï¼Œæœ‰å¤šä¸ªå¯ç”¨çš„æ’ä»¶(é™æµã€é‰´æƒç­‰ç­‰)å¯ä»¥å¼€ç®±å³ç”¨ã€‚ é—®é¢˜:åªæ”¯æŒHttpåè®®;äºŒæ¬¡å¼€å‘ï¼Œè‡ªç”±æ‰©å±•å›°éš¾;æä¾›ç®¡ç†APIï¼Œç¼ºä¹æ›´æ˜“ç”¨çš„ç®¡æ§ã€é…ç½® æ–¹å¼ã€‚\nZuul :Netflflixå¼€æºçš„ç½‘å…³ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œä½¿ç”¨JAVAå¼€å‘ï¼Œæ˜“äºäºŒæ¬¡å¼€å‘ é—®é¢˜:ç¼ºä¹ç®¡æ§ï¼Œæ— æ³•åŠ¨ æ€é…ç½®;ä¾èµ–ç»„ä»¶è¾ƒå¤š;å¤„ç†Httpè¯·æ±‚ä¾èµ–çš„æ˜¯Webå®¹å™¨ï¼Œæ€§èƒ½ä¸å¦‚Nginx\nSpring Cloud Gateway:Springå…¬å¸ä¸ºäº†æ›¿æ¢Zuulè€Œå¼€å‘çš„ç½‘å…³æœåŠ¡ï¼Œå°†åœ¨ä¸‹é¢å…·ä½“ä»‹ç»ã€‚\n**æ³¨æ„:**SpringCloud alibabaæŠ€æœ¯æ ˆä¸­å¹¶æ²¡æœ‰æä¾›è‡ªå·±çš„ç½‘å…³ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨Spring Cloud Gatewayæ¥åšç½‘å…³\nGatewayç®€ä»‹ Spring Cloud Gatewayæ˜¯Springå…¬å¸åŸºäºSpring 5.0ï¼ŒSpring Boot 2.0 å’Œ Project Reactor ç­‰æŠ€æœ¯å¼€å‘ çš„ç½‘å…³ï¼Œå®ƒæ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•æœ‰æ•ˆçš„ç»Ÿä¸€çš„ API è·¯ç”±ç®¡ç†æ–¹å¼ã€‚å®ƒçš„ç›®æ ‡æ˜¯æ›¿ä»£Netflflix Zuulï¼Œå…¶ä¸ä»…æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ï¼Œå¹¶ä¸”åŸºäº Filter é“¾çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚:å®‰å…¨ï¼Œç›‘ æ§å’Œé™æµã€‚\nä¼˜ç‚¹:\næ€§èƒ½å¼ºåŠ²:æ˜¯ç¬¬ä¸€ä»£ç½‘å…³Zuulçš„1.6å€\nåŠŸèƒ½å¼ºå¤§:å†…ç½®äº†å¾ˆå¤šå®ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è½¬å‘ã€ç›‘æ§ã€é™æµç­‰\nè®¾è®¡ä¼˜é›…ï¼Œå®¹æ˜“æ‰©å±•\nç¼ºç‚¹:\nå…¶å®ç°ä¾èµ–Nettyä¸WebFluxï¼Œä¸æ˜¯ä¼ ç»Ÿçš„Servletç¼–ç¨‹æ¨¡å‹ï¼Œå­¦ä¹ æˆæœ¬é«˜\nä¸èƒ½å°†å…¶éƒ¨ç½²åœ¨Tomcatã€Jettyç­‰Servletå®¹å™¨é‡Œï¼Œåªèƒ½æ‰“æˆjaråŒ…æ‰§è¡Œ\néœ€è¦Spring Boot 2.0åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œæ‰æ”¯æŒ\nGatewayå¿«é€Ÿå…¥é—¨ è¦æ±‚: é€šè¿‡æµè§ˆå™¨è®¿é—®apiç½‘å…³,ç„¶åé€šè¿‡ç½‘å…³å°†è¯·æ±‚è½¬å‘åˆ°å•†å“å¾®æœåŠ¡\nåŸºç¡€ç‰ˆ ç¬¬1æ­¥:åˆ›å»ºä¸€ä¸ª api-gateway çš„æ¨¡å—,å¯¼å…¥ç›¸å…³ä¾èµ–\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eapi-gateway\u003c/artifactId\u003e \u003cdependencies\u003e \u003c!--gatewayç½‘å…³--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-gateway\u003c/artifactId\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e ç¬¬2æ­¥: åˆ›å»ºä¸»ç±»\npackage cn.maruifu; @SpringBootApplication public class GatewayApplication { public static void main(String[] args) { SpringApplication.run(GatewayApplication.class, args); } } ç¬¬3æ­¥: æ·»åŠ é…ç½®æ–‡ä»¶\nserver: port: 7000 spring: application: name: api-gateway cloud: gateway: routes: # è·¯ç”±æ•°ç»„[è·¯ç”± å°±æ˜¯æŒ‡å®šå½“è¯·æ±‚æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™è½¬åˆ°å“ªä¸ªå¾®æœåŠ¡] - id: product_route # å½“å‰è·¯ç”±çš„æ ‡è¯†, è¦æ±‚å”¯ä¸€ uri: http://localhost:8081 # è¯·æ±‚è¦è½¬å‘åˆ°çš„åœ°å€ order: 1 # è·¯ç”±çš„ä¼˜å…ˆçº§,æ•°å­—è¶Šå°çº§åˆ«è¶Šé«˜ predicates: # æ–­è¨€(å°±æ˜¯è·¯ç”±è½¬å‘è¦æ»¡è¶³çš„æ¡ä»¶) # åŒ¹é…è·¯å¾„è½¬å‘ - Path=/product-serv/** # å½“è¯·æ±‚è·¯å¾„æ»¡è¶³PathæŒ‡å®šçš„è§„åˆ™æ—¶,æ‰è¿›è¡Œè·¯ç”±è½¬å‘ filters: # è¿‡æ»¤å™¨,è¯·æ±‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨å¯¹å…¶è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ - StripPrefix=1 # è½¬å‘ä¹‹å‰å»æ‰1å±‚è·¯å¾„ ç¬¬4æ­¥: å¯åŠ¨é¡¹ç›®, å¹¶é€šè¿‡ç½‘å…³å»è®¿é—®å¾®æœåŠ¡\nå¢å¼ºç‰ˆ ç¬¬1æ­¥:åŠ å…¥nacosä¾èµ–\n\u003c!--nacoså®¢æˆ·ç«¯--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-discovery\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬2æ­¥:åœ¨ä¸»ç±»ä¸Šæ·»åŠ æ³¨è§£\n@SpringBootApplication @EnableDiscoveryClient public class ApiGatewayApplication { public static void main(String[] args) { SpringApplication.run(ApiGatewayApplication.class, args); } } ç¬¬3æ­¥:ä¿®æ”¹é…ç½®æ–‡ä»¶\nserver: port: 7000 spring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true routes: # è·¯ç”±æ•°ç»„[è·¯ç”± å°±æ˜¯æŒ‡å®šå½“è¯·æ±‚æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™è½¬åˆ°å“ªä¸ªå¾®æœåŠ¡] - id: product_route # å½“å‰è·¯ç”±çš„æ ‡è¯†, è¦æ±‚å”¯ä¸€ uri: http://localhost:8081 # è¯·æ±‚è¦è½¬å‘åˆ°çš„åœ°å€ order: 1 # è·¯ç”±çš„ä¼˜å…ˆçº§,æ•°å­—è¶Šå°çº§åˆ«è¶Šé«˜ predicates: # æ–­è¨€(å°±æ˜¯è·¯ç”±è½¬å‘è¦æ»¡è¶³çš„æ¡ä»¶) # åŒ¹é…è·¯å¾„è½¬å‘ - Path=/product-serv/** # å½“è¯·æ±‚è·¯å¾„æ»¡è¶³PathæŒ‡å®šçš„è§„åˆ™æ—¶,æ‰è¿›è¡Œè·¯ç”±è½¬å‘ filters: # è¿‡æ»¤å™¨,è¯·æ±‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨å¯¹å…¶è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ - StripPrefix=1 # è½¬å‘ä¹‹å‰å»æ‰1å±‚è·¯å¾„ ç¬¬4æ­¥:æµ‹è¯•\nç®€å†™ç‰ˆ ç¬¬1æ­¥: å»æ‰å…³äºè·¯ç”±çš„é…ç½®\nserver: port: 7000 spring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true # è®©gatewayå¯ä»¥å‘ç°nacosä¸­çš„å¾®æœåŠ¡ ç¬¬2æ­¥: å¯åŠ¨é¡¹ç›®ï¼Œå¹¶é€šè¿‡ç½‘å…³å»è®¿é—®å¾®æœ\nè¿™æ—¶å€™ï¼Œå°±å‘ç°åªè¦æŒ‰ç…§ç½‘å…³åœ°å€å¾®æœåŠ¡æ¥å£çš„æ ¼å¼å»è®¿é—®ï¼Œå°±å¯ä»¥å¾—åˆ°æˆåŠŸå“åº”ã€‚\nGatewayæ ¸å¿ƒæ¶æ„ åŸºæœ¬æ¦‚å¿µ è·¯ç”±(Route) æ˜¯ gateway ä¸­æœ€åŸºæœ¬çš„ç»„ä»¶ä¹‹ä¸€ï¼Œè¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„è·¯ç”±ä¿¡æ¯è½½ä½“ã€‚ä¸»è¦å®šä¹‰äº†ä¸‹é¢çš„å‡ ä¸ªä¿¡æ¯:\nidï¼Œè·¯ç”±æ ‡è¯†ç¬¦ï¼ŒåŒºåˆ«äºå…¶ä»– Routeã€‚ uriï¼Œè·¯ç”±æŒ‡å‘çš„ç›®çš„åœ° uriï¼Œå³å®¢æˆ·ç«¯è¯·æ±‚æœ€ç»ˆè¢«è½¬å‘åˆ°çš„å¾®æœåŠ¡ã€‚ orderï¼Œç”¨äºå¤šä¸ª Route ä¹‹é—´çš„æ’åºï¼Œæ•°å€¼è¶Šå°æ’åºè¶Šé å‰ï¼ŒåŒ¹é…ä¼˜å…ˆçº§è¶Šé«˜ã€‚ predicateï¼Œæ–­è¨€çš„ä½œç”¨æ˜¯è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œåªæœ‰æ–­è¨€éƒ½è¿”å›çœŸï¼Œæ‰ä¼šçœŸæ­£çš„æ‰§è¡Œè·¯ç”±ã€‚ fifilterï¼Œè¿‡æ»¤å™¨ç”¨äºä¿®æ”¹è¯·æ±‚å’Œå“åº”ä¿¡æ¯ã€‚ æ‰§è¡Œæµç¨‹ æ‰§è¡Œæµç¨‹å¤§ä½“å¦‚ä¸‹:\nGateway Clientå‘Gateway Serverå‘é€è¯·æ±‚ è¯·æ±‚é¦–å…ˆä¼šè¢«HttpWebHandlerAdapterè¿›è¡Œæå–ç»„è£…æˆç½‘å…³ä¸Šä¸‹æ–‡ ç„¶åç½‘å…³çš„ä¸Šä¸‹æ–‡ä¼šä¼ é€’åˆ°DispatcherHandlerï¼Œå®ƒè´Ÿè´£å°†è¯·æ±‚åˆ†å‘ç»™RoutePredicateHandlerMapping RoutePredicateHandlerMappingè´Ÿè´£è·¯ç”±æŸ¥æ‰¾ï¼Œå¹¶æ ¹æ®è·¯ç”±æ–­è¨€åˆ¤æ–­è·¯ç”±æ˜¯å¦å¯ç”¨ å¦‚æœè¿‡æ–­è¨€æˆåŠŸï¼Œç”±FilteringWebHandleråˆ›å»ºè¿‡æ»¤å™¨é“¾å¹¶è°ƒç”¨ è¯·æ±‚ä¼šä¸€æ¬¡ç»è¿‡PreFilterâ€“å¾®æœåŠ¡-PostFilterçš„æ–¹æ³•ï¼Œæœ€ç»ˆè¿”å›å“åº” æ–­è¨€ Predicate(æ–­è¨€, è°“è¯) ç”¨äºè¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œåªæœ‰æ–­è¨€éƒ½è¿”å›çœŸï¼Œæ‰ä¼šçœŸæ­£çš„æ‰§è¡Œè·¯ç”±ã€‚\næ–­è¨€å°±æ˜¯è¯´: åœ¨ ä»€ä¹ˆæ¡ä»¶ä¸‹ æ‰èƒ½è¿›è¡Œè·¯ç”±è½¬å‘\nå†…ç½®è·¯ç”±æ–­è¨€å·¥å‚ SpringCloud GatewayåŒ…æ‹¬è®¸å¤šå†…ç½®çš„æ–­è¨€å·¥å‚ï¼Œæ‰€æœ‰è¿™äº›æ–­è¨€éƒ½ä¸HTTPè¯·æ±‚çš„ä¸åŒå±æ€§åŒ¹é…ã€‚å…·ä½“å¦‚ä¸‹:\nåŸºäºDatetimeç±»å‹çš„æ–­è¨€å·¥å‚\næ­¤ç±»å‹çš„æ–­è¨€æ ¹æ®æ—¶é—´åšåˆ¤æ–­ï¼Œä¸»è¦æœ‰ä¸‰ä¸ª:\nAfterRoutePredicateFactory: æ¥æ”¶ä¸€ä¸ªæ—¥æœŸå‚æ•°ï¼Œåˆ¤æ–­è¯·æ±‚æ—¥æœŸæ˜¯å¦æ™šäºæŒ‡å®šæ—¥æœŸ BeforeRoutePredicateFactory: æ¥æ”¶ä¸€ä¸ªæ—¥æœŸå‚æ•°ï¼Œåˆ¤æ–­è¯·æ±‚æ—¥æœŸæ˜¯å¦æ—©äºæŒ‡å®šæ—¥æœŸ BetweenRoutePredicateFactory: æ¥æ”¶ä¸¤ä¸ªæ—¥æœŸå‚æ•°ï¼Œåˆ¤æ–­è¯·æ±‚æ—¥æœŸæ˜¯å¦åœ¨æŒ‡å®šæ—¶é—´æ®µå†… -After=2019-12-31T23:59:59.789+08:00[Asia/Shanghai]\nåŸºäºè¿œç¨‹åœ°å€çš„æ–­è¨€å·¥å‚\nRemoteAddrRoutePredicateFactory:æ¥æ”¶ä¸€ä¸ªIPåœ°å€æ®µï¼Œåˆ¤æ–­è¯·æ±‚ä¸»æœºåœ°å€æ˜¯å¦åœ¨åœ°å€æ®µä¸­\n-RemoteAddr=192.168.1.1/24\nåŸºäºCookieçš„æ–­è¨€å·¥å‚ CookieRoutePredicateFactory:æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œcookie åå­—å’Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ åˆ¤æ–­è¯·æ±‚cookieæ˜¯å¦å…·æœ‰ç»™å®šåç§°ä¸”å€¼ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚ -Cookie=chocolate, ch.\nåŸºäºHeaderçš„æ–­è¨€å·¥å‚\nHeaderRoutePredicateFactory:æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œæ ‡é¢˜åç§°å’Œæ­£åˆ™è¡¨è¾¾å¼ã€‚ åˆ¤æ–­è¯·æ±‚Headeræ˜¯å¦å…·æœ‰ç»™å®šåç§°ä¸”å€¼ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚ -Header=X-Request-Id, \\d+\nåŸºäºHostçš„æ–­è¨€å·¥å‚ HostRoutePredicateFactory:æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œä¸»æœºåæ¨¡å¼ã€‚åˆ¤æ–­è¯·æ±‚çš„Hostæ˜¯å¦æ»¡è¶³åŒ¹é…è§„åˆ™ã€‚ -Host=**.testhost.org\nåŸºäºMethodè¯·æ±‚æ–¹æ³•çš„æ–­è¨€å·¥å‚ MethodRoutePredicateFactory:æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œåˆ¤æ–­è¯·æ±‚ç±»å‹æ˜¯å¦è·ŸæŒ‡å®šçš„ç±»å‹åŒ¹é…ã€‚ -Method=GET\nåŸºäºPathè¯·æ±‚è·¯å¾„çš„æ–­è¨€å·¥å‚ PathRoutePredicateFactory:æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œåˆ¤æ–­è¯·æ±‚çš„URIéƒ¨åˆ†æ˜¯å¦æ»¡è¶³è·¯å¾„è§„åˆ™ã€‚ -Path=/foo/{segment}\nåŸºäºQueryè¯·æ±‚å‚æ•°çš„æ–­è¨€å·¥å‚ QueryRoutePredicateFactory :æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¯·æ±‚paramå’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œ åˆ¤æ–­è¯·æ±‚å‚æ•°æ˜¯å¦å…·æœ‰ç»™å®šåç§°ä¸”å€¼ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚ -Query=baz, ba.\nåŸºäºè·¯ç”±æƒé‡çš„æ–­è¨€å·¥å‚ WeightRoutePredicateFactory:æ¥æ”¶ä¸€ä¸ª[ç»„å,æƒé‡], ç„¶åå¯¹äºåŒä¸€ä¸ªç»„å†…çš„è·¯ç”±æŒ‰ç…§æƒé‡è½¬å‘ routes: -id: weight_route1 uri: host1 predicates: -Path=/product/** -Weight=group3, 1 -id: weight_route2 uri: host2 predicates: -Path=/product/** -Weight= group3, 9\nå†…ç½®è·¯ç”±æ–­è¨€å·¥å‚çš„ä½¿ç”¨\næ¥ä¸‹æ¥æˆ‘ä»¬éªŒè¯å‡ ä¸ªå†…ç½®æ–­è¨€çš„ä½¿ç”¨:\nserver: port: 7000 spring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true routes: # è·¯ç”±æ•°ç»„[è·¯ç”± å°±æ˜¯æŒ‡å®šå½“è¯·æ±‚æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™è½¬åˆ°å“ªä¸ªå¾®æœåŠ¡] - id: product_route # å½“å‰è·¯ç”±çš„æ ‡è¯†, è¦æ±‚å”¯ä¸€ uri: lb://service-product # è¯·æ±‚è¦è½¬å‘åˆ°çš„åœ°å€ predicates: # æ–­è¨€(å°±æ˜¯è·¯ç”±è½¬å‘è¦æ»¡è¶³çš„æ¡ä»¶) # åŒ¹é…è·¯å¾„è½¬å‘ - Path=/product-serv/** # å½“è¯·æ±‚è·¯å¾„æ»¡è¶³PathæŒ‡å®šçš„è§„åˆ™æ—¶,æ‰è¿›è¡Œè·¯ç”±è½¬å‘ - Before=2022-02-18T00:00:00.000+08:00 #é™åˆ¶è¯·æ±‚æ—¶é—´åœ¨2022-02-18ä¹‹å‰ \\- Method=POST #é™åˆ¶è¯·æ±‚æ–¹å¼ä¸ºPOST filters: # è¿‡æ»¤å™¨,è¯·æ±‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨å¯¹å…¶è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ - StripPrefix=1 # è½¬å‘ä¹‹å‰å»æ‰1å±‚è·¯å¾„ è‡ªå®šä¹‰è·¯ç”±æ–­è¨€å·¥å‚ æˆ‘ä»¬æ¥è®¾å®šä¸€ä¸ªåœºæ™¯: å‡è®¾æˆ‘ä»¬çš„åº”ç”¨ä»…ä»…è®©ageåœ¨(min,max)ä¹‹é—´çš„äººæ¥è®¿é—®ã€‚\nç¬¬1æ­¥:åœ¨é…ç½®æ–‡ä»¶ä¸­,æ·»åŠ ä¸€ä¸ªAgeçš„æ–­è¨€é…ç½®\nspring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true routes: - id: product-route uri: lb://service-product predicates: - Path=/product-serv/** - Age=18,60 # é™åˆ¶å¹´é¾„åªæœ‰åœ¨18åˆ°60å²ä¹‹é—´çš„äººèƒ½è®¿é—® filters: - StripPrefix=1 ç¬¬2æ­¥:è‡ªå®šä¹‰ä¸€ä¸ªæ–­è¨€å·¥å‚, å®ç°æ–­è¨€æ–¹æ³•\npackage cn.maruifu.predicates; import lombok.Data; import lombok.NoArgsConstructor; import org.apache.commons.lang3.StringUtils; import org.springframework.cloud.gateway.handler.predicate.AbstractRoutePredicateFactory; import org.springframework.stereotype.Component; import org.springframework.web.server.ServerWebExchange; import java.util.Arrays; import java.util.List; import java.util.function.Predicate; //è‡ªå®šä¹‰è·¯ç”±æ–­è¨€å·¥å‚ //æ³›å‹ ç”¨äºæ¥æ”¶ä¸€ä¸ªé…ç½®ç±»,é…ç½®ç±»ç”¨äºæ¥æ”¶ä¸­é…ç½®æ–‡ä»¶ä¸­çš„é…ç½® @Component public class AgeRoutePredicateFactory extends AbstractRoutePredicateFactory\u003cAgeRoutePredicateFactory.Config\u003e { public AgeRoutePredicateFactory(){ super(AgeRoutePredicateFactory.Config.class); } //ç”¨äºä»é…ç½®æ–‡ä»¶ä¸­è·å–å‚æ•°å€¼èµ‹å€¼åˆ°é…ç½®ç±»ä¸­çš„å±æ€§ä¸Š @Override public List\u003cString\u003e shortcutFieldOrder(){ //è¿™é‡Œçš„é¡ºåºè¦è·Ÿé…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°é¡ºåºä¸€è‡´ return Arrays.asList(\"minAge\",\"maxAge\"); } //æ–­è¨€ @Override public Predicate\u003cServerWebExchange\u003e apply( AgeRoutePredicateFactory.Config config){ return new Predicate\u003cServerWebExchange\u003e(){ @Override public boolean test(ServerWebExchange serverWebExchange){ //ä»serverWebExchangeè·å–ä¼ å…¥çš„å‚æ•° String ageStr=serverWebExchange.getRequest().getQueryParams().getFirst(\"age\"); if(StringUtils.isNotEmpty(ageStr)){ int age=Integer.parseInt(ageStr); return age\u003econfig.getMinAge()\u0026\u0026age\u003cconfig.getMaxAge(); } return true; } }; } @Data @NoArgsConstructor public static class Config { private int minAge; private int maxAge; } } ç¬¬4æ­¥:å¯åŠ¨æµ‹è¯•\næµ‹è¯•å‘ç°å½“ageåœ¨(20,60)å¯ä»¥è®¿é—®,å…¶å®ƒèŒƒå›´ä¸èƒ½è®¿é—® http://localhost:7000/product-serv/product/1?age=30 http://localhost:7000/product-serv/product/1?age=10 è¿‡æ»¤å™¨ ä¸‰ä¸ªçŸ¥è¯†ç‚¹\nä½œç”¨: è¿‡æ»¤å™¨å°±æ˜¯åœ¨è¯·æ±‚çš„ä¼ é€’è¿‡ç¨‹ä¸­,å¯¹è¯·æ±‚å’Œå“åº”åšä¸€äº›æ‰‹è„š\nç”Ÿå‘½å‘¨æœŸ: Pre Post\nåˆ†ç±»: å±€éƒ¨è¿‡æ»¤å™¨(ä½œç”¨åœ¨æŸä¸€ä¸ªè·¯ç”±ä¸Š) å…¨å±€è¿‡æ»¤å™¨(ä½œç”¨å…¨éƒ¨è·¯ç”±ä¸Š)\nåœ¨Gatewayä¸­, Filterçš„ç”Ÿå‘½å‘¨æœŸåªæœ‰ä¸¤ä¸ª:â€œpreâ€ å’Œ â€œpostâ€ã€‚\nPRE: è¿™ç§è¿‡æ»¤å™¨åœ¨è¯·æ±‚è¢«è·¯ç”±ä¹‹å‰è°ƒç”¨ã€‚æˆ‘ä»¬å¯åˆ©ç”¨è¿™ç§è¿‡æ»¤å™¨å®ç°èº«ä»½éªŒè¯ã€åœ¨é›†ç¾¤ä¸­é€‰æ‹© è¯·æ±‚çš„å¾®æœåŠ¡ã€è®°å½•è°ƒè¯•ä¿¡æ¯ç­‰ã€‚\nPOST:è¿™ç§è¿‡æ»¤å™¨åœ¨è·¯ç”±åˆ°å¾®æœåŠ¡ä»¥åæ‰§è¡Œã€‚è¿™ç§è¿‡æ»¤å™¨å¯ç”¨æ¥ä¸ºå“åº”æ·»åŠ æ ‡å‡†çš„HTTP Headerã€æ”¶é›†ç»Ÿè®¡ä¿¡æ¯å’ŒæŒ‡æ ‡ã€å°†å“åº”ä»å¾®æœåŠ¡å‘é€ç»™å®¢æˆ·ç«¯ç­‰ã€‚\nGateway çš„Filterä»ä½œç”¨èŒƒå›´å¯åˆ†ä¸ºä¸¤ç§: GatewayFilterä¸GlobalFilterã€‚\nGatewayFilter:åº”ç”¨åˆ°å•ä¸ªè·¯ç”±æˆ–è€…ä¸€ä¸ªåˆ†ç»„çš„è·¯ç”±ä¸Šã€‚\nGlobalFilter:åº”ç”¨åˆ°æ‰€æœ‰çš„è·¯ç”±ä¸Šã€‚\nå±€éƒ¨è¿‡æ»¤å™¨ å±€éƒ¨è¿‡æ»¤å™¨æ˜¯é’ˆå¯¹å•ä¸ªè·¯ç”±çš„è¿‡æ»¤å™¨ã€‚\nå†…ç½®å±€éƒ¨è¿‡æ»¤å™¨ åœ¨SpringCloud Gatewayä¸­å†…ç½®äº†å¾ˆå¤šä¸åŒç±»å‹çš„ç½‘å…³è·¯ç”±è¿‡æ»¤å™¨ã€‚å…·ä½“å¦‚ä¸‹:\n| è¿‡æ»¤å™¨å·¥å‚ | ä½œç”¨ | å‚æ•° | | :â€”â€”â€“: | :â€“: | :â€“: | | AddRequestHeader | ä¸ºåŸå§‹è¯·æ±‚æ·»åŠ Header | Headerçš„åç§°åŠå€¼ | | AddRequestParameter | ä¸ºåŸå§‹è¯·æ±‚æ·»åŠ è¯·æ±‚å‚æ•° | å‚æ•°åç§°åŠå€¼ | | AddResponseHeader | ä¸ºåŸå§‹å“åº”æ·»åŠ Header | Headerçš„åç§°åŠå€¼ | | DedupeResponseHeader | å‰”é™¤å“åº”å¤´ä¸­é‡å¤çš„å€¼ | éœ€è¦å»é‡çš„Headerå ç§°åŠå»é‡ç­–ç•¥ | | Hystrix | ä¸ºè·¯ç”±å¼•å…¥Hystrixçš„æ–­è·¯å™¨ä¿æŠ¤ | HystrixCommandçš„åç§° | | FallbackHeaders | ä¸ºfallbackUriçš„è¯·æ±‚å¤´ä¸­æ·»åŠ å…·ä½“çš„å¼‚å¸¸ä¿¡æ¯ | Headeråç§° | | FallbackHeaders | ä¸ºè¯·æ±‚æ·»åŠ ä¸€ä¸ª preserveHostHeader=trueçš„å± æ€§ï¼Œè·¯ç”±è¿‡æ»¤å™¨ä¼šæ£€æŸ¥è¯¥å±æ€§ä»¥ å†³å®šæ˜¯å¦è¦å‘é€åŸå§‹çš„Host | æ—  | | RequestRateLimiter | ç”¨äºå¯¹è¯·æ±‚é™æµï¼Œé™æµç®—æ³•ä¸ºä»¤ç‰Œæ¡¶ | keyResolverã€ rateLimiterã€ statusCodeã€ denyEmptyKeyã€ emptyKeyStatus | | RedirectTo | å°†åŸå§‹è¯·æ±‚é‡å®šå‘åˆ°æŒ‡å®šçš„URL | httpçŠ¶æ€ç åŠé‡å®šå‘ çš„ url | | RemoveHopByHopHeadersFilter | ä¸ºåŸå§‹è¯·æ±‚åˆ é™¤IETFç»„ç»‡è§„å®šçš„ ä¸€ç³»åˆ—Header | é»˜è®¤å°±ä¼šå¯ç”¨ï¼Œå¯ä»¥ é€š è¿‡é…ç½®æŒ‡å®šä»…åˆ é™¤ å“ªäº› Header | | RewriteResponseHeader | ä¸ºåŸå§‹è¯·æ±‚åˆ é™¤æŸä¸ªHeader | Headerçš„åç§° | | RemoveRequestHeader | ä¸ºåŸå§‹è¯·æ±‚åˆ é™¤æŸä¸ªHeader | Headerçš„åç§° | | RewritePath | é‡å†™åŸå§‹çš„è¯·æ±‚è·¯å¾„ | åŸå§‹è·¯å¾„æ­£åˆ™è¡¨è¾¾å¼ ä»¥ åŠé‡å†™åè·¯å¾„çš„æ­£ åˆ™è¡¨è¾¾å¼ | | RewriteResponseHeader | é‡å†™åŸå§‹å“åº”ä¸­çš„æŸä¸ªHeader | Headeråç§°ï¼Œå€¼çš„æ­£ åˆ™è¡¨è¾¾å¼ï¼Œé‡å†™åçš„ å€¼ | | SaveSession | åœ¨è½¬å‘è¯·æ±‚ä¹‹å‰ï¼Œå¼ºåˆ¶æ‰§è¡ŒWebSession::saveæ“ä½œ | æ—  | | secureHeaders | ä¸ºåŸå§‹å“åº”æ·»åŠ ä¸€ç³»åˆ—èµ·å®‰å…¨ä½œç”¨çš„å“åº”å¤´ | æ— ï¼Œæ”¯æŒä¿®æ”¹è¿™äº›å®‰å…¨ | | SetPath | ä¿®æ”¹åŸå§‹çš„è¯·æ±‚è·¯å¾„ | ä¿®æ”¹åçš„è·¯å¾„ | | SetResponseHeader | ä¿®æ”¹åŸå§‹å“åº”ä¸­æŸä¸ªHeaderçš„ Headeråç§°ï¼Œä¿®æ”¹åå€¼ | Headeråç§°ï¼Œä¿®æ”¹åå€¼çš„å€¼ | | SetStatus | ä¿®æ”¹åŸå§‹å“åº”ä½“çš„å†…å®¹ | HTTP çŠ¶æ€ç ï¼Œå¯ä»¥æ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸² | | StripPrefix | ç”¨äºæˆªæ–­åŸå§‹è¯·æ±‚çš„è·¯å¾„ | ä½¿ç”¨æ•°å­—è¡¨ç¤ºè¦æˆªæ–­çš„è·¯å¾„çš„æ•°é‡ | | Retry | é’ˆå¯¹ä¸åŒçš„å“åº”è¿›è¡Œé‡è¯• | retriesã€statusesã€methodsã€series | | RequestSize | è®¾ç½®å…è®¸æ¥æ”¶æœ€å¤§è¯·æ±‚åŒ…çš„å¤§ å°ã€‚å¦‚æœè¯·æ±‚åŒ…å¤§å°è¶…è¿‡è®¾ç½®çš„ å€¼ï¼Œåˆ™è¿”å› 413 Payload Too Large | è¯·æ±‚åŒ…å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œé»˜è®¤å€¼ä¸º5M | | ModifyRequestBody | åœ¨è½¬å‘è¯·æ±‚ä¹‹å‰ä¿®æ”¹åŸå§‹è¯·æ±‚ä½“å†…å®¹ | ä¿®æ”¹åçš„è¯·æ±‚ä½“å†…å®¹ | | ModifyResponseBody | ä¿®æ”¹åŸå§‹å“åº”çš„å†…å®¹ | ä¿®æ”¹åçš„å“åº”ä½“å†…å®¹ |\nå†…ç½®å±€éƒ¨è¿‡æ»¤å™¨çš„ä½¿ç”¨\nserver: port: 7000 spring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true routes: # è·¯ç”±æ•°ç»„[è·¯ç”± å°±æ˜¯æŒ‡å®šå½“è¯·æ±‚æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™è½¬åˆ°å“ªä¸ªå¾®æœåŠ¡] - id: product_route # å½“å‰è·¯ç”±çš„æ ‡è¯†, è¦æ±‚å”¯ä¸€ uri: lb://service-product # è¯·æ±‚è¦è½¬å‘åˆ°çš„åœ°å€ predicates: # æ–­è¨€(å°±æ˜¯è·¯ç”±è½¬å‘è¦æ»¡è¶³çš„æ¡ä»¶) # åŒ¹é…è·¯å¾„è½¬å‘ - Path=/product-serv/** # å½“è¯·æ±‚è·¯å¾„æ»¡è¶³PathæŒ‡å®šçš„è§„åˆ™æ—¶,æ‰è¿›è¡Œè·¯ç”±è½¬å‘ filters: # è¿‡æ»¤å™¨,è¯·æ±‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨å¯¹å…¶è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ - StripPrefix=1 # è½¬å‘ä¹‹å‰å»æ‰1å±‚è·¯å¾„ - SetStatus=2000 # ä¿®æ”¹è¿”å›çŠ¶æ€ è‡ªå®šä¹‰å±€éƒ¨è¿‡æ»¤ ç¬¬1æ­¥:åœ¨é…ç½®æ–‡ä»¶ä¸­,æ·»åŠ ä¸€ä¸ªLogçš„è¿‡æ»¤å™¨é…ç½®\nserver: port: 7000 spring: application: name: api-gateway cloud: nacos: discovery: server-addr: 127.0.0.1:8848 gateway: discovery: locator: enabled: true # è®©gatewayå¯ä»¥å‘ç°nacosä¸­çš„å¾®æœåŠ¡ routes: - id: consumer uri: lb://consumer # lbæŒ‡çš„æ˜¯ä»nacosä¸­æŒ‰ç…§åç§°è·å–å¾®æœåŠ¡,å¹¶éµå¾ªè´Ÿè½½å‡ è¡¡ç­–ç•¥ predicates: - Path=/consumer-serv/** filters: - StripPrefix=1 - Log=true,false # æ§åˆ¶æ—¥å¿—æ˜¯å¦å¼€å¯ ç¬¬2æ­¥:è‡ªå®šä¹‰ä¸€ä¸ªè¿‡æ»¤å™¨å·¥å‚,å®ç°æ–¹æ³•\npackage cn.maruifu.predicates; import lombok.Data; import lombok.NoArgsConstructor; import org.springframework.cloud.gateway.filter.GatewayFilter; import org.springframework.cloud.gateway.filter.GatewayFilterChain; import org.springframework.cloud.gateway.filter.factory.AbstractGatewayFilterFactory; import org.springframework.stereotype.Component; import org.springframework.web.server.ServerWebExchange; import reactor.core.publisher.Mono; import java.util.Arrays; import java.util.List; //è‡ªå®šä¹‰å±€éƒ¨è¿‡æ»¤å™¨ @Component public class LogGatewayFilterFactory extends AbstractGatewayFilterFactory\u003cLogGatewayFilterFactory.Config\u003e { //æ„é€ å‡½æ•° public LogGatewayFilterFactory() { super(LogGatewayFilterFactory.Config.class); } //è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•° èµ‹å€¼åˆ° é…ç½®ç±»ä¸­ @Override public List\u003cString\u003e shortcutFieldOrder() { return Arrays.asList(\"consoleLog\", \"cacheLog\"); } //è¿‡æ»¤å™¨é€»è¾‘ @Override public GatewayFilter apply(LogGatewayFilterFactory.Config config) { return new GatewayFilter() { @Override public Mono\u003cVoid\u003e filter(ServerWebExchange exchange, GatewayFilterChain chain) { if (config.isCacheLog()) { System.out.println(\"cacheLogå·²ç»å¼€å¯äº†....\"); } if (config.isConsoleLog()) { System.out.println(\"consoleLogå·²ç»å¼€å¯äº†....\"); } return chain.filter(exchange); } }; } //é…ç½®ç±» æ¥æ”¶é…ç½®å‚æ•° @Data @NoArgsConstructor public static class Config { private boolean consoleLog; private boolean cacheLog; } } ç¬¬3æ­¥:å¯åŠ¨æµ‹è¯•\nå…¨å±€è¿‡æ»¤å™¨ å…¨å±€è¿‡æ»¤å™¨ä½œç”¨äºæ‰€æœ‰è·¯ç”±, æ— éœ€é…ç½®ã€‚é€šè¿‡å…¨å±€è¿‡æ»¤å™¨å¯ä»¥å®ç°å¯¹æƒé™çš„ç»Ÿä¸€æ ¡éªŒï¼Œå®‰å…¨æ€§éªŒè¯ç­‰åŠŸ èƒ½ã€‚\nå†…ç½®å…¨å±€è¿‡æ»¤å™¨ SpringCloud Gatewayå†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„å†…ç½®å…¨å±€è¿‡æ»¤å™¨å¯¹æ•´ä¸ªè·¯ç”±è½¬å‘è¿›è¡Œå¤„ç†å¦‚ä¸‹:\nè‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨ å†…ç½®çš„è¿‡æ»¤å™¨å·²ç»å¯ä»¥å®Œæˆå¤§éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¯¹äºä¼ä¸šå¼€å‘çš„ä¸€äº›ä¸šåŠ¡åŠŸèƒ½å¤„ç†ï¼Œè¿˜æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™è¿‡æ»¤å™¨æ¥å®ç°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€èµ·é€šè¿‡ä»£ç çš„å½¢å¼è‡ªå®šä¹‰ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå»å®Œæˆç»Ÿä¸€çš„æƒé™æ ¡éªŒã€‚\nå¼€å‘ä¸­çš„é‰´æƒé€»è¾‘:\nå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡æ—¶ï¼ŒæœåŠ¡ç«¯å¯¹ç”¨æˆ·è¿›è¡Œä¿¡æ¯è®¤è¯(ç™»å½•)\nè®¤è¯é€šè¿‡ï¼Œå°†ç”¨æˆ·ä¿¡æ¯è¿›è¡ŒåŠ å¯†å½¢æˆtokenï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä½œä¸ºç™»å½•å‡­è¯\nä»¥åæ¯æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯éƒ½æºå¸¦è®¤è¯çš„token\næœåŠ¡ç«¯å¯¹tokenè¿›è¡Œè§£å¯†ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆã€‚\nå¦‚ä¸Šå›¾ï¼Œå¯¹äºéªŒè¯ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•é‰´æƒçš„è¿‡ç¨‹å¯ä»¥åœ¨ç½‘å…³ç»Ÿä¸€æ£€éªŒã€‚\næ£€éªŒçš„æ ‡å‡†å°±æ˜¯è¯·æ±‚ä¸­æ˜¯å¦æºå¸¦tokenå‡­è¯ä»¥åŠtokençš„æ­£ç¡®æ€§ã€‚\nä¸‹é¢çš„æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªGlobalFilterï¼Œå»æ ¡éªŒæ‰€æœ‰è¯·æ±‚çš„è¯·æ±‚å‚æ•°ä¸­æ˜¯å¦åŒ…å«â€œtokenâ€ï¼Œå¦‚ä½•ä¸åŒ…å«è¯·æ±‚ å‚æ•°â€œtokenâ€åˆ™ä¸è½¬å‘è·¯ç”±ï¼Œå¦åˆ™æ‰§è¡Œæ­£å¸¸çš„é€»è¾‘ã€‚\npackage cn.maruifu.filter; import org.apache.commons.lang3.StringUtils; import org.springframework.cloud.gateway.filter.GatewayFilterChain; import org.springframework.cloud.gateway.filter.GlobalFilter; import org.springframework.core.Ordered; import org.springframework.http.HttpStatus; import org.springframework.stereotype.Component; import org.springframework.web.server.ServerWebExchange; import reactor.core.publisher.Mono; //è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨éœ€è¦å®ç°GlobalFilterå’ŒOrderedæ¥å£ @Component public class AuthGlobalFilter implements GlobalFilter, Ordered { //å®Œæˆåˆ¤æ–­é€»è¾‘ @Override public Mono\u003cVoid\u003e filter(ServerWebExchange exchange, GatewayFilterChain chain) { String token = exchange.getRequest().getQueryParams().getFirst(\"token\"); if (StringUtils.isBlank(token)) { System.out.println(\"é‰´æƒå¤±è´¥\"); exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED); return exchange.getResponse().setComplete(); } //è°ƒç”¨chain.filterç»§ç»­å‘ä¸‹æ¸¸æ‰§è¡Œ return chain.filter(exchange); } //é¡ºåº,æ•°å€¼è¶Šå°,ä¼˜å…ˆçº§è¶Šé«˜ @Override @Override public int getOrder() { return 0; } } ç½‘å…³é™æµ ç½‘å…³æ˜¯æ‰€æœ‰è¯·æ±‚çš„å…¬å…±å…¥å£ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ç½‘å…³è¿›è¡Œé™æµï¼Œè€Œä¸”é™æµçš„æ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œæˆ‘ä»¬æœ¬æ¬¡é‡‡ç”¨å‰é¢å­¦ è¿‡çš„Sentinelç»„ä»¶æ¥å®ç°ç½‘å…³çš„é™æµã€‚Sentinelæ”¯æŒå¯¹SpringCloud Gatewayã€Zuulç­‰ä¸»æµç½‘å…³è¿›è¡Œé™æµã€‚\nä»1.6.0ç‰ˆæœ¬å¼€å§‹ï¼ŒSentinelæä¾›äº†SpringCloud Gatewayçš„é€‚é…æ¨¡å—ï¼Œå¯ä»¥æä¾›ä¸¤ç§èµ„æºç»´åº¦çš„é™æµ:\nrouteç»´åº¦:å³åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„è·¯ç”±æ¡ç›®ï¼Œèµ„æºåä¸ºå¯¹åº”çš„routeId\nè‡ªå®šä¹‰APIç»´åº¦:ç”¨æˆ·å¯ä»¥åˆ©ç”¨Sentinelæä¾›çš„APIæ¥è‡ªå®šä¹‰ä¸€äº›APIåˆ†ç»„\nç¬¬ä¸€æ­¥ï¼šå¯¼å…¥ä¾èµ–\n\u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.csp\u003c/groupId\u003e \u003cartifactId\u003esentinel-spring-cloud-gateway-adapter\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬ä¸€æ­¥ï¼šç¼–å†™é…ç½®ç±»\nåŸºäºSentinel çš„Gatewayé™æµæ˜¯é€šè¿‡å…¶æä¾›çš„Filteræ¥å®Œæˆçš„ï¼Œä½¿ç”¨æ—¶åªéœ€æ³¨å…¥å¯¹åº”çš„ SentinelGatewayFilterå®ä¾‹ä»¥åŠ SentinelGatewayBlockExceptionHandler å®ä¾‹å³å¯ã€‚\npackage cn.maruifu.config; import com.alibaba.csp.sentinel.adapter.gateway.common.rule.GatewayFlowRule; import com.alibaba.csp.sentinel.adapter.gateway.common.rule.GatewayRuleManager; import com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter; import com.alibaba.csp.sentinel.adapter.gateway.sc.callback.BlockRequestHandler; import com.alibaba.csp.sentinel.adapter.gateway.sc.callback.GatewayCallbackManager; import com.alibaba.csp.sentinel.adapter.gateway.sc.exception.SentinelGatewayBlockExceptionHandler; import org.springframework.beans.factory.ObjectProvider; import org.springframework.cloud.gateway.filter.GlobalFilter; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.core.Ordered; import org.springframework.core.annotation.Order; import org.springframework.http.HttpStatus; import org.springframework.http.MediaType; import org.springframework.http.codec.ServerCodecConfigurer; import org.springframework.web.reactive.function.BodyInserters; import org.springframework.web.reactive.function.server.ServerResponse; import org.springframework.web.reactive.result.view.ViewResolver; import org.springframework.web.server.ServerWebExchange; import reactor.core.publisher.Mono; import javax.annotation.PostConstruct; import java.util.*; @Configuration public class GatewayConfiguration { private final List\u003cViewResolver\u003e viewResolvers; private final ServerCodecConfigurer serverCodecConfigurer; public GatewayConfiguration(ObjectProvider\u003cList\u003cViewResolver\u003e\u003e viewResolversProvider, ServerCodecConfigurer serverCodecConfigurer) { this.viewResolvers = viewResolversProvider.getIfAvailable(Collections::emptyList); this.serverCodecConfigurer = serverCodecConfigurer; } // åˆå§‹åŒ–ä¸€ä¸ªé™æµçš„è¿‡æ»¤å™¨ @Bean @Order(Ordered.HIGHEST_PRECEDENCE) public GlobalFilter sentinelGatewayFilter() { return new SentinelGatewayFilter(); } // é…ç½®åˆå§‹åŒ–çš„é™æµå‚æ•° @PostConstruct public void initGatewayRules() { Set\u003cGatewayFlowRule\u003e rules = new HashSet\u003c\u003e(); rules.add(new GatewayFlowRule(\"product_route\") //èµ„æºåç§°,å¯¹åº”è·¯ç”±id .setCount(1) // é™æµé˜ˆå€¼ .setIntervalSec(1) // ç»Ÿè®¡æ—¶é—´çª—å£ï¼Œå•ä½æ˜¯ç§’ï¼Œé»˜è®¤æ˜¯ 1 ç§’ ); GatewayRuleManager.loadRules(rules); } // é…ç½®é™æµçš„å¼‚å¸¸å¤„ç†å™¨ @Bean @Order(Ordered.HIGHEST_PRECEDENCE) public SentinelGatewayBlockExceptionHandler sentinelGatewayBlockExceptionHandler() { return new SentinelGatewayBlockExceptionHandler(viewResolvers, serverCodecConfigurer); } // è‡ªå®šä¹‰é™æµå¼‚å¸¸é¡µé¢ @PostConstruct public void initBlockHandlers() { BlockRequestHandler blockRequestHandler = new BlockRequestHandler() { @Override public Mono\u003cServerResponse\u003e handleRequest(ServerWebExchange serverWebExchange, Throwable throwable) { Map map = new HashMap\u003c\u003e(); map.put(\"code\", 0); map.put(\"message\", \"æ¥å£è¢«é™æµäº†\"); return ServerResponse.status(HttpStatus.OK).contentType(MediaType.APPLICATION_JSON_UTF8).body(BodyInserters.fromObject(map)); } }; GatewayCallbackManager.setBlockHandler(blockRequestHandler); } } ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯• åœ¨ä¸€ç§’é’Ÿå†…å¤šæ¬¡è®¿é—®http://localhost:7000/product-serv/product/1?token=1å°±å¯ä»¥çœ‹åˆ°é™æµå¯ä½œç”¨äº†ã€‚\nç¬¬å››æ­¥ï¼šè‡ªå®šä¹‰APIåˆ†ç»„\nè‡ªå®šä¹‰APIåˆ†ç»„æ˜¯ä¸€ç§æ›´ç»†ç²’åº¦çš„é™æµè§„åˆ™å®šä¹‰\npackage cn.maruifu.config; import com.alibaba.csp.sentinel.adapter.gateway.common.SentinelGatewayConstants; import com.alibaba.csp.sentinel.adapter.gateway.common.api.ApiDefinition; import com.alibaba.csp.sentinel.adapter.gateway.common.api.ApiPathPredicateItem; import com.alibaba.csp.sentinel.adapter.gateway.common.api.ApiPredicateItem; import com.alibaba.csp.sentinel.adapter.gateway.common.api.GatewayApiDefinitionManager; import com.alibaba.csp.sentinel.adapter.gateway.common.rule.GatewayFlowRule; import com.alibaba.csp.sentinel.adapter.gateway.common.rule.GatewayRuleManager; import com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter; import com.alibaba.csp.sentinel.adapter.gateway.sc.callback.BlockRequestHandler; import com.alibaba.csp.sentinel.adapter.gateway.sc.callback.GatewayCallbackManager; import com.alibaba.csp.sentinel.adapter.gateway.sc.exception.SentinelGatewayBlockExceptionHandler; import org.springframework.beans.factory.ObjectProvider; import org.springframework.cloud.gateway.filter.GlobalFilter; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.core.Ordered; import org.springframework.core.annotation.Order; import org.springframework.http.HttpStatus; import org.springframework.http.MediaType; import org.springframework.http.codec.ServerCodecConfigurer; import org.springframework.web.reactive.function.BodyInserters; import org.springframework.web.reactive.function.server.ServerResponse; import org.springframework.web.reactive.result.view.ViewResolver; import org.springframework.web.server.ServerWebExchange; import reactor.core.publisher.Mono; import javax.annotation.PostConstruct; import java.util.*; // è‡ªå®šä¹‰APIåˆ†ç»„ é™æµ @Configuration public class GatewayConfiguration { private final List\u003cViewResolver\u003e viewResolvers; private final ServerCodecConfigurer serverCodecConfigurer; public GatewayConfiguration(ObjectProvider\u003cList\u003cViewResolver\u003e\u003e viewResolversProvider, ServerCodecConfigurer serverCodecConfigurer) { this.viewResolvers = viewResolversProvider.getIfAvailable(Collections::emptyList); this.serverCodecConfigurer = serverCodecConfigurer; } // åˆå§‹åŒ–ä¸€ä¸ªé™æµçš„è¿‡æ»¤å™¨ @Bean @Order(Ordered.HIGHEST_PRECEDENCE) public GlobalFilter sentinelGatewayFilter() { return new SentinelGatewayFilter(); } /** * é…ç½®åˆå§‹åŒ–çš„é™æµå‚æ•° */ @PostConstruct public void initGatewayRules(){ Set\u003cGatewayFlowRule\u003e rules=new HashSet\u003c\u003e(); rules.add(new GatewayFlowRule(\"product_api1\").setCount(1).setIntervalSec(1)); rules.add(new GatewayFlowRule(\"product_api2\").setCount(1).setIntervalSec(1)); GatewayRuleManager.loadRules(rules); } // é…ç½®é™æµçš„å¼‚å¸¸å¤„ç†å™¨ @Bean @Order(Ordered.HIGHEST_PRECEDENCE) public SentinelGatewayBlockExceptionHandler sentinelGatewayBlockExceptionHandler() { return new SentinelGatewayBlockExceptionHandler(viewResolvers, serverCodecConfigurer); } // è‡ªå®šä¹‰é™æµå¼‚å¸¸é¡µé¢ @PostConstruct public void initBlockHandlers() { BlockRequestHandler blockRequestHandler = new BlockRequestHandler() { @Override public Mono\u003cServerResponse\u003e handleRequest(ServerWebExchange serverWebExchange, Throwable throwable) { Map map = new HashMap\u003c\u003e(); map.put(\"code\", 0); map.put(\"message\", \"æ¥å£è¢«é™æµäº†\"); return ServerResponse.status(HttpStatus.OK).contentType(MediaType.APPLICATION_JSON_UTF8).body(BodyInserters.fromObject(map)); } }; GatewayCallbackManager.setBlockHandler(blockRequestHandler); } //è‡ªå®šä¹‰APIåˆ†ç»„ @PostConstruct private void initCustomizedApis() { Set\u003cApiDefinition\u003e definitions = new HashSet\u003c\u003e(); ApiDefinition api1 = new ApiDefinition(\"product_api1\") .setPredicateItems(new HashSet\u003cApiPredicateItem\u003e() {{ // ä»¥/product-serv/product/api1 å¼€å¤´çš„è¯·æ±‚ add(new ApiPathPredicateItem() .setPattern(\"/product- serv/product/api1/**\") .setMatchStrategy(SentinelGatewayConstants.URL_MATCH_STRATEGY_PREFIX) ); }}); ApiDefinition api2 = new ApiDefinition(\"product_api2\") .setPredicateItems(new HashSet\u003cApiPredicateItem\u003e() {{ // ä»¥/product-serv/product/api2/demo1 å®Œæˆçš„urlè·¯å¾„åŒ¹é… add(new ApiPathPredicateItem().setPattern(\"/product-serv/product/api2/demo1\")); }}); definitions.add(api1); definitions.add(api2); GatewayApiDefinitionManager.loadApiDefinitions(definitions); } } ","description":"\n","tags":[],"title":"\nGatewayâ€“æœåŠ¡ç½‘å…³","uri":"/posts/post-304/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\né«˜å¹¶å‘å¸¦æ¥çš„é—®é¢˜ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæˆ‘ä»¬å°†ä¸šåŠ¡æ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„æœåŠ¡ï¼ŒæœåŠ¡ä¸æœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä½†æ˜¯ç”±äºç½‘ç»œåŸå›  æˆ–è€…è‡ªèº«çš„åŸå› ï¼ŒæœåŠ¡å¹¶ä¸èƒ½ä¿è¯æœåŠ¡çš„100%å¯ç”¨ï¼Œå¦‚æœå•ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ï¼Œè°ƒç”¨è¿™ä¸ªæœåŠ¡å°±ä¼šå‡ºç° ç½‘ç»œå»¶è¿Ÿï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡çš„ç½‘ç»œæ¶Œå…¥ï¼Œä¼šå½¢æˆä»»åŠ¡å †ç§¯ï¼Œæœ€ç»ˆå¯¼è‡´æœåŠ¡ç˜«ç—ªã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸ªé«˜å¹¶å‘çš„åœºæ™¯\nç¼–å†™javaä»£ç  @RestController @Slf4j public class OrderController2 { @Autowired private OrderService orderService; @Autowired private ProductService productService; @RequestMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"æ¥æ”¶åˆ°{}å·å•†å“çš„ä¸‹å•è¯·æ±‚,æ¥ä¸‹æ¥è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢æ­¤å•†å“ä¿¡æ¯\", pid);//è°ƒç”¨å•†å“å¾®æœ åŠ¡,æŸ¥è¯¢å•†å“ä¿¡æ¯ Product product = productService.findByPid(pid); log.info(\"æŸ¥è¯¢åˆ°{}å·å•†å“çš„ä¿¡æ¯,å†…å®¹æ˜¯:{}\", pid, JSON.toJSONString(product)); //æ¨¡æ‹Ÿä¸€æ¬¡ç½‘ç»œå»¶æ—¶ try { Thread.sleep(100); } catch (InterruptedException e) { e.printStackTrace(); } //ä¸‹å•(åˆ›å»ºè®¢å•) Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(pid); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); //ä¸ºäº†ä¸äº§ç”Ÿå¤ªå¤šåƒåœ¾æ•°æ®,æš‚æ—¶ä¸åšè®¢å•ä¿å­˜ //orderService.createOrder(order); log.info(\"åˆ›å»ºè®¢å•æˆåŠŸ,è®¢å•ä¿¡æ¯ä¸º{}\", JSON.toJSONString(order)); return order; } @RequestMapping(\"/order/message\") public String message() { return \"é«˜å¹¶å‘ä¸‹çš„é—®é¢˜æµ‹è¯•\"; } } ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­tomcatçš„å¹¶å‘æ•° server: #ç«¯å£ port: 8091 #tomcaté…ç½® tomcat: #tomcatçš„æœ€å¤§å¹¶å‘å€¼ä¿®æ”¹ä¸º10,é»˜è®¤æ˜¯200 max-threads: 10 #tomcatçš„æœ€å¤§å¹¶å‘å€¼ä¿®æ”¹ä¸º10,é»˜è®¤æ˜¯200 æ¥ä¸‹æ¥ä½¿ç”¨å‹æµ‹å·¥å…·,å¯¹è¯·æ±‚è¿›è¡Œå‹åŠ›æµ‹è¯• ä¸‹è½½åœ°å€https://jmeter.apache.org/\nç¬¬ä¸€æ­¥:ä¿®æ”¹é…ç½®ï¼Œå¹¶å¯åŠ¨è½¯ä»¶\nè¿›å…¥binç›®å½•,ä¿®æ”¹jmeter.propertiesæ–‡ä»¶ä¸­çš„è¯­è¨€æ”¯æŒä¸ºlanguage=zh_CNï¼Œç„¶åç‚¹å‡»jmeter.bat å¯åŠ¨ è½¯ä»¶ã€‚\nç¬¬äºŒæ­¥:æ·»åŠ çº¿ç¨‹ç»„\nç¬¬ä¸‰æ­¥:é…ç½®çº¿ç¨‹å¹¶å‘æ•°\nç¬¬å››æ­¥:æ·»åŠ Httpå–æ ·\nç¬¬äº”æ­¥:é…ç½®å–æ ·ï¼Œå¹¶å¯åŠ¨æµ‹è¯•\nè®¿é—®messageæ–¹æ³•è§‚å¯Ÿæ•ˆæœ ç»“è®º: æ­¤æ—¶ä¼šå‘ç°, ç”±äºorderæ–¹æ³•å›¤ç§¯äº†å¤§é‡è¯·æ±‚, å¯¼è‡´messageæ–¹æ³•çš„è®¿é—®å‡ºç°äº†é—®é¢˜ï¼Œè¿™å°±æ˜¯æœåŠ¡é›ªå´©çš„ é›å½¢ã€‚\næœåŠ¡é›ªå´©æ•ˆåº” åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­,ç”±äºç½‘ç»œåŸå› æˆ–è‡ªèº«çš„åŸå› ,æœåŠ¡ä¸€èˆ¬æ— æ³•ä¿è¯ 100% å¯ç”¨ã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å‡ºç°äº†é—® é¢˜ï¼Œè°ƒç”¨è¿™ä¸ªæœåŠ¡å°±ä¼šå‡ºç°çº¿ç¨‹é˜»å¡çš„æƒ…å†µï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡çš„è¯·æ±‚æ¶Œå…¥ï¼Œå°±ä¼šå‡ºç°å¤šæ¡çº¿ç¨‹é˜»å¡ç­‰å¾…ï¼Œ è¿›è€Œå¯¼è‡´æœåŠ¡ç˜«ç—ªã€‚\nç”±äºæœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œæ•…éšœä¼šä¼ æ’­ï¼Œä¼šå¯¹æ•´ä¸ªå¾®æœåŠ¡ç³»ç»Ÿé€ æˆç¾éš¾æ€§çš„ä¸¥é‡åæœï¼Œè¿™å°±æ˜¯æœåŠ¡ æ•…éšœçš„ é›ªå´©æ•ˆåº” ã€‚\né›ªå´©å‘ç”Ÿçš„åŸå› å¤šç§å¤šæ ·ï¼Œæœ‰ä¸åˆç†çš„å®¹é‡è®¾è®¡ï¼Œæˆ–è€…æ˜¯é«˜å¹¶å‘ä¸‹æŸä¸€ä¸ªæ–¹æ³•å“åº”å˜æ…¢ï¼Œäº¦æˆ–æ˜¯æŸå°æœº å™¨çš„èµ„æºè€—å°½ã€‚æˆ‘ä»¬æ— æ³•å®Œå…¨æœç»é›ªå´©æºå¤´çš„å‘ç”Ÿï¼Œåªæœ‰åšå¥½è¶³å¤Ÿçš„å®¹é”™ï¼Œä¿è¯åœ¨ä¸€ä¸ªæœåŠ¡å‘ç”Ÿé—®é¢˜ï¼Œ ä¸ä¼šå½±å“åˆ°å…¶å®ƒæœåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚ä¹Ÿå°±æ˜¯\"é›ªè½è€Œä¸é›ªå´©\"ã€‚\nå¸¸è§å®¹é”™æ–¹æ¡ˆ è¦é˜²æ­¢é›ªå´©çš„æ‰©æ•£ï¼Œæˆ‘ä»¬å°±è¦åšå¥½æœåŠ¡çš„å®¹é”™ï¼Œå®¹é”™è¯´ç™½äº†å°±æ˜¯ä¿æŠ¤è‡ªå·±ä¸è¢«çŒªé˜Ÿå‹æ‹–å®çš„ä¸€äº›æªæ–½,\nä¸‹é¢ä»‹ç»å¸¸è§çš„æœåŠ¡å®¹é”™æ€è·¯å’Œç»„ä»¶ã€‚\nå¸¸è§çš„å®¹é”™æ€è·¯\nå¸¸è§çš„å®¹é”™æ€è·¯æœ‰éš”ç¦»ã€è¶…æ—¶ã€é™æµã€ç†”æ–­ã€é™çº§è¿™å‡ ç§ï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ã€‚\néš”ç¦» å®ƒæ˜¯æŒ‡å°†ç³»ç»ŸæŒ‰ç…§ä¸€å®šçš„åŸåˆ™åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæœåŠ¡æ¨¡å—ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´ç›¸å¯¹ç‹¬ç«‹ï¼Œæ— å¼ºä¾èµ–ã€‚å½“æœ‰æ•…éšœå‘ ç”Ÿæ—¶ï¼Œèƒ½å°†é—®é¢˜å’Œå½±å“éš”ç¦»åœ¨æŸä¸ªæ¨¡å—å†…éƒ¨ï¼Œè€Œä¸æ‰©æ•£é£é™©ï¼Œä¸æ³¢åŠå…¶å®ƒæ¨¡å—ï¼Œä¸å½±å“æ•´ä½“çš„ç³»ç»Ÿæœ åŠ¡ã€‚å¸¸è§çš„éš”ç¦»æ–¹å¼æœ‰:çº¿ç¨‹æ± éš”ç¦»å’Œä¿¡å·é‡éš”ç¦».\nè¶…æ—¶ åœ¨ä¸Šæ¸¸æœåŠ¡è°ƒç”¨ä¸‹æ¸¸æœåŠ¡çš„æ—¶å€™ï¼Œè®¾ç½®ä¸€ä¸ªæœ€å¤§å“åº”æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œä¸‹æ¸¸æœªä½œå‡ºååº”ï¼Œå°±æ–­ å¼€è¯·æ±‚ï¼Œé‡Šæ”¾æ‰çº¿ç¨‹ã€‚\né™æµ é™æµå°±æ˜¯é™åˆ¶ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºæµé‡å·²è¾¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ã€‚ä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å›ºè¿è¡Œ,ä¸€æ—¦è¾¾åˆ°çš„éœ€è¦ é™åˆ¶çš„é˜ˆå€¼,å°±éœ€è¦é™åˆ¶æµé‡å¹¶é‡‡å–å°‘é‡æªæ–½ä»¥å®Œæˆé™åˆ¶æµé‡çš„ç›®çš„ã€‚\nç†”æ–­ åœ¨äº’è”ç½‘ç³»ç»Ÿä¸­ï¼Œå½“ä¸‹æ¸¸æœåŠ¡å› è®¿é—®å‹åŠ›è¿‡å¤§è€Œå“åº”å˜æ…¢æˆ–å¤±è´¥ï¼Œä¸Šæ¸¸æœåŠ¡ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿæ•´ä½“çš„å¯ ç”¨æ€§ï¼Œå¯ä»¥æš‚æ—¶åˆ‡æ–­å¯¹ä¸‹æ¸¸æœåŠ¡çš„è°ƒç”¨ã€‚è¿™ç§ç‰ºç‰²å±€éƒ¨ï¼Œä¿å…¨æ•´ä½“çš„æªæ–½å°±å«åšç†”æ–­ã€‚\næœåŠ¡ç†”æ–­ä¸€èˆ¬æœ‰ä¸‰ç§çŠ¶æ€:\nç†”æ–­å…³é—­çŠ¶æ€(Closed) æœåŠ¡æ²¡æœ‰æ•…éšœæ—¶ï¼Œç†”æ–­å™¨æ‰€å¤„çš„çŠ¶æ€ï¼Œå¯¹è°ƒç”¨æ–¹çš„è°ƒç”¨ä¸åšä»»ä½•é™åˆ¶\nç†”æ–­å¼€å¯çŠ¶æ€(Open) åç»­å¯¹è¯¥æœåŠ¡æ¥å£çš„è°ƒç”¨ä¸å†ç»è¿‡ç½‘ç»œï¼Œç›´æ¥æ‰§è¡Œæœ¬åœ°çš„fallbackæ–¹æ³•\nåŠç†”æ–­çŠ¶æ€(Half-Open) å°è¯•æ¢å¤æœåŠ¡è°ƒç”¨ï¼Œå…è®¸æœ‰é™çš„æµé‡è°ƒç”¨è¯¥æœåŠ¡ï¼Œå¹¶ç›‘æ§è°ƒç”¨æˆåŠŸç‡ã€‚å¦‚æœæˆåŠŸç‡è¾¾åˆ°é¢„æœŸï¼Œåˆ™è¯´æ˜æœåŠ¡å·²æ¢å¤ï¼Œè¿›å…¥ç†”æ–­å…³é—­çŠ¶æ€;å¦‚æœæˆåŠŸç‡ä»æ—§å¾ˆä½ï¼Œåˆ™é‡æ–°è¿›å…¥ç†”æ–­å…³é—­çŠ¶æ€ã€‚\né™çº§ é™çº§å…¶å®å°±æ˜¯ä¸ºæœåŠ¡æä¾›ä¸€ä¸ªæ‰˜åº•æ–¹æ¡ˆï¼Œä¸€æ—¦æœåŠ¡æ— æ³•æ­£å¸¸è°ƒç”¨ï¼Œå°±ä½¿ç”¨æ‰˜åº•æ–¹æ¡ˆã€‚\nå¸¸è§çš„å®¹é”™ç»„ä»¶\nHystrix\nHystrixæ˜¯ç”±Netflflixå¼€æºçš„ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œç”¨äºéš”ç¦»è®¿é—®è¿œç¨‹ç³»ç»Ÿã€æœåŠ¡æˆ–è€…ç¬¬ä¸‰æ–¹åº“ï¼Œé˜²æ­¢çº§è” å¤±è´¥ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„å¯ç”¨æ€§ä¸å®¹é”™æ€§ã€‚\nResilience4J Resilicence4Jä¸€æ¬¾éå¸¸è½»é‡ã€ç®€å•ï¼Œå¹¶ä¸”æ–‡æ¡£éå¸¸æ¸…æ™°ã€ä¸°å¯Œçš„ç†”æ–­å·¥å…·ï¼Œè¿™ä¹Ÿæ˜¯Hystrixå®˜æ–¹æ¨èçš„æ›¿ ä»£äº§å“ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒResilicence4jè¿˜åŸç”Ÿæ”¯æŒSpring Boot 1.x/2.xï¼Œè€Œä¸”ç›‘æ§ä¹Ÿæ”¯æŒå’Œprometheusç­‰ å¤šæ¬¾ä¸»æµäº§å“è¿›è¡Œæ•´åˆã€‚\nSentinel Sentinel æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€æ¬¾æ–­è·¯å™¨å®ç°ï¼Œæœ¬èº«åœ¨é˜¿é‡Œå†…éƒ¨å·²ç»è¢«å¤§è§„æ¨¡é‡‡ç”¨ï¼Œéå¸¸ç¨³å®šã€‚\nä¸‹é¢æ˜¯ä¸‰ä¸ªç»„ä»¶åœ¨å„æ–¹é¢çš„å¯¹æ¯”:\nSentinel Hystrix resilience4j éš”ç¦»ç­–ç•¥ ä¿¡å·é‡éš”ç¦»(å¹¶å‘çº¿ç¨‹æ•°é™æµ) çº¿ç¨‹æ± éš”ç¦»/ä¿¡å·é‡éš”ç¦» ä¿¡å·é‡éš”ç¦» ç†”æ–­é™çº§ç­–ç•¥ åŸºäºå“åº”æ—¶é—´ã€å¼‚å¸¸æ¯”ç‡ã€å¼‚å¸¸æ•° åŸºäºå¼‚å¸¸æ¯”ç‡ åŸºäºå¼‚å¸¸æ¯”ç‡ã€å“åº” å®æ—¶ç»Ÿè®¡å®ç° æ»‘åŠ¨çª—å£(LeapArray) æ»‘åŠ¨çª—å£(åŸº äº RxJava) Ring Bit Buffer åŠ¨æ€è§„åˆ™é…ç½® æ”¯æŒå¤šç§æ•°æ®æº æ”¯æŒå¤šç§æ•°æ® æœ‰é™æ”¯æŒ æ‰©å±•æ€§ å¤šä¸ªæ‰©å±•ç‚¹ æ’ä»¶çš„å½¢å¼ æ¥å£çš„å½¢å¼ åŸºäºæ³¨è§£çš„æ”¯ æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ é™æµ åŸºäº QPSï¼Œæ”¯æŒåŸºäºè°ƒç”¨å…³ç³»çš„é™æµ æœ‰é™çš„æ”¯æŒ Rate Limiter æµé‡æ•´å½¢ æ”¯æŒé¢„çƒ­æ¨¡å¼ã€åŒ€é€Ÿå™¨æ¨¡å¼ã€é¢„çƒ­æ’é˜Ÿæ¨¡å¼ ä¸æ”¯æŒ ç®€å•çš„ Rate Limiteræ¨¡å¼ ç³»ç»Ÿè‡ªé€‚åº”ä¿æŠ¤ æ”¯æŒ ä¸æ”¯æŒ ä¸æ”¯æŒ æ§åˆ¶å° æä¾›å¼€ç®±å³ç”¨çš„æ§åˆ¶å°ï¼Œå¯é…ç½®è§„åˆ™ã€æŸ¥çœ‹ç§’çº§ç›‘æ§ã€æœºå™¨å‘ç°ç­‰ ç®€å•çš„ç›‘æ§æŸ¥çœ‹ ä¸æä¾›æ§åˆ¶å°ï¼Œå¯å¯¹æ¥å…¶å®ƒç›‘æ§ç³»ç»Ÿ Sentinelå…¥é—¨ ä»€ä¹ˆæ˜¯Sentine Sentinel (åˆ†å¸ƒå¼ç³»ç»Ÿçš„æµé‡é˜²å«å…µ) æ˜¯é˜¿é‡Œå¼€æºçš„ä¸€å¥—ç”¨äºæœåŠ¡å®¹é”™çš„ç»¼åˆæ€§è§£å†³æ–¹æ¡ˆã€‚å®ƒä»¥æµé‡ ä¸ºåˆ‡å…¥ç‚¹, ä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦æ¥ä¿æŠ¤æœåŠ¡çš„ç¨³å®šæ€§ã€‚\nSentinel å…·æœ‰ä»¥ä¸‹ç‰¹å¾\nä¸°å¯Œçš„åº”ç”¨åœºæ™¯:Sentinel æ‰¿æ¥äº†é˜¿é‡Œå·´å·´è¿‘ 10 å¹´çš„åŒåä¸€å¤§ä¿ƒæµé‡çš„æ ¸å¿ƒåœºæ™¯, ä¾‹å¦‚ç§’æ€(å³ çªå‘æµé‡æ§åˆ¶åœ¨ç³»ç»Ÿå®¹é‡å¯ä»¥æ‰¿å—çš„èŒƒå›´)ã€æ¶ˆæ¯å‰Šå³°å¡«è°·ã€é›†ç¾¤æµé‡æ§åˆ¶ã€å®æ—¶ç†”æ–­ä¸‹æ¸¸ä¸å¯ç”¨ åº”ç”¨ç­‰ã€‚\nå®Œå¤‡çš„å®æ—¶ç›‘æ§:Sentinel æä¾›äº†å®æ—¶çš„ç›‘æ§åŠŸèƒ½ã€‚é€šè¿‡æ§åˆ¶å°å¯ä»¥çœ‹åˆ°æ¥å…¥åº”ç”¨çš„å•å°æœºå™¨ç§’ çº§æ•°æ®, ç”šè‡³ 500 å°ä»¥ä¸‹è§„æ¨¡çš„é›†ç¾¤çš„æ±‡æ€»è¿è¡Œæƒ…å†µã€‚\nå¹¿æ³›çš„å¼€æºç”Ÿæ€:Sentinel æä¾›å¼€ç®±å³ç”¨çš„ä¸å…¶å®ƒå¼€æºæ¡†æ¶/åº“çš„æ•´åˆæ¨¡å—, ä¾‹å¦‚ä¸ SpringCloudã€ Dubboã€gRPC çš„æ•´åˆã€‚åªéœ€è¦å¼•å…¥ç›¸åº”çš„ä¾èµ–å¹¶è¿›è¡Œç®€å•çš„é…ç½®å³å¯å¿«é€Ÿåœ°æ¥å…¥Sentinelã€‚\nå®Œå–„çš„SPIæ‰©å±•ç‚¹:Sentinel æä¾›ç®€å•æ˜“ç”¨ã€å®Œå–„çš„ SPI æ‰©å±•æ¥å£ã€‚æ‚¨å¯ä»¥é€šè¿‡å®ç°æ‰©å±•æ¥å£æ¥å¿« é€Ÿåœ°å®šåˆ¶é€»è¾‘ã€‚ä¾‹å¦‚å®šåˆ¶è§„åˆ™ç®¡ç†ã€é€‚é…åŠ¨æ€æ•°æ®æºç­‰ã€‚\nSentinelåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†:\næ ¸å¿ƒåº“(Java å®¢æˆ·ç«¯)ä¸ä¾èµ–ä»»ä½•æ¡†æ¶/åº“,èƒ½å¤Ÿè¿è¡Œäºæ‰€æœ‰ Java è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒæ—¶å¯¹ Dubbo/Spring Cloud ç­‰æ¡†æ¶ä¹Ÿæœ‰è¾ƒå¥½çš„æ”¯æŒã€‚ æ§åˆ¶å°(Dashboard)åŸºäº Spring Boot å¼€å‘ï¼Œæ‰“åŒ…åå¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¸éœ€è¦é¢å¤–çš„ Tomcat ç­‰ åº”ç”¨å®¹å™¨ã€‚ å¾®æœåŠ¡é›†æˆSentinel ä¸ºå¾®æœåŠ¡é›†æˆSentineléå¸¸ç®€å•, åªéœ€è¦åŠ å…¥Sentinelçš„ä¾èµ–å³å¯\n1 åœ¨pom.xmlä¸­åŠ å…¥ä¸‹é¢ä¾èµ–\n\u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-sentinel\u003c/artifactId\u003e \u003c/dependency\u003e 2 ç¼–å†™ä¸€ä¸ªControlleræµ‹è¯•ä½¿ç”¨\npackage cn.maruifu.controller; import lombok.extern.slf4j.Slf4j; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; // @RestController @Slf4j public class OrderTestController { @RequestMapping(\"/order/message1\") public String message1() { return \"message1\"; } @RequestMapping(\"/order/message2\") public String message2() { return \"message2\"; } } å®‰è£…Sentinelæ§åˆ¶å° Sentinel æä¾›ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶å°, å®ƒæä¾›æœºå™¨å‘ç°ã€å•æœºèµ„æºå®æ—¶ç›‘æ§ä»¥åŠè§„åˆ™ç®¡ç†ç­‰åŠŸèƒ½ã€‚\nä¸‹è½½jaråŒ…,è§£å‹åˆ°æ–‡ä»¶å¤¹ https://github.com/alibaba/Sentinel/releases 2 .å¯åŠ¨æ§åˆ¶å°\n# ç›´æ¥ä½¿ç”¨jarå‘½ä»¤å¯åŠ¨é¡¹ç›®(æ§åˆ¶å°æœ¬èº«æ˜¯ä¸€ä¸ªSpringBooté¡¹ç›®) java -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard-1.8.3.jar ä¿®æ”¹ shop-order ,åœ¨é‡Œé¢åŠ å…¥æœ‰å…³æ§åˆ¶å°çš„é…ç½® spring: cloud: sentinel: transport: port: 9999 #è·Ÿæ§åˆ¶å°äº¤æµçš„ç«¯å£,éšæ„æŒ‡å®šä¸€ä¸ªæœªä½¿ç”¨çš„ç«¯å£å³å¯ dashboard: localhost:8080 # æŒ‡å®šæ§åˆ¶å°æœåŠ¡çš„åœ°å€ é€šè¿‡æµè§ˆå™¨è®¿é—®localhost:8080 è¿›å…¥æ§åˆ¶å° ( é»˜è®¤ç”¨æˆ·åå¯†ç æ˜¯ sentinel/sentinel ) æ§åˆ¶å°çš„ä½¿ç”¨åŸç†Sentinelçš„æ§åˆ¶å°å…¶å®å°±æ˜¯ä¸€ä¸ªSpringBootç¼–å†™çš„ç¨‹åºã€‚æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„å¾®æœåŠ¡ç¨‹åºæ³¨å†Œåˆ°æ§åˆ¶å°ä¸Š, å³åœ¨å¾®æœåŠ¡ä¸­æŒ‡å®šæ§åˆ¶å°çš„åœ°å€, å¹¶ä¸”è¿˜è¦å¼€å¯ä¸€ä¸ªè·Ÿæ§åˆ¶å°ä¼ é€’æ•°æ®çš„ç«¯å£, æ§åˆ¶å°ä¹Ÿå¯ä»¥é€šè¿‡æ­¤ç«¯å£ è°ƒç”¨å¾®æœåŠ¡ä¸­çš„ç›‘æ§ç¨‹åºè·å–å¾®æœåŠ¡çš„å„ç§ä¿¡æ¯ã€‚\nå®ç°ä¸€ä¸ªæ¥å£çš„é™æµ é€šè¿‡æ§åˆ¶å°ä¸ºmessage1æ·»åŠ ä¸€ä¸ªæµæ§è§„åˆ™\né€šè¿‡æ§åˆ¶å°å¿«é€Ÿé¢‘ç¹è®¿é—®, è§‚å¯Ÿæ•ˆæœ\nSentinelçš„æ¦‚å¿µå’ŒåŠŸèƒ½ åŸºæœ¬æ¦‚å¿µ èµ„æº èµ„æºå°±æ˜¯Sentinelè¦ä¿æŠ¤çš„ä¸œè¥¿\nèµ„æºæ˜¯ Sentinel çš„å…³é”®æ¦‚å¿µã€‚å®ƒå¯ä»¥æ˜¯ Java åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•å†…å®¹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª æ–¹æ³•ï¼Œç”šè‡³å¯ä»¥æ˜¯ä¸€æ®µä»£ç ã€‚\næˆ‘ä»¬å…¥é—¨æ¡ˆä¾‹ä¸­çš„message1æ–¹æ³•å°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªèµ„æº\nè§„åˆ™ è§„åˆ™å°±æ˜¯ç”¨æ¥å®šä¹‰å¦‚ä½•è¿›è¡Œä¿æŠ¤èµ„æºçš„\nä½œç”¨åœ¨èµ„æºä¹‹ä¸Š, å®šä¹‰ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼ä¿æŠ¤èµ„æºï¼Œä¸»è¦åŒ…æ‹¬æµé‡æ§åˆ¶è§„åˆ™ã€ç†”æ–­é™çº§è§„åˆ™ä»¥åŠç³»ç»Ÿä¿æŠ¤ è§„åˆ™ã€‚\næˆ‘ä»¬å…¥é—¨æ¡ˆä¾‹ä¸­å°±æ˜¯ä¸ºmessage1èµ„æºè®¾ç½®äº†ä¸€ç§æµæ§è§„åˆ™, é™åˆ¶äº†è¿›å…¥message1çš„æµé‡\né‡è¦åŠŸèƒ½ Sentinelçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯å®¹é”™ï¼Œä¸»è¦ä½“ç°ä¸ºä¸‹é¢è¿™ä¸‰ä¸ª:\næµé‡æ§åˆ¶ æµé‡æ§åˆ¶åœ¨ç½‘ç»œä¼ è¾“ä¸­æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ¦‚å¿µï¼Œå®ƒç”¨äºè°ƒæ•´ç½‘ç»œåŒ…çš„æ•°æ®ã€‚ä»»æ„æ—¶é—´åˆ°æ¥çš„è¯·æ±‚å¾€å¾€æ˜¯éšæœº ä¸å¯æ§çš„ï¼Œè€Œç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›æ˜¯æœ‰é™çš„ã€‚æˆ‘ä»¬éœ€è¦æ ¹æ®ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›å¯¹æµé‡è¿›è¡Œæ§åˆ¶ã€‚Sentinel ä½œä¸º ä¸€ä¸ªè°ƒé…å™¨ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æŠŠéšæœºçš„è¯·æ±‚è°ƒæ•´æˆåˆé€‚çš„å½¢çŠ¶ã€‚\nç†”æ–­é™çº§ å½“æ£€æµ‹åˆ°è°ƒç”¨é“¾è·¯ä¸­æŸä¸ªèµ„æºå‡ºç°ä¸ç¨³å®šçš„è¡¨ç°ï¼Œä¾‹å¦‚è¯·æ±‚å“åº”æ—¶é—´é•¿æˆ–å¼‚å¸¸æ¯”ä¾‹å‡é«˜çš„æ—¶å€™ï¼Œåˆ™å¯¹è¿™ ä¸ªèµ„æºçš„è°ƒç”¨è¿›è¡Œé™åˆ¶ï¼Œè®©è¯·æ±‚å¿«é€Ÿå¤±è´¥ï¼Œé¿å…å½±å“åˆ°å…¶å®ƒçš„èµ„æºè€Œå¯¼è‡´çº§è”æ•…éšœ\nSentinel å¯¹è¿™ä¸ªé—®é¢˜é‡‡å–äº†ä¸¤ç§æ‰‹æ®µ:\né€šè¿‡å¹¶å‘çº¿ç¨‹æ•°è¿›è¡Œé™åˆ¶ Sentinel é€šè¿‡é™åˆ¶èµ„æºå¹¶å‘çº¿ç¨‹çš„æ•°é‡ï¼Œæ¥å‡å°‘ä¸ç¨³å®šèµ„æºå¯¹å…¶å®ƒèµ„æºçš„å½±å“ã€‚å½“æŸä¸ªèµ„æºå‡ºç°ä¸ç¨³å®š çš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚å“åº”æ—¶é—´å˜é•¿ï¼Œå¯¹èµ„æºçš„ç›´æ¥å½±å“å°±æ˜¯ä¼šé€ æˆçº¿ç¨‹æ•°çš„é€æ­¥å †ç§¯ã€‚å½“çº¿ç¨‹æ•°åœ¨ç‰¹å®šèµ„æº ä¸Šå †ç§¯åˆ°ä¸€å®šçš„æ•°é‡ä¹‹åï¼Œå¯¹è¯¥èµ„æºçš„æ–°è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ã€‚å †ç§¯çš„çº¿ç¨‹å®Œæˆä»»åŠ¡åæ‰å¼€å§‹ç»§ç»­æ¥æ”¶è¯· æ±‚ã€‚\né€šè¿‡å“åº”æ—¶é—´å¯¹èµ„æºè¿›è¡Œé™çº§ é™¤äº†å¯¹å¹¶å‘çº¿ç¨‹æ•°è¿›è¡Œæ§åˆ¶ä»¥å¤–ï¼ŒSentinel è¿˜å¯ä»¥é€šè¿‡å“åº”æ—¶é—´æ¥å¿«é€Ÿé™çº§ä¸ç¨³å®šçš„èµ„æºã€‚å½“ä¾èµ–çš„èµ„ æºå‡ºç°å“åº”æ—¶é—´è¿‡é•¿åï¼Œæ‰€æœ‰å¯¹è¯¥èµ„æºçš„è®¿é—®éƒ½ä¼šè¢«ç›´æ¥æ‹’ç»ï¼Œç›´åˆ°è¿‡äº†æŒ‡å®šçš„æ—¶é—´çª—å£ä¹‹åæ‰é‡æ–°æ¢å¤ã€‚\nSentinelå’Œ Hystrixçš„åŒºåˆ«\nä¸¤è€…çš„åŸåˆ™æ˜¯ä¸€è‡´çš„, éƒ½æ˜¯å½“ä¸€ä¸ªèµ„æºå‡ºç°é—®é¢˜æ—¶, è®©å…¶å¿«é€Ÿå¤±è´¥, ä¸è¦æ³¢åŠåˆ°å…¶å®ƒæœåŠ¡ ä½†æ˜¯åœ¨é™åˆ¶çš„æ‰‹æ®µä¸Š, ç¡®é‡‡å–äº†å®Œå…¨ä¸ä¸€æ ·çš„æ–¹æ³•:\nHystrix é‡‡ç”¨çš„æ˜¯çº¿ç¨‹æ± éš”ç¦»çš„æ–¹å¼, ä¼˜ç‚¹æ˜¯åšåˆ°äº†èµ„æºä¹‹é—´çš„éš”ç¦», ç¼ºç‚¹æ˜¯å¢åŠ äº†çº¿ç¨‹åˆ‡æ¢ çš„æˆæœ¬ã€‚\nSentinel é‡‡ç”¨çš„æ˜¯é€šè¿‡å¹¶å‘çº¿ç¨‹çš„æ•°é‡å’Œå“åº”æ—¶é—´æ¥å¯¹èµ„æºåšé™åˆ¶ã€‚\nç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ Sentinel åŒæ—¶æä¾›ç³»ç»Ÿç»´åº¦çš„è‡ªé€‚åº”ä¿æŠ¤èƒ½åŠ›ã€‚å½“ç³»ç»Ÿè´Ÿè½½è¾ƒé«˜çš„æ—¶å€™ï¼Œå¦‚æœè¿˜æŒç»­è®©è¯·æ±‚è¿›å…¥ å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œæ— æ³•å“åº”ã€‚åœ¨é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œä¼šæŠŠæœ¬åº”è¿™å°æœºå™¨æ‰¿è½½çš„æµé‡è½¬å‘åˆ°å…¶å®ƒçš„æœºå™¨ ä¸Šå»ã€‚å¦‚æœè¿™ä¸ªæ—¶å€™å…¶å®ƒçš„æœºå™¨ä¹Ÿå¤„åœ¨ä¸€ä¸ªè¾¹ç¼˜çŠ¶æ€çš„æ—¶å€™ï¼ŒSentinel æä¾›äº†å¯¹åº”çš„ä¿æŠ¤æœºåˆ¶ï¼Œ è®©ç³»ç»Ÿçš„å…¥å£æµé‡å’Œç³»ç»Ÿçš„è´Ÿè½½è¾¾åˆ°ä¸€ä¸ªå¹³è¡¡ï¼Œä¿è¯ç³»ç»Ÿåœ¨èƒ½åŠ›èŒƒå›´ä¹‹å†…å¤„ç†æœ€å¤šçš„è¯·æ±‚ æ€»ä¹‹ä¸€å¥è¯:æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯åœ¨Sentinelçš„èµ„æºä¸Šé…ç½®å„ç§å„æ ·çš„è§„åˆ™ï¼Œæ¥å®ç°å„ç§å®¹é”™çš„åŠŸèƒ½ã€‚\nSentinelè§„åˆ™ æµé‡æ§åˆ¶ï¼Œå…¶åŸç†æ˜¯ç›‘æ§åº”ç”¨æµé‡çš„QPS(æ¯ç§’æŸ¥è¯¢ç‡) æˆ–å¹¶å‘çº¿ç¨‹æ•°ç­‰æŒ‡æ ‡ï¼Œå½“è¾¾åˆ°æŒ‡å®šçš„é˜ˆå€¼æ—¶å¯¹æµ é‡è¿›è¡Œæ§åˆ¶ï¼Œä»¥é¿å…è¢«ç¬æ—¶çš„æµé‡é«˜å³°å†²å®ï¼Œä»è€Œä¿éšœåº”ç”¨çš„é«˜å¯ç”¨æ€§ã€‚\nç¬¬1æ­¥: ç‚¹å‡»ç°‡ç‚¹é“¾è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è®¿é—®è¿‡çš„æ¥å£åœ°å€ï¼Œç„¶åç‚¹å‡»å¯¹åº”çš„æµæ§æŒ‰é’®ï¼Œè¿›å…¥æµæ§è§„åˆ™é… ç½®é¡µé¢ã€‚æ–°å¢æµæ§è§„åˆ™ç•Œé¢å¦‚ä¸‹\næµæ§è§„åˆ™ èµ„æºå:å”¯ä¸€åç§°ï¼Œé»˜è®¤æ˜¯è¯·æ±‚è·¯å¾„ï¼Œå¯è‡ªå®šä¹‰\né’ˆå¯¹æ¥æº:æŒ‡å®šå¯¹å“ªä¸ªå¾®æœåŠ¡è¿›è¡Œé™æµï¼Œé»˜è®¤æŒ‡defaultï¼Œæ„æ€æ˜¯ä¸åŒºåˆ†æ¥æºï¼Œå…¨éƒ¨é™åˆ¶\né˜ˆå€¼ç±»å‹å•æœºé˜ˆå€¼:\nQPS(æ¯ç§’è¯·æ±‚æ•°é‡): å½“è°ƒç”¨è¯¥æ¥å£çš„QPSè¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ï¼Œè¿›è¡Œé™æµ\nçº¿ç¨‹æ•°:å½“è°ƒç”¨è¯¥æ¥å£çš„çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ï¼Œè¿›è¡Œé™æµ\næ˜¯å¦é›†ç¾¤:æš‚ä¸éœ€è¦é›†ç¾¤ æ¥ä¸‹æ¥æˆ‘ä»¬ä»¥QPSä¸ºä¾‹æ¥ç ”ç©¶é™æµè§„åˆ™çš„é…ç½®ã€‚\nç®€å•é…ç½® æˆ‘ä»¬å…ˆåšä¸€ä¸ªç®€å•é…ç½®ï¼Œè®¾ç½®é˜ˆå€¼ç±»å‹ä¸ºQPSï¼Œå•æœºé˜ˆå€¼ä¸º3ã€‚å³æ¯ç§’è¯·æ±‚é‡å¤§äº3çš„æ—¶å€™å¼€å§‹é™æµã€‚æ¥ä¸‹æ¥ï¼Œåœ¨æµæ§è§„åˆ™é¡µé¢å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªé…ç½®ã€‚\né…ç½®æµæ§æ¨¡å¼ sentinelå…±æœ‰ä¸‰ç§æµæ§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯:\nç›´æ¥(é»˜è®¤):æ¥å£è¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œå¼€å¯é™æµ\nå…³è”:å½“å…³è”çš„èµ„æºè¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œå¼€å¯é™æµ [é€‚åˆåšåº”ç”¨è®©æ­¥]\né“¾è·¯:å½“ä»æŸä¸ªæ¥å£è¿‡æ¥çš„èµ„æºè¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œå¼€å¯é™æµ\nä¸‹é¢å‘¢åˆ†åˆ«æ¼”ç¤ºä¸‰ç§æ¨¡å¼:\nç›´æ¥æµæ§æ¨¡å¼\nç›´æ¥æµæ§æ¨¡å¼æ˜¯æœ€ç®€å•çš„æ¨¡å¼ï¼Œå½“æŒ‡å®šçš„æ¥å£è¾¾åˆ°é™æµæ¡ä»¶æ—¶å¼€å¯é™æµã€‚ä¸Šé¢æ¡ˆä¾‹ä½¿ç”¨çš„å°±æ˜¯ç›´æ¥æµæ§ æ¨¡å¼ã€‚\nå…³è”æµæ§æ¨¡å¼\nå…³è”æµæ§æ¨¡å¼æŒ‡çš„æ˜¯ï¼Œå½“æŒ‡å®šæ¥å£å…³è”çš„æ¥å£è¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œå¼€å¯å¯¹æŒ‡å®šæ¥å£å¼€å¯é™æµã€‚ç¬¬1æ­¥:é… ç½®é™æµè§„åˆ™,å°†æµæ§æ¨¡å¼è®¾ç½®ä¸ºå…³è”ï¼Œå…³è”èµ„æºè®¾ç½®ä¸ºçš„ /order/message2ã€‚\né€šè¿‡Jmeterè½¯ä»¶å‘/order/message2è¿ç»­å‘é€è¯·æ±‚ï¼Œæ³¨æ„QPSä¸€å®šè¦å¤§äº3\nè®¿é—®/order/message1,ä¼šå‘ç°å·²ç»è¢«é™æµ\né“¾è·¯æµæ§æ¨¡å¼\né“¾è·¯æµæ§æ¨¡å¼æŒ‡çš„æ˜¯ï¼Œå½“ä»æŸä¸ªæ¥å£è¿‡æ¥çš„èµ„æºè¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œå¼€å¯é™æµã€‚å®ƒçš„åŠŸèƒ½æœ‰ç‚¹ç±»ä¼¼äºé’ˆå¯¹ æ¥æºé…ç½®é¡¹ï¼ŒåŒºåˆ«åœ¨äº:é’ˆå¯¹æ¥æºæ˜¯é’ˆå¯¹ä¸Šçº§å¾®æœåŠ¡ï¼Œè€Œé“¾è·¯æµæ§æ˜¯é’ˆå¯¹ä¸Šçº§æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„ç²’åº¦ æ›´ç»†ã€‚\n1.ç¼–å†™ä¸€ä¸ªserviceï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€ä¸ªæ–¹æ³•message\npackage cn.maruifu.service.impl; import com.alibaba.csp.sentinel.annotation.SentinelResource; import org.springframework.stereotype.Service; @Service public class OrderTestServiceImpl { @SentinelResource(\"message\") public void message() { System.out.println(\"message\"); } } ç¬¬2æ­¥: åœ¨Controllerä¸­å£°æ˜ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«è°ƒç”¨serviceä¸­çš„æ–¹æ³•message\npackage cn.maruifu.controller; import cn.maruifu.service.impl.OrderTestServiceImpl; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; // @RestController @Slf4j public class OrderTestController { /* @RequestMapping(\"/order/message1\") public String message1() { return \"message1\"; } @RequestMapping(\"/order/message2\") public String message2() { return \"message2\"; }*/ @Autowired private OrderTestServiceImpl orderTestServiceImpl; @RequestMapping(\"/order/message1\") public String message1() { orderTestServiceImpl.message(); return \"message1\"; } @RequestMapping(\"/order/message2\") public String message2() { orderTestServiceImpl.message(); return \"message2\"; } } ç¬¬3æ­¥: ç¦æ­¢æ”¶æ•›URLçš„å…¥å£ context\n1.6.3 ç‰ˆæœ¬å¼€å§‹ï¼ŒSentinel Web fifilteré»˜è®¤æ”¶æ•›æ‰€æœ‰URLçš„å…¥å£contextï¼Œå› æ­¤é“¾è·¯é™æµä¸ç”Ÿæ•ˆã€‚ 1.7.0 ç‰ˆæœ¬å¼€å§‹(å¯¹åº”SCAçš„2.1.1.RELEASE)ï¼Œå®˜æ–¹åœ¨CommonFilter å¼•å…¥äº†WEB_CONTEXT_UNIFY å‚æ•°ï¼Œ ç”¨äºæ§åˆ¶æ˜¯å¦æ”¶æ•›contextã€‚å°†å…¶é…ç½®ä¸º false å³å¯æ ¹æ®ä¸åŒçš„URLè¿›è¡Œé“¾è·¯é™æµã€‚\nSCA 2.1.1.RELEASEä¹‹åçš„ç‰ˆæœ¬,å¯ä»¥é€šè¿‡é…ç½®spring.cloud.sentinel.web-context-unify=falseå³ å¯å…³é—­æ”¶æ•›æˆ‘ä»¬å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯SpringCloud Alibaba 2.1.0.RELEASEï¼Œæ— æ³•å®ç°é“¾è·¯é™æµã€‚\nç›®å‰å®˜æ–¹è¿˜æœªå‘å¸ƒSCA 2.1.2.RELEASEï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½ä½¿ç”¨2.1.1.RELEASEï¼Œéœ€è¦å†™ä»£ç çš„å½¢å¼å® ç°\n(1) æš‚æ—¶å°†SpringCloud Alibabaçš„ç‰ˆæœ¬è°ƒæ•´ä¸º2.1.1.RELEASE\n\u003cspring-cloud-alibaba.version\u003e2.1.1.RELEASE\u003c/spring-cloud-alibaba.version\u003e (2) é…ç½®æ–‡ä»¶ä¸­å…³é—­sentinelçš„CommonFilterå®ä¾‹åŒ–\nspring: cloud: sentinel: filter: enabled: false (3) æ·»åŠ ä¸€ä¸ªé…ç½®ç±»ï¼Œè‡ªå·±æ„å»ºCommonFilterå®ä¾‹\npackage cn.maruifu.config; import com.alibaba.csp.sentinel.adapter.servlet.CommonFilter; import org.springframework.boot.web.servlet.FilterRegistrationBean; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class FilterContextConfig { @Bean public FilterRegistrationBean sentinelFilterRegistration() { FilterRegistrationBean registration = new FilterRegistrationBean(); registration.setFilter(new CommonFilter()); registration.addUrlPatterns(\"/*\"); // å…¥å£èµ„æºå…³é—­èšåˆ registration.addInitParameter(CommonFilter.WEB_CONTEXT_UNIFY, \"false\"); registration.setName(\"sentinelFilter\"); registration.setOrder(1); return registration; } } (4) : æ§åˆ¶å°é…ç½®é™æµè§„åˆ™\n(5) :åˆ†åˆ«é€šè¿‡ /order/message1 å’Œ /order/message2 è®¿é—®, å‘ç°2æ²¡é—®é¢˜, 1çš„è¢«é™æµäº†\né…ç½®æµæ§æ•ˆæœ å¿«é€Ÿå¤±è´¥(é»˜è®¤): ç›´æ¥å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä¸åšä»»ä½•é¢å¤–çš„å¤„ç†ï¼Œæ˜¯æœ€ç®€å•çš„æ•ˆæœ\nWarm Up:å®ƒä»å¼€å§‹é˜ˆå€¼åˆ°æœ€å¤§QPSé˜ˆå€¼ä¼šæœ‰ä¸€ä¸ªç¼“å†²é˜¶æ®µï¼Œä¸€å¼€å§‹çš„é˜ˆå€¼æ˜¯æœ€å¤§QPSé˜ˆå€¼çš„ 1/3ï¼Œç„¶åæ…¢æ…¢å¢é•¿ï¼Œç›´åˆ°æœ€å¤§é˜ˆå€¼ï¼Œé€‚ç”¨äºå°†çªç„¶å¢å¤§çš„æµé‡è½¬æ¢ä¸ºç¼“æ­¥å¢é•¿çš„åœºæ™¯ã€‚\næ’é˜Ÿç­‰å¾…:è®©è¯·æ±‚ä»¥å‡åŒ€çš„é€Ÿåº¦é€šè¿‡ï¼Œå•æœºé˜ˆå€¼ä¸ºæ¯ç§’é€šè¿‡æ•°é‡ï¼Œå…¶ä½™çš„æ’é˜Ÿç­‰å¾…; å®ƒè¿˜ä¼šè®©è®¾ ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå½“è¯·æ±‚è¶…è¿‡è¶…æ—¶é—´æ—¶é—´è¿˜æœªå¤„ç†ï¼Œåˆ™ä¼šè¢«ä¸¢å¼ƒ\né™çº§è§„åˆ™ é™çº§è§„åˆ™å°±æ˜¯è®¾ç½®å½“æ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„æ—¶å€™ï¼Œå¯¹æœåŠ¡è¿›è¡Œé™çº§ã€‚Sentinelæä¾›äº†ä¸‰ä¸ªè¡¡é‡æ¡ä»¶:\nå¹³å‡å“åº”æ—¶é—´ :å½“èµ„æºçš„å¹³å‡å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼(ä»¥ ms ä¸ºå•ä½)ä¹‹åï¼Œèµ„æºè¿›å…¥å‡†é™çº§çŠ¶æ€ã€‚ å¦‚æœæ¥ä¸‹æ¥ 1s å†…æŒç»­è¿›å…¥ 5 ä¸ªè¯·æ±‚ï¼Œå®ƒä»¬çš„ RTéƒ½æŒç»­è¶…è¿‡è¿™ä¸ªé˜ˆå€¼ï¼Œé‚£ä¹ˆåœ¨æ¥ä¸‹çš„æ—¶é—´çª—å£ (ä»¥ s ä¸ºå•ä½)ä¹‹å†…ï¼Œå°±ä¼šå¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡ŒæœåŠ¡é™çº§ã€‚ æ³¨æ„ Sentinel é»˜è®¤ç»Ÿè®¡çš„ RT ä¸Šé™æ˜¯ 4900 msï¼Œè¶…å‡ºæ­¤é˜ˆå€¼çš„éƒ½ä¼šç®—ä½œ 4900 msï¼Œè‹¥éœ€è¦å˜æ›´æ­¤ ä¸Šé™å¯ä»¥é€šè¿‡å¯åŠ¨é…ç½®é¡¹ -Dcsp.sentinel.statistic.max.rt=xxx æ¥é…ç½®ã€‚\nå¼‚å¸¸æ¯”ä¾‹:å½“èµ„æºçš„æ¯ç§’å¼‚å¸¸æ€»æ•°å é€šè¿‡é‡çš„æ¯”å€¼è¶…è¿‡é˜ˆå€¼ä¹‹åï¼Œèµ„æºè¿›å…¥é™çº§çŠ¶æ€ï¼Œå³åœ¨æ¥ä¸‹çš„ æ—¶é—´çª—å£(ä»¥ s ä¸ºå•ä½)ä¹‹å†…ï¼Œå¯¹è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šè‡ªåŠ¨åœ°è¿”å›ã€‚å¼‚å¸¸æ¯”ç‡çš„é˜ˆå€¼èŒƒå›´æ˜¯ [0.0,1.0]ã€‚ ç¬¬1æ­¥: é¦–å…ˆæ¨¡æ‹Ÿä¸€ä¸ªå¼‚å¸¸\nint i=0; @RequestMapping(\"/order/message2\") public String message2(){ i++; //å¼‚å¸¸æ¯”ä¾‹ä¸º0.333 if(i%3==0){ throw new RuntimeException(); } return\"message2\"; } ç¬¬2æ­¥: è®¾ç½®å¼‚å¸¸æ¯”ä¾‹ä¸º0.25\nå¼‚å¸¸æ•° :å½“èµ„æºè¿‘ 1 åˆ†é’Ÿçš„å¼‚å¸¸æ•°ç›®è¶…è¿‡é˜ˆå€¼ä¹‹åä¼šè¿›è¡ŒæœåŠ¡é™çº§ã€‚æ³¨æ„ç”±äºç»Ÿè®¡æ—¶é—´çª—å£æ˜¯åˆ† é’Ÿçº§åˆ«çš„ï¼Œè‹¥æ—¶é—´çª—å£å°äº 60sï¼Œåˆ™ç»“æŸç†”æ–­çŠ¶æ€åä»å¯èƒ½å†è¿›å…¥ç†”æ–­çŠ¶æ€ã€‚ é—®é¢˜:æµæ§è§„åˆ™å’Œé™çº§è§„åˆ™è¿”å›çš„å¼‚å¸¸é¡µé¢æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬æ€ä¹ˆæ¥åŒºåˆ†åˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ å‘¢?\nçƒ­ç‚¹è§„åˆ™ çƒ­ç‚¹å‚æ•°æµæ§è§„åˆ™æ˜¯ä¸€ç§æ›´ç»†ç²’åº¦çš„æµæ§è§„åˆ™, å®ƒå…è®¸å°†è§„åˆ™å…·ä½“åˆ°å‚æ•°ä¸Šã€‚ çƒ­ç‚¹è§„åˆ™ç®€å•ä½¿ç”¨\nç¬¬1æ­¥: ç¼–å†™ä»£ç \n@RequestMapping(\"/order/message3\") @SentinelResource(\"message3\") //æ³¨æ„è¿™é‡Œå¿…é¡»ä½¿ç”¨è¿™ä¸ªæ³¨è§£æ ‡è¯†,çƒ­ç‚¹è§„åˆ™ä¸ç”Ÿæ•ˆ public String message3(String name, Integer age) { return name + age; } ç¬¬2æ­¥: é…ç½®çƒ­ç‚¹è§„åˆ™ ç¬¬3æ­¥: åˆ†åˆ«ç”¨ä¸¤ä¸ªå‚æ•°è®¿é—®,ä¼šå‘ç°åªå¯¹ç¬¬ä¸€ä¸ªå‚æ•°é™æµäº†\nçƒ­ç‚¹è§„åˆ™å¢å¼ºä½¿ç”¨\nå‚æ•°ä¾‹å¤–é¡¹å…è®¸å¯¹ä¸€ä¸ªå‚æ•°çš„å…·ä½“å€¼è¿›è¡Œæµæ§\nç¼–è¾‘åˆšæ‰å®šä¹‰çš„è§„åˆ™,å¢åŠ å‚æ•°ä¾‹å¤–é¡¹\næˆæƒè§„åˆ™ å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è°ƒç”¨æ¥æºæ¥åˆ¤æ–­è¯¥æ¬¡è¯·æ±‚æ˜¯å¦å…è®¸æ”¾è¡Œï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ Sentinel çš„æ¥æºè®¿é—®æ§åˆ¶çš„åŠŸèƒ½ã€‚æ¥æºè®¿é—®æ§åˆ¶æ ¹æ®èµ„æºçš„è¯·æ±‚æ¥æº(origin)é™åˆ¶èµ„æºæ˜¯å¦é€šè¿‡:\nè‹¥é…ç½®ç™½åå•ï¼Œåˆ™åªæœ‰è¯·æ±‚æ¥æºä½äºç™½åå•å†…æ—¶æ‰å¯é€šè¿‡;\nè‹¥é…ç½®é»‘åå•ï¼Œåˆ™è¯·æ±‚æ¥æºä½äºé»‘åå•æ—¶ä¸é€šè¿‡ï¼Œå…¶ä½™çš„è¯·æ±‚é€šè¿‡ã€‚\nä¸Šé¢çš„èµ„æºåå’Œæˆæƒç±»å‹ä¸éš¾ç†è§£ï¼Œä½†æ˜¯æµæ§åº”ç”¨æ€ä¹ˆå¡«å†™å‘¢?\nå…¶å®è¿™ä¸ªä½ç½®è¦å¡«å†™çš„æ˜¯æ¥æºæ ‡è¯†ï¼ŒSentinelæä¾›äº† RequestOriginParser æ¥å£æ¥å¤„ç†æ¥æºã€‚\nåªè¦Sentinelä¿æŠ¤çš„æ¥å£èµ„æºè¢«è®¿é—®ï¼ŒSentinelå°±ä¼šè°ƒç”¨ RequestOriginParser çš„å®ç°ç±»å»è§£æè®¿é—®æ¥æºã€‚\nç¬¬1æ­¥: è‡ªå®šä¹‰æ¥æºå¤„ç†è§„åˆ™\n@Component public class RequestOriginParserDefinition implements RequestOriginParser{ @Override public String parseOrigin(HttpServletRequest request) { String serviceName = request.getParameter(\"serviceName\"); return serviceName; } } ç¬¬2æ­¥: æˆæƒè§„åˆ™é…ç½®\nè¿™ä¸ªé…ç½®çš„æ„æ€æ˜¯åªæœ‰serviceName=pcä¸èƒ½è®¿é—®(é»‘åå•)\nç¬¬3æ­¥: è®¿é—® http://localhost:8091/order/message1?serviceName=pcè§‚å¯Ÿç»“æœ\nç³»ç»Ÿè§„åˆ™ ç³»ç»Ÿä¿æŠ¤è§„åˆ™æ˜¯ä»åº”ç”¨çº§åˆ«çš„å…¥å£æµé‡è¿›è¡Œæ§åˆ¶ï¼Œä»å•å°æœºå™¨çš„æ€»ä½“ Loadã€RTã€å…¥å£ QPS ã€CPUä½¿ç”¨ ç‡å’Œçº¿ç¨‹æ•°äº”ä¸ªç»´åº¦ç›‘æ§åº”ç”¨æ•°æ®ï¼Œè®©ç³»ç»Ÿå°½å¯èƒ½è·‘åœ¨æœ€å¤§ååé‡çš„åŒæ—¶ä¿è¯ç³»ç»Ÿæ•´ä½“çš„ç¨³å®šæ€§ã€‚ç³»ç»Ÿ ä¿æŠ¤è§„åˆ™æ˜¯åº”ç”¨æ•´ä½“ç»´åº¦çš„ï¼Œè€Œä¸æ˜¯èµ„æºç»´åº¦çš„ï¼Œå¹¶ä¸”ä»…å¯¹å…¥å£æµé‡ (è¿›å…¥åº”ç”¨çš„æµé‡) ç”Ÿæ•ˆã€‚\nLoad(ä»…å¯¹ Linux/Unix-like æœºå™¨ç”Ÿæ•ˆ):å½“ç³»ç»Ÿ load1 è¶…è¿‡é˜ˆå€¼ï¼Œä¸”ç³»ç»Ÿå½“å‰çš„å¹¶å‘çº¿ç¨‹æ•°è¶…è¿‡ ç³»ç»Ÿå®¹é‡æ—¶æ‰ä¼šè§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚ç³»ç»Ÿå®¹é‡ç”±ç³»ç»Ÿçš„ maxQps * minRt è®¡ç®—å¾—å‡ºã€‚è®¾å®šå‚è€ƒå€¼ä¸€èˆ¬ æ˜¯ CPU cores * 2.5ã€‚\nRT:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹³å‡ RT è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚\nçº¿ç¨‹æ•°:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹¶å‘çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚\nå…¥å£ QPS:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„ QPS è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚\nCPUä½¿ç”¨ç‡:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„ CPUä½¿ç”¨ç‡è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤\næ‰©å±•:è‡ªå®šä¹‰å¼‚å¸¸è¿”å›\n//å¼‚å¸¸å¤„ç†é¡µé¢ @Component public class ExceptionHandlerPage implements UrlBlockHandler { //ç”¨äºå®šä¹‰èµ„æºï¼Œå¹¶æä¾›å¯é€‰çš„å¼‚å¸¸å¤„ç†å’Œ fallback é…ç½®é¡¹ã€‚å…¶ä¸»è¦å‚æ•°å¦‚ä¸‹: @SentinelResource /** * BlockException å¼‚å¸¸æ¥å£,åŒ…å«Sentinelçš„äº”ä¸ªå¼‚å¸¸ * FlowException é™æµå¼‚å¸¸ * DegradeException é™çº§å¼‚å¸¸ * ParamFlowException å‚æ•°é™æµå¼‚å¸¸ * AuthorityException æˆæƒå¼‚å¸¸ * SystemBlockException ç³»ç»Ÿè´Ÿè½½å¼‚å¸¸ * */ @Override public void blocked(HttpServletRequest request, HttpServletResponse response, BlockException e) throws IOException { response.setContentType(\"application/json;charset=utf-8\"); ResponseData data = null; if (e instanceof FlowException) { data = new ResponseData(-1, \"æ¥å£è¢«é™æµäº†...\"); } else if (e instanceof DegradeException) { data = new ResponseData(-2, \"æ¥å£è¢«é™çº§äº†...\"); } response.getWriter().write(JSON.toJSONString(data)); } } @Data //å…¨å‚æ„é€  @AllArgsConstructor //æ— å‚æ„é€  @NoArgsConstructor class ResponseData { private int code; private String message; } } @SentinelResourceçš„ä½¿ç”¨ åœ¨å®šä¹‰äº†èµ„æºç‚¹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Dashboardæ¥è®¾ç½®é™æµå’Œé™çº§ç­–ç•¥æ¥å¯¹èµ„æºç‚¹è¿›è¡Œä¿æŠ¤ã€‚åŒæ—¶è¿˜èƒ½é€šè¿‡@SentinelResourceæ¥æŒ‡å®šå‡ºç°å¼‚å¸¸æ—¶çš„å¤„ç†ç­–ç•¥ã€‚\n@SentinelResource ç”¨äºå®šä¹‰èµ„æºï¼Œå¹¶æä¾›å¯é€‰çš„å¼‚å¸¸å¤„ç†å’Œ fallback é…ç½®é¡¹ã€‚å…¶ä¸»è¦å‚æ•°å¦‚ä¸‹:\nå±æ€§ ä½œç”¨ value èµ„æºåç§° entryType entryç±»å‹ï¼Œæ ‡è®°æµé‡çš„æ–¹å‘ï¼Œå–å€¼IN/OUTï¼Œé»˜è®¤æ˜¯OUT blockHandler å¤„ç†BlockExceptionçš„å‡½æ•°åç§°,å‡½æ•°è¦æ±‚:1. å¿…é¡»æ˜¯ public2. è¿”å›ç±»å‹ å‚æ•°ä¸åŸæ–¹æ³•ä¸€è‡´3. é»˜è®¤éœ€å’ŒåŸæ–¹æ³•åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚è‹¥å¸Œæœ›ä½¿ç”¨å…¶ä»–ç±» çš„å‡½æ•°ï¼Œå¯é…ç½®blockHandlerClass ï¼Œå¹¶æŒ‡å®šblockHandlerClassé‡Œé¢çš„ æ–¹æ³•ã€‚ blockHandlerClass å­˜æ”¾blockHandlerçš„ç±»,å¯¹åº”çš„å¤„ç†å‡½æ•°å¿…é¡»staticä¿®é¥°ã€‚ fallback ç”¨äºåœ¨æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™æä¾›fallbackå¤„ç†é€»è¾‘ã€‚fallbackå‡½æ•°å¯ä»¥é’ˆå¯¹æ‰€ æœ‰ç±»å‹çš„å¼‚å¸¸(é™¤äº†exceptionsToIgnore é‡Œé¢æ’é™¤æ‰çš„å¼‚å¸¸ç±»å‹)è¿›è¡Œ å¤„ç†ã€‚å‡½æ•°è¦æ±‚:1. è¿”å›ç±»å‹ä¸åŸæ–¹æ³•ä¸€è‡´2. å‚æ•°ç±»å‹éœ€è¦å’ŒåŸæ–¹æ³•ç›¸ åŒ¹é…3. é»˜è®¤éœ€å’ŒåŸæ–¹æ³•åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚è‹¥å¸Œæœ›ä½¿ç”¨å…¶ä»–ç±»çš„å‡½æ•°ï¼Œå¯é… ç½®fallbackClass ï¼Œå¹¶æŒ‡å®šfallbackClassé‡Œé¢çš„æ–¹æ³•ã€‚ fallbackClass å­˜æ”¾fallbackçš„ç±»ã€‚å¯¹åº”çš„å¤„ç†å‡½æ•°å¿…é¡»staticä¿®é¥° defaultFallback ç”¨äºé€šç”¨çš„ fallback é€»è¾‘ã€‚é»˜è®¤fallbackå‡½æ•°å¯ä»¥é’ˆå¯¹æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸è¿› è¡Œå¤„ç†ã€‚è‹¥åŒæ—¶é…ç½®äº† fallback å’Œ defaultFallbackï¼Œä»¥fallbackä¸ºå‡†ã€‚å‡½ æ•°è¦æ±‚:1. è¿”å›ç±»å‹ä¸åŸæ–¹æ³•ä¸€è‡´2. æ–¹æ³•å‚æ•°åˆ—è¡¨ä¸ºç©ºï¼Œæˆ–è€…æœ‰ä¸€ä¸ª Throwable ç±»å‹çš„å‚æ•°ã€‚3. é»˜è®¤éœ€è¦å’ŒåŸæ–¹æ³•åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚è‹¥å¸Œæœ›ä½¿ ç”¨å…¶ä»–ç±»çš„å‡½æ•°ï¼Œå¯é…ç½®fallbackClass ï¼Œå¹¶æŒ‡å®š fallbackClass é‡Œé¢çš„æ–¹ æ³•ã€‚ exceptionsToIgnore æŒ‡å®šæ’é™¤æ‰å“ªäº›å¼‚å¸¸ã€‚æ’é™¤çš„å¼‚å¸¸ä¸ä¼šè®¡å…¥å¼‚å¸¸ç»Ÿè®¡ï¼Œä¹Ÿä¸ä¼šè¿›å…¥ fallbacké€»è¾‘ï¼Œè€Œæ˜¯åŸæ ·æŠ›å‡º exceptionsToTrace éœ€è¦traceçš„å¼‚å¸¸ å®šä¹‰é™æµå’Œé™çº§åçš„å¤„ç†æ–¹æ³•\næ–¹å¼ä¸€:ç›´æ¥å°†é™æµå’Œé™çº§æ–¹æ³•å®šä¹‰åœ¨æ–¹æ³•ä¸­\n@Service @Slf4j public class OrderServiceImpl3 { int i = 0; @SentinelResource(value = \"message\", /*æŒ‡å®šå‘ç”ŸBlockExceptionæ—¶è¿›å…¥çš„æ–¹æ³•*/ blockHandler = \"blockHandler\", /* æŒ‡å®šå‘ç”ŸThrowableæ—¶è¿›å…¥çš„æ–¹æ³•) */ fallback = \"fallback\" public String message(){ i++; if(i % 3 == 0){ throw new RuntimeException(); } return\"message\"; } //BlockExceptionæ—¶è¿›å…¥çš„æ–¹æ³• public String blockHandler(BlockException ex){ log.error(\"{}\", ex); return\"æ¥å£è¢«é™æµæˆ–è€…é™çº§äº†...\"; } //Throwableæ—¶è¿›å…¥çš„æ–¹æ³• public String fallback(Throwable throwable) { log.error(\"{}\", throwable); return \"æ¥å£å‘ç”Ÿå¼‚å¸¸äº†...\"; } } æ–¹å¼äºŒ: å°†é™æµå’Œé™çº§æ–¹æ³•å¤–ç½®åˆ°å•ç‹¬çš„ç±»ä¸­\n@Service @Slf4j public class OrderServiceImpl3 { int i = 0; @SentinelResource( value = \"message\", blockHandlerClass = OrderServiceImpl3BlockHandlerClass.class, blockHandler = \"blockHandler\", fallbackClass = OrderServiceImpl3FallbackClass.class, fallback = \"fallback\" ) public String message() { i++; if (i % 3 == 0) { throw new RuntimeException(); } return \"message4\"; } } @Slf4j public class OrderServiceImpl3BlockHandlerClass { //æ³¨æ„è¿™é‡Œå¿…é¡»ä½¿ç”¨staticä¿®é¥°æ–¹æ³• public static String blockHandler(BlockException ex) { 1 ç¼–å†™å¤„ç†ç±» log.error(\"{}\", ex); return \"æ¥å£è¢«é™æµæˆ–è€…é™çº§äº†...\"; } } @Slf4j public class OrderServiceImpl3FallbackClass { //æ³¨æ„è¿™é‡Œå¿…é¡»ä½¿ç”¨staticä¿®é¥°æ–¹æ³• public static String fallback(Throwable throwable) { log.error(\"{}\", throwable); return \"æ¥å£å‘ç”Ÿå¼‚å¸¸äº†...\"; } } Sentinelè§„åˆ™æŒä¹…åŒ– é€šè¿‡å‰é¢çš„è®²è§£ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå¯ä»¥é€šè¿‡Dashboardæ¥ä¸ºæ¯ä¸ªSentinelå®¢æˆ·ç«¯è®¾ç½®å„ç§å„æ ·çš„è§„åˆ™ï¼Œ\nä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™äº›è§„åˆ™é»˜è®¤æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œæä¸ç¨³å®šï¼Œæ‰€ä»¥éœ€è¦å°†å…¶æŒä¹…åŒ–ã€‚ æœ¬åœ°æ–‡ä»¶æ•°æ®æºä¼šå®šæ—¶è½®è¯¢æ–‡ä»¶çš„å˜æ›´ï¼Œè¯»å–è§„åˆ™ã€‚è¿™æ ·æˆ‘ä»¬æ—¢å¯ä»¥åœ¨åº”ç”¨æœ¬åœ°ç›´æ¥ä¿®æ”¹æ–‡ä»¶æ¥æ›´æ–°è§„åˆ™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Sentinel æ§åˆ¶å°æ¨é€è§„åˆ™ã€‚ä»¥æœ¬åœ°æ–‡ä»¶æ•°æ®æºä¸ºä¾‹ï¼Œæ¨é€è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º:\né¦–å…ˆ Sentinel æ§åˆ¶å°é€šè¿‡ API å°†è§„åˆ™æ¨é€è‡³å®¢æˆ·ç«¯å¹¶æ›´æ–°åˆ°å†…å­˜ä¸­ï¼Œæ¥ç€æ³¨å†Œçš„å†™æ•°æ®æºä¼šå°†æ–°çš„è§„åˆ™ ä¿å­˜åˆ°æœ¬åœ°çš„æ–‡ä»¶ä¸­ã€‚\nç¼–å†™å¤„ç†ç±»\npackage cn.maruifu.config; import com.alibaba.csp.sentinel.command.handler.ModifyParamFlowRulesCommandHandler; import com.alibaba.csp.sentinel.datasource.*; import com.alibaba.csp.sentinel.init.InitFunc; import com.alibaba.csp.sentinel.slots.block.authority.AuthorityRule; import com.alibaba.csp.sentinel.slots.block.authority.AuthorityRuleManager; import com.alibaba.csp.sentinel.slots.block.degrade.DegradeRule; import com.alibaba.csp.sentinel.slots.block.degrade.DegradeRuleManager; import com.alibaba.csp.sentinel.slots.block.flow.FlowRule; import com.alibaba.csp.sentinel.slots.block.flow.FlowRuleManager; import com.alibaba.csp.sentinel.slots.block.flow.param.ParamFlowRule; import com.alibaba.csp.sentinel.slots.block.flow.param.ParamFlowRuleManager; import com.alibaba.csp.sentinel.slots.system.SystemRule; import com.alibaba.csp.sentinel.slots.system.SystemRuleManager; import com.alibaba.csp.sentinel.transport.util.WritableDataSourceRegistry; import com.alibaba.fastjson.JSON; import com.alibaba.fastjson.TypeReference; import org.springframework.beans.factory.annotation.Value; import java.io.File; import java.io.IOException; import java.util.List; //è§„åˆ™æŒä¹…åŒ– public class FilePersistence implements InitFunc { @Value(\"spring.application:name\") private String appcationName; @Override public void init() throws Exception { String ruleDir = System.getProperty(\"user.home\") + \"/sentinel-rules/\" + appcationName; String flowRulePath = ruleDir + \"/flow-rule.json\"; String degradeRulePath = ruleDir + \"/degrade-rule.json\"; String systemRulePath = ruleDir + \"/system-rule.json\"; String authorityRulePath = ruleDir + \"/authority-rule.json\"; String paramFlowRulePath = ruleDir + \"/param-flow-rule.json\"; this.mkdirIfNotExits(ruleDir); this.createFileIfNotExits(flowRulePath); this.createFileIfNotExits(degradeRulePath); this.createFileIfNotExits(systemRulePath); this.createFileIfNotExits(authorityRulePath); this.createFileIfNotExits(paramFlowRulePath); // æµæ§è§„åˆ™ ReadableDataSource\u003cString, List\u003cFlowRule\u003e\u003e flowRuleRDS = new FileRefreshableDataSource\u003c\u003e (flowRulePath, flowRuleListParser ); FlowRuleManager.register2Property(flowRuleRDS.getProperty()); WritableDataSource\u003cList\u003cFlowRule\u003e\u003e flowRuleWDS = new FileWritableDataSource\u003c\u003e(flowRulePath, this::encodeJson); WritableDataSourceRegistry.registerFlowDataSource(flowRuleWDS); // é™çº§è§„åˆ™ ReadableDataSource\u003cString, List\u003cDegradeRule\u003e\u003e degradeRuleRDS = new FileRefreshableDataSource\u003c\u003e(degradeRulePath, degradeRuleListParser); DegradeRuleManager.register2Property(degradeRuleRDS.getProperty()); WritableDataSource\u003cList\u003cDegradeRule\u003e\u003e degradeRuleWDS = new FileWritableDataSource\u003c\u003e(degradeRulePath, this::encodeJson); WritableDataSourceRegistry.registerDegradeDataSource(degradeRuleWDS); // ç³»ç»Ÿè§„åˆ™ ReadableDataSource\u003cString, List\u003cSystemRule\u003e\u003e systemRuleRDS = new FileRefreshableDataSource\u003c\u003e(systemRulePath, systemRuleListParser); SystemRuleManager.register2Property(systemRuleRDS.getProperty()); WritableDataSource\u003cList\u003cSystemRule\u003e\u003e systemRuleWDS = new FileWritableDataSource\u003c\u003e(systemRulePath, this::encodeJson); WritableDataSourceRegistry.registerSystemDataSource(systemRuleWDS); // æˆæƒè§„åˆ™ ReadableDataSource\u003cString, List\u003cAuthorityRule\u003e\u003e authorityRuleRDS = new FileRefreshableDataSource\u003c\u003e(authorityRulePath, authorityRuleListParser); AuthorityRuleManager.register2Property(authorityRuleRDS.getProperty()); WritableDataSource\u003cList\u003cAuthorityRule\u003e\u003e authorityRuleWDS = new FileWritableDataSource\u003c\u003e(authorityRulePath, this::encodeJson); WritableDataSourceRegistry.registerAuthorityDataSource(authorityRuleWDS); // çƒ­ç‚¹å‚æ•°è§„åˆ™ ReadableDataSource\u003cString, List\u003cParamFlowRule\u003e\u003e paramFlowRuleRDS = new FileRefreshableDataSource\u003c\u003e( paramFlowRulePath,paramFlowRuleListParser); ParamFlowRuleManager.register2Property(paramFlowRuleRDS.getProperty()); WritableDataSource\u003cList\u003cParamFlowRule\u003e\u003e paramFlowRuleWDS = new FileWritableDataSource\u003c\u003e( paramFlowRulePath, this::encodeJson ); ModifyParamFlowRulesCommandHandler.setWritableDataSource(paramFlowRuleWDS); } private Converter\u003cString, List\u003cFlowRule\u003e\u003e flowRuleListParser = source -\u003e JSON.parseObject( source, new TypeReference\u003cList\u003cFlowRule\u003e\u003e() { }); private Converter\u003cString, List\u003cDegradeRule\u003e\u003e degradeRuleListParser = source -\u003e JSON.parseObject( source, new TypeReference\u003cList\u003cDegradeRule\u003e\u003e() { }); private Converter\u003cString, List\u003cSystemRule\u003e\u003e systemRuleListParser = source -\u003e JSON.parseObject(source, new TypeReference\u003cList\u003cSystemRule\u003e\u003e() {}); private Converter\u003cString, List\u003cAuthorityRule\u003e\u003e authorityRuleListParser = source -\u003e JSON.parseObject(source,new TypeReference\u003cList\u003cAuthorityRule\u003e\u003e() {} ); private Converter\u003cString, List\u003cParamFlowRule\u003e\u003e paramFlowRuleListParser = source -\u003e JSON.parseObject(source,new TypeReference\u003cList\u003cParamFlowRule\u003e\u003e() { } ); private void mkdirIfNotExits(String filePath) throws IOException { File file = new File(filePath); if (!file.exists()) { file.mkdirs(); } } private void createFileIfNotExits(String filePath) throws IOException { File file = new File(filePath); if (!file.exists()) { file.createNewFile(); } } private \u003cT\u003e String encodeJson(T t) { return JSON.toJSONString(t); } } æ·»åŠ é…ç½® åœ¨resourcesä¸‹åˆ›å»ºé…ç½®ç›®å½• META-INF/services ,ç„¶åæ·»åŠ æ–‡ä»¶com.alibaba.csp.sentinel.init.InitFunc\nåœ¨æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ç±»çš„å…¨è·¯å¾„\ncn.maruifu.config.FilePersistence Feignæ•´åˆSentinel ç¬¬1æ­¥: å¼•å…¥sentinelçš„ä¾èµ–\n\u003c!--sentinelå®¢æˆ·ç«¯--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-sentinel\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬2æ­¥: åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯Feignå¯¹Sentinelçš„æ”¯æŒ\nfeign: sentinel: enabled: true ç¬¬3æ­¥: åˆ›å»ºå®¹é”™ç±»\n//å®¹é”™ç±»è¦æ±‚å¿…é¡»å®ç°è¢«å®¹é”™çš„æ¥å£,å¹¶ä¸ºæ¯ä¸ªæ–¹æ³•å®ç°å®¹é”™æ–¹æ¡ˆ package cn.maruifu.service.api; import cn.maruifu.vo.Product; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Component; //å®¹é”™ç±»è¦æ±‚å¿…é¡»å®ç°è¢«å®¹é”™çš„æ¥å£,å¹¶ä¸ºæ¯ä¸ªæ–¹æ³•å®ç°å®¹é”™æ–¹æ¡ˆ @Component @Slf4j public class ProductApiServiceFallBack implements ProductApiService { @Override public Product findByPid(Integer pid) { Product product = new Product(); product.setPid(-1); return product; } } ç¬¬4æ­¥: ä¸ºè¢«å®¹å™¨çš„æ¥å£æŒ‡å®šå®¹é”™ç±»\npackage cn.maruifu.service.api; import cn.maruifu.vo.Product; import org.springframework.cloud.openfeign.FeignClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; //valueç”¨äºæŒ‡å®šè°ƒç”¨nacosä¸‹å“ªä¸ªå¾®æœåŠ¡ //fallbackç”¨äºæŒ‡å®šå®¹é”™ç±» @FeignClient(value = \"service-product\", fallback = ProductApiServiceFallBack.class) //å£°æ˜è°ƒç”¨çš„æä¾›è€…çš„name public interface ProductApiService { //æŒ‡å®šè°ƒç”¨æä¾›è€…çš„å“ªä¸ªæ–¹æ³• //@FeignClient+@GetMapping å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è·¯å¾„ http://service- product/product/{pid} @GetMapping(value = \"/product/{pid}\") Product findByPid(@PathVariable(\"pid\") Integer pid); } ç¬¬5æ­¥: ä¿®æ”¹controller\npackage cn.maruifu.controller; import cn.maruifu.service.OrderService; import cn.maruifu.service.api.ProductApiService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.discovery.DiscoveryClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; import java.util.List; import java.util.Random; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; @Autowired private DiscoveryClient discoveryClient; @Autowired private ProductApiService productApiService; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); // æ–¹æ³•ä¸€ é€šè¿‡IPè°ƒç”¨ //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ //Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); // æ–¹æ³•äºŒ ä»nacosä¸­è·å–æœåŠ¡åœ°å€ //ServiceInstance serviceInstance = discoveryClient.getInstances(\"service-product\").get(0); //String url = serviceInstance.getHost() + \":\" +serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); // æ–¹æ³•ä¸‰ ä»nacosä¸­è·å–æœåŠ¡åœ°å€ è‡ªå®šä¹‰è§„åˆ™å®ç°éšæœºæŒ‘é€‰æœåŠ¡ //List\u003cServiceInstance\u003e instances = discoveryClient.getInstances(\"service-product\"); //int index = new Random().nextInt(instances.size()); //ServiceInstance serviceInstance = instances.get(index); //String url = serviceInstance.getHost() + \":\" + serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); // æ–¹æ³•å›› åŸºäºRibbonå®ç°è´Ÿè½½å‡è¡¡ //ç›´æ¥ä½¿ç”¨å¾®æœåŠ¡åå­—ï¼Œ ä»nacosä¸­è·å–æœåŠ¡åœ°å€ //String url = \"service-product\"; //Product product = restTemplate.getForObject( \"http://\" + url + \"/product/\" + pid, Product.class); // æ–¹æ³•äº” é€šè¿‡feginè°ƒç”¨å•†å“å¾®æœåŠ¡ // è°ƒç”¨å•†å“å¾®æœåŠ¡,æŸ¥è¯¢å•†å“ä¿¡æ¯ log.info(\"æ¥æ”¶åˆ°{}å·å•†å“çš„ä¸‹å•è¯·æ±‚,æ¥ä¸‹æ¥è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢æ­¤å•†å“ä¿¡æ¯\", pid); Product product = productApiService.findByPid(pid); if (product.getPid() == -1) { Order order = new Order(); order.setPname(\"ä¸‹å•å¤±è´¥\"); return order; } log.info(\"æŸ¥è¯¢åˆ°{}å·å•†å“çš„ä¿¡æ¯,å†…å®¹æ˜¯:{}\", pid, JSON.toJSONString(product)); //æ¨¡æ‹Ÿä¸€æ¬¡ç½‘ç»œå»¶æ—¶ try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } //ä¸‹å•(åˆ›å»ºè®¢å•) Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); //ä¸ºäº†ä¸äº§ç”Ÿå¤ªå¤šåƒåœ¾æ•°æ®,æš‚æ—¶ä¸åšè®¢å•ä¿å­˜ //orderService.save(order); log.info(\"åˆ›å»ºè®¢å•æˆåŠŸ,è®¢å•ä¿¡æ¯ä¸º{}\", JSON.toJSONString(order)); return order; } @RequestMapping(\"/order/message\") public String message() { return \"é«˜å¹¶å‘ä¸‹çš„é—®é¢˜æµ‹è¯•\"; } } ç¬¬6æ­¥: åœæ­¢æ‰€æœ‰ shop-product æœåŠ¡,é‡å¯ shop-order æœåŠ¡,è®¿é—®è¯·æ±‚,è§‚å¯Ÿå®¹é”™æ•ˆæœ\næ‰©å±•: å¦‚æœæƒ³åœ¨å®¹é”™ç±»ä¸­æ‹¿åˆ°å…·ä½“çš„é”™è¯¯,å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼\npackage cn.maruifu.service.api; import cn.maruifu.vo.Product; import org.springframework.cloud.openfeign.FeignClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; //valueç”¨äºæŒ‡å®šè°ƒç”¨nacosä¸‹å“ªä¸ªå¾®æœåŠ¡ //fallbackç”¨äºæŒ‡å®šå®¹é”™ç±» //@FeignClient(value = \"service-product\", fallback = ProductApiServiceFallBack.class) @FeignClient( value = \"service-product\", fallbackFactory = ProductApiServiceFallBackFactory.class) //å£°æ˜è°ƒç”¨çš„æä¾›è€…çš„name public interface ProductApiService { //æŒ‡å®šè°ƒç”¨æä¾›è€…çš„å“ªä¸ªæ–¹æ³• //@FeignClient+@GetMapping å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è·¯å¾„ http://service- product/product/{pid} @GetMapping(value = \"/product/{pid}\") Product findByPid(@PathVariable(\"pid\") Integer pid); } package cn.maruifu.service.api; import cn.maruifu.vo.Product; import feign.hystrix.FallbackFactory; import org.springframework.stereotype.Component; @Component public class ProductApiServiceFallBackFactory implements FallbackFactory\u003cProductApiService\u003e { @Override public ProductApiService create(Throwable throwable) { return new ProductApiService() { @Override public Product findByPid(Integer pid) { throwable.printStackTrace(); Product product = new Product(); product.setPid(-1); return product; } }; } } æ³¨æ„: fallbackå’ŒfallbackFactoryåªèƒ½ä½¿ç”¨å…¶ä¸­ä¸€ç§æ–¹å¼\n","description":"\n","tags":[],"title":"\nSentinelâ€“æœåŠ¡å®¹é”™","uri":"/posts/post-305/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\næœåŠ¡æ²»ç†ä»‹ç» å…ˆæ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Ÿ\né€šè¿‡ä¸Šä¸€ç« çš„æ“ä½œï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å®ç°å¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ã€‚ä½†æ˜¯æˆ‘ä»¬æŠŠæœåŠ¡æä¾›è€…çš„ç½‘ç»œåœ°å€(ipï¼Œç«¯ å£)ç­‰ç¡¬ç¼–ç åˆ°äº†ä»£ç ä¸­ï¼Œè¿™ç§åšæ³•å­˜åœ¨è®¸å¤šé—®é¢˜:\nä¸€æ—¦æœåŠ¡æä¾›è€…åœ°å€å˜åŒ–ï¼Œå°±éœ€è¦æ‰‹å·¥ä¿®æ”¹ä»£ç  ä¸€æ—¦æ˜¯å¤šä¸ªæœåŠ¡æä¾›è€…ï¼Œæ— æ³•å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ ä¸€æ—¦æœåŠ¡å˜å¾—è¶Šæ¥è¶Šå¤šï¼Œäººå·¥ç»´æŠ¤è°ƒç”¨å…³ç³»å›°éš¾\né‚£ä¹ˆåº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Œ è¿™æ—¶å€™å°±éœ€è¦é€šè¿‡æ³¨å†Œä¸­å¿ƒåŠ¨æ€çš„å®ç°æœåŠ¡æ²»ç†ã€‚\nä»€ä¹ˆæ˜¯æœåŠ¡æ²»ç† æœåŠ¡æ²»ç†æ˜¯å¾®æœåŠ¡æ¶æ„ä¸­æœ€æ ¸å¿ƒæœ€åŸºæœ¬çš„æ¨¡å—ã€‚ç”¨äºå®ç°å„ä¸ªå¾®æœåŠ¡çš„è‡ªåŠ¨åŒ–æ³¨å†Œä¸å‘ç°ã€‚\n**æœåŠ¡æ³¨å†Œ:**åœ¨æœåŠ¡æ²»ç†æ¡†æ¶ä¸­ï¼Œéƒ½ä¼šæ„å»ºä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œæ¯ä¸ªæœåŠ¡å•å…ƒå‘æ³¨å†Œä¸­å¿ƒç™»è®°è‡ªå·±æä¾›æœ åŠ¡çš„è¯¦ç»†ä¿¡æ¯ã€‚å¹¶åœ¨æ³¨å†Œä¸­å¿ƒå½¢æˆä¸€å¼ æœåŠ¡çš„æ¸…å•ï¼ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒéœ€è¦ä»¥å¿ƒè·³çš„æ–¹å¼å»ç›‘æµ‹æ¸…å•ä¸­ çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœä¸å¯ç”¨ï¼Œéœ€è¦åœ¨æœåŠ¡æ¸…å•ä¸­å‰”é™¤ä¸å¯ç”¨çš„æœåŠ¡ã€‚\n**æœåŠ¡å‘ç°:**æœåŠ¡è°ƒç”¨æ–¹å‘æœåŠ¡æ³¨å†Œä¸­å¿ƒå’¨è¯¢æœåŠ¡ï¼Œå¹¶è·å–æ‰€æœ‰æœåŠ¡çš„å®ä¾‹æ¸…å•ï¼Œå®ç°å¯¹å…·ä½“æœåŠ¡å®ä¾‹çš„è®¿é—®ã€‚\né€šè¿‡ä¸Šé¢çš„è°ƒç”¨å›¾ä¼šå‘ç°ï¼Œé™¤äº†å¾®æœåŠ¡ï¼Œè¿˜æœ‰ä¸€ä¸ªç»„ä»¶æ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œå®ƒæ˜¯å¾®æœåŠ¡æ¶æ„éå¸¸é‡è¦çš„ä¸€ ä¸ªç»„ä»¶ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„é‡Œä¸»è¦èµ·åˆ°äº†åè°ƒè€…çš„ä¸€ä¸ªä½œç”¨ã€‚æ³¨å†Œä¸­å¿ƒä¸€èˆ¬åŒ…å«å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½:\næœåŠ¡å‘ç°: æœåŠ¡æ³¨å†Œ:ä¿å­˜æœåŠ¡æä¾›è€…å’ŒæœåŠ¡è°ƒç”¨è€…çš„ä¿¡æ¯\næœåŠ¡è®¢é˜…:æœåŠ¡è°ƒç”¨è€…è®¢é˜…æœåŠ¡æä¾›è€…çš„ä¿¡æ¯ï¼Œæ³¨å†Œä¸­å¿ƒå‘è®¢é˜…è€…æ¨é€æä¾›è€…çš„ä¿¡æ¯\næœåŠ¡é…ç½®:\né…ç½®è®¢é˜…:æœåŠ¡æä¾›è€…å’ŒæœåŠ¡è°ƒç”¨è€…è®¢é˜…å¾®æœåŠ¡ç›¸å…³çš„é…ç½® é…ç½®ä¸‹å‘:ä¸»åŠ¨å°†é…ç½®æ¨é€ç»™æœåŠ¡æä¾›è€…å’ŒæœåŠ¡è°ƒç”¨è€… æœåŠ¡å¥åº·æ£€æµ‹ æ£€æµ‹æœåŠ¡æä¾›è€…çš„å¥åº·æƒ…å†µï¼Œå¦‚æœå‘ç°å¼‚å¸¸ï¼Œæ‰§è¡ŒæœåŠ¡å‰”é™¤\nå¸¸è§çš„æ³¨å†Œä¸­å¿ƒ Zookeeper zookeeperæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼Œæ˜¯Apache Hadoop çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥è§£å†³åˆ†å¸ƒå¼ åº”ç”¨ä¸­ç»å¸¸é‡åˆ°çš„ä¸€äº›æ•°æ®ç®¡ç†é—®é¢˜ï¼Œå¦‚:ç»Ÿä¸€å‘½åæœåŠ¡ã€çŠ¶æ€åŒæ­¥æœåŠ¡ã€é›†ç¾¤ç®¡ç†ã€åˆ†å¸ƒå¼åº”ç”¨ é…ç½®é¡¹çš„ç®¡ç†ç­‰ã€‚\nEureka Eurekaæ˜¯Springcloud Netflixä¸­çš„é‡è¦ç»„ä»¶ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯åšæœåŠ¡æ³¨å†Œå’Œå‘ç°ã€‚ä½†æ˜¯ç°åœ¨å·²ç»é—­ æº\nConsul Consulæ˜¯åŸºäºGOè¯­è¨€å¼€å‘çš„å¼€æºå·¥å…·ï¼Œä¸»è¦é¢å‘åˆ†å¸ƒå¼ï¼ŒæœåŠ¡åŒ–çš„ç³»ç»Ÿæä¾›æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç° å’Œé…ç½®ç®¡ç†çš„åŠŸèƒ½ã€‚Consulçš„åŠŸèƒ½éƒ½å¾ˆå®ç”¨ï¼Œå…¶ä¸­åŒ…æ‹¬:æœåŠ¡æ³¨å†Œ/å‘ç°ã€å¥åº·æ£€æŸ¥ã€Key/Value å­˜å‚¨ã€å¤šæ•°æ®ä¸­å¿ƒå’Œåˆ†å¸ƒå¼ä¸€è‡´æ€§ä¿è¯ç­‰ç‰¹æ€§ã€‚Consulæœ¬èº«åªæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰€ä»¥ å®‰è£…å’Œéƒ¨ç½²éƒ½éå¸¸ç®€å•ï¼Œåªéœ€è¦ä»å®˜ç½‘ä¸‹è½½åï¼Œåœ¨æ‰§è¡Œå¯¹åº”çš„å¯åŠ¨è„šæœ¬å³å¯ã€‚\nNacos Nacosæ˜¯ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚ä»–æ˜¯SpringCloud Alibaba ç»„ä»¶ä¹‹ä¸€ï¼Œè´Ÿè´£æœåŠ¡æ³¨å†Œå‘ç°å’ŒæœåŠ¡é…ç½®ï¼Œå¯ä»¥è¿™æ ·è®¤ä¸º nacos=eureka+configã€‚\nnacosç®€ä»‹ Nacos è‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacos æä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹æ€§é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°\nåŠ¨æ€æœåŠ¡å‘ç°ã€æœåŠ¡é…ç½®ã€æœåŠ¡å…ƒæ•°æ®åŠæµé‡ç®¡ç†ã€‚ ä»ä¸Šé¢çš„ä»‹ç»å°±å¯ä»¥çœ‹å‡ºï¼Œnacosçš„ä½œç”¨å°±æ˜¯ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œç”¨æ¥ç®¡ç†æ³¨å†Œä¸Šæ¥çš„å„ä¸ªå¾®æœåŠ¡ã€‚\nnacoså®æˆ˜å…¥é—¨ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åœ¨ç°æœ‰çš„ç¯å¢ƒä¸­åŠ å…¥nacosï¼Œå¹¶å°†æˆ‘ä»¬çš„ä¸¤ä¸ªå¾®æœåŠ¡æ³¨å†Œä¸Šå»ã€‚\næ­å»ºnacosç¯å¢ƒ å®‰è£…nacos ä» Github ä¸Šä¸‹è½½æºç æ–¹å¼\n1 2 3 4 5 6 7 git clone https://github.com/alibaba/nacos.git cd nacos/ mvn -Prelease-nacos -Dmaven.test.skip=true clean install -U ls -al distribution/target/ // change the $version to your actual path cd distribution/target/nacos-server-$version/nacos/bin ä¸‹è½½ç¼–è¯‘åå‹ç¼©åŒ…æ–¹å¼\næ‚¨å¯ä»¥ä» æœ€æ–°ç¨³å®šç‰ˆæœ¬ ä¸‹è½½ nacos-server-$version.zip åŒ…ã€‚\n1 2 unzip nacos-server-$version.zip æˆ–è€… tar -xvf nacos-server-$version.tar.gz cd nacos/bin å¯åŠ¨nacos Linux/Unix/Macå¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):\nsh startup.sh -m standalone å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ubuntuç³»ç»Ÿï¼Œæˆ–è€…è¿è¡Œè„šæœ¬æŠ¥é”™æç¤º[[ç¬¦å·æ‰¾ä¸åˆ°ï¼Œå¯å°è¯•å¦‚ä¸‹è¿è¡Œï¼š\nbash startup.sh -m standalone Windowså¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):\ncmd startup.cmd -m standalone å¯åŠ¨å¤±è´¥çœ‹ä¸€ä¸‹è‡ªå·±æ˜¯ä¸æ˜¯64ä½ 1.8+JDK\nè®¿é—®nacos æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:8848/nacosï¼Œå³å¯è®¿é—®æœåŠ¡ï¼Œ é»˜è®¤å¯†ç æ˜¯nacos/nacos\nå°†å•†å“å¾®æœåŠ¡æ³¨å†Œåˆ°nacos æ¥ä¸‹æ¥å¼€å§‹ä¿®æ”¹ shop-product æ¨¡å—çš„ä»£ç ï¼Œ å°†å…¶æ³¨å†Œåˆ°nacosæœåŠ¡ä¸Š\nåœ¨pom.xmlä¸­æ·»åŠ nacosçš„ä¾èµ–\n\u003c!--nacoså®¢æˆ·ç«¯--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-discovery\u003c/artifactId\u003e \u003c/dependency\u003e åœ¨ä¸»ç±»ä¸Šæ·»åŠ **@EnableDiscoveryClient**æ³¨è§£\n@SpringBootApplication @EnableDiscoveryClient public class ProductApplication åœ¨application.ymlä¸­æ·»åŠ nacosæœåŠ¡çš„åœ°å€\nspring: cloud: nacos: discovery: server-addr: 127.0.0.1:8848 å¯åŠ¨æœåŠ¡ï¼Œ è§‚å¯Ÿnacosçš„æ§åˆ¶é¢æ¿ä¸­æ˜¯å¦æœ‰æ³¨å†Œä¸Šæ¥çš„å•†å“å¾®æœåŠ¡\nå°†è®¢å•å¾®æœåŠ¡æ³¨å†Œåˆ°nacos æ¥ä¸‹æ¥å¼€å§‹ä¿®æ”¹ shop_order æ¨¡å—çš„ä»£ç ï¼Œ å°†å…¶æ³¨å†Œåˆ°nacosæœåŠ¡ä¸Š\nåœ¨pom.xmlä¸­æ·»åŠ nacosçš„ä¾èµ–\n\u003c!--nacoså®¢æˆ·ç«¯--\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-discovery\u003c/artifactId\u003e \u003c/dependency\u003e åœ¨ä¸»ç±»ä¸Šæ·»åŠ **@EnableDiscoveryClient**æ³¨è§£\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient; @SpringBootApplication @EnableDiscoveryClient public class OrderApplication åœ¨application.ymlä¸­æ·»åŠ nacosæœåŠ¡çš„åœ°å€\nspring: cloud: nacos: discovery: server-addr: 127.0.0.1:8848 ä¿®æ”¹OrderControllerï¼Œ å®ç°å¾®æœåŠ¡è°ƒç”¨\npackage cn.maruifu.controller; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.discovery.DiscoveryClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; @Autowired private DiscoveryClient discoveryClient; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); // ä¹‹å‰è°ƒç”¨ //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ //Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ ServiceInstance serviceInstance = discoveryClient.getInstances(\"service-product\").get(0); String url = serviceInstance.getHost() + \":\" +serviceInstance.getPort(); log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\"+\tJSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); return order; } } DiscoveryClientæ˜¯ä¸“é—¨è´Ÿè´£æœåŠ¡æ³¨å†Œå’Œå‘ç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒè·å–åˆ°æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„æ‰€æœ‰æœåŠ¡\nå¯åŠ¨æœåŠ¡ï¼Œ è§‚å¯Ÿnacosçš„æ§åˆ¶é¢æ¿ä¸­æ˜¯å¦æœ‰æ³¨å†Œä¸Šæ¥çš„è®¢å•å¾®æœåŠ¡ï¼Œç„¶åé€šè¿‡è®¿é—®æ¶ˆè´¹è€…æœåŠ¡éªŒè¯è°ƒ ç”¨æ˜¯å¦æˆåŠŸ\nå®ç°æœåŠ¡è°ƒç”¨çš„è´Ÿè½½å‡è¡¡ ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ é€šä¿—çš„è®²ï¼Œ è´Ÿè½½å‡è¡¡å°±æ˜¯å°†è´Ÿè½½(å·¥ä½œä»»åŠ¡ï¼Œè®¿é—®è¯·æ±‚)è¿›è¡Œåˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒ(æœåŠ¡å™¨,ç»„ä»¶)ä¸Š è¿›è¡Œæ‰§è¡Œã€‚\næ ¹æ®è´Ÿè½½å‡è¡¡å‘ç”Ÿä½ç½®çš„ä¸åŒ,ä¸€èˆ¬åˆ†ä¸ºæœåŠ¡ç«¯è´Ÿè½½å‡è¡¡å’Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ã€‚ æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡æŒ‡çš„æ˜¯å‘ç”Ÿåœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹,æ¯”å¦‚å¸¸è§çš„nginxè´Ÿè½½å‡è¡¡\nè€Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡æŒ‡çš„æ˜¯å‘ç”Ÿåœ¨æœåŠ¡è¯·æ±‚çš„ä¸€æ–¹ï¼Œä¹Ÿå°±æ˜¯åœ¨å‘é€è¯·æ±‚ä¹‹å‰å·²ç»é€‰å¥½äº†ç”±å“ªä¸ªå®ä¾‹å¤„ç†è¯·æ±‚ã€‚\næˆ‘ä»¬åœ¨å¾®æœåŠ¡è°ƒç”¨å…³ç³»ä¸­ä¸€èˆ¬ä¼šé€‰æ‹©å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯åœ¨æœåŠ¡è°ƒç”¨çš„ä¸€æ–¹æ¥å†³å®šæœåŠ¡ç”±å“ªä¸ªæä¾› è€…æ‰§è¡Œã€‚\nè‡ªå®šä¹‰å®ç°è´Ÿè½½å‡è¡¡ 1é€šè¿‡ideaå†å¯åŠ¨ä¸€ä¸ª shop-product å¾®æœåŠ¡ï¼Œç‚¹å‡»Copy Configurations è®¾ç½®å…¶ç«¯å£ä¸º8082\n2é€šè¿‡nacosæŸ¥çœ‹å¾®æœåŠ¡çš„å¯åŠ¨æƒ…å†µ\n3ä¿®æ”¹ shop-order çš„ä»£ç ï¼Œå®ç°è´Ÿè½½å‡è¡¡\npackage cn.maruifu.controller; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.discovery.DiscoveryClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; import java.util.List; import java.util.Random; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; @Autowired private DiscoveryClient discoveryClient; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); // ä¹‹å‰è°ƒç”¨ //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ //Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ //ServiceInstance serviceInstance = discoveryClient.getInstances(\"service-product\").get(0); //String url = serviceInstance.getHost() + \":\" +serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ è‡ªå®šä¹‰è§„åˆ™å®ç°éšæœºæŒ‘é€‰æœåŠ¡ List\u003cServiceInstance\u003e instances = discoveryClient.getInstances(\"service-product\"); int index = new Random().nextInt(instances.size()); ServiceInstance serviceInstance = instances.get(index); String url = serviceInstance.getHost() + \":\" + serviceInstance.getPort(); log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\"+\tJSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); return order; } } 4å¯åŠ¨ä¸¤ä¸ªæœåŠ¡æä¾›è€…å’Œä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…ï¼Œå¤šè®¿é—®å‡ æ¬¡æ¶ˆè´¹è€…æµ‹è¯•æ•ˆæœ\nåŸºäºRibbonå®ç°è´Ÿè½½å‡è¡¡ Ribbon æ˜¯ Spring Cloud çš„ä¸€ä¸ªç»„ä»¶ï¼Œ å®ƒå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ³¨è§£å°±èƒ½è½»æ¾çš„æå®šè´Ÿè½½å‡è¡¡\nç¬¬1æ­¥:åœ¨RestTemplate çš„ç”Ÿæˆæ–¹æ³•ä¸Šæ·»åŠ @LoadBalancedæ³¨è§£\n@Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(); } ç¬¬2æ­¥:ä¿®æ”¹æœåŠ¡è°ƒç”¨çš„æ–¹æ³•\npackage cn.maruifu.controller; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.discovery.DiscoveryClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; import java.util.List; import java.util.Random; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; @Autowired private DiscoveryClient discoveryClient; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); // ä¹‹å‰è°ƒç”¨ //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ //Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ //ServiceInstance serviceInstance = discoveryClient.getInstances(\"service-product\").get(0); //String url = serviceInstance.getHost() + \":\" +serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ è‡ªå®šä¹‰è§„åˆ™å®ç°éšæœºæŒ‘é€‰æœåŠ¡ //List\u003cServiceInstance\u003e instances = discoveryClient.getInstances(\"service-product\"); //int index = new Random().nextInt(instances.size()); //ServiceInstance serviceInstance = instances.get(index); //String url = serviceInstance.getHost() + \":\" + serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); // åŸºäºRibbonå®ç°è´Ÿè½½å‡è¡¡ //ç›´æ¥ä½¿ç”¨å¾®æœåŠ¡åå­—ï¼Œ ä»nacosä¸­è·å–æœåŠ¡åœ°å€ String url = \"service-product\"; Product product = restTemplate.getForObject( \"http://\" + url + \"/product/\" + pid, Product.class); log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\"+\tJSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); return order; } } Ribbonæ”¯æŒçš„è´Ÿè½½å‡è¡¡ç­–ç•¥\nRibbonå†…ç½®äº†å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥,å†…éƒ¨è´Ÿè½½å‡è¡¡çš„é¡¶çº§æ¥å£ä¸ºcom.netflix.loadbalancer.IRule ,\nå…·ä½“çš„è´Ÿè½½ç­–ç•¥å¦‚ä¸‹å›¾æ‰€ç¤º:\næˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ¥è°ƒæ•´Ribbonçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹\nservice-product: # è°ƒç”¨çš„æä¾›è€…çš„åç§° ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule åŸºäºFeignå®ç°æœåŠ¡è°ƒç”¨ ä»€ä¹ˆæ˜¯Feign Feignæ˜¯Spring Cloudæä¾›çš„ä¸€ä¸ªå£°æ˜å¼çš„ä¼ªHttpå®¢æˆ·ç«¯ï¼Œ å®ƒä½¿å¾—è°ƒç”¨è¿œç¨‹æœåŠ¡å°±åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ · ç®€å•ï¼Œ åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶æ·»åŠ ä¸€ä¸ªæ³¨è§£å³å¯ã€‚\nNacoså¾ˆå¥½çš„å…¼å®¹äº†Feignï¼Œ Feigné»˜è®¤é›†æˆäº† Ribbonï¼Œ æ‰€ä»¥åœ¨Nacosä¸‹ä½¿ç”¨Feginé»˜è®¤å°±å®ç°äº†è´Ÿè½½å‡ è¡¡çš„æ•ˆæœã€‚\nFeignçš„ä½¿ç”¨ åŠ å…¥Feginçš„ä¾èµ– \u003c!--feginç»„ä»¶--\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-openfeign\u003c/artifactId\u003e \u003c/dependency\u003e åœ¨ä¸»ç±»ä¸Šæ·»åŠ Feginçš„æ³¨è§£ @SpringBootApplication @EnableDiscoveryClient @EnableFeignClients //å¼€å¯Fegin public class OrderApplication {} åˆ›å»ºä¸€ä¸ªservice package cn.maruifu.api; import cn.maruifu.vo.Product; import org.springframework.cloud.openfeign.FeignClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; @FeignClient(\"service-product\") //å£°æ˜è°ƒç”¨çš„æä¾›è€…çš„name public interface ProductApiService { //æŒ‡å®šè°ƒç”¨æä¾›è€…çš„å“ªä¸ªæ–¹æ³• //@FeignClient+@GetMapping å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è·¯å¾„ http://service- product/product/{pid} @GetMapping(value = \"/product/{pid}\") Product findByPid(@PathVariable(\"pid\") Integer pid); } ä¿®æ”¹controllerä»£ç  package cn.maruifu.controller; import cn.maruifu.api.ProductApiService; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.discovery.DiscoveryClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; import java.util.List; import java.util.Random; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; @Autowired private DiscoveryClient discoveryClient; @Autowired private ProductApiService productApiService; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); // ä¹‹å‰è°ƒç”¨ //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ //Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ //ServiceInstance serviceInstance = discoveryClient.getInstances(\"service-product\").get(0); //String url = serviceInstance.getHost() + \":\" +serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); //ä»nacosä¸­è·å–æœåŠ¡åœ°å€ è‡ªå®šä¹‰è§„åˆ™å®ç°éšæœºæŒ‘é€‰æœåŠ¡ //List\u003cServiceInstance\u003e instances = discoveryClient.getInstances(\"service-product\"); //int index = new Random().nextInt(instances.size()); //ServiceInstance serviceInstance = instances.get(index); //String url = serviceInstance.getHost() + \":\" + serviceInstance.getPort(); //log.info(\"\u003e\u003eä»nacosä¸­è·å–åˆ°çš„å¾®æœåŠ¡åœ°å€ä¸º:\" + url); //Product product = restTemplate.getForObject(\"http://\" + url + \"/product/\" + pid, Product.class); // åŸºäºRibbonå®ç°è´Ÿè½½å‡è¡¡ //ç›´æ¥ä½¿ç”¨å¾®æœåŠ¡åå­—ï¼Œ ä»nacosä¸­è·å–æœåŠ¡åœ°å€ // String url = \"service-product\"; // Product product = restTemplate.getForObject( \"http://\" + url + \"/product/\" + pid, Product.class); //é€šè¿‡feginè°ƒç”¨å•†å“å¾®æœåŠ¡ Product product = productApiService.findByPid(pid); log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\"+\tJSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); return order; } } é‡å¯orderå¾®æœåŠ¡,æŸ¥çœ‹æ•ˆæœ ","description":"\n","tags":[],"title":"\nNacos Discoveryâ€“æœåŠ¡æ²»ç†","uri":"/posts/post-306/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\næˆ‘ä»¬æœ¬æ¬¡æ˜¯ä½¿ç”¨çš„ç”µå•†é¡¹ç›®ä¸­çš„å•†å“ã€è®¢å•ã€ç”¨æˆ·ä¸ºæ¡ˆä¾‹è¿›è¡Œè®²è§£.\næ¡ˆä¾‹å‡†å¤‡ æŠ€æœ¯é€‰å‹ maven: 3.3.9\næ•°æ®åº“: MySQL 5.7\næŒä¹…å±‚: SpingData Jpa\nå…¶ä»–: SpringCloud Alibaba æŠ€æœ¯æ ˆ\næ¨¡å—è®¾è®¡ springcloud-alibaba çˆ¶å·¥ç¨‹\nshop-common å…¬å…±æ¨¡å—ã€å®ä½“ç±»ã€‘\nshop-user ç”¨æˆ·å¾®æœåŠ¡ ã€ç«¯å£: 8071ã€‘\nshop-product å•†å“å¾®æœåŠ¡ ã€ç«¯å£: 8081ã€‘\nshop-order è®¢å•å¾®æœåŠ¡ ã€ç«¯å£: 8091ã€‘\nå¾®æœåŠ¡è°ƒç”¨ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯å¾®æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ã€‚æˆ‘ä»¬ä»¥ç”µå•†ç³»ç»Ÿä¸­å¸¸è§çš„ç”¨æˆ·ä¸‹å•ä¸ºä¾‹æ¥ æ¼”ç¤ºå¾®æœåŠ¡çš„è°ƒç”¨:å®¢æˆ·å‘è®¢å•å¾®æœåŠ¡å‘èµ·ä¸€ä¸ªä¸‹å•çš„è¯·æ±‚ï¼Œåœ¨è¿›è¡Œä¿å­˜è®¢å•ä¹‹å‰éœ€è¦è°ƒç”¨å•†å“å¾®æœåŠ¡ æŸ¥è¯¢å•†å“çš„ä¿¡æ¯ã€‚\næˆ‘ä»¬ä¸€èˆ¬æŠŠæœåŠ¡çš„ä¸»åŠ¨è°ƒç”¨æ–¹ç§°ä¸ºæœåŠ¡æ¶ˆè´¹è€…ï¼ŒæŠŠæœåŠ¡çš„è¢«è°ƒç”¨æ–¹ç§°ä¸ºæœåŠ¡æä¾›è€…ã€‚\nåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œè®¢å•å¾®æœåŠ¡å°±æ˜¯ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…ï¼Œ å•†å“å¾®æœåŠ¡å°±æ˜¯ä¸€ä¸ªæœåŠ¡æä¾›è€…ã€‚\nåˆ›å»ºæ•°æ®åº“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 DROP DATABASE IF EXISTS `shop`; CREATE DATABASE `shop` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci; SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; USE `shop`; CREATE TABLE `shop_order` ( `oid` int NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `username` varchar(255) DEFAULT NULL COMMENT 'ç”¨æˆ·å', `uid` int DEFAULT NULL COMMENT 'ç”¨æˆ·id', `pid` int DEFAULT NULL COMMENT 'å•†å“ID', `pname` varchar(255) DEFAULT NULL COMMENT 'å•†å“åç§°', `pprice` decimal(10,2) DEFAULT NULL COMMENT 'å•†å“ä»·æ ¼', `number` int DEFAULT NULL COMMENT 'æ•°é‡', PRIMARY KEY (`oid`) ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci; CREATE TABLE `shop_product` ( `pid` int NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `pname` varchar(255) DEFAULT NULL COMMENT 'å•†å“åç§°', `pprice` decimal(10,2) DEFAULT NULL COMMENT 'å•†å“ä»·æ ¼', `stock` int DEFAULT NULL COMMENT 'åº“å­˜', PRIMARY KEY (`pid`) ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci; CREATE TABLE `shop_user` ( `uid` int NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `username` varchar(255) DEFAULT NULL COMMENT 'ç”¨æˆ·å', `password` varchar(255) DEFAULT NULL COMMENT 'å¯†ç ', `telephone` varchar(255) DEFAULT NULL COMMENT 'æ‰‹æœºå·', PRIMARY KEY (`uid`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci; åˆ›å»ºçˆ¶å·¥ç¨‹ åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼Œç„¶ååœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cparent\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-parent\u003c/artifactId\u003e \u003cversion\u003e2.1.3.RELEASE\u003c/version\u003e \u003c/parent\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003cpackaging\u003epom\u003c/packaging\u003e \u003cproperties\u003e \u003cjava.version\u003e1.8\u003c/java.version\u003e \u003cproject.build.sourceEncoding\u003eUTF-8\u003c/project.build.sourceEncoding\u003e \u003cproject.reporting.outputEncoding\u003eUTF- 8\u003c/project.reporting.outputEncoding\u003e \u003cspring-cloud.version\u003eGreenwich.RELEASE\u003c/spring-cloud.version\u003e \u003cspring-cloud-alibaba.version\u003e2.1.0.RELEASE\u003c/spring-cloud-alibaba.version\u003e \u003c/properties\u003e \u003cdependencyManagement\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-dependencies\u003c/artifactId\u003e \u003cversion\u003e${spring-cloud.version}\u003c/version\u003e \u003ctype\u003epom\u003c/type\u003e \u003cscope\u003eimport\u003c/scope\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-alibaba-dependencies\u003c/artifactId\u003e \u003cversion\u003e${spring-cloud-alibaba.version}\u003c/version\u003e \u003ctype\u003epom\u003c/type\u003e \u003cscope\u003eimport\u003c/scope\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/dependencyManagement\u003e \u003c/project\u003e ç‰ˆæœ¬å¯¹åº”ï¼š\nåˆ›å»ºåŸºç¡€æ¨¡å— åˆ›å»º shop-common æ¨¡å—:\nåœ¨pom.xmlä¸­æ·»åŠ ä¾èµ–\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eshop-common\u003c/artifactId\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-data-jpa\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.projectlombok\u003c/groupId\u003e \u003cartifactId\u003elombok\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba\u003c/groupId\u003e \u003cartifactId\u003efastjson\u003c/artifactId\u003e \u003cversion\u003e1.2.56\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003emysql\u003c/groupId\u003e \u003cartifactId\u003emysql-connector-java\u003c/artifactId\u003e \u003cversion\u003e5.1.6\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e åˆ›å»ºå®ä½“ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 //ç”¨æˆ· import lombok.Data; import javax.persistence.Id; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; @Entity(name = \"shop_user\") @Data public class User { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer uid;//ä¸»é”® private String username;//ç”¨æˆ·å private String password;//å¯†ç  private String telephone;//æ‰‹æœºå· } //å•†å“ import lombok.Data; import javax.persistence.Id; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; @Entity(name = \"shop_product\") @Data public class Product { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer pid;//ä¸»é”® private String pname;//å•†å“åç§° private Double pprice;//å•†å“ä»·æ ¼ private Integer stock;//åº“å­˜ } //è®¢å• package cn.maruifu.vo; import lombok.Data; import javax.persistence.Id; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; //è®¢å• @Entity(name = \"shop_order\") @Data public class Order { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long oid;//è®¢å•id private Integer uid;//ç”¨æˆ·id private String username;//ç”¨æˆ·å private Integer pid;//å•†å“ID private String pname;//å•†å“åç§° private Double pprice;//å•†å“ä»·æ ¼ private Integer number;//æ•°é‡ } åˆ›å»ºç”¨æˆ·å¾®æœåŠ¡ æ–°å»ºä¸€ä¸ª shop-user æ¨¡å—ï¼Œç„¶åè¿›è¡Œä¸‹é¢æ“ä½œ\nåˆ›å»ºpom.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eshop-user\u003c/artifactId\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cartifactId\u003eshop-common\u003c/artifactId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-web\u003c/artifactId\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e ç¼–å†™ä¸»ç±» package cn.maruifu; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; @SpringBootApplication public class UserApplication { public static void main(String[] args) { SpringApplication.run(UserApplication.class, args); } } åˆ›å»ºé…ç½®æ–‡ä»¶ server: port: 8071 spring: application: name: service-user datasource: url: jdbc:mysql://127.0.0.1:3306/spring-cloud?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: Mrf12345 driver-class-name: com.mysql.cj.jdbc.Driver jpa: database-platform: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true hibernate: ddl-auto: update use-new-id-generator-mappings: false åˆ›å»ºå•†å“å¾®æœåŠ¡ åˆ›å»ºpom.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eshop-product\u003c/artifactId\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-web\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cartifactId\u003eshop-common\u003c/artifactId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e ç¼–å†™ä¸»ç±» @SpringBootApplication public class ProductApplication { public static void main(String[] args) { SpringApplication.run(ProductApplication.class, args); } } åˆ›å»ºé…ç½®æ–‡ä»¶ server: port: 8081 spring: application: name: service-product datasource: url: jdbc:mysql://shop?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: root driver-class-name: com.mysql.cj.jdbc.Driver jpa: database-platform: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true hibernate: ddl-auto: update use-new-id-generator-mappings: false åˆ›å»ºProductDaoæ¥å£ 1 2 3 4 5 6 7 package cn.maruifu.dao; import cn.maruifu.vo.Product; import org.springframework.data.jpa.repository.JpaRepository; public interface ProductDao extends JpaRepository\u003cProduct,Integer\u003e { } åˆ›å»ºProductServiceç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package cn.maruifu.service.impl; import cn.maruifu.dao.ProductDao; import cn.maruifu.service.ProductService; import cn.maruifu.vo.Product; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; @Service public class ProductServiceImpl implements ProductService { @Autowired private ProductDao productDao; @Override public Product findByPid(Integer pid) { return productDao.findById(pid).get(); } } åˆ›å»ºController 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package cn.maruifu.controller; import cn.maruifu.service.ProductService; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; @RestController @Slf4j public class ProductController { @Autowired private ProductService productService; @GetMapping(\"/product/{pid}\") public Product product(@PathVariable(\"pid\") Integer pid) { Product product = productService.findByPid(pid); log.info(\"æŸ¥è¯¢åˆ°å•†å“:\" + JSON.toJSONString(product)); return product; } } å¯åŠ¨å·¥ç¨‹ ç­‰åˆ°æ•°æ®åº“è¡¨åˆ›å»ºå®Œæ¯•ä¹‹åï¼ŒåŠ å…¥æµ‹è¯•æ•°æ®\n1 2 3 4 5 6 7 INSERT INTO shop_product VALUE(NULL,'å°ç±³','1000','5000'); INSERT INTO shop_product VALUE(NULL,'åä¸º','2000','5000'); INSERT INTO shop_product VALUE(NULL,'è‹¹æœ','3000','5000'); INSERT INTO shop_product VALUE(NULL,'OPPO','4000','5000'); é€šè¿‡æµè§ˆå™¨è®¿é—®æœåŠ¡ åˆ›å»ºè®¢å•å¾®æœåŠ¡ åˆ›å»ºpom.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cparent\u003e \u003cartifactId\u003espringcloud-alibaba\u003c/artifactId\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/parent\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cartifactId\u003eshop-order\u003c/artifactId\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-web\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ecn.maruifu\u003c/groupId\u003e \u003cartifactId\u003eshop-common\u003c/artifactId\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e ç¼–å†™ä¸»ç±» package cn.maruifu; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; @SpringBootApplication public class OrderApplication { public static void main(String[] args) { SpringApplication.run(OrderApplication.class, args); } } åˆ›å»ºé…ç½®æ–‡ä»¶ server: port: 8091 spring: application: name: service-order datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://shop?serverTimezone=UTC\u0026useUnicode=true\u0026characterEncoding=utf-8\u0026useSSL=true username: root password: root jpa: database-platform: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true hibernate: ddl-auto: update use-new-id-generator-mappings: false åˆ›å»ºOrderDaoæ¥å£ 1 2 3 4 5 6 7 8 package cn.maruifu.dao; import cn.maruifu.vo.Order; import org.springframework.data.jpa.repository.JpaRepository; public interface OrderDao extends JpaRepository\u003cOrder,Long\u003e { } åˆ›å»ºOrderServiceç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package cn.maruifu.service.impl; import cn.maruifu.dao.OrderDao; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; @Service public class OrderServiceImpl implements OrderService { @Autowired private OrderDao orderDao; @Override public void save(Order order) { orderDao.save(order); } } åˆ›å»ºRestTemplate 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package cn.maruifu; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.context.annotation.Bean; import org.springframework.web.client.RestTemplate; @SpringBootApplication public class OrderApplication { public static void main(String[] args) { SpringApplication.run(OrderApplication.class, args); } @Bean public RestTemplate getRestTemplate() { return new RestTemplate(); } } åˆ›å»ºController 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 package cn.maruifu.controller; import cn.maruifu.service.OrderService; import cn.maruifu.vo.Order; import cn.maruifu.vo.Product; import com.alibaba.fastjson.JSON; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.client.RestTemplate; @RestController @Slf4j public class OrderController { @Autowired private RestTemplate restTemplate; @Autowired private OrderService orderService; //å‡†å¤‡ä¹°1ä»¶å•†å“ @GetMapping(\"/order/prod/{pid}\") public Order order(@PathVariable(\"pid\") Integer pid) { log.info(\"\u003e\u003eå®¢æˆ·ä¸‹å•ï¼Œè¿™æ—¶å€™è¦è°ƒç”¨å•†å“å¾®æœåŠ¡æŸ¥è¯¢å•†å“ä¿¡æ¯\"); //é€šè¿‡restTemplateè°ƒç”¨å•†å“å¾®æœåŠ¡ Product product = restTemplate.getForObject(\"http://localhost:8081/product/\" + pid, Product.class); log.info(\"\u003e\u003eå•†å“ä¿¡æ¯,æŸ¥è¯¢ç»“æœ:\" + JSON.toJSONString(product)); Order order = new Order(); order.setUid(1); order.setUsername(\"æµ‹è¯•ç”¨æˆ·\"); order.setPid(product.getPid()); order.setPname(product.getPname()); order.setPprice(product.getPprice()); order.setNumber(1); orderService.save(order); return order; } } æµè§ˆå™¨è®¿é—®æœåŠ¡è¿›è¡Œæµ‹è¯• æºç åœ°å€\n","description":"\n","tags":[],"title":"\nå¾®æœåŠ¡ç¯å¢ƒæ­å»º","uri":"/posts/post-307/"},{"categories":["æ¶æ„è®¾è®¡"],"content":"å¾®æœåŠ¡\nç³»ç»Ÿæ¶æ„æ¼”å˜ éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™åº”ç”¨çš„è§„æ¨¡ä¹Ÿåœ¨ä¸æ–­çš„æ‰©å¤§ï¼Œè¿›è€Œå¯¼è‡´ç³»ç»Ÿæ¶æ„ä¹Ÿåœ¨ä¸æ–­çš„è¿›è¡Œå˜åŒ–ã€‚ä»äº’è”ç½‘æ—©æœŸåˆ°ç°åœ¨ï¼Œç³»ç»Ÿæ¶æ„å¤§ä½“ç»å†äº†ä¸‹é¢å‡ ä¸ªè¿‡ç¨‹: å•ä½“åº”ç”¨æ¶æ„â€”\u003eå‚ç›´åº”ç”¨æ¶æ„â€”\u003eåˆ†å¸ƒå¼æ¶æ„â€” \u003eSOAæ¶æ„â€”\u003eå¾®æœåŠ¡æ¶æ„ï¼Œå½“ç„¶è¿˜æœ‰æ‚„ç„¶å…´èµ·çš„Service Mesh(æœåŠ¡ç½‘æ ¼åŒ–)ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ æ¯ç§ç³»ç»Ÿæ¶æ„æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œ ä»¥åŠå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ã€‚\nå•ä½“åº”ç”¨æ¶æ„ äº’è”ç½‘æ—©æœŸï¼Œä¸€èˆ¬çš„ç½‘ç«™åº”ç”¨æµé‡è¾ƒå°ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½ä»£ç éƒ½éƒ¨ç½²åœ¨ä¸€èµ·å°±å¯ä»¥ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤çš„æˆæœ¬ã€‚\næ¯”å¦‚è¯´ä¸€ä¸ªç”µå•†ç³»ç»Ÿï¼Œé‡Œé¢ä¼šåŒ…å«å¾ˆå¤šç”¨æˆ·ç®¡ç†ï¼Œå•†å“ç®¡ç†ï¼Œè®¢å•ç®¡ç†ï¼Œç‰©æµç®¡ç†ç­‰ç­‰å¾ˆå¤šæ¨¡å—ï¼Œæˆ‘ä»¬ä¼šæŠŠå®ƒä»¬åšæˆä¸€ä¸ªwebé¡¹ç›®ï¼Œç„¶åéƒ¨ç½²åˆ°ä¸€å°tomcatæœåŠ¡å™¨ä¸Šã€‚\nä¼˜ç‚¹\né¡¹ç›®æ¶æ„ç®€å•ï¼Œå°å‹é¡¹ç›®çš„è¯ï¼Œ å¼€å‘æˆæœ¬ä½\né¡¹ç›®éƒ¨ç½²åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œ ç»´æŠ¤æ–¹ä¾¿\nç¼ºç‚¹\nå…¨éƒ¨åŠŸèƒ½é›†æˆåœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œå¯¹äºå¤§å‹é¡¹ç›®æ¥è®²ä¸æ˜“å¼€å‘å’Œç»´æŠ¤\né¡¹ç›®æ¨¡å—ä¹‹é—´ç´§å¯†è€¦åˆï¼Œå•ç‚¹å®¹é”™ç‡ä½\næ— æ³•é’ˆå¯¹ä¸åŒæ¨¡å—è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–å’Œæ°´å¹³æ‰©å±•\nå‚ç›´åº”ç”¨æ¶æ„ éšç€è®¿é—®é‡çš„é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨åªèƒ½ä¾é å¢åŠ èŠ‚ç‚¹æ¥åº”å¯¹ï¼Œä½†æ˜¯è¿™æ—¶å€™ä¼šå‘ç°å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ¨¡å—éƒ½ä¼šæœ‰æ¯”è¾ƒå¤§çš„è®¿é—®é‡ã€‚\nè¿˜æ˜¯ä»¥ä¸Šé¢çš„ç”µå•†ä¸ºä¾‹å­ï¼Œ ç”¨æˆ·è®¿é—®é‡çš„å¢åŠ å¯èƒ½å½±å“çš„åªæ˜¯ç”¨æˆ·å’Œè®¢å•æ¨¡å—ï¼Œ ä½†æ˜¯å¯¹æ¶ˆæ¯æ¨¡å— çš„å½±å“å°±æ¯”è¾ƒå°. é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å¸Œæœ›åªå¤šå¢åŠ å‡ ä¸ªè®¢å•æ¨¡å—ï¼Œ è€Œä¸å¢åŠ æ¶ˆæ¯æ¨¡å—. æ­¤æ—¶å•ä½“åº”ç”¨å°±åšä¸ åˆ°äº†ï¼Œ å‚ç›´åº”ç”¨å°±åº”è¿è€Œç”Ÿäº†ã€‚\næ‰€è°“çš„å‚ç›´åº”ç”¨æ¶æ„ï¼Œå°±æ˜¯å°†åŸæ¥çš„ä¸€ä¸ªåº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ ä»¥å°†ä¸Šé¢ç”µå•†çš„å•ä½“åº”ç”¨æ‹†åˆ†æˆ:\nç”µå•†ç³»ç»Ÿ(ç”¨æˆ·ç®¡ç† å•†å“ç®¡ç† è®¢å•ç®¡ç†)\nåå°ç³»ç»Ÿ(ç”¨æˆ·ç®¡ç† è®¢å•ç®¡ç† å®¢æˆ·ç®¡ç†)\nCMSç³»ç»Ÿ(å¹¿å‘Šç®¡ç† è¥é”€ç®¡ç†)\nè¿™æ ·æ‹†åˆ†å®Œæ¯•ä¹‹åï¼Œä¸€æ—¦ç”¨æˆ·è®¿é—®é‡å˜å¤§ï¼Œåªéœ€è¦å¢åŠ ç”µå•†ç³»ç»Ÿçš„èŠ‚ç‚¹å°±å¯ä»¥äº†ï¼Œè€Œæ— éœ€å¢åŠ åå° å’ŒCMSçš„èŠ‚ç‚¹ã€‚\nåˆ†å¸ƒå¼æ¶æ„ å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œé‡å¤çš„ä¸šåŠ¡ä»£ç å°±ä¼šè¶Šæ¥è¶Šå¤šã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±æ€è€ƒå¯ä¸å¯ä»¥å°†é‡å¤çš„ä»£ç æŠ½å– å‡ºæ¥ï¼Œåšæˆç»Ÿä¸€çš„ä¸šåŠ¡å±‚ä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œç„¶åç”±å‰ç«¯æ§åˆ¶å±‚è°ƒç”¨ä¸åŒçš„ä¸šåŠ¡å±‚æœåŠ¡å‘¢?è¿™å°±äº§ç”Ÿäº†æ–° çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ã€‚å®ƒå°†æŠŠå·¥ç¨‹æ‹†åˆ†æˆè¡¨ç°å±‚å’ŒæœåŠ¡å±‚ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒæœåŠ¡å±‚ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘ã€‚è¡¨ç°å±‚åªéœ€ è¦å¤„ç†å’Œé¡µé¢çš„äº¤äº’ï¼Œä¸šåŠ¡é€»è¾‘éƒ½æ˜¯è°ƒç”¨æœåŠ¡å±‚çš„æœåŠ¡æ¥å®ç°ã€‚\nä¼˜ç‚¹\næŠ½å–å…¬å…±çš„åŠŸèƒ½ä¸ºæœåŠ¡å±‚ï¼Œæé«˜ä»£ç å¤ç”¨æ€§ ç¼ºç‚¹\nç³»ç»Ÿé—´è€¦åˆåº¦å˜é«˜ï¼Œè°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ SOAæ¶æ„ åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸‹ï¼Œå½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ª è°ƒåº¦ä¸­å¿ƒå¯¹é›†ç¾¤è¿›è¡Œå®æ—¶ç®¡ç†ã€‚æ­¤æ—¶ï¼Œç”¨äºèµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA Service OrientedArchitectureï¼Œ é¢å‘æœåŠ¡çš„æ¶æ„)æ˜¯å…³é”®ã€‚\nä¼˜ç‚¹\nä½¿ç”¨æ³¨å†Œä¸­å¿ƒè§£å†³äº†æœåŠ¡é—´è°ƒç”¨å…³ç³»çš„è‡ªåŠ¨è°ƒèŠ‚ ç¼ºç‚¹\næœåŠ¡é—´ä¼šæœ‰ä¾èµ–å…³ç³»ï¼Œä¸€æ—¦æŸä¸ªç¯èŠ‚å‡ºé”™ä¼šå½±å“è¾ƒå¤§( æœåŠ¡é›ªå´© )\næœåŠ¡å…³å¿ƒå¤æ‚ï¼Œè¿ç»´ã€æµ‹è¯•éƒ¨ç½²å›°éš¾\nå¾®æœåŠ¡æ¶æ„ å¾®æœåŠ¡æ¶æ„åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯é¢å‘æœåŠ¡çš„æ¶æ„SOAç»§ç»­å‘å±•çš„ä¸‹ä¸€æ­¥ï¼Œå®ƒæ›´åŠ å¼ºè°ƒæœåŠ¡çš„\"å½»åº•æ‹†åˆ†\"ã€‚\nä¼˜ç‚¹\næœåŠ¡åŸå­åŒ–æ‹†åˆ†ï¼Œç‹¬ç«‹æ‰“åŒ…ã€éƒ¨ç½²å’Œå‡çº§ï¼Œä¿è¯æ¯ä¸ªå¾®æœåŠ¡æ¸…æ™°çš„ä»»åŠ¡åˆ’åˆ†ï¼Œåˆ©äºæ‰©å±•\nå¾®æœåŠ¡ä¹‹é—´é‡‡ç”¨Restfulç­‰è½»é‡çº§httpåè®®ç›¸äº’è°ƒç”¨\nç¼ºç‚¹:\nåˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘çš„æŠ€æœ¯æˆæœ¬é«˜(å®¹é”™ã€åˆ†å¸ƒå¼äº‹åŠ¡ç­‰) å¾®æœåŠ¡æ¶æ„ä»‹ç» å¾®æœåŠ¡æ¶æ„ï¼Œ ç®€å•çš„è¯´å°±æ˜¯å°†å•ä½“åº”ç”¨è¿›ä¸€æ­¥æ‹†åˆ†ï¼Œæ‹†åˆ†æˆæ›´å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹è¿è¡Œçš„é¡¹ç›®ã€‚\nå¾®æœåŠ¡æ¶æ„çš„å¸¸è§é—®é¢˜ ä¸€æ—¦é‡‡ç”¨å¾®æœåŠ¡ç³»ç»Ÿæ¶æ„ï¼Œå°±åŠ¿å¿…ä¼šé‡åˆ°è¿™æ ·å‡ ä¸ªé—®é¢˜:\nè¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œå¦‚ä½•ç®¡ç†ä»–ä»¬?(æœåŠ¡æ²»ç† æ³¨å†Œä¸­å¿ƒ[æœåŠ¡æ³¨å†Œ å‘ç° å‰”é™¤])\nè¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•é€šè®¯?(restful rpc )\nè¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œå®¢æˆ·ç«¯æ€ä¹ˆè®¿é—®ä»–ä»¬?(ç½‘å…³)\nè¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜äº†ï¼Œåº”è¯¥å¦‚ä½•è‡ªå¤„ç†?(å®¹é”™)\nè¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜äº†ï¼Œåº”è¯¥å¦‚ä½•æ’é”™? (é“¾è·¯è¿½è¸ª)\nå¯¹äºä¸Šé¢çš„é—®é¢˜ï¼Œæ˜¯ä»»ä½•ä¸€ä¸ªå¾®æœåŠ¡è®¾è®¡è€…éƒ½ä¸èƒ½ç»•è¿‡å»çš„ï¼Œå› æ­¤å¤§éƒ¨åˆ†çš„å¾®æœåŠ¡äº§å“éƒ½é’ˆå¯¹æ¯ä¸€ä¸ªé—® é¢˜æä¾›äº†ç›¸åº”çš„ç»„ä»¶æ¥è§£å†³å®ƒä»¬ã€‚\nå¾®æœåŠ¡æ¶æ„çš„å¸¸è§æ¦‚å¿µ æœåŠ¡æ²»ç† æœåŠ¡æ²»ç†å°±æ˜¯è¿›è¡ŒæœåŠ¡çš„è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œå…¶æ ¸å¿ƒæ˜¯æœåŠ¡çš„è‡ªåŠ¨æ³¨å†Œä¸å‘ç°ã€‚\næœåŠ¡æ³¨å†Œ:æœåŠ¡å®ä¾‹å°†è‡ªèº«æœåŠ¡ä¿¡æ¯æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒã€‚\næœåŠ¡å‘ç°:æœåŠ¡å®ä¾‹é€šè¿‡æ³¨å†Œä¸­å¿ƒï¼Œè·å–åˆ°æ³¨å†Œåˆ°å…¶ä¸­çš„æœåŠ¡å®ä¾‹çš„ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯å»è¯·æ±‚å®ƒä»¬æ ä¾›çš„æœåŠ¡ã€‚\næœåŠ¡å‰”é™¤:æœåŠ¡æ³¨å†Œä¸­å¿ƒå°†å‡ºé—®é¢˜çš„æœåŠ¡è‡ªåŠ¨å‰”é™¤åˆ°å¯ç”¨åˆ—è¡¨ä¹‹å¤–ï¼Œä½¿å…¶ä¸ä¼šè¢«è°ƒç”¨åˆ°ã€‚\næœåŠ¡è°ƒç”¨ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé€šå¸¸å­˜åœ¨å¤šä¸ªæœåŠ¡ä¹‹é—´çš„è¿œç¨‹è°ƒç”¨çš„éœ€æ±‚ã€‚ç›®å‰ä¸»æµçš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯æœ‰åŸºäºHTTPçš„RESTfulæ¥å£ä»¥åŠåŸºäºTCPçš„RPCåè®®ã€‚\nREST(Representational State Transfer):è¿™æ˜¯ä¸€ç§HTTPè°ƒç”¨çš„æ ¼å¼ï¼Œæ›´æ ‡å‡†ï¼Œæ›´é€šç”¨ï¼Œæ— è®ºå“ª ç§è¯­è¨€éƒ½æ”¯æŒhttpåè®®\nRPC(Remote Promote Call):ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ã€‚å…è®¸åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ã€‚ RPCæ¡†æ¶çš„ä¸»è¦ç›®æ ‡å°±æ˜¯è®©è¿œç¨‹æœåŠ¡è°ƒç”¨æ›´ç®€å•ã€é€æ˜ã€‚RPCæ¡†æ¶è´Ÿè´£å±è”½åº•å±‚çš„ä¼ è¾“æ–¹å¼ã€åºåˆ— åŒ–æ–¹å¼å’Œé€šä¿¡ç»†èŠ‚ã€‚å¼€å‘äººå‘˜åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦äº†è§£è°åœ¨ä»€ä¹ˆä½ç½®æä¾›äº†ä»€ä¹ˆæ ·çš„è¿œç¨‹æœåŠ¡æ¥å£ å³å¯ï¼Œå¹¶ä¸éœ€è¦å…³å¿ƒåº•å±‚é€šä¿¡ç»†èŠ‚å’Œè°ƒç”¨è¿‡ç¨‹ã€‚\nåŒºåˆ«ä¸è”ç³»\næ¯”è¾ƒé¡¹ RESTful RPC é€šè®¯åè®® HTTP ä¸€èˆ¬ä½¿ç”¨TCP æ€§èƒ½ ç•¥ä½ è¾ƒé«˜ çµæ´»åº¦ é«˜ è¾ƒé«˜ åº”ç”¨ å¾®æœåŠ¡æ¶æ„ SOAæ¶æ„ æœåŠ¡ç½‘å…³ éšç€å¾®æœåŠ¡çš„ä¸æ–­å¢å¤šï¼Œä¸åŒçš„å¾®æœåŠ¡ä¸€èˆ¬ä¼šæœ‰ä¸åŒçš„ç½‘ç»œåœ°å€ï¼Œè€Œå¤–éƒ¨å®¢æˆ·ç«¯å¯èƒ½éœ€è¦è°ƒç”¨å¤šä¸ªæœåŠ¡çš„æ¥å£æ‰èƒ½å®Œæˆä¸€ä¸ªä¸šåŠ¡éœ€æ±‚ï¼Œå¦‚æœè®©å®¢æˆ·ç«¯ç›´æ¥ä¸å„ä¸ªå¾®æœåŠ¡é€šä¿¡å¯èƒ½å‡ºç°:\nå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨ä¸åŒçš„urlåœ°å€ï¼Œå¢åŠ éš¾åº¦\nåœ¨ä¸€å®šçš„åœºæ™¯ä¸‹ï¼Œå­˜åœ¨è·¨åŸŸè¯·æ±‚çš„é—®é¢˜\næ¯ä¸ªå¾®æœåŠ¡éƒ½éœ€è¦è¿›è¡Œå•ç‹¬çš„èº«ä»½è®¤è¯\né’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒAPIç½‘å…³é¡ºåŠ¿è€Œç”Ÿã€‚\nAPIç½‘å…³ç›´é¢æ„æ€æ˜¯å°†æ‰€æœ‰APIè°ƒç”¨ç»Ÿä¸€æ¥å…¥åˆ°APIç½‘å…³å±‚ï¼Œç”±ç½‘å…³å±‚ç»Ÿä¸€æ¥å…¥å’Œè¾“å‡ºã€‚ä¸€ä¸ªç½‘å…³çš„åŸºæœ¬ åŠŸèƒ½æœ‰:ç»Ÿä¸€æ¥å…¥ã€å®‰å…¨é˜²æŠ¤ã€åè®®é€‚é…ã€æµé‡ç®¡æ§ã€é•¿çŸ­é“¾æ¥æ”¯æŒã€å®¹é”™èƒ½åŠ›ã€‚æœ‰äº†ç½‘å…³ä¹‹åï¼Œå„ä¸ª APIæœåŠ¡æä¾›å›¢é˜Ÿå¯ä»¥ä¸“æ³¨äºè‡ªå·±çš„çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œè€ŒAPIç½‘å…³æ›´ä¸“æ³¨äºå®‰å…¨ã€æµé‡ã€è·¯ç”±ç­‰é—®é¢˜ã€‚\næœåŠ¡å®¹é”™ åœ¨å¾®æœåŠ¡å½“ä¸­ï¼Œä¸€ä¸ªè¯·æ±‚ç»å¸¸ä¼šæ¶‰åŠåˆ°è°ƒç”¨å‡ ä¸ªæœåŠ¡ï¼Œå¦‚æœå…¶ä¸­æŸä¸ªæœåŠ¡ä¸å¯ç”¨ï¼Œæ²¡æœ‰åšæœåŠ¡å®¹é”™çš„ è¯ï¼Œææœ‰å¯èƒ½ä¼šé€ æˆä¸€è¿ä¸²çš„æœåŠ¡ä¸å¯ç”¨ï¼Œè¿™å°±æ˜¯é›ªå´©æ•ˆåº”ã€‚æˆ‘ä»¬æ²¡æ³•é¢„é˜²é›ªå´©æ•ˆåº”çš„å‘ç”Ÿï¼Œåªèƒ½å°½å¯ èƒ½å»åšå¥½å®¹é”™ã€‚æœåŠ¡å®¹é”™çš„ä¸‰ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯:\nä¸è¢«å¤–ç•Œç¯å¢ƒå½±å“ ä¸è¢«ä¸Šæ¸¸è¯·æ±‚å‹å® ä¸è¢«ä¸‹æ¸¸å“åº”æ‹–å® é“¾è·¯è¿½è¸ª éšç€å¾®æœåŠ¡æ¶æ„çš„æµè¡Œï¼ŒæœåŠ¡æŒ‰ç…§ä¸åŒçš„ç»´åº¦è¿›è¡Œæ‹†åˆ†ï¼Œä¸€æ¬¡è¯·æ±‚å¾€å¾€éœ€è¦æ¶‰åŠåˆ°å¤šä¸ªæœåŠ¡ã€‚äº’è”ç½‘åº” ç”¨æ„å»ºåœ¨ä¸åŒçš„è½¯ä»¶æ¨¡å—é›†ä¸Šï¼Œè¿™äº›è½¯ä»¶æ¨¡å—ï¼Œæœ‰å¯èƒ½æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿå¼€å‘ã€å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ æ¥å®ç°ã€æœ‰å¯èƒ½å¸ƒåœ¨äº†å‡ åƒå°æœåŠ¡å™¨ï¼Œæ¨ªè·¨å¤šä¸ªä¸åŒçš„æ•°æ®ä¸­å¿ƒã€‚å› æ­¤ï¼Œå°±éœ€è¦å¯¹ä¸€æ¬¡è¯·æ±‚æ¶‰åŠçš„å¤šä¸ª æœåŠ¡é“¾è·¯è¿›è¡Œæ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç›‘æ§å³é“¾è·¯è¿½è¸ª\nå¾®æœåŠ¡æ¶æ„çš„å¸¸è§è§£å†³æ–¹æ¡ˆ ServiceComb Apache ServiceCombï¼Œå‰èº«æ˜¯åä¸ºäº‘çš„å¾®æœåŠ¡å¼•æ“ CSE (Cloud Service Engine) äº‘æœåŠ¡ï¼Œæ˜¯å…¨çƒé¦–ä¸ª Apacheå¾®æœåŠ¡é¡¶çº§é¡¹ç›®ã€‚å®ƒæä¾›äº†ä¸€ç«™å¼çš„å¾®æœåŠ¡å¼€æºè§£å†³æ–¹æ¡ˆï¼Œè‡´åŠ›äºå¸®åŠ©ä¼ä¸šã€ç”¨æˆ·å’Œå¼€å‘è€…å°† ä¼ä¸šåº”ç”¨è½»æ¾å¾®æœåŠ¡åŒ–ä¸Šäº‘ï¼Œå¹¶å®ç°å¯¹å¾®æœåŠ¡åº”ç”¨çš„é«˜æ•ˆè¿ç»´ç®¡ç†ã€‚\nSpringCloud Spring Cloudæ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„é›†åˆã€‚å®ƒåˆ©ç”¨Spring Bootçš„å¼€å‘ä¾¿åˆ©æ€§å·§å¦™åœ°ç®€åŒ–äº†åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€è®¾ æ–½çš„å¼€å‘ï¼Œå¦‚æœåŠ¡å‘ç°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯æ€»çº¿ã€è´Ÿè½½å‡è¡¡ã€æ–­è·¯å™¨ã€æ•°æ®ç›‘æ§ç­‰ï¼Œéƒ½å¯ä»¥ç”¨Spring Bootçš„å¼€å‘é£æ ¼åšåˆ°ä¸€é”®å¯åŠ¨å’Œéƒ¨ç½²ã€‚\nSpring Cloudå¹¶æ²¡æœ‰é‡å¤åˆ¶é€ è½®å­ï¼Œå®ƒåªæ˜¯å°†ç›®å‰å„å®¶å…¬å¸å¼€å‘çš„æ¯”è¾ƒæˆç†Ÿã€ç»å¾—èµ·å®é™…è€ƒéªŒçš„æœåŠ¡æ¡† æ¶ç»„åˆèµ·æ¥ï¼Œé€šè¿‡Spring Booté£æ ¼è¿›è¡Œå†å°è£…å±è”½æ‰äº†å¤æ‚çš„é…ç½®å’Œå®ç°åŸç†ï¼Œæœ€ç»ˆç»™å¼€å‘è€…ç•™å‡ºäº† ä¸€å¥—ç®€å•æ˜“æ‡‚ã€æ˜“éƒ¨ç½²å’Œæ˜“ç»´æŠ¤çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘å·¥å…·åŒ…ã€‚\nSpringCloud Alibaba Spring Cloud Alibaba è‡´åŠ›äºæä¾›å¾®æœåŠ¡å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æ­¤é¡¹ç›®åŒ…å«å¼€å‘åˆ†å¸ƒå¼åº”ç”¨å¾®æœåŠ¡çš„ å¿…éœ€ç»„ä»¶ï¼Œæ–¹ä¾¿å¼€å‘è€…é€šè¿‡ Spring Cloud ç¼–ç¨‹æ¨¡å‹è½»æ¾ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡ã€‚\nSpringCloud Alibabaä»‹ç» Spring Cloud Alibaba è‡´åŠ›äºæä¾›å¾®æœåŠ¡å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æ­¤é¡¹ç›®åŒ…å«å¼€å‘åˆ†å¸ƒå¼åº”ç”¨å¾®æœåŠ¡çš„ å¿…éœ€ç»„ä»¶ï¼Œæ–¹ä¾¿å¼€å‘è€…é€šè¿‡ Spring Cloud ç¼–ç¨‹æ¨¡å‹è½»æ¾ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡ã€‚ä¾æ‰˜ Spring Cloud Alibabaï¼Œæ‚¨åªéœ€è¦æ·»åŠ ä¸€äº›æ³¨è§£å’Œå°‘é‡é…ç½®ï¼Œå°±å¯ä»¥å°† Spring Cloud åº”ç”¨æ¥å…¥é˜¿é‡Œå¾®æœ åŠ¡è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é˜¿é‡Œä¸­é—´ä»¶æ¥è¿…é€Ÿæ­å»ºåˆ†å¸ƒå¼åº”ç”¨ç³»ç»Ÿã€‚\nä¸»è¦åŠŸèƒ½ æœåŠ¡é™æµé™çº§:é»˜è®¤æ”¯æŒ WebServletã€WebFluxï¼Œ OpenFeignã€RestTemplateã€Spring CloudGatewayï¼Œ Zuulï¼Œ Dubbo å’Œ RocketMQ é™æµé™çº§åŠŸèƒ½çš„æ¥å…¥ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡æ§åˆ¶å° å®æ—¶ä¿®æ”¹é™æµé™çº§è§„åˆ™ï¼Œè¿˜æ”¯æŒæŸ¥çœ‹é™æµé™çº§ Metrics ç›‘æ§ã€‚\næœåŠ¡æ³¨å†Œä¸å‘ç°:é€‚é… Spring Cloud æœåŠ¡æ³¨å†Œä¸å‘ç°æ ‡å‡†ï¼Œé»˜è®¤é›†æˆäº† Ribbon çš„æ”¯æŒã€‚\nåˆ†å¸ƒå¼é…ç½®ç®¡ç†:æ”¯æŒåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®ï¼Œé…ç½®æ›´æ”¹æ—¶è‡ªåŠ¨åˆ·æ–°ã€‚\næ¶ˆæ¯é©±åŠ¨èƒ½åŠ›:åŸºäº Spring Cloud Stream ä¸ºå¾®æœåŠ¡åº”ç”¨æ„å»ºæ¶ˆæ¯é©±åŠ¨èƒ½åŠ›ã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡:ä½¿ç”¨ @GlobalTransactional æ³¨è§£ï¼Œ é«˜æ•ˆå¹¶ä¸”å¯¹ä¸šåŠ¡é›¶ä¾µå…¥åœ°è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚\né˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨:é˜¿é‡Œäº‘æä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚æ”¯æŒåœ¨ä»»ä½•åº”ç”¨ã€ä»» ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œè®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚\nåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦:æä¾›ç§’çº§ã€ç²¾å‡†ã€é«˜å¯é ã€é«˜å¯ç”¨çš„å®šæ—¶(åŸºäº Cron è¡¨è¾¾å¼)ä»»åŠ¡è°ƒåº¦æœåŠ¡ã€‚ åŒæ—¶æä¾›åˆ†å¸ƒå¼çš„ä»»åŠ¡æ‰§è¡Œæ¨¡å‹ï¼Œå¦‚ç½‘æ ¼ä»»åŠ¡ã€‚ç½‘æ ¼ä»»åŠ¡æ”¯æŒæµ·é‡å­ä»»åŠ¡å‡åŒ€åˆ†é…åˆ°æ‰€æœ‰ Worker(schedulerx-client)ä¸Šæ‰§è¡Œã€‚\né˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡:è¦†ç›–å…¨çƒçš„çŸ­ä¿¡æœåŠ¡ï¼Œå‹å¥½ã€é«˜æ•ˆã€æ™ºèƒ½çš„äº’è”åŒ–é€šè®¯èƒ½åŠ›ï¼Œå¸®åŠ©ä¼ä¸šè¿…é€Ÿæ­å»º å®¢æˆ·è§¦è¾¾é€šé“ã€‚\nç»„ä»¶ Sentinel:æŠŠæµé‡ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦ä¿æŠ¤æœåŠ¡çš„ç¨³ å®šæ€§ã€‚\nNacos:ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚\nRocketMQ:ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿï¼ŒåŸºäºé«˜å¯ç”¨åˆ†å¸ƒå¼é›†ç¾¤æŠ€æœ¯ï¼Œæä¾›ä½å»¶æ—¶çš„ã€é«˜å¯é  çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…æœåŠ¡ã€‚\nDubbo:Apache DubboTM æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ Java RPC æ¡†æ¶ã€‚\nSeata:é˜¿é‡Œå·´å·´å¼€æºäº§å“ï¼Œä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½å¾®æœåŠ¡åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚\nAlibaba Cloud ACM:ä¸€æ¬¾åœ¨åˆ†å¸ƒå¼æ¶æ„ç¯å¢ƒä¸­å¯¹åº”ç”¨é…ç½®è¿›è¡Œé›†ä¸­ç®¡ç†å’Œæ¨é€çš„åº”ç”¨é…ç½®ä¸­å¿ƒ äº§å“ã€‚\nAlibaba Cloud OSS: é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡(Object Storage Serviceï¼Œç®€ç§° OSS)ï¼Œæ˜¯é˜¿é‡Œäº‘æ ä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ã€ä»»ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œ è®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚\nAlibaba Cloud SchedulerX: é˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿå¼€å‘çš„ä¸€æ¬¾åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦äº§å“ï¼Œæä¾›ç§’çº§ã€ç²¾ å‡†ã€é«˜å¯é ã€é«˜å¯ç”¨çš„å®šæ—¶(åŸºäº Cron è¡¨è¾¾å¼)ä»»åŠ¡è°ƒåº¦æœåŠ¡ã€‚\nAlibaba Cloud SMS: è¦†ç›–å…¨çƒçš„çŸ­ä¿¡æœåŠ¡ï¼Œå‹å¥½ã€é«˜æ•ˆã€æ™ºèƒ½çš„äº’è”åŒ–é€šè®¯èƒ½åŠ›ï¼Œå¸®åŠ©ä¼ä¸šè¿…é€Ÿ æ­å»ºå®¢æˆ·è§¦è¾¾é€šé“ã€‚\n","description":"\n","tags":[],"title":"\nå¾®æœåŠ¡ä»‹ç»","uri":"/posts/post-308/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å¯¹äºç”¨ Markdown æ¥å†™åšå®¢çš„ç”¨æˆ·æ¥è¯´ï¼Œå›¾ç‰‡çš„å¼•ç”¨é—®é¢˜æ˜¯ä¸ªä¼—æ‰€å‘¨çŸ¥çš„éš¾é¢˜ã€‚ä½¿ç”¨äº†è¿™å¥—ç»„åˆåï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘å›¾ç‰‡é“¾æ¥å¤±æ•ˆæ‰“ä¸å¼€äº†ã€‚\nå·¥å…·ä¸‹è½½å®‰è£…ï¼š Typora ï¼š https://www.typora.io/\nuPic ï¼š ä» Github release ä¸‹è½½ã€‚å¦‚æœè®¿é—® Github ä¸‹è½½å›°éš¾çš„ï¼Œå¯ä»¥ä»Gitee releaseä¸‹è½½ã€‚\nChevereto ï¼šhttps://chevereto.com/ ï¼Œç¾¤æ™–å®‰è£…å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç«  http://maruifu.cn/article/142\nTyporaä¸Šä¼ è®¾ç½® æ’å…¥å›¾ç‰‡æ—¶é€‰æ‹©ï¼šä¸Šä¼ å›¾ç‰‡\nå‹¾é€‰ï¼š å¯¹æœ¬åœ°ä½ç½®çš„å›¾ç‰‡åº”ç”¨ä¸Šè¿°è§„åˆ™\nå‹¾é€‰ï¼š å¯¹ç½‘ç»œä½ç½®çš„å›¾ç‰‡åº”ç”¨ä¸Šè¿°è§„åˆ™\nä¸Šä¼ æœåŠ¡é€‰æ‹© ï¼šuPic\nTyporaä¸Šä¼ è®¾ç½®\nuPicä¸Šä¼ è®¾ç½® API Key: åœ¨æµè§ˆå™¨ç™»å½•ä½ çš„Cheveretoåï¼Œæ‰“å¼€ä»ªè¡¨ç›˜-\u003eè®¾ç½®-\u003eAPIã€‚æ‹·è´ API v1 Key\nè·å–API Key\nAPI åœ°å€ï¼š[ä½ çš„ Chevereto åœ°å€]/api/1/uploadã€‚ä¾‹å¦‚ https://demo.chevereto.com/api/1/upload\nè¯·æ±‚æ–¹å¼: POST ä½¿ç”¨ Base64: å‹¾é€‰ æ–‡ä»¶å­—æ®µå: source\nå…¶ä»–å­—æ®µï¼š\nå¢åŠ Headerså­—æ®µï¼š Content-Type:multipart/form-data; charset=utf-8;\nå¢åŠ Bodyå­—æ®µï¼š\nkey: å¡«å†™ä¸Šé¢å‡†å¤‡å¥½çš„ [API Key]\naction: upload\nuPicå…¶ä»–å­—æ®µè®¾ç½®\nURL è·¯å¾„ï¼šä¸Šä¼ å®Œæˆåè·å–å›¾ç‰‡é“¾æ¥çš„è·¯å¾„ã€‚[\"image\", \"url\"]\nuPicä¸Šä¼ è®¾ç½®\nè‡ªå®šä¹‰cheveretoä¸Šä¼ ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰ è·å–rootæƒé™ admin@XiaoMageNAS:~$ sudo -i root@XiaoMageNAS:~# æŸ¥çœ‹è¿è¡Œçš„dockerå®¹å™¨ root@XiaoMageNAS:~# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES f3e5f503f36d bitwardenrs/server:1.18.0 \"/start.sh\" 4 days ago Up 12 hours (healthy) 0.0.0.0:32769-\u003e80/tcp, 0.0.0.0:32777-\u003e3012/tcp bitwardenrs 8f0cd2b10c84 gogs/gogs:latest \"/app/gogs/docker/stâ€¦\" 5 weeks ago Up 5 days 3000/tcp, 0.0.0.0:32768-\u003e22/tcp, 0.0.0.0:32770-\u003e3001/tcp gogs-gogs1 c986eeb9d23d portainer/portainer \"/portainer\" 6 weeks ago Up 5 days 0.0.0.0:9999-\u003e9000/tcp portainer 5bd176c39f27 nmtan/chevereto:latest \"docker-php-entrypoiâ€¦\" 6 months ago Up 12 hours 0.0.0.0:10000-\u003e80/tcp nmtan-chevereto1 è¿›å…¥cheveretoå®¹å™¨ docker exec -it 5bd176c39f27 bash\né€€å‡ºå®¹å™¨cheveretoå®¹å™¨ exit\nå¤åˆ¶å®¹å™¨ä¸­çš„æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½• docker cp 5bd176c39f27:/var/www/html/app/routes/route.api.php /volume1/docker/ ä¿®æ”¹é…ç½®æ–‡ä»¶ vi /volume1/docker/route.api.php // å°†æ­¤105è¡Œä»£ç $uploaded_id = CHV\\Image::uploadToWebsite($source); ä¿®æ”¹ä¸ºä¸‹é¢ä»£ç  $uploaded_id = CHV\\Image::uploadToWebsite($source, 'xiaomage'); è¿™é‡Œçš„xiaomageæ˜¯è¦ä¼ çš„ç”¨æˆ·åï¼Œå¯ä»¥è®¾ç½®-\u003eè´¦æˆ·-\u003eç”¨æˆ·å æŸ¥çœ‹\nå¤åˆ¶åˆ°å®¹å™¨ç›®å½•é‡Œé¢ docker cp /volume1/docker/route.api.php 5bd176c39f27:/var/www/html/app/routes/overrides/ ","description":"\n","tags":[],"title":"\nTypora + uPic +Chevereto å®Œç¾ç»„åˆ","uri":"/posts/post-309/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Gitæ˜¯ä¸€ä¸ª â€œåˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†å·¥å…·â€ï¼Œç®€å•çš„ç†è§£ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼šå¤§å®¶åœ¨å†™ä¸œè¥¿çš„æ—¶å€™éƒ½ç”¨è¿‡ â€œå›æ’¤â€ è¿™ä¸ª\nåŠŸèƒ½ï¼Œä½†æ˜¯å›æ’¤åªèƒ½å›æ’¤å‡ æ­¥ï¼Œå‡å¦‚æƒ³è¦æ‰¾å›æˆ‘ä¸‰å¤©ä¹‹å‰çš„ä¿®æ”¹ï¼Œå…‰ç”¨ â€œå›æ’¤â€ æ˜¯æ‰¾ä¸å›æ¥çš„ã€‚è€Œ â€œç‰ˆæœ¬\nç®¡ç†å·¥å…·â€ èƒ½è®°å½•æ¯æ¬¡çš„ä¿®æ”¹ï¼Œåªè¦æäº¤åˆ°ç‰ˆæœ¬ä»“åº“ï¼Œä½ å°±å¯ä»¥æ‰¾åˆ°ä¹‹å‰ä»»ä½•æ—¶åˆ»çš„çŠ¶æ€ï¼ˆæ–‡æœ¬çŠ¶\næ€ï¼‰ã€‚\nä¸‹é¢çš„å†…å®¹å°±æ˜¯åˆ—ä¸¾äº†å¸¸ç”¨çš„ Git å‘½ä»¤å’Œä¸€äº›å°æŠ€å·§ï¼Œå¯ä»¥é€šè¿‡ â€œé¡µé¢å†…æŸ¥æ‰¾â€ çš„æ–¹å¼è¿›è¡Œå¿«é€ŸæŸ¥è¯¢ï¼š\nCtrl/Command+f ã€‚\nå‰è¨€ ä¸€å®šè¦å…ˆæµ‹è¯•å‘½ä»¤çš„æ•ˆæœåï¼Œå†ç”¨äºå·¥ä½œç¯å¢ƒä¸­ï¼Œä»¥é˜²é€ æˆä¸èƒ½å¼¥è¡¥çš„åæœï¼\næ‰€æœ‰çš„å‘½ä»¤éƒ½åœ¨ git version 2.7.4 (Apple Git-66) ä¸‹æµ‹è¯•é€šè¿‡\nç»Ÿä¸€æ¦‚å¿µï¼š\nå·¥ä½œåŒºï¼šæ”¹åŠ¨ï¼ˆå¢åˆ æ–‡ä»¶å’Œå†…å®¹ï¼‰\næš‚å­˜åŒºï¼šè¾“å…¥å‘½ä»¤ï¼š git add æ”¹åŠ¨çš„æ–‡ä»¶å ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€˜æš‚å­˜åŒºâ€™\næœ¬åœ°ä»“åº“(ç®€ç§°ï¼šæœ¬åœ°)ï¼šè¾“å…¥å‘½ä»¤ï¼š git commit æ­¤æ¬¡ä¿®æ”¹çš„æè¿° ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€™æœ¬åœ°\nä»“åº“â€™ï¼Œæ¯ä¸ª commitï¼Œæˆ‘å«å®ƒä¸ºä¸€ä¸ª â€˜ç‰ˆæœ¬â€™ã€‚\nè¿œç¨‹ä»“åº“(ç®€ç§°ï¼šè¿œç¨‹)ï¼šè¾“å…¥å‘½ä»¤ï¼š git push è¿œç¨‹ä»“åº“ ï¼Œæ­¤æ¬¡æ”¹åŠ¨å°±æ”¾åˆ°äº† â€˜è¿œç¨‹ä»“\nåº“â€™ï¼ˆGitHub ç­‰)\ncommit-idï¼šè¾“å‡ºå‘½ä»¤ï¼š git log ï¼Œæœ€ä¸Šé¢é‚£è¡Œ commit xxxxxx ï¼Œåé¢çš„å­—ç¬¦ä¸²å°±æ˜¯\ncommit-id\nå±•ç¤ºå¸®åŠ©ä¿¡æ¯ git help -g The command output as below:\nThe common Git guides are: attributes Defining attributes per path cli Git command-line interface and conventions core-tutorial A Git core tutorial for developers cvs-migration Git for CVS users diffcore Tweaking diff output everyday A useful minimum set of commands for Everyday Git glossary A Git Glossary hooks Hooks used by Git ignore Specifies intentionally untracked files to ignore modules Defining submodule properties namespaces Git namespaces repository-layout Git Repository Layout revisions Specifying revisions and ranges for Git tutorial A tutorial introduction to Git tutorial-2 A tutorial introduction to Git: part two workflows An overview of recommended workflows with Git 'git help -a' and 'git help -g' list available subcommands and some concept guides. See 'git help \u003ccommand\u003e' or 'git help \u003cconcept\u003e' to read about a specific subcommand or concept. See 'git help git' for an overview of the system. å›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€ æŠ›å¼ƒæœ¬åœ°æ‰€æœ‰çš„ä¿®æ”¹ï¼Œå›åˆ°è¿œç¨‹ä»“åº“çš„çŠ¶æ€ã€‚\ngit fetch --all \u0026\u0026 git reset --hard origin/master é‡è®¾ç¬¬ä¸€ä¸ªcommit ä¹Ÿå°±æ˜¯æŠŠæ‰€æœ‰çš„æ”¹åŠ¨éƒ½é‡æ–°æ”¾å›å·¥ä½œåŒºï¼Œå¹¶æ¸…ç©ºæ‰€æœ‰çš„ commitï¼Œè¿™æ ·å°±å¯ä»¥é‡æ–°æäº¤ç¬¬ä¸€ä¸ª commit\näº†\ngit update-ref -d HEAD æŸ¥çœ‹å†²çªæ–‡ä»¶åˆ—è¡¨ git diff --name-only --diff-filter=U å±•ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¸åŒ è¾“å‡ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ difffferent (ä¸åŒ)ã€‚\ngit diff è¿˜å¯ä»¥å±•ç¤ºæœ¬åœ°ä»“åº“ä¸­ä»»æ„ä¸¤ä¸ª commit ä¹‹é—´çš„æ–‡ä»¶å˜åŠ¨ï¼š\ngit diff \u003ccommit-id\u003e \u003ccommit-id\u003e å±•ç¤ºæš‚å­˜åŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ è¾“å‡ºæš‚å­˜åŒºå’Œæœ¬åœ°æœ€è¿‘çš„ç‰ˆæœ¬ (commit) çš„ difffferent (ä¸åŒ)ã€‚\ngit diff --cached å±•ç¤ºæš‚å­˜åŒºã€å·¥ä½œåŒºå’Œæœ€è¿‘ç‰ˆæœ¬çš„ä¸åŒ è¾“å‡ºå·¥ä½œåŒºã€æš‚å­˜åŒº å’Œæœ¬åœ°æœ€è¿‘çš„ç‰ˆæœ¬ (commit) çš„ difffferent (ä¸åŒ)ã€‚\ngit diff HEAD å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ git checkout - åˆ é™¤å·²ç»åˆå¹¶åˆ° master çš„åˆ†æ”¯ git branch --merged master | grep -v '^\\*\\| master' | xargs -n 1 git branch -d å±•ç¤ºæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“çš„æƒ…å†µ git branch -vv å…³è”è¿œç¨‹åˆ†æ”¯ å…³è”ä¹‹åï¼Œ git branch -vv å°±å¯ä»¥å±•ç¤ºå…³è”çš„è¿œç¨‹åˆ†æ”¯åäº†ï¼ŒåŒæ—¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ç›´æ¥ï¼š git\npush ï¼Œä¸éœ€è¦æŒ‡å®šè¿œç¨‹ä»“åº“äº†ã€‚\ngit branch -u origin/mybranch æˆ–è€…åœ¨ push æ—¶åŠ ä¸Š -u å‚æ•°\ngit push origin/mybranch -u åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ -r å‚æ•°ç›¸å½“äºï¼šremote\ngit branch -r åˆ—å‡ºæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯ -a å‚æ•°ç›¸å½“äºï¼šall\ngit branch -a æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯çš„å¯¹åº”å…³ç³» git remote show origin è¿œç¨‹åˆ é™¤äº†åˆ†æ”¯æœ¬åœ°ä¹Ÿæƒ³åˆ é™¤ git remote prune origin åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯ git checkout -b \u003cbranch-name\u003e ä»è¿œç¨‹åˆ†æ”¯ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯ git checkout -b \u003cbranch-name\u003e origin/\u003cbranch-name\u003e åˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d \u003clocal-branchname\u003e åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete \u003cremote-branchname\u003e æˆ–è€…\ngit push origin :\u003cremote-branchname\u003e é‡å‘½åæœ¬åœ°åˆ†æ”¯ git branch -m \u003cnew-branch-name\u003e æŸ¥çœ‹æ ‡ç­¾ git tag å±•ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘çš„ tag\ngit describe --tags --abbrev=0 æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯ git tag -ln æœ¬åœ°åˆ›å»ºæ ‡ç­¾ git tag \u003cversion-number\u003e é»˜è®¤ tag æ˜¯æ‰“åœ¨æœ€è¿‘çš„ä¸€æ¬¡ commit ä¸Šï¼Œå¦‚æœéœ€è¦æŒ‡å®š commit æ‰“ tagï¼š\n$ git tag -a \u003cversion-number\u003e -m \"v1.0 å‘å¸ƒ(æè¿°)\" \u003ccommit-id\u003e æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ é¦–å…ˆè¦ä¿è¯æœ¬åœ°åˆ›å»ºå¥½äº†æ ‡ç­¾æ‰å¯ä»¥æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼š\ngit push origin \u003clocal-version-number\u003e ä¸€æ¬¡æ€§æ¨é€æ‰€æœ‰æ ‡ç­¾ï¼ŒåŒæ­¥åˆ°è¿œç¨‹ä»“åº“\ngit push origin --tags åˆ é™¤æœ¬åœ°æ ‡ç­¾ git tag -d \u003ctag-name\u003e åˆ é™¤è¿œç¨‹æ ‡ç­¾ git push origin --delete tag \u003ctagname\u003e åˆ‡å›åˆ°æŸä¸ªæ ‡ç­¾ ä¸€èˆ¬ä¸Šçº¿ä¹‹å‰éƒ½ä¼šæ‰“ tagï¼Œå°±æ˜¯ä¸ºäº†é˜²æ­¢ä¸Šçº¿åå‡ºç°é—®é¢˜ï¼Œæ–¹ä¾¿å¿«é€Ÿå›é€€åˆ°ä¸Šä¸€ç‰ˆæœ¬ã€‚ä¸‹é¢çš„å‘½ä»¤æ˜¯å›\nåˆ°æŸä¸€æ ‡ç­¾ä¸‹çš„çŠ¶æ€ï¼š\ngit checkout -b branch_name tag_name æ”¾å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ git checkout \u003cfile-name\u003e æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹\ngit checkout . æ¢å¤åˆ é™¤çš„æ–‡ä»¶ git rev-list -n 1 HEAD -- \u003cfile_path\u003e #å¾—åˆ° deleting_commit git checkout \u003cdeleting_commit\u003e^ -- \u003cfile_path\u003e #å›åˆ°åˆ é™¤æ–‡ä»¶ deleting_commit ä¹‹å‰çš„ çŠ¶æ€ ä»¥æ–°å¢ä¸€ä¸ª commit çš„æ–¹å¼è¿˜åŸæŸä¸€ä¸ª commit çš„ä¿®æ”¹ git revert \u003ccommit-id\u003e å›åˆ°æŸä¸ª commit çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤åé¢çš„ commit å’Œ revert çš„åŒºåˆ«ï¼šreset å‘½ä»¤ä¼šæŠ¹å»æŸä¸ª commit id ä¹‹åçš„æ‰€æœ‰ commit\ngit reset \u003ccommit-id\u003e #é»˜è®¤å°±æ˜¯-mixedå‚æ•°ã€‚ git reset --mixed HEAD^ #å›é€€è‡³ä¸Šä¸ªç‰ˆæœ¬ï¼Œå®ƒå°†é‡ç½®HEADåˆ°å¦å¤–ä¸€ä¸ªcommit,å¹¶ä¸”é‡ç½®æš‚å­˜åŒºä»¥ä¾¿ å’ŒHEADç›¸åŒ¹é…ï¼Œä½†æ˜¯ä¹Ÿåˆ°æ­¤ä¸ºæ­¢ã€‚å·¥ä½œåŒºä¸ä¼šè¢«æ›´æ”¹ã€‚ git reset --soft HEAD~3 #å›é€€è‡³ä¸‰ä¸ªç‰ˆæœ¬ä¹‹å‰ï¼Œåªå›é€€äº†commitçš„ä¿¡æ¯ï¼Œæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å›é€€ä¹‹ å‰ä¿æŒä¸€è‡´ã€‚å¦‚æœè¿˜è¦æäº¤ï¼Œç›´æ¥commitå³å¯ git reset --hard \u003ccommit-id\u003e #å½»åº•å›é€€åˆ°æŒ‡å®šcommit-idçš„çŠ¶æ€ï¼Œæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¹Ÿä¼šå˜ä¸ºæŒ‡å®š commit-idç‰ˆæœ¬çš„å†…å®¹ ä¿®æ”¹ä¸Šä¸€ä¸ª commit çš„æè¿° å¦‚æœæš‚å­˜åŒºæœ‰æ”¹åŠ¨ï¼ŒåŒæ—¶ä¹Ÿä¼šå°†æš‚å­˜åŒºçš„æ”¹åŠ¨æäº¤åˆ°ä¸Šä¸€ä¸ª commit\ngit commit --amend æŸ¥çœ‹ commit å†å² git log æŸ¥çœ‹æŸæ®µä»£ç æ˜¯è°å†™çš„ blame çš„æ„æ€ä¸ºâ€˜è´£æ€ªâ€™ï¼Œä½ æ‡‚çš„ã€‚\ngit blame \u003cfile-name\u003e æ˜¾ç¤ºæœ¬åœ°æ›´æ–°è¿‡ HEAD çš„ git å‘½ä»¤è®°å½• æ¯æ¬¡æ›´æ–°äº† HEAD çš„ git å‘½ä»¤æ¯”å¦‚ commitã€amendã€cherry-pickã€resetã€revert ç­‰éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥\nï¼ˆä¸é™åˆ†æ”¯ï¼‰ï¼Œå°±åƒ shell çš„ history ä¸€æ ·ã€‚\nè¿™æ ·ä½ å¯ä»¥ reset åˆ°ä»»ä½•ä¸€æ¬¡æ›´æ–°äº† HEAD çš„æ“ä½œä¹‹åï¼Œè€Œä¸ä»…ä»…æ˜¯å›åˆ°å½“å‰åˆ†æ”¯ä¸‹çš„æŸä¸ª commit ä¹‹\nåçš„çŠ¶æ€ã€‚\ngit reflog ä¿®æ”¹ä½œè€…å git commit --amend --author='Author Name \u003cemail@address.com\u003e' ä¿®æ”¹è¿œç¨‹ä»“åº“çš„ url git remote set-url origin \u003cURL\u003e å¢åŠ è¿œç¨‹ä»“åº“ git remote add origin \u003cremote-url\u003e åˆ—å‡ºæ‰€æœ‰è¿œç¨‹ä»“åº“ git remote æŸ¥çœ‹ä¸¤ä¸ªæ˜ŸæœŸå†…çš„æ”¹åŠ¨ git whatchanged --since='2 weeks ago' æŠŠ A åˆ†æ”¯çš„æŸä¸€ä¸ª commitï¼Œæ”¾åˆ° B åˆ†æ”¯ä¸Š git checkout \u003cbranch-name\u003e \u0026\u0026 git cherry-pick \u003ccommit-id\u003e ç»™ git å‘½ä»¤èµ·åˆ«å ç®€åŒ–å‘½ä»¤\ngit config --global alias.\u003chandle\u003e \u003ccommand\u003e æ¯”å¦‚ï¼šgit status æ”¹æˆ git stï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–å‘½ä»¤ git config --global alias.st status å­˜å‚¨å½“å‰çš„ä¿®æ”¹ï¼Œä½†ä¸ç”¨æäº¤ commit å‚è€ƒå»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹\ngit stash ä¿å­˜å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬ untracked çš„æ–‡ä»¶ untracked æ–‡ä»¶ï¼šæ–°å»ºçš„æ–‡ä»¶\ngit stash -u å±•ç¤ºæ‰€æœ‰ stashes git stash list å›åˆ°æŸä¸ª stash çš„çŠ¶æ€ git stash apply \u003cstash@{n}\u003e å›åˆ°æœ€åä¸€ä¸ª stash çš„çŠ¶æ€ï¼Œå¹¶åˆ é™¤è¿™ä¸ª stash git stash pop åˆ é™¤æ‰€æœ‰çš„ stash git stash clear ä» stash ä¸­æ‹¿å‡ºæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹ git checkout \u003cstash@{n}\u003e -- \u003cfile-path\u003e å±•ç¤ºæ‰€æœ‰ tracked çš„æ–‡ä»¶ git ls-files -t å±•ç¤ºæ‰€æœ‰ untracked çš„æ–‡ä»¶ git ls-files --others å±•ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶ git ls-files --others -i --exclude-standard å¼ºåˆ¶åˆ é™¤ untracked çš„æ–‡ä»¶ å¯ä»¥ç”¨æ¥åˆ é™¤æ–°å»ºçš„æ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ–‡ä»¶æ–‡ä»¶åï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰å·¥ä½œçš„ untracked æ–‡ä»¶ã€‚ clean å‘½\nä»¤ï¼Œæ³¨æ„ä¸¤ç‚¹ï¼š\nclean åï¼Œåˆ é™¤çš„æ–‡ä»¶æ— æ³•æ‰¾å›\nä¸ä¼šå½±å“ tracked çš„æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œåªä¼šåˆ é™¤ untracked çš„æ–‡ä»¶\ngit clean \u003cfile-name\u003e -f å¼ºåˆ¶åˆ é™¤ untracked çš„ç›®å½• å¯ä»¥ç”¨æ¥åˆ é™¤æ–°å»ºçš„ç›®å½•ï¼Œæ³¨æ„:è¿™ä¸ªå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥åˆ é™¤ untracked çš„æ–‡ä»¶ã€‚è¯¦æƒ…è§ä¸Šä¸€æ¡\ngit clean \u003cdirectory-name\u003e -df å±•ç¤ºç®€åŒ–çš„ commit å†å² git log --pretty=oneline --graph --decorate --all æŠŠæŸä¸€ä¸ªåˆ†æ”¯åˆ°å¯¼å‡ºæˆä¸€ä¸ªæ–‡ä»¶ git bundle create \u003cfile\u003e \u003cbranch-name\u003e ä»åŒ…ä¸­å¯¼å…¥åˆ†æ”¯ æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåˆ†æ”¯å†…å®¹å°±æ˜¯ä¸Šé¢ git bundle create å‘½ä»¤å¯¼å‡ºçš„å†…å®¹\ngit clone repo.bundle \u003crepo-dir\u003e -b \u003cbranch-name\u003e æ‰§è¡Œ rebase ä¹‹å‰è‡ªåŠ¨ stash git rebase --autostash ä»è¿œç¨‹ä»“åº“æ ¹æ® IDï¼Œæ‹‰ä¸‹æŸä¸€çŠ¶æ€ï¼Œåˆ°æœ¬åœ°åˆ†æ”¯è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹ git fetch origin pull/\u003cid\u003e/head:\u003cbranch-name\u003e è¯¦ç»†å±•ç¤ºä¸€è¡Œä¸­çš„ä¿®æ”¹ git diff --word-diff æ¸…é™¤ .gitignore æ–‡ä»¶ä¸­è®°å½•çš„æ–‡ä»¶ git clean -X -f å±•ç¤ºæ‰€æœ‰ alias å’Œ confifigs æ³¨æ„ï¼š confifig åˆ†ä¸ºï¼šå½“å‰ç›®å½•ï¼ˆlocalï¼‰å’Œå…¨å±€ï¼ˆgolbalï¼‰çš„ confifigï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•çš„ confifig\ngit config --local --list (å½“å‰ç›®å½•) git config --global --list (å…¨å±€) å±•ç¤ºå¿½ç•¥çš„æ–‡ä»¶ git status --ignored commit å†å²ä¸­æ˜¾ç¤º Branch1 æœ‰çš„ï¼Œä½†æ˜¯ Branch2 æ²¡æœ‰ commit git log Branch1 ^Branch2 åœ¨ commit log ä¸­æ˜¾ç¤º GPG ç­¾å git log --show-signature åˆ é™¤å…¨å±€è®¾ç½® git config --global --unset \u003centry-name\u003e æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸Šï¼ŒåŒæ—¶è¿™ä¸ªåˆ†æ”¯æ²¡æœ‰ä»»ä½• commit ç›¸å½“äºä¿å­˜ä¿®æ”¹ï¼Œä½†æ˜¯é‡å†™ commit å†å²\ngit checkout --orphan \u003cbranch-name\u003e å±•ç¤ºä»»æ„åˆ†æ”¯æŸä¸€æ–‡ä»¶çš„å†…å®¹ git show \u003cbranch-name\u003e:\u003cfile-name\u003e clone ä¸‹æ¥æŒ‡å®šçš„å•ä¸€åˆ†æ”¯ git clone -b \u003cbranch-name\u003e --single-branch https://github.com/user/repo.git clone æœ€æ–°ä¸€æ¬¡æäº¤ åªä¼š clone æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œå°†å‡å°‘ clone æ—¶é—´\ngit clone --depth=1 https://github.com/user/repo.git å¿½ç•¥æŸä¸ªæ–‡ä»¶çš„æ”¹åŠ¨ å…³é—­ track æŒ‡å®šæ–‡ä»¶çš„æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯ Git å°†ä¸ä¼šåœ¨è®°å½•è¿™ä¸ªæ–‡ä»¶çš„æ”¹åŠ¨\ngit update-index --assume-unchanged path/to/file æ¢å¤ track æŒ‡å®šæ–‡ä»¶çš„æ”¹åŠ¨\ngit update-index --no-assume-unchanged path/to/file å¿½ç•¥æ–‡ä»¶çš„æƒé™å˜åŒ– ä¸å†å°†æ–‡ä»¶çš„æƒé™å˜åŒ–è§†ä½œæ”¹åŠ¨\ngit config core.fileMode false ä»¥æœ€åæäº¤çš„é¡ºåºåˆ—å‡ºæ‰€æœ‰ Git åˆ†æ”¯ æœ€æ–°çš„æ”¾åœ¨æœ€ä¸Šé¢\ngit for-each-ref --sort=-committerdate --format='%(refname:short)' refs/heads/ åœ¨ commit log ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹ é€šè¿‡ grep æŸ¥æ‰¾ï¼Œgiven-textï¼šæ‰€éœ€è¦æŸ¥æ‰¾çš„å­—æ®µ\ngit log --all --grep='\u003cgiven-text\u003e' æŠŠæš‚å­˜åŒºçš„æŒ‡å®š fifile æ”¾åˆ°å·¥ä½œåŒºä¸­ ä¸æ·»åŠ å‚æ•°ï¼Œé»˜è®¤æ˜¯ -mixed\ngit reset \u003cfile-name\u003e å¼ºåˆ¶æ¨é€ git push -f \u003cremote-name\u003e \u003cbranch-name\u003e git é…ç½® http å’Œ socks ä»£ç† git config --global https.proxy 'http://127.0.0.1:8001' # é€‚ç”¨äº privoxy å°† socks åè®®è½¬ä¸º http åè®®çš„ http ç«¯å£ git config --global http.proxy 'http://127.0.0.1:8001' git config --global socks.proxy \"127.0.0.1:1080\" git é…ç½® ssh ä»£ç† $ cat ~/.ssh/config Host gitlab.com ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p # ç›´æ¥ä½¿ç”¨ shadowsocks æä¾›çš„socks5 ä»£ç†ç«¯å£ Host github.com ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p æ¨é€é•œåƒ git push --mirror $URL ä¸€å›¾è¯¦è§£ ä¼˜é›…çš„æäº¤Commitä¿¡æ¯ ä½¿ç”¨Angularå›¢é˜Ÿæäº¤è§„èŒƒ\nä¸»è¦æœ‰ä»¥ä¸‹ç»„æˆ\næ ‡é¢˜è¡Œ: å¿…å¡«, æè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹\nä¸»é¢˜å†…å®¹: æè¿°ä¸ºä»€ä¹ˆä¿®æ”¹, åšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹, ä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰\né¡µè„šæ³¨é‡Š: æ”¾ Breaking Changes æˆ– Closed Issues\nå¸¸ç”¨çš„ä¿®æ”¹é¡¹\ntype: commit çš„ç±»å‹\nfeat: æ–°ç‰¹æ€§\nfifix: ä¿®æ”¹é—®é¢˜\nrefactor: ä»£ç é‡æ„\ndocs: æ–‡æ¡£ä¿®æ”¹\nstyle: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹\ntest: æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹\nchore: å…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ„å»ºæµç¨‹, ä¾èµ–ç®¡ç†.\nscope: commit å½±å“çš„èŒƒå›´, æ¯”å¦‚: route, component, utils, buildâ€¦\nsubject: commit çš„æ¦‚è¿°\nbody: commit å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œ\nfooter: ä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥.\nä½¿ç”¨Commitizen ä»£æ›¿ git commit å¯ä»¥ä½¿ç”¨cz-cliå·¥å…·ä»£æ›¿ git commit\nå…¨å±€å®‰è£…\nnpm install -g commitizen Commitizené€‚é…å™¨ å¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨commitizenç”Ÿæˆç¬¦åˆAngularJSè§„èŒƒçš„æäº¤è¯´æ˜ï¼Œåˆå§‹åŒ–cz-conventional-changelogé€‚é…å™¨ï¼š\ncommitizen init cz-conventional-changelog --save --save-exact å¦‚æœå½“å‰å·²ç»æœ‰å…¶ä»–é€‚é…å™¨è¢«ä½¿ç”¨ï¼Œåˆ™ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œæ­¤æ—¶å¯ä»¥åŠ ä¸Š--forceé€‰é¡¹è¿›è¡Œå†æ¬¡åˆå§‹åŒ–\nError: A previous adapter is already configured. Use --force to override å…¨å±€å®‰è£…åä½¿ç”¨ git cz ä»£æ›¿git commit å°±å¯ä»¥äº†,å¦‚ä¸‹ï¼š\n? Select the type of change that you're committing: (Use arrow keys) â¯ feat: A new feature fix: A bug fix docs: Documentation only changes style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc) refactor: A code change that neither fixes a bug nor adds a feature perf: A code change that improves performance test: Adding missing tests or correcting existing tests ","description":"\n","tags":[],"title":"\nGitçš„å¥‡æŠ€æ·«å·§","uri":"/posts/post-310/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"æ–‡ç« è½¬è½½è‡ª: http://www.ciphermagic.cn/java8-builder.html\nç¨‹åºå‘˜ç»å¸¸ä¼šé‡åˆ°çµé­‚æ‹·é—®ï¼šä½ æœ‰å¯¹è±¡å—ï¼Ÿ\næ²¡æœ‰ï¼Œä½†æˆ‘å¯ä»¥ new ä¸€ä¸ªï¼\n1 2 3 4 5 6 7 8 9 10 public class GirlFriend { private String name; private int age; // çœç•¥ getter \u0026 setter ... public static void main(String[] args) { GirlFriend myGirlFriend = new GirlFriend(); myGirlFriend.setName(\"å°ç¾\"); myGirlFriend.setAge(18); } } æ²¡é—®é¢˜ï¼Œè€é“ï¼ä½†å¦‚æœå¯¹è±¡çš„å±æ€§å¤ªå¤šï¼Œå’‹åŠï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 public class GirlFriend { private String name; private int age; private int bust; private int waist; private int hips; private List\u003cString\u003e hobby; private String birthday; private String address; private String mobile; private String email; private String hairColor; private Map\u003cString, String\u003e gift; // ç­‰ç­‰ç­‰ç­‰ ... // çœç•¥ getter \u0026 setter ... public static void main(String[] args) { GirlFriend myGirlFriend = new GirlFriend(); myGirlFriend.setName(\"å°ç¾\"); myGirlFriend.setAge(18); myGirlFriend.setBust(33); myGirlFriend.setWaist(23); myGirlFriend.setHips(33); myGirlFriend.setBirthday(\"2001-10-26\"); myGirlFriend.setAddress(\"ä¸Šæµ·æµ¦ä¸œ\"); myGirlFriend.setMobile(\"18688888888\"); myGirlFriend.setEmail(\"pretty-xiaomei@qq.com\"); myGirlFriend.setHairColor(\"æµ…æ£•è‰²å¸¦ç‚¹å¾®å·\"); List\u003cString\u003e hobby = new ArrayList\u003c\u003e(); hobby.add(\"é€›è¡—\"); hobby.add(\"è´­ç‰©\"); hobby.add(\"ä¹°ä¸œè¥¿\"); myGirlFriend.setHobby(hobby); Map\u003cString, String\u003e gift = new HashMap\u003c\u003e(); gift.put(\"æƒ…äººèŠ‚ç¤¼ç‰©\", \"LBR 1912å¥³ç‹æ—¶ä»£\"); gift.put(\"ç”Ÿæ—¥ç¤¼ç‰©\", \"è¿ªå¥¥çƒˆç„°è“é‡‘\"); gift.put(\"çºªå¿µæ—¥ç¤¼ç‰©\", \"é˜¿ç›å°¼çº¢ç®¡å”‡é‡‰\"); myGirlFriend.setGift(gift); // ç­‰ç­‰ç­‰ç­‰ ... } } 1 2 3 4 5 6 7 8 9 10 11 12 13 GirlFriend{name='å°ç¾' , age=18 , bust=33 , waist=23 , hips=33 , hobby=[é€›è¡—, è´­ç‰©, ä¹°ä¸œè¥¿] , birthday='2001-10-26' , address='ä¸Šæµ·æµ¦ä¸œ' , mobile='18688888888' , email='pretty-xiaomei@qq.com' , hairColor='æµ…æ£•è‰²å¸¦ç‚¹å¾®å·' , gift={æƒ…äººèŠ‚ç¤¼ç‰©=LBR 1912å¥³ç‹æ—¶ä»£, ç”Ÿæ—¥ç¤¼ç‰©=è¿ªå¥¥çƒˆç„°è“é‡‘, çºªå¿µæ—¥ç¤¼ç‰©=é˜¿ç›å°¼çº¢ç®¡å”‡é‡‰} } GirlFriend æ˜¯å¾ˆç¾ï¼Œä½†å†™èµ·æ¥ä¹Ÿå¤ªéº»çƒ¦äº†å§ã€‚\nè¯´è¯´ç¼ºç‚¹ï¼šå®ä¾‹åŒ–å’Œè®¾ç½®å±æ€§åˆ†å¼€ï¼Œä¸å¥½ç»´æŠ¤ï¼›å˜é‡åé‡å¤å†™ã€‚\nè«æ…Œï¼Œçœ‹æ³•å®~\nè¿™é‡Œä¸å†ä»‹ç»å…¶ä»– Builder å®ç°æ–¹å¼ï¼Œç›´æ¥ç¥­å‡ºæœ€å®ç”¨çš„é€šç”¨Builderï¼š\né€‚ç”¨äºæ‰€æœ‰ç±»ï¼Œä¸éœ€è¦æ”¹é€ åŸæ¥ç±»ï¼Œä¸éœ€è¦ lombok æ’ä»¶æ”¯æŒã€‚\nå…ˆçœ‹çœ‹ä½¿ç”¨å§¿åŠ¿ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 public class GirlFriend { // çœç•¥å±æ€§ ... // çœç•¥ getter \u0026 setter ... // ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼ŒåŠ å‡ ä¸ªèšåˆæ–¹æ³• public void addHobby(String hobby) { this.hobby = Optional.ofNullable(this.hobby).orElse(new ArrayList\u003c\u003e()); this.hobby.add(hobby); } public void addGift(String day, String gift) { this.gift = Optional.ofNullable(this.gift).orElse(new HashMap\u003c\u003e()); this.gift.put(day, gift); } public void setVitalStatistics(int bust, int waist, int hips) { this.bust = bust; this.waist = waist; this.hips = hips; } public static void main(String[] args) { GirlFriend myGirlFriend = Builder.of(GirlFriend::new) .with(GirlFriend::setName, \"å°ç¾\") .with(GirlFriend::setAge, 18) .with(GirlFriend::setVitalStatistics, 33, 23, 33) .with(GirlFriend::setBirthday, \"2001-10-26\") .with(GirlFriend::setAddress, \"ä¸Šæµ·æµ¦ä¸œ\") .with(GirlFriend::setMobile, \"18688888888\") .with(GirlFriend::setEmail, \"pretty-xiaomei@qq.com\") .with(GirlFriend::setHairColor, \"æµ…æ£•è‰²å¸¦ç‚¹å¾®å·\") .with(GirlFriend::addHobby, \"é€›è¡—\") .with(GirlFriend::addHobby, \"è´­ç‰©\") .with(GirlFriend::addHobby, \"ä¹°ä¸œè¥¿\") .with(GirlFriend::addGift, \"æƒ…äººèŠ‚ç¤¼ç‰©\", \"LBR 1912å¥³ç‹æ—¶ä»£\") .with(GirlFriend::addGift, \"ç”Ÿæ—¥ç¤¼ç‰©\", \"è¿ªå¥¥çƒˆç„°è“é‡‘\") .with(GirlFriend::addGift, \"çºªå¿µæ—¥ç¤¼ç‰©\", \"é˜¿ç›å°¼çº¢ç®¡å”‡é‡‰\") // ç­‰ç­‰ç­‰ç­‰ ... .build(); } } çœ‹åˆ°äº†å—ï¼å®ä¾‹åŒ–å’Œå±æ€§è®¾ç½®åœ¨åŒä¸€æ¡è¯­å¥æ‰§è¡Œï¼Œé“¾å¼æ“ä½œï¼Œä¸€è·¯ç‚¹ç‚¹ç‚¹ï¼Œæ¸…çˆ½ï¼\nTalk is cheap, show me the codeï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 /** * é€šç”¨çš„ Builder æ¨¡å¼æ„å»ºå™¨ * * @author: CipherCui * @since 2019/8/29 */ public class Builder\u003cT\u003e { private final Supplier\u003cT\u003e instantiator; private List\u003cConsumer\u003cT\u003e\u003e modifiers = new ArrayList\u003c\u003e(); public Builder(Supplier\u003cT\u003e instantiator) { this.instantiator = instantiator; } public static \u003cT\u003e Builder\u003cT\u003e of(Supplier\u003cT\u003e instantiator) { return new Builder\u003c\u003e(instantiator); } public \u003cP1\u003e Builder\u003cT\u003e with(Consumer1\u003cT, P1\u003e consumer, P1 p1) { Consumer\u003cT\u003e c = instance -\u003e consumer.accept(instance, p1); modifiers.add(c); return this; } public \u003cP1, P2\u003e Builder\u003cT\u003e with(Consumer2\u003cT, P1, P2\u003e consumer, P1 p1, P2 p2) { Consumer\u003cT\u003e c = instance -\u003e consumer.accept(instance, p1, p2); modifiers.add(c); return this; } public \u003cP1, P2, P3\u003e Builder\u003cT\u003e with(Consumer3\u003cT, P1, P2, P3\u003e consumer, P1 p1, P2 p2, P3 p3) { Consumer\u003cT\u003e c = instance -\u003e consumer.accept(instance, p1, p2, p3); modifiers.add(c); return this; } public T build() { T value = instantiator.get(); modifiers.forEach(modifier -\u003e modifier.accept(value)); modifiers.clear(); return value; } /** * 1 å‚æ•° Consumer */ @FunctionalInterface public interface Consumer1\u003cT, P1\u003e { void accept(T t, P1 p1); } /** * 2 å‚æ•° Consumer */ @FunctionalInterface public interface Consumer2\u003cT, P1, P2\u003e { void accept(T t, P1 p1, P2 p2); } /** * 3 å‚æ•° Consumer */ @FunctionalInterface public interface Consumer3\u003cT, P1, P2, P3\u003e { void accept(T t, P1 p1, P2 p2, P3 p3); } } è¿™ä¸ªç¤ºä¾‹æœ€å¤šæ”¯æŒä¸‰ä¸ªå‚æ•°çš„è®¾ç½®å±æ€§æ–¹æ³•ï¼Œä¹Ÿå®Œå…¨å¤Ÿç”¨äº†ã€‚å¦‚æœè¦æ‰©å±•ä¹Ÿå¾ˆå®¹æ˜“ï¼Œä¾è‘«èŠ¦ç”»ç“¢ï¼Œæ·»åŠ å¤šä¸ªå‚æ•°çš„Consumerã€‚\nå¿«ç”¨ä½ çš„ Builder å»ºä¸ªå¯¹è±¡å§~\nlambokçš„@Accessors(chain = true)ä¹Ÿå¯ä»¥ä½¿ç”¨é“¾å¼ç»“æ„\n","description":"\n","tags":[],"title":"\nä½ è¿˜åœ¨newå¯¹è±¡å—ï¼ŸJava8é€šç”¨Builderäº†è§£ä¸€ä¸‹ï¼Ÿ","uri":"/posts/post-311/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"è®¾è®¡æ¨¡å¼\néœ€æ±‚ ä¸šåŠ¡éœ€æ±‚æ˜¯ï¼Œæœ‰ä¸€ä¸ªä»£æŠ¥è€ƒç³»ç»Ÿï¼Œé‡Œé¢çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯æ ¹æ®æŠ¥è€ƒç±»ç›®çš„ä¸åŒç»´æŠ¤ä¸åŒçš„ä»£æŠ¥è€ƒè§„åˆ™ã€‚\nä»£æŠ¥è€ƒè§„åˆ™çš„å®ä½“ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 public class ExamRuleEditReqDTO extends BaseDTO { // æ—  åˆ™æ–°å¢ æœ‰åˆ™ ä¿®æ”¹ private Integer id; //æŠ¥è€ƒè§„åˆ™åç§° @NotNull(message = \"æŠ¥è€ƒè§„åˆ™åç§°ä¸èƒ½ä¸ºç©º!\") private String name; /** * æŠ¥è€ƒç±»ç›® typeCode * æ¶ˆé˜²å·¥ç¨‹å¸ˆ HC_EXAM_TYPE_FIRE_ENGINEER * æˆäººé«˜è€ƒ HC_EXAM_TYPE_ADULT_EXAM * ACI å¿ƒç† HC_EXAM_TYPE_ACI_PSYCHOLOGY * ACI è¥å…» HC_EXAM_TYPE_ACI_NUTRITION * å¥åº·ç®¡ç†å¸ˆ HC_EXAM_TYPE_HEALTH_MANAGER * è‡ªå®šä¹‰ç±»ç›® HC_EXAM_TYPE_CUSTOMIZE */ @NotNull(message = \"æŠ¥è€ƒç±»ç›®Codeä¸èƒ½ä¸ºç©º!\") private String typeCode; //æ˜¯å¦å…åæŠ¥è´¹ private String exemptionAssistFlag; // ... çœç•¥ get / set ... } serviceæ¥å£\n1 2 3 4 5 6 7 8 9 public interface ExamService { //ç»´æŠ¤ä»£æŠ¥è€ƒè§„åˆ™ ResponseBaseDTO\u003cInteger\u003e editExamRule(ExamRuleEditReqDTO reqDTO); //æŸ¥è¯¢ä»£æŠ¥è€ƒè§„åˆ™ ResponseBaseDTO\u003cExamRuleDetailQueryRespDTO\u003e queryExamRuleDetail(ExamRuleQueryReqDTO reqDTO); } ä¼ ç»Ÿå®ç° æ ¹æ®æŠ¥è€ƒç±»ç›®å†™ä¸€å †çš„if elseï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 @Service public class ExamServiceImpl implements ExamService { @Autowired private ExamRuleFireEngineerHandler examRuleFireEngineerHandler; @Autowired private ExamRuleAdultExamHandler examRuleAdultExamHandler; @Autowired private ExamRuleAciPsychologyHandler examRuleAciPsychologyHandler; @Autowired private ExamRuleAciNutritionHandler examRuleAciNutritionHandler; @Autowired private ExamRuleHealthManagerHandler examRuleHealthManagerHandler; @Autowired private ExamRuleCustomizeHandler examRuleCustomizeHandler; public ResponseBaseDTO\u003cInteger\u003e editExamRule(ExamRuleEditReqDTO reqDTO) { if (ExamConstants.HC_EXAM_TYPE_FIRE_ENGINEER.equals(reqDTO.getTypeCode())) { return examRuleFireEngineerHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ADULT_EXAM.equals(reqDTO.getTypeCode())) { return examRuleAdultExamHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ACI_PSYCHOLOGY.equals(reqDTO.getTypeCode())) { return examRuleAciPsychologyHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ACI_NUTRITION.equals(reqDTO.getTypeCode())) { return examRuleAciNutritionHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_HEALTH_MANAGER.equals(reqDTO.getTypeCode())) { return examRuleHealthManagerHandler.editHandler(reqDTO); } return new ResponseBaseDTO\u003c\u003e(ResponseBaseDTO.FLAG_FAIL, \"ä»£æŠ¥è€ƒç±»ç›®å‚æ•°ä¸æ­£ç¡®ï¼\"); } public ResponseBaseDTO\u003cExamRuleDetailQueryRespDTO\u003e queryExamRuleDetail(ExamRuleQueryReqDTO reqDTO) { if (ExamConstants.HC_EXAM_TYPE_FIRE_ENGINEER.equals(reqDTO.getTypeCode())) { return examRuleFireEngineerHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ADULT_EXAM.equals(reqDTO.getTypeCode())) { return examRuleAdultExamHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ACI_PSYCHOLOGY.equals(reqDTO.getTypeCode())) { return examRuleAciPsychologyHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_ACI_NUTRITION.equals(reqDTO.getTypeCode())) { return examRuleAciNutritionHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_HEALTH_MANAGER.equals(reqDTO.getTypeCode())) { return examRuleHealthManagerHandler.editHandler(reqDTO); } else if (ExamConstants.HC_EXAM_TYPE_CUSTOMIZE.equals(reqDTO.getTypeCode())) { return examRuleHealthManagerHandler.editHandler(reqDTO); } return new ResponseBaseDTO\u003c\u003e(ResponseBaseDTO.FLAG_FAIL, \"ä»£æŠ¥è€ƒç±»ç›®å‚æ•°ä¸æ­£ç¡®ï¼\"); } } ç­–ç•¥æ¨¡å¼å®ç° åˆ©ç”¨ç­–ç•¥æ¨¡å¼ï¼Œåªéœ€è¦ä¸¤è¡Œå³å¯å®ç°ä¸šåŠ¡é€»è¾‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 @Service public class ExamServiceImpl implements ExamService { @Autowired private ExamRuleHandlerContext examRuleHandlerContext; @Override @Transactional public ResponseBaseDTO\u003cInteger\u003e editExamRule(ExamRuleEditReqDTO reqDTO ) { return this.examRuleHandlerContext.getHandlerInstance(reqDTO.getTypeCode()).editHandler(reqDTO ); } @Override public ResponseBaseDTO\u003cExamRuleDetailQueryRespDTO\u003e queryExamRuleDetail(ExamRuleQueryReqDTO reqDTO) { return this.examRuleHandlerContext.getHandlerInstance(reqDTO.getTypeCode()).queryHandler(reqDTO); } } å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„æ–¹æ³•ä¸­æ³¨å…¥äº†ExamRuleHandlerContextï¼Œè¿™æ˜¯ä¸€ä¸ªå¤„ç†å™¨ä¸Šä¸‹æ–‡ï¼Œç”¨æ¥ä¿å­˜ä¸åŒçš„ä¸šåŠ¡å¤„ç†å™¨ï¼Œå…·ä½“åœ¨ä¸‹æ–‡ä¼šè®²è§£ã€‚æˆ‘ä»¬ä»ä¸­è·å–ä¸€ä¸ªæŠ½è±¡çš„å¤„ç†å™¨AbstractExamRuleHandlerï¼Œè°ƒç”¨å…¶æ–¹æ³•å®ç°ä¸šåŠ¡é€»è¾‘ã€‚\nç°åœ¨å¯ä»¥äº†è§£åˆ°ï¼Œæˆ‘ä»¬ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘æ˜¯åœ¨å¤„ç†å™¨ä¸­å®ç°çš„ï¼Œå› æ­¤æœ‰å¤šå°‘ä¸ªä»£æŠ¥è€ƒç±»ç›®ï¼Œå°±å¯¹åº”æœ‰å¤šå°‘ä¸ªå¤„ç†å™¨ã€‚ä»¥åéœ€æ±‚å˜åŒ–ï¼Œå¢åŠ äº†ä»£æŠ¥è€ƒç±»ç›®ï¼Œåªéœ€è¦æ·»åŠ ç›¸åº”çš„å¤„ç†å™¨å°±å¯ä»¥ï¼Œä¸Šè¿°ExamServiceImplå®Œå…¨ä¸éœ€æ”¹åŠ¨ã€‚\nä¸šåŠ¡å¤„ç†å™¨çš„å†™æ³• @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_CUSTOMIZE) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†è‡ªå®šä¹‰ç±»ç›®çš„è§„åˆ™ return null; } } @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_HEALTH_MANAGER) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†å¥åº·ç®¡ç†å¸ˆç±»ç›®çš„è§„åˆ™ return null; } } @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_ACI_NUTRITION) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†ACIè¥å…»ç±»ç›®çš„è§„åˆ™ return null; } } @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_ACI_PSYCHOLOGY) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†ACIå¿ƒç†ç±»ç›®çš„è§„åˆ™ return null; } } @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_ADULT_EXAM) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†æˆäººé«˜è€ƒç±»ç›®çš„è§„åˆ™ return null; } } @Component @ExamRuleHandler(ExamConstants.HC_EXAM_TYPE_FIRE_ENGINEER) public class ExamRuleCustomizeHandler extends AbstractExamRuleHandler { @Override public ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO){ //å¤„ç†æ¶ˆé˜²å·¥ç¨‹å¸ˆç±»ç›®çš„è§„åˆ™ return null; } } é¦–å…ˆæ¯ä¸ªå¤„ç†å™¨éƒ½å¿…é¡»æ·»åŠ åˆ°springå®¹å™¨ä¸­ï¼Œå› æ­¤éœ€è¦åŠ ä¸Š@Componentæ³¨è§£ï¼Œå…¶æ¬¡éœ€è¦åŠ ä¸Šä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£@ExamRuleHandlerï¼Œç”¨äºæ ‡è¯†è¯¥å¤„ç†å™¨å¯¹åº”å“ªä¸ªè®¢å•ç±»å‹ï¼Œæœ€åå°±æ˜¯ç»§æ‰¿AbstractExamRuleHandlerï¼Œå®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚\nè‡ªå®šä¹‰æ³¨è§£ @HandlerType 1 2 3 4 5 6 7 8 9 10 import java.lang.annotation.*; @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Inherited public @interface ExamRuleHandler { String value(); } æŠ½è±¡å¤„ç†å™¨ AbstractHandler public abstract class AbstractExamRuleHandler { public abstract ResponseBaseDTO\u003cInteger\u003e editHandler(ExamRuleEditReqDTO reqDTO ); public abstract ResponseBaseDTO\u003cExamRuleDetailQueryRespDTO\u003e queryHandler(ExamRuleQueryReqDTO reqDTO ); } è‡ªå®šä¹‰æ³¨è§£å’ŒæŠ½è±¡å¤„ç†å™¨éƒ½å¾ˆç®€å•ï¼Œé‚£ä¹ˆå¦‚ä½•å°†å¤„ç†å™¨æ³¨å†Œåˆ°springå®¹å™¨ä¸­å‘¢ï¼Ÿ å…·ä½“æ€è·¯æ˜¯ï¼š\næ‰«ææŒ‡å®šåŒ…ä¸­æ ‡æœ‰@ExamRuleHandlerçš„ç±»ï¼› å°†æ³¨è§£ä¸­çš„ç±»å‹å€¼ä½œä¸ºkeyï¼Œå¯¹åº”çš„ç±»ä½œä¸ºvalueï¼Œä¿å­˜åœ¨Mapä¸­ï¼› é‡å†™ å®ç°ApplicationContextAwareæ¥å£çš„ExamRuleHandlerContextç±»ä¸­setApplicationContextæ–¹æ³•ï¼Œå½“springå®¹å™¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„å°†ApplicationContextæ³¨å…¥è¿›æ¥ æˆ‘ä»¬å°†æ ¸å¿ƒçš„åŠŸèƒ½å°è£…åœ¨ExamRuleHandlerContextç±»ä¸­ï¼Œå®Œæˆä¸Šé¢çš„åŠŸèƒ½ã€‚\nä¸Šä¸‹æ–‡å¤„ç†å™¨ExamRuleHandlerContext 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 import org.springframework.beans.BeansException; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.ApplicationContext; import org.springframework.context.ApplicationContextAware; import org.springframework.stereotype.Service; import java.util.HashMap; import java.util.Map; @Service public class ExamRuleHandlerContext implements ApplicationContextAware { @Autowired ApplicationContext applicationContext; private static final Map\u003cString,Class\u003e handlerMap = new HashMap\u003c\u003e(10); public AbstractExamRuleHandler getHandlerInstance(String typeCode){ Class clazz = handlerMap.get(typeCode); return (AbstractExamRuleHandler) applicationContext.getBean(clazz); } @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException { Map\u003cString,Object\u003e beans = applicationContext.getBeansWithAnnotation(ExamRuleHandler.class); if (beans != null \u0026\u0026 beans.size() \u003e 0) { for (Object serviceBean : beans.values()) { String payType = serviceBean.getClass().getAnnotation(ExamRuleHandler.class).value(); handlerMap.put(payType, serviceBean.getClass()); } } } } #getHandlerInstanceæ–¹æ³•æ ¹æ®ç±»å‹è·å–å¯¹åº”çš„classï¼Œç„¶åæ ¹æ®classç±»å‹è·å–æ³¨å†Œåˆ°spring`ä¸­çš„beanã€‚\næœ€åè¯·æ³¨æ„ä¸€ç‚¹ï¼ŒExamRuleHandlerContext å¿…é¡»èƒ½è¢«æ‰«æåˆ°ï¼Œæˆ–è€…é€šè¿‡@Beançš„æ–¹å¼æ˜¾å¼çš„æ³¨å†Œï¼Œæ‰èƒ½åœ¨é¡¹ç›®å¯åŠ¨æ—¶å‘æŒ¥ä½œç”¨ã€‚\næ€»ç»“ åˆ©ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥ç®€åŒ–ç¹æ‚çš„if elseä»£ç ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œè€Œåˆ©ç”¨è‡ªå®šä¹‰æ³¨è§£å’Œè‡ªæ³¨å†Œçš„æ–¹å¼ï¼Œå¯ä»¥æ–¹ä¾¿åº”å¯¹éœ€æ±‚çš„å˜æ›´ã€‚æœ¬æ–‡åªæ˜¯æä¾›ä¸€ä¸ªå¤§è‡´çš„æ€è·¯ï¼Œè¿˜æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥çµæ´»å˜åŒ–ï¼Œä¾‹å¦‚ä½¿ç”¨æšä¸¾ç±»å‹ã€æˆ–è€…é™æ€å¸¸é‡ï¼Œä½œä¸ºä»£æŠ¥è€ƒçš„ç±»å‹ï¼Œç›¸ä¿¡ä½ èƒ½æƒ³åˆ°æ›´å¤šæ›´å¥½çš„æ–¹æ³•ã€‚\n","description":"\n","tags":[],"title":"\nä½¿ç”¨ç­–ç•¥æ¨¡å¼æ¶ˆé™¤if elseä»£ç ","uri":"/posts/post-312/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Stream çš„ç»ˆæ­¢æ“ä½œ ç»ˆç«¯æ“ä½œä¼šä»æµçš„æµæ°´çº¿ç”Ÿæˆç»“æœã€‚å…¶ç»“æœå¯ä»¥æ˜¯ä»»ä½•ä¸æ˜¯æµçš„ å€¼ï¼Œä¾‹å¦‚ï¼šListã€Integerï¼Œç”šè‡³æ˜¯ void ã€‚\næŸ¥æ‰¾ä¸åŒ¹é…\næ–¹ æ³• æ è¿° 1 allMatch(Predicate p) æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´  2 anyMatch(Predicate p) æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´  3 noneMatch(Predicate p) æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´  4 findFirst() è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  5 findAny() è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´  6 count() è¿”å›æµä¸­å…ƒç´ æ€»æ•° 7 max(Comparator c) è¿”å›æµä¸­æœ€å¤§å€¼ 8 min(Comparator c) è¿”å›æµä¸­æœ€å°å€¼ 9 forEach(Consumer c) å†…éƒ¨è¿­ä»£(ä½¿ç”¨ Collection æ¥å£éœ€è¦ç”¨æˆ·å»åšè¿­ ä»£ï¼Œç§°ä¸ºå¤–éƒ¨è¿­ä»£ã€‚ç›¸åï¼ŒStream API ä½¿ç”¨å†…éƒ¨ è¿­ä»£â€”â€”å®ƒå¸®ä½ æŠŠè¿­ä»£åšäº†) @Test public void test1(){ boolean b1=employees.stream()//allMatch-æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´  .allMatch((e)-\u003ee.getStatus().equals(Status.BUSY)); System.out.println(b1);//false boolean b2=employees.stream()//anyMatch-æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´  .anyMatch((e)-\u003ee.getStatus().equals(Status.BUSY)); System.out.println(b2);//true boolean b3=employees.stream()//noneMatch-æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´  .noneMatch((e)-\u003ee.getStatus().equals(Status.BUSY)); System.out.println(b3);//false Optional\u003cEmployee\u003e op=employees.stream()//findFirst-è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ //Optionalæ˜¯Java8ä¸­é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸çš„å®¹å™¨ç±» .sorted((e1,e2)-\u003eDouble.compare(e1.getSalary(), e2.getSalary())) .findFirst(); System.out.println(op.get());//Employee [name=ç‹äº”, age=26, salary=3333.33, Status=VOCATION] Optional\u003cEmployee\u003e op2=employees.parallelStream()//findAny-è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´  .filter((e)-\u003ee.getStatus().equals(Status.FREE)) .findAny(); System.out.println(op2.get());//Employee [name=èµµå…­, age=36, salary=6666.66, Status=FREE] Long count=employees.stream()//count-è¿”å›æµä¸­å…ƒç´ çš„æ€»ä¸ªæ•° .count(); System.out.println(count);//5 Optional\u003cEmployee\u003e op3=employees.stream()//max-è¿”å›æµä¸­æœ€å¤§å€¼ .max((e1,e2)-\u003eDouble.compare(e1.getSalary(), e2.getSalary())); System.out.println(op3.get());//Employee [name=å¼ ä¸‰, age=18, salary=9999.99, Status=FREE] Optional\u003cDouble\u003e op4=employees.stream()//min-è¿”å›æµä¸­æœ€å°å€¼ .map(Employee::getSalary) .min(Double::compare); System.out.println(op4.get());//3333.33 } å½’çº¦\næ–¹ æ³• æè¿° 1 reduce(T iden, BinaryOperator b) å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› T 2 reduce(BinaryOperator b) å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿”å› Optional å¤‡æ³¨ï¼šmap å’Œ reduce çš„è¿æ¥é€šå¸¸ç§°ä¸º map-reduce æ¨¡å¼ï¼Œå›  Google ç”¨å®ƒ æ¥è¿›è¡Œç½‘ç»œæœç´¢è€Œå‡ºå\n/* * å½’çº¦ * reduce(T identity,BinaryOperator b) / reduce(BinaryOperator b)-å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚ */ @Test public void test3(){ List\u003cInteger\u003e list=Arrays.asList(1,2,3,4,5,6,7,8,9,10); Integer sum=list.stream()//reduce(T identity,BinaryOperator b) .reduce(0, (x,y)-\u003ex+y);//0ä¸ºèµ·å§‹å€¼ System.out.println(sum); System.out.println(\"--------------------------\"); Optional\u003cDouble\u003e op=employees.stream()//reduce(BinaryOperator b)//æ²¡æœ‰èµ·å§‹å€¼ï¼Œmapè¿”å›å¯èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥è¿”å›Optionalç±»å‹ .map(Employee::getSalary) .reduce(Double::sum); System.out.println(op.get()); } æ”¶é›†\næ–¹ æ³• æ è¿° 1 collect(Collector c) å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ã€‚æ¥æ”¶ä¸€ä¸ª Collectoræ¥å£çš„ å®ç°ï¼Œç”¨äºç»™Streamä¸­å…ƒç´ åšæ±‡æ€»çš„æ–¹æ³• Collector æ¥å£ä¸­æ–¹æ³•çš„å®ç°å†³å®šäº†å¦‚ä½•å¯¹æµæ‰§è¡Œæ”¶é›†æ“ä½œ(å¦‚æ”¶é›†åˆ° Listã€Setã€Map)ã€‚ä½†æ˜¯ Collectors å®ç”¨ç±»æä¾›äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå¸¸è§æ”¶é›†å™¨å®ä¾‹ï¼Œå…·ä½“æ–¹æ³•ä¸å®ä¾‹å¦‚ä¸‹è¡¨\næ–¹æ³• è¿”å›ç±»å‹ ä½œç”¨ toList List æŠŠæµä¸­å…ƒç´ æ”¶é›†åˆ°List Listemps= list.stream().collect(Collectors.toList()); toSet Set æŠŠæµä¸­å…ƒç´ æ”¶é›†åˆ°Set Setemps= list.stream().collect(Collectors.toSet()); toCollection Collection æŠŠæµä¸­å…ƒç´ æ”¶é›†åˆ°åˆ›å»ºçš„é›†åˆ Collectionemps=list.stream().collect(Collectors.toCollection(ArrayList::new)); counting Long è®¡ç®—æµä¸­å…ƒç´ çš„ä¸ªæ•° long count = list.stream().collect(Collectors.counting()); summingInt Integer å¯¹æµä¸­å…ƒç´ çš„æ•´æ•°å±æ€§æ±‚å’Œ inttotal=list.stream().collect(Collectors.summingInt(Employee::getSalary)); averagingInt Double è®¡ç®—æµä¸­å…ƒç´ Integerå±æ€§çš„å¹³å‡ å€¼ doubleavg= list.stream().collect(Collectors.averagingInt(Employee::getSalary)); summarizingInt IntSummaryStatistics æ”¶é›†æµä¸­Integerå±æ€§çš„ç»Ÿè®¡å€¼ã€‚å¦‚ï¼šå¹³å‡å€¼ IntSummaryStatisticsiss= list.stream().collect(Collectors.summarizingInt(Employee::getSalary)); joining String è¿æ¥æµä¸­æ¯ä¸ªå­—ç¬¦ä¸² String str= list.stream().map(Employee::getName).collect(Collectors.joining()); maxBy Optional æ ¹æ®æ¯”è¾ƒå™¨é€‰æ‹©æœ€å¤§å€¼ Optionalmax= list.stream().collect(Collectors.maxBy(comparingInt(Employee::getSalary))); minBy Optional æ ¹æ®æ¯”è¾ƒå™¨é€‰æ‹©æœ€å°å€¼ Optionalmin = list.stream().collect(Collectors.minBy(comparingInt(Employee::getSalary))); reducing å½’çº¦äº§ç”Ÿçš„ç±»å‹ ä»ä¸€ä¸ªä½œä¸ºç´¯åŠ å™¨çš„åˆå§‹å€¼ å¼€å§‹ï¼Œåˆ©ç”¨BinaryOperatorä¸ æµä¸­å…ƒç´ é€ä¸ªç»“åˆï¼Œä»è€Œå½’ çº¦æˆå•ä¸ªå€¼ inttotal=list.stream().collect(Collectors.reducing(0, Employee::getSalar, Integer inttotal=list.stream().collect(Collectors.reducing(0, Employee::getSalar, Integer::sum)); collectingAndThen è½¬æ¢å‡½æ•°è¿”å›çš„ç±»å‹ åŒ…è£¹å¦ä¸€ä¸ªæ”¶é›†å™¨ï¼Œå¯¹å…¶ç»“ æœè½¬æ¢å‡½æ•° inthow= list.stream().collect(Collectors.collectingAndThen(Collectors.toList(), List::size)); groupingBy Map\u003ck, list æ ¹æ®æŸå±æ€§å€¼å¯¹æµåˆ†ç»„ï¼Œå± æ€§ä¸ºKï¼Œç»“æœä¸ºV Map\u003cemp.status, list partitioningBy Map\u003cboolean, list æ ¹æ®trueæˆ–falseè¿›è¡Œåˆ†åŒº Map\u003cboolean,list\u003evd= list.stream().collect(Collectors.partitioningBy(Employee::getManage)); /* * æ”¶é›† * collect-å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ï¼Œæ¥æ”¶ä¸€ä¸ªCollectoræ¥å£çš„å®ç°ï¼Œç”¨äºç»™Streamä¸­å…ƒç´ åšæ±‡æ€»çš„æ–¹æ³•ã€‚ */ @Test public void test4(){ List\u003cString\u003e list=employees.stream() .map(Employee::getName) .collect(Collectors.toList()); list.forEach(System.out::println); System.out.println(\"----------------------------\"); Set\u003cString\u003e set=employees.stream() .map(Employee::getName) .collect(Collectors.toSet()); set.forEach(System.out::println); System.out.println(\"----------------------------\"); HashSet\u003cString\u003e hs=employees.stream() .map(Employee::getName) .collect(Collectors.toCollection(HashSet::new)); hs.forEach(System.out::println); System.out.println(\"----------------------------\"); //æ€»å’Œ Long count=employees.stream() .collect(Collectors.counting()); System.out.println(count); //å¹³å‡å€¼ Double avg=employees.stream() .collect(Collectors.averagingDouble(Employee::getSalary)); System.out.println(avg); //æ€»å’Œ Double sum=employees.stream() .collect(Collectors.summingDouble(Employee::getSalary)); System.out.println(sum); //æœ€å¤§å€¼ Optional\u003cEmployee\u003e max=employees.stream() .collect(Collectors.maxBy((e1,e2)-\u003eDouble.compare(e1.getSalary(), e2.getSalary()))); System.out.println(max.get()); //æœ€å°å€¼ Optional\u003cDouble\u003e min=employees.stream() .map(Employee::getSalary) .collect(Collectors.minBy(Double::compare)); System.out.println(min.get()); System.out.println(\"----------------------------\"); //åˆ†ç»„ Map\u003cStatus,List\u003cEmployee\u003e\u003e map=employees.stream() .collect(Collectors.groupingBy(Employee::getStatus)); System.out.println(map);//{FREE=[Employee [name=å¼ ä¸‰, age=18, salary=9999.99, Status=FREE], Employee [name=èµµå…­, age=36, salary=6666.66, Status=FREE]], VOCATION=[Employee [name=ç‹äº”, age=26, salary=3333.33, Status=VOCATION]], BUSY=[Employee [name=æå››, age=58, salary=5555.55, Status=BUSY], Employee [name=ç”°ä¸ƒ, age=12, salary=8888.88, Status=BUSY]]} //å¤šçº§åˆ†ç»„ Map\u003cStatus,Map\u003cString,List\u003cEmployee\u003e\u003e\u003e map2=employees.stream() .collect( Collectors.groupingBy( Employee::getStatus,Collectors.groupingBy((e)-\u003e{ if(e.getAge()\u003c=35){ return \"é’å¹´\"; }else if(e.getAge()\u003c=50){ return \"ä¸­å¹´\"; }else{ return \"è€å¹´\"; } }) ) ); System.out.println(map2);//{FREE={é’å¹´=[Employee [name=å¼ ä¸‰, age=18, salary=9999.99, Status=FREE]], ä¸­å¹´=[Employee [name=èµµå…­, age=36, salary=6666.66, Status=FREE]]}, VOCATION={é’å¹´=[Employee [name=ç‹äº”, age=26, salary=3333.33, Status=VOCATION]]}, BUSY={é’å¹´=[Employee [name=ç”°ä¸ƒ, age=12, salary=8888.88, Status=BUSY]], è€å¹´=[Employee [name=æå››, age=58, salary=5555.55, Status=BUSY]]}} //åˆ†åŒº Map\u003cBoolean,List\u003cEmployee\u003e\u003e map3=employees.stream() .collect(Collectors.partitioningBy((e)-\u003ee.getSalary()\u003e8000)); System.out.println(map3);//{false=[Employee [name=æå››, age=58, salary=5555.55, Status=BUSY], Employee [name=ç‹äº”, age=26, salary=3333.33, Status=VOCATION], Employee [name=èµµå…­, age=36, salary=6666.66, Status=FREE]], true=[Employee [name=å¼ ä¸‰, age=18, salary=9999.99, Status=FREE], Employee [name=ç”°ä¸ƒ, age=12, salary=8888.88, Status=BUSY]]} System.out.println(\"--------------------------------\"); DoubleSummaryStatistics dss=employees.stream() .collect(Collectors.summarizingDouble(Employee::getSalary)); System.out.println(dss.getSum()); System.out.println(dss.getAverage()); System.out.println(dss.getMax()); System.out.println(\"--------------------------------\"); String strr=employees.stream() .map(Employee::getName) .collect(Collectors.joining(\",\")); System.out.println(strr);//å¼ ä¸‰æå››ç‹äº”èµµå…­ç”°ä¸ƒ } ","description":"\n","tags":[],"title":"\nå¼ºå¤§çš„ Stream API(ä¸‰)","uri":"/posts/post-313/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Stream çš„ä¸­é—´æ“ä½œ å¤šä¸ªä¸­é—´æ“ä½œå¯ä»¥è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæµæ°´çº¿ï¼Œé™¤éæµæ°´ çº¿ä¸Šè§¦å‘ç»ˆæ­¢æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œä¸ä¼šæ‰§è¡Œä»»ä½•çš„å¤„ç†ï¼è€Œåœ¨ç»ˆæ­¢æ“ä½œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼Œç§°ä¸ºâ€œæƒ°æ€§æ±‚å€¼â€ã€‚\n//åˆ›å»ºä¸€ä¸ªé›†åˆ List\u003cEmployee\u003e employees=Arrays.asList( new Employee(\"å¼ ä¸‰\",18,9999.99), new Employee(\"æå››\",58,5555.55), new Employee(\"ç‹äº”\",26,3333.33), new Employee(\"èµµå…­\",36,6666.66), new Employee(\"ç”°ä¸ƒ\",12,8888.88), new Employee(\"ç”°ä¸ƒ\",12,8888.88) ); ç­›é€‰ä¸åˆ‡ç‰‡\næ–¹ æ³• æ è¿° 1 filter(Predicate p) æ¥æ”¶ Lambda ï¼Œ ä»æµä¸­æ’é™¤æŸäº›å…ƒç´ ã€‚ 2 distinct() ç­›é€‰ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç´ çš„ hashCode() å’Œ equals() å» é™¤é‡å¤å…ƒç´ ã€‚ 3 limit(long maxSize) æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡ã€‚ 4 skip(long n) è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰ n ä¸ªå…ƒç´ çš„æµã€‚ è‹¥æµä¸­å…ƒç´  ä¸è¶³ n ä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµã€‚ä¸ limit(n) äº’è¡¥ /* ç­›é€‰ä¸åˆ‡ç‰‡ * filter--æ¥æ”¶Lambdaï¼Œä»æµä¸­æ’é™¤æŸäº›å…ƒç´ ã€‚ * limit--æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡ã€‚ * skip(n)--è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰nä¸ªå…ƒç´ çš„æµã€‚è‹¥æµä¸­å…ƒç´ ä¸è¶³nä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµã€‚ä¸limit(n) äº’è¡¥ * distinct--ç­›é€‰ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç´ çš„ hashCode() å’Œ equals() å»æ‰é‡å¤å…ƒç´  */ //å†…éƒ¨è¿­ä»£ï¼šè¿­ä»£æ“ä½œç”± Stream API å®Œæˆ @Test public void test1(){ //ä¸­é—´æ“ä½œï¼šä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œ Stream\u003cEmployee\u003e stream=employees.stream() .filter((e) -\u003e e.getAge()\u003e35 ); //ç»ˆæ­¢æ“ä½œï¼šä¸€æ¬¡æ€§æ‰§è¡Œå…¨éƒ¨å†…å®¹ï¼Œå³ æƒ°æ€§æ±‚å€¼ stream.forEach(System.out::println); } //å¤–éƒ¨è¿­ä»£ @Test public void test2(){ Iterator\u003cEmployee\u003e it=employees.iterator(); while(it.hasNext()){ System.out.println(it.next()); } } @Test public void test3(){//å‘ç°â€œçŸ­è·¯â€åªè¾“å‡ºäº†ä¸¤æ¬¡ï¼Œè¯´æ˜åªè¦æ‰¾åˆ° 2 ä¸ª ç¬¦åˆæ¡ä»¶çš„å°±ä¸å†ç»§ç»­è¿­ä»£ employees.stream() .filter((e)-\u003e{ System.out.println(\"çŸ­è·¯ï¼\"); return e.getSalary()\u003e5000; }) .limit(2) .forEach(System.out::println); } @Test public void test4(){ employees.stream() .filter((e)-\u003ee.getSalary()\u003e5000) .skip(2)//è·³è¿‡å‰ä¸¤ä¸ª .distinct()//å»é‡ï¼Œæ³¨æ„ï¼šéœ€è¦Employeeé‡å†™hashCode å’Œ equals æ–¹æ³• .forEach(System.out::println); } æ˜ å°„\næ–¹ æ³• æ è¿° 1 map(Function f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒ ç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚ 2 mapToDouble(ToDoubleFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒ ç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ DoubleStreamã€‚ 3 mapToInt(ToIntFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒ ç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ IntStreamã€‚ 4 mapToLong(ToLongFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒ ç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ LongStreamã€‚ 5 flatMap(Function f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµ /* * æ˜ å°„ * map--æ¥æ”¶Lambdaï¼Œå°†å…ƒç´ è½¬æ¢æˆå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ã€‚æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°å…ƒç´ ã€‚ * flatMap--æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµ */ @Test public void test5(){ List\u003cString\u003e list=Arrays.asList(\"aaa\",\"bbb\",\"ccc\",\"ddd\"); list.stream() .map((str)-\u003estr.toUpperCase()) .forEach(System.out::println); System.out.println(\"------------------------\"); employees.stream() .map(Employee::getName) .forEach(System.out::println); System.out.println(\"------------------------\"); Stream\u003cStream\u003cCharacter\u003e\u003e stream=list.stream() .map(TestStreamAPI2::filterChatacter); stream.forEach((sm)-\u003e{ sm.forEach(System.out::println); }); System.out.println(\"------------------------\"); Stream\u003cCharacter\u003e sm=list.stream() .flatMap(TestStreamAPI2::filterChatacter); sm.forEach(System.out::println); } public static Stream\u003cCharacter\u003e filterChatacter(String str){ List\u003cCharacter\u003e list=new ArrayList\u003c\u003e(); for (Character ch : str.toCharArray()) { list.add(ch); } return list.stream(); } @Test public void test6(){//mapå’ŒflatMapçš„å…³ç³» ç±»ä¼¼äº add(Object)å’ŒaddAll(Collection coll) List\u003cString\u003e list=Arrays.asList(\"aaa\",\"bbb\",\"ccc\",\"ddd\"); List list2=new ArrayList\u003c\u003e(); list2.add(11); list2.add(22); list2.addAll(list); System.out.println(list2); } æ’åº\næ–¹ æ³• æ è¿° 1 sorted() äº§ç”Ÿä¸€ä¸ªæ–°æµï¼Œå…¶ä¸­æŒ‰è‡ªç„¶é¡ºåºæ’åº 2 sorted(Comparator comp) äº§ç”Ÿä¸€ä¸ªæ–°æµï¼Œå…¶ä¸­æŒ‰æ¯”è¾ƒå™¨é¡ºåºæ’åº //ä¸­é—´æ“ä½œ /* * æ’åº * sorted()-è‡ªç„¶æ’åºï¼ˆæŒ‰ç…§å¯¹è±¡ç±»å®ç°Comparableæ¥å£çš„compareTo()æ–¹æ³• æ’åºï¼‰ * sorted(Comparator com)-å®šåˆ¶æ’åºï¼ˆComparatorï¼‰ */ @Test public void test7(){ List\u003cString\u003e list=Arrays.asList(\"ccc\",\"bbb\",\"aaa\"); list.stream() .sorted() .forEach(System.out::println); System.out.println(\"------------------------\"); employees.stream() .sorted((e1,e2)-\u003e{ if(e1.getAge().equals(e2.getAge())){ return e1.getName().compareTo(e2.getName()); }else{ return e1.getAge().compareTo(e2.getAge()); } }).forEach(System.out::println); ","description":"\n","tags":[],"title":"\nå¼ºå¤§çš„ Stream API(äºŒ)","uri":"/posts/post-314/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"äº†è§£ Stream Java8ä¸­æœ‰ä¸¤å¤§æœ€ä¸ºé‡è¦çš„æ”¹å˜ã€‚ç¬¬ä¸€ä¸ªæ˜¯ Lambda è¡¨è¾¾å¼ï¼›å¦å¤–ä¸€ ä¸ªåˆ™æ˜¯ Stream API(java.util.stream.*)ã€‚ Stream æ˜¯ Java8 ä¸­å¤„ç†é›†åˆçš„å…³é”®æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå¯ä»¥æŒ‡å®šä½ å¸Œæœ›å¯¹ é›†åˆè¿›è¡Œçš„æ“ä½œï¼Œå¯ä»¥æ‰§è¡Œéå¸¸å¤æ‚çš„æŸ¥æ‰¾ã€è¿‡æ»¤å’Œæ˜ å°„æ•°æ®ç­‰æ“ä½œã€‚ ä½¿ç”¨Stream API å¯¹é›†åˆæ•°æ®è¿›è¡Œæ“ä½œï¼Œå°±ç±»ä¼¼äºä½¿ç”¨ SQL æ‰§è¡Œçš„æ•° æ®åº“æŸ¥è¯¢ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ Stream API æ¥å¹¶è¡Œæ‰§è¡Œæ“ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼Œ Stream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚\nä»€ä¹ˆæ˜¯ Stream æµ(Stream) åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ˜¯æ•°æ®æ¸ é“ï¼Œç”¨äºæ“ä½œæ•°æ®æºï¼ˆé›†åˆã€æ•°ç»„ç­‰ï¼‰æ‰€ç”Ÿæˆçš„å…ƒç´ åºåˆ—ã€‚ â€œé›†åˆè®²çš„æ˜¯æ•°æ®ï¼Œæµè®²çš„æ˜¯è®¡ç®—ï¼â€\næ³¨æ„ï¼š\nâ‘ Stream è‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ ã€‚ â‘¡Stream ä¸ä¼šæ”¹å˜æºå¯¹è±¡ã€‚ç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamã€‚ â‘¢Stream æ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ã€‚è¿™æ„å‘³ç€ä»–ä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œã€‚\nStream çš„æ“ä½œä¸‰ä¸ªæ­¥éª¤ åˆ›å»º Stream\nä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚ï¼šé›†åˆã€æ•°ç»„ï¼‰ï¼Œè·å–ä¸€ä¸ªæµ\nä¸­é—´æ“ä½œ ä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œå¤„ç†\nç»ˆæ­¢æ“ä½œ(ç»ˆç«¯æ“ä½œ) ä¸€ä¸ªç»ˆæ­¢æ“ä½œï¼Œæ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œå¹¶äº§ç”Ÿç»“æœ\nåˆ›å»º Stream 1.1å¯ä»¥é€šè¿‡Collection ç³»åˆ—é›†åˆæä¾›çš„stream()æˆ–parallelStream()æ–¹æ³•\ndefault Stream\u003c E\u003e stream() : è¿”å›ä¸€ä¸ªé¡ºåºæµ default Stream\u003c E\u003e parallelStream() : è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ\n//å¯ä»¥é€šè¿‡Collection ç³»åˆ—é›†åˆæä¾›çš„stream()æˆ–parallelStream() List\u003cString\u003e list = new ArrayList\u003c\u003e(); Stream\u003cString\u003e stream1 = list.stream(); Stream\u003cString\u003e stream2 = list.parallelStream(); 1.2é€šè¿‡ Arrays ä¸­çš„é™æ€æ–¹æ³•stream()è·å–æ•°ç»„æµ\nstatic \u003c T\u003e Stream\u003c T\u003e stream(T[] array): è¿”å›ä¸€ä¸ªæµ\né‡è½½å½¢å¼ï¼Œèƒ½å¤Ÿå¤„ç†å¯¹åº”åŸºæœ¬ç±»å‹çš„æ•°ç»„ï¼š\npublic static IntStream stream(int[] array) public static LongStream stream(long[] array)\npublic static DoubleStream stream(double[] array)\n//é€šè¿‡ Arrays ä¸­çš„é™æ€æ–¹æ³•stream()è·å–æ•°ç»„æµ Employee[] emps=new Employee[10]; Stream\u003cEmployee\u003e stream3= Arrays.stream(emps); 1.3é€šè¿‡Stream ç±»ä¸­çš„é™æ€æ–¹æ³•of()ï¼Œé€šè¿‡æ˜¾ç¤ºå€¼åˆ›å»ºä¸€ä¸ªæµã€‚\nå®ƒå¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ã€‚\npublic static\u003c T\u003e Stream\u003c T\u003e of(Tâ€¦ values) : è¿”å›ä¸€ä¸ªæµ\n//é€šè¿‡Stream ç±»ä¸­çš„é™æ€æ–¹æ³•of() Stream\u003cString\u003e stream4=Stream.of(\"aa\",\"bb\",\"cc\"); 1.4.åˆ›å»ºæ— é™æµ\nå¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³• Stream.iterate() å’ŒStream.generate(), åˆ›å»ºæ— é™æµã€‚\nè¿­ä»£\npublic static\u003c T\u003e Stream\u003c T\u003e iterate(final T seed, final UnaryOperator\u003c T\u003e f)\nç”Ÿæˆ\npublic static\u003c T\u003e Stream\u003c T\u003e generate(Supplier\u003c T\u003e s)\n//åˆ›å»ºæ— é™æµ //è¿­ä»£ Stream\u003cInteger\u003e stream5=Stream.iterate(0, (x) -\u003e x+2); stream4.limit(10).forEach(System.out::println); //ç”Ÿæˆ Stream.generate(() -\u003e Math.random()) .limit(5) .forEach(System.out::println); ","description":"\n","tags":[],"title":"\nå¼ºå¤§çš„ Stream API(ä¸€ï¼‰","uri":"/posts/post-315/"},{"categories":["é»˜è®¤åˆ†ç±»","SpringBoot","java"],"content":"Pgroza ç®€ä»‹ Pgroza æ˜¯å‚è€ƒgrozaåˆ¶ä½œçš„ç‰©è”ç½‘å¹³å°ï¼Œé¢å‘ä¸ªäººï¼Œå¼€æºã€‚ æ­¤é¡¹ç›®ä»…ä»…ç”¨äºå­¦ä¹ ï¼Œä¸å»ºè®®ç”¨åœ¨å•†ä¸šç”¨é€”ã€‚ ä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä¸»è¦æ˜¯å› ä¸ºä¹‹å‰ä»äº‹è¿‡ç‰©è”ç½‘è¡Œä¸šï¼Œè™½ç„¶æ˜¯åšä¸Šå±‚ä¸šåŠ¡çš„ï¼Œä½†æ˜¯è¿˜æ˜¯å¯¹è¿™ä¸ªç”Ÿæ€æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œç„¶ååœ¨ç½‘ä¸Šæ‰¾äº†ä¸å°‘çš„èµ„æ–™è¿‡åï¼Œç»ˆäºè¿˜æ˜¯å†³å®šè‡ªå·±æ­å»ºä¸€ä¸ªã€‚ç»è¿‡è°ƒç ”åå‘ç°å‡ ä¸ªé—®é¢˜ï¼š1.å‡‘é½ä¸€ä¸ªç”Ÿæ€æˆæœ¬æ¯”è¾ƒé«˜ï¼›2.åŸºäºç°æˆçš„äº‘å¹³å°è¿›è¡Œå¼€å‘è¿‡åï¼Œæ€»æ˜¯è¦å—å„ç§æ¡ä»¶é™åˆ¶ï¼›3.ä¾èµ–ç°æœ‰å¹³å°å’Œæ¡†æ¶ï¼Œæœ€åå¼€å‘çš„åŸºæœ¬ä¸Šéƒ½æ˜¯å„ç§ä¸šåŠ¡å±‚çš„ä¸œè¥¿äº†ï¼Œå¯¹ç”Ÿæ€é“¾è¿˜æ˜¯ä¸å¤Ÿæ·±å…¥ç†è§£ã€‚\nå…³äºPgrozaçš„å‘å±• å…¶å®æˆ‘è¿˜æ²¡æƒ³å¥½è¦æ€ä¹ˆå»ç ”å‘Pgrozaï¼Œç°åœ¨çš„æƒ³æ³•æ˜¯ç°åšä¸€ä¸ªé¢å‘å•ä¸ªå®¶åº­çš„ã€‚ æ‰€ä»¥åº”è¯¥æ˜¯ä¸€ä¸ªå•æœºç‰ˆçš„ï¼Œä¸ºäº†ä»¥åæ‹“å±•æ–¹ä¾¿ï¼Œå¼€å‘æ—¶éœ€è¦æ³¨æ„è§£è€¦çš„é—®é¢˜ã€‚ å¦‚æœç ”å‘é¡ºåˆ©ï¼Œåº”è¯¥æ˜¯å¯ä»¥åšæˆåˆ†å¸ƒå¼çš„ï¼›æœªæ¥çš„äººå¯¹æ•°æ®éšç§ä¼šæ¯”ç°åœ¨é‡è§†çš„å¾ˆå¤šï¼Œæ‰€ä»¥å¤šå®¶åº­æ¥å…¥çš„é—®é¢˜æš‚æ—¶ä¸ä¼šè€ƒè™‘äº†ã€‚æœ€åå°±æ˜¯å¦‚æœè¦é¢å‘å¤§ä¼—ï¼Œæœ€å¥½æ˜¯èƒ½ä¸€é”®åŒ–éƒ¨ç½²ï¼Œå°±å¥½åƒå®‰è£…åº”ç”¨ç¨‹åºä¸€æ ·ã€‚\nå¯¹Pgrozaçš„åˆæœŸåŠŸèƒ½åˆ†æ æ¶‰åŠå¯¹è±¡ ä¸€èˆ¬æƒ…å†µï¼Œç‰©è”ç½‘å¹³å°æ¶‰åŠå¯¹è±¡ä¸å¤–ä¹ä¸¤ä¸ªï¼šç”¨æˆ·å’Œè®¾å¤‡ã€‚\nå¯¹äºè®¾å¤‡ï¼š è®¾å¤‡éœ€è¦æ¥å…¥ï¼Œæ¥å…¥æ—¶éœ€è¦æä¾›åè®®ï¼Œç°åœ¨çš„ç‰©è”ç½‘å¹³å°ä¸€èˆ¬éƒ½æ˜¯è§„å®šä¸€å®šçš„æ¥å…¥åè®®çš„ï¼Œè®¾å¤‡ä¸€èˆ¬éƒ½æ˜¯éœ€è¦å»éµä»è¿™äº›æ—¢å®šåè®®çš„ã€‚å½“ç„¶ï¼Œå¦‚æœè®¾å¤‡å•†æ¯”è¾ƒç‰›æ°ï¼Œç‰©è”ç½‘å¹³å°ä¹Ÿå¯ä»¥å¢åŠ åè®®å»é€‚é…å‚å•†çš„ã€‚è®¾å¤‡æŒ‰ç…§åè®®æ¥å…¥å¹³å°åï¼Œåœ¨æŸäº›äº‹ä»¶ï¼ˆå¸¸è§çš„å°±æ˜¯æ¸©åº¦å˜åŒ–ã€æ¹¿åº¦å˜åŒ–ä»¥åŠå…‰å˜åŒ–ç­‰ç­‰ï¼‰è§¦å‘åï¼Œå‘å¹³å°ä¸ŠæŠ¥æ•°æ®ï¼Œå¹³å°æ ¹æ®åè®®è§£æåï¼Œå­˜å‚¨ä¸‹æ¥ï¼Œå±•ç¤ºçš„æ¥å£å°±å¯ä»¥æŸ¥è¯¢æ•°æ®ç”¨äºå±•ç¤ºäº†ã€‚é«˜çº§çš„åŠŸèƒ½å¯ä»¥æ ¹æ®ä¸åŒè®¾å¤‡çš„äº‹ä»¶äº§ç”Ÿè”åŠ¨æ•ˆæœï¼ˆæ¯”å¦‚ï¼šæ£€æµ‹åˆ°å…‰å˜æš—äº†ï¼Œå°±å¼€ç¯ï¼‰ã€‚åŒç§è®¾å¤‡å®‰è£…åœ¨ä¸åŒçš„åœ°æ–¹å¯èƒ½æœ‰ä¸åŒçš„åº”ç”¨ï¼Œæ‰€ä»¥æ¯ä¸ªè®¾å¤‡éœ€è¦æœ‰è‡ªå·±çš„ä¿¡æ¯ï¼Œæœ€å¥½æ˜¯åœ¨æ¥å…¥çš„æ—¶å€™å°±å…³è”ä¸Šã€‚\nå¯¹äºç”¨æˆ·ï¼šç”¨æˆ·éœ€è¦ç®¡ç†è®¾å¤‡ï¼ˆå¦‚ï¼šè®¾å¤‡æ¥å…¥å¹³å°ï¼Œè®¾å¤‡ä¿¡æ¯ç»´æŠ¤ï¼Œè”åŠ¨é—®é¢˜ä»¥åŠè®¾å¤‡çŠ¶æ€ç®¡ç†ç­‰ç­‰ï¼‰ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½éœ€è¦å»ç®¡ç†è®¾å¤‡ï¼Œå¤§éƒ¨åˆ†äººéƒ½æ˜¯ä½¿ç”¨è®¾å¤‡çš„ï¼Œç»å¸¸å»ä½¿ç”¨çš„åº”å½“æ˜¯å„ä¸ªè®¾å¤‡çš„è”åŠ¨ã€‚æ‰€ä»¥ç”¨æˆ·æœ‰ä¸¤ç§æä¾›è®¾å¤‡çš„äººï¼Œä½¿ç”¨è®¾å¤‡çš„äººã€‚æä¾›è®¾å¤‡çš„äººä¸€èˆ¬ä¸å…³å¿ƒæ¥å…¥ç”¨æˆ·ä½¿ç”¨çš„ç³»ç»Ÿï¼Œè€Œæ˜¯å…³å¿ƒæ€ä¹ˆæŠŠç¡¬ä»¶æ¥å…¥ç³»ç»Ÿã€‚\nç®€å•åŠŸèƒ½åˆ†æ åè®®é—®é¢˜ è®¾å¤‡å’Œç³»ç»Ÿé—´é€šä¿¡æä¾›socketåè®®ä»¥åŠè“ç‰™åè®®ï¼Œå…·ä½“çš„åŠ å¯†åè®®è®¾å¤‡å‚å•†è‡ªå®šä¹‰ï¼›åœ¨æä¾›è®¾å¤‡æ—¶ï¼Œéœ€è¦æä¾›ä¸€ä»½é€šä¿¡åè®®çš„sdkä»¥ä¾¿ä¼ è¾“æ•°æ®æ—¶åŠ è§£å¯†ã€‚\nè®¾å¤‡æ¥å…¥ ä½¿ç”¨socketæ¥å…¥çš„è®¾å¤‡å•†éœ€è¦ç»™è®¾å¤‡å›ºå®šmacåœ°å€å¹¶æ ‡è¯†å‡ºæ¥ï¼Œè“ç‰™æ–¹å¼æ¥å…¥çš„è®¾å¤‡ä¸åšè¦æ±‚ï¼›æ¥å…¥æ—¶ï¼Œsocketè®¾å¤‡æä¾›æ¥å…¥æ¥å£ä»¥ä¾¿å¹³å°æ‰«æï¼Œè“ç‰™è®¾å¤‡åŒæ ·éœ€è¦é»˜è®¤å¼€å¯è“ç‰™\nç”¨æˆ· ç”¨æˆ·ä¸éœ€è¦æ‰‹åŠ¨å»æ¥å…¥è®¾å¤‡ï¼Œç”±å¹³å°è‡ªåŠ¨æ‰«ææ¥å…¥ï¼›ä½†æ˜¯ç”¨æˆ·éœ€è¦ç»™è®¾å¤‡å‘½å(ä¿®æ”¹è®¾å¤‡ä¿¡æ¯æ—¶ï¼Œmacåœ°å€ä¸å¯ä¿®æ”¹ï¼‰ã€æ ¹æ®è®¾å¤‡å•†æä¾›çš„è¯´æ˜ä¸Šä¼ sdkå¹¶ä¸ºè®¾å¤‡æŒ‡å®šsdkã€‚\nå¹³å° å¹³å°å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œéœ€è¦æä¾›åè®®ç®¡ç†ã€è®¾å¤‡ç®¡ç†ä»¥åŠç”¨æˆ·ç®¡ç†ã€‚\néœ€æ±‚ è®¾å¤‡ç®¡ç† è®¾å¤‡æ¥å…¥ è®¾å¤‡æ¥å…¥å¯ä»¥é€‰æ‹©socketæ¥å…¥æˆ–è€…è“ç‰™æ¥å…¥ï¼Œè®¾å¤‡å¯åŠ¨åç”±å¹³å°è‡ªè¡Œæ‰«æï¼Œå¦‚æœè®¾å¤‡åŒæ—¶æä¾›ä¸¤ç§æ–¹å¼ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©socketæ¨¡å¼æ¥å…¥ã€‚æ¥å…¥æ—¶è‡ªåŠ¨è®°å½•è®¾å¤‡çš„ç›¸å…³ä¿¡æ¯åˆ°æ•°æ®åº“ï¼Œå…¶ä¸­è®¾å¤‡çš„macåœ°å€å­—æ®µéœ€è¦å»ºç«‹ç´¢å¼•ï¼Œæ¥å…¥ç±»å‹éœ€è¦æ ‡æ³¨ä¸ºsocket/è“ç‰™ï¼Œæ¥å…¥åï¼Œéœ€è¦æç¤ºç®¡ç†å‘˜ç«‹åˆ»å»æ›´æ–°è®¾å¤‡ä¿¡æ¯ä»¥åŠæŒ‡å®šåè®®ç®¡ç†ä¸­ä¸Šä¼ çš„é€šä¿¡çš„sdkã€‚\nè®¾å¤‡online/offline è®¾å¤‡æ¥å…¥åï¼Œé»˜è®¤ä¸ºä¸Šçº¿çŠ¶æ€ï¼Œåç»­æ‰«æè®¾å¤‡æ—¶ï¼Œå¦‚æœå‘ç°è®¾å¤‡æœªè¢«æ‰«æåˆ°ï¼Œé‡è¯•æ‰«æåè¿˜æœªå‘ç°ï¼Œå°†è®¾å¤‡çŠ¶æ€æ”¹ä¸ºä¸‹çº¿çŠ¶æ€ã€‚å¯¹å¤–æä¾›æ­¤è®¾å¤‡ä¸Šä¸‹çº¿æ¶ˆæ¯\nè®¾å¤‡çŠ¶æ€æ£€æµ‹ æ£€æµ‹è®¾å¤‡çš„å®æ—¶çŠ¶æ€ï¼Œå¯åœ¨è®¾å¤‡ä¿¡æ¯ä¸­è®¾ç½®æ˜¯å¦éœ€è¦è¢«æ‰«æï¼Œè®¾ç½®åçš„è®¾å¤‡æ‰ä¼šè¢«å®šæ—¶æ£€æµ‹\nåè®®ç®¡ç† åè®®sdkä¸Šä¼ æŒ‡å®šå‚å•†å’Œç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ä¿å­˜ä¸€æ¡åè®®è®°å½•ã€‚\nç”¨æˆ·ç®¡ç† ç”¨æˆ·åœ¨è®¾å¤‡æ¥å…¥åï¼Œä¼šæ”¶åˆ°æ ¹æ®æ¥å…¥é€šçŸ¥ã€‚ç”¨æˆ·æ”¶åˆ°æ¥å…¥é€šçŸ¥åï¼Œéœ€è¦å»ä¿®æ”¹è®¾å¤‡ä¿¡æ¯ï¼Œä¸ºå…¶æŒ‡å®šå‚å•†ä»¥åŠåè®®sdkç­‰ä¿¡æ¯ã€‚\nå¦‚æœå‚å•†è¿˜æœªæ·»åŠ ï¼Œéœ€è¦å…ˆæ·»åŠ å‚å•†ï¼Œç„¶åä¸Šä¼ åè®®sdkåˆ°æŒ‡å®šå‚å•†çš„æŒ‡å®šè®¾å¤‡ä¸‹\näº‹ä»¶è”åŠ¨ è®¾å¤‡å¯æä¾›çš„äº‹ä»¶éœ€è¦å°è£…åœ¨åè®®sdkä¸­ï¼Œè¿™äº›äº‹ä»¶ï¼Œåˆ†åè®®ï¼šå¦‚æœæ˜¯socketåè®®é€šä¿¡çš„è®¾å¤‡ï¼Œåªæ¥å—ipå’Œportï¼›å¦‚æœæ˜¯è“ç‰™ï¼Œåªæ¥å—macåœ°å€\n","description":"\n","tags":["Pgroza","ç‰©è”ç½‘å¹³å°","ç‰©è”ç½‘"],"title":"\nç‰©è”ç½‘å¹³å°â€”â€”Pgrozaï¼ˆä¸€ï¼‰","uri":"/posts/post-13/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å›½å†…æ³¨å†Œå•†,å›½å†…ç«™é•¿å’Œä¼ä¸šå–œæ¬¢çš„æ³¨å†Œå•† www.net.cn å›½å†…æ–°åç¼€æ³¨å†Œå•† west.cn 363.hk zzy.cn å›½å†…äºŒä½åç¼€åŸŸåæ³¨å†Œå•† quyu.net å›½é™…æ³¨å†Œå•† Porkbun.com Dynadot.com Godaddy.com Namecheap.com Name.com Namesilo.com Uniregistry.com AllDomains.hosting å„åç¼€åŸŸåæŠ¢æ³¨å¹³å° .com .net .org .cn .cc: juming.com\n.info .mobi .asia .xxx .pro .red .black .bet .blue .ac .us ï¼šDynadot.com\næ–°åç¼€æŠ¢æ³¨å¹³å° Hexonet.net zzy.cn west.cn å›½åˆ«åç¼€æŠ¢æ³¨å¹³å° .ac .ag .bz .gg .io .je .ly .me .mn .sc .sh .to .vc ï¼š park.io\n.eu .be .ch .de .fr .it .li .nl .uk ï¼š catchtiger.com\n.es .it ï¼š nidoma.com\n.nu .se ï¼š webb.se ã€rymdweb.com\n.nz ï¼š expireddomains.co.nz\n.id .ly .tw ï¼š docky.ly\n.ru .su ï¼š nic.ru\n.cx .gs .hk: 363.hk\næŸ¥è¯¢å·¥å…· whois æŸ¥è¯¢ï¼š who.is\nåŸŸåæº¢ä»·æŸ¥è¯¢ï¼š yijia.me\næœ€ç»ˆæ ¸å®åŸŸåæ˜¯ä¸æ˜¯å¯ä»¥æ³¨å†Œï¼š domai.nrã€whois.domaintools.comã€æ³¨å†Œå±€\næ³¨å†Œå±€å®˜ç½‘ä»¥åŠè”ç³»æ–¹å¼æŸ¥è¯¢ï¼šhttps://www.iana.org/domains/root/db/xxx.html å°† xxx æ›¿æ¢ä¸ºæŸä¸ªåç¼€\nå¯æ³¨å†ŒåŸŸåæ‰«æï¼ˆç±³å‹ä½œå“ï¼‰ï¼š name.tg\nåŸŸåè¿‡æœŸæ—¶é—´åˆ é™¤æ—¶é—´æŸ¥è¯¢ï¼š expireddomains.net\nåŸŸååç¼€æ³¨å†Œé‡æŸ¥è¯¢: www.363.hk/web/registration\næ–°åç¼€ç›®å‰å¸‚åœºå æœ‰ç‡æŸ¥è¯¢ï¼š namestat.org\nå…¨çƒæ¯å¤©æœ‰å“ªäº›åŸŸåè¢«æ³¨å†Œäº†ï¼š dnpedia.com/tlds/daily.php\nå›½å†…æœ‰å“ªäº›åç¼€å¯ä»¥å¤‡æ¡ˆï¼š åŸŸå.ä¿¡æ¯\nå›½å†…å¹³å°åŸŸåæˆäº¤ä»·æ ¼æŸ¥è¯¢ï¼š wanmi.cc\nå›½é™…åŸŸåæˆäº¤ä»·æ ¼æŸ¥è¯¢ï¼š namebio.com\nåŸŸååœ¨å“ªé‡Œæ³¨å†Œæœ€ä¾¿å®œï¼š tld-list.com ã€nazhumi.com\nåŸŸåè¢«å¢™æ±¡æŸ“æŸ¥è¯¢ï¼š zijian.aliyun.com/#/domainDetect\nåŸŸåå»ºç«™å†å²æŸ¥è¯¢ï¼š archive.org\nåŸŸå DNS ä¿®æ”¹å†å²æŸ¥è¯¢ï¼š completedns.com\nåŸŸåä¼˜æƒ æ´»åŠ¨ï¼š Namebeta.com\nåŸŸåå¤‡æ¡ˆæŸ¥è¯¢: micp.chinaz.com\n","description":"\n","tags":[],"title":"\nåŸŸåå·¥å…·ç½‘ç«™","uri":"/posts/post-316/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"â€œscroll from sourceâ€å¿«æ·æ–¹å¼ ï¼Ÿ å…ˆæŒ‰â€œOption + F1â€ï¼Œå†æŒ‰â€œEnterâ€æˆ–â€œ1â€é”®ã€‚ æ‰“å¼€ç»ˆç«¯ Terminal çš„å¿«æ·é”® ï¼Ÿ Option + F12 æ‰“å¼€ project çš„å¿«æ·é”® ï¼Ÿ Command + 1 è¿›å…¥è°ƒç”¨æ¥å£çš„å¿«æ·é”® ï¼Ÿ Command + B è¿›å…¥è°ƒç”¨æ¥å£çš„å®ç°æ–¹æ³•å¿«æ·é”® ï¼Ÿ Command + Option + B æå–å˜é‡å ï¼Ÿ Command + Option + V ","description":"\n","tags":[],"title":"\nmacä¸‹ IDEA ç‰¹æ®Šçš„å¿«æ·é”®","uri":"/posts/post-317/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"mac\né¦–å…ˆå…ˆå£°æ˜ä¸€ä¸‹ï¼Œæˆ‘è¿™ä¸ªç ´è§£æ–¹æ³•çš„ç‰ˆæœ¬æ˜¯12.022(å®˜ç½‘æœ€æ–°çš„æ˜¯15çš„,ä¸æ¸…æ¥šèƒ½ä¸èƒ½,æ²¡æµ‹è¯•),åˆ†äº«ä¸€æ³¢ å®‰è£…åŒ…ä¸‹è½½\nNavicat Premium æ˜¯ä¸€å¥—æ•°æ®åº“å¼€å‘å·¥å…·ï¼Œè®©ä½ ä»å•ä¸€åº”ç”¨ç¨‹åºä¸­åŒæ—¶è¿æ¥ MySQLã€MariaDBã€MongoDBã€SQL Serverã€Oracleã€PostgreSQL å’Œ SQLite æ•°æ®åº“ã€‚å®ƒä¸ Amazon RDSã€Amazon Auroraã€Amazon Redshiftã€Microsoft Azureã€Oracle Cloudã€MongoDB Atlasã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘å’Œåä¸ºäº‘ç­‰äº‘æ•°æ®åº“å…¼å®¹ã€‚ä½ å¯ä»¥å¿«é€Ÿè½»æ¾åœ°åˆ›å»ºã€ç®¡ç†å’Œç»´æŠ¤æ•°æ®åº“ã€‚\nåºŸè¯ä¸å¤šè¯´,ä¸Šç ´è§£æ–¹æ³•.\nç¬¬ä¸€æ­¥ï¼šä¿å­˜ç§˜é’¥ å…¬é’¥ï¼š(å­˜å‚¨ä¸ºåä¸ºrpkçš„æ–‡ä»¶,å¤‡ç”¨)\n-----BEGIN PUBLIC KEY----- MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQB8vXG0ImYhLHvHhpi5FS3g d2QhxSQiU6dQ04F1OHB0yRRQ3NXF5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJX HtQVLXMRms+chomsQCwkDi2jbgUa4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEF h0N89FV4yGLyDLr+TLqpRecg9pkPnOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZS I69sPD9xZRt+EciXVQfybI/2SYeAdXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd +03NU3wvEmLBvGOmNGudocWIF/y3VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/p AgMBAAE= -----END PUBLIC KEY----- ç§é’¥ï¼š\n-----BEGIN RSA PRIVATE KEY----- MIIEogIBAAKCAQB8vXG0ImYhLHvHhpi5FS3gd2QhxSQiU6dQ04F1OHB0yRRQ3NXF 5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJXHtQVLXMRms+chomsQCwkDi2jbgUa 4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEFh0N89FV4yGLyDLr+TLqpRecg9pkP nOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZSI69sPD9xZRt+EciXVQfybI/2SYeA dXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd+03NU3wvEmLBvGOmNGudocWIF/y3 VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/pAgMBAAECggEAK5qZbYt8wenn1uZg 6onRwJ5bfUaJjApL+YAFx/ETtm83z9ByVbx4WWT7CNC7fK1nINy20/mJrOTZkgIx x6otiNC4+DIsACJqol+RLoo8I9pk77Ucybn65ZteOz7hVZIU+8j6LzW0KDt6yowX e75r7G/NEpfibNc3Zz81+oDd2x+bHyGbzc9QcePIVuEzkof6jgpbWrQZU14itx9l VxEgj/fbMccvBx8brR/l9ClmDZd9Y6TWsF1rfJpF3+DPeqFkKCiD7PGz3bs4O/Zd ZrfV21ZNVusBW49G6bU63gQVKsOf1qGo3efbAW1HVxgTQ/lExVdcMvdenZm+ADKp L4/wUQKBgQDOfBjn3OC2IerUFu18EgCS7pSjTSibXw+TeX3D5zwszLC091G2rGlT 5DihBUhMfesNdpoZynrs4YB6Sz9C3wSGAB8AM/tNvPhtSVtbMHmrdT2DEEKCvLkO RNBnt+8aTu2hGRanw9aL1189gzwrmXK5ZuuURfgLrB9ihrvjo4VznQKBgQCapx13 dEA1MwapBiIa3k8hVBCoGPsEPWqM33RBdUqUsP33f9/PCx00j/akwmjgQNnBlAJo Y7LOqPCyiwOkEf40T4IlHdzYntWQQvHhfBwqSgdkTE9tKj43Ddr7JVFRL6yMSbW3 9qAp5UX/+VzOLGAlfzJ8CBnkXwGrnKPCVbnZvQKBgQCd+iof80jlcCu3GteVrjxM LkcAbb8cqG1FWpVTNe4/JFgqDHKzPVPUgG6nG2CGTWxxv4UFKHpGE/11E28SHYjb cOpHAH5LqsGy84X2za649JkcVmtclUFMXm/Ietxvl2WNdKF1t4rFMQFIEckOXnd8 y/Z/Wcz+OTFF82l7L5ehrQKBgFXl9m7v6e3ijpN5LZ5A1jDL0Yicf2fmePUP9DGb ZTZbbGR46SXFpY4ZXEQ9GyVbv9dOT1wN7DXvDeoNXpNVzxzdAIt/H7hN2I8NL+4v EjHG9n4WCJO4v9+yWWvfWWA/m5Y8JqusV1+N0iiQJ6T4btrE4JSVp1P6FSJtmWOK W/T9AoGAcMhPMCL+N+AvWcYt4Y4mhelvDG8e/Jj4U+lwS3g7YmuQuYx7h5tjrS33 w4o20g/3XudPMJHhA3z+d8b3GaVM3ZtcRM3+Rvk+zSOcGSwn3yDy4NYlv9bdUj/4 H+aU1Qu1ZYojFM1Gmbe4HeYDOzRsJ5BhNrrV12h27JWkiRJ4F/Q= -----END RSA PRIVATE KEY----- ç¬¬äºŒæ­¥ï¼šå®‰è£…navicat ç‚¹å‡»å®‰è£…åŒ…ä¸€æ­¥ä¸€æ­¥å®‰è£…å³å¯\nç¬¬ä¸‰æ­¥ï¼šæ›¿æ¢å…¬é’¥ finderä¸­ï¼Œå³é”®navicat ,æ˜¾ç¤ºåŒ…å†…å®¹ï¼Œæ‰“å¼€ç›®å½• /Contents/Resourcesï¼Œç¼–è¾‘rpkæ–‡ä»¶ï¼Œç”¨ç¬¬ä¸€æ­¥çš„å…¬é’¥æ›¿æ¢å¹¶ä¿å­˜ã€‚(å¦‚æœè¯¥ç›®å½•ä¸‹é¢æ²¡æœ‰rpkæ–‡ä»¶,å¯ä»¥ç›´æ¥å°†ç¬¬ä¸€æ­¥ä¿å­˜å¤‡ç”¨çš„rpkæ–‡ä»¶ç§»åŠ¨è¿›å»å°±è¡Œ)\nç¬¬å››æ­¥ï¼šæ–­ç½‘ ç¬¬äº”æ­¥ï¼šæ‰“å¼€navicat æ ¹æ®navicatè¾“å…¥ä»¥ä¸‹åºåˆ—å·ï¼š\nä¸­æ–‡ç‰ˆ64ä½å¯†é’¥åºåˆ—å·ï¼š NAVH-T4PX-WT8W-QBL5\nè‹±æ–‡ç‰ˆ64ä½å¯†é’¥åºåˆ—å·ï¼š NAVG-UJ8Z-EVAP-JAUW\nå¦‚æœæ³¨å†Œç å³è¾¹å‡ºç°çš„ âœ”ï¸ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹è¿›è¡Œäº†ã€‚å¦‚æœå³è¾¹æ˜¯é»‘è‰²çš„âŒ,é‚£ä¹ˆè¯·ä»ç¬¬å¤´å†æ¥ä¸€éã€‚\nç¬¬å…­æ­¥ï¼šæ‰‹åŠ¨æ¿€æ´» ç”±äºæ–­äº†ç½‘ï¼Œåˆ™ä¼šå‡ºç°æ¿€æ´»å¤±è´¥ï¼Œé€‰æ‹©ç‚¹å‡»æ‰‹åŠ¨æ¿€æ´»\nç¬¬ä¸ƒæ­¥ï¼šå¤åˆ¶è¯·æ±‚ç  ç¬¬å…«æ­¥ï¼šè·å–è¯·æ±‚ç æ˜æ–‡ ç™»å½•è¿™ä¸ªç½‘å€ http://tool.chacuo.net/cryptrsaprikey\nåœ¨è¾“å…¥åŠ å¯†ç§é’¥ä½ç½® å¡«ä¸Šç¬¬ä¸€æ­¥çš„ç§é’¥\nåœ¨å¾…åŠ å¯†è§£å¯†çš„æ–‡æœ¬ å¡«ä¸Šè¯·æ±‚ç (ç¬¬ä¸ƒæ­¥ä¸­å¤åˆ¶çš„)ï¼Œç‚¹å‡»RSAç§é’¥è§£å¯†ã€‚\nè¯·æ³¨æ„ï¼šå¦‚æœæ²¡å‡ºç°è¯·æ±‚ç æ˜æ–‡å¯èƒ½æ˜¯\n1ï¼šç½‘ç»œé—®é¢˜ï¼Œè¯·å¤šè¯•å‡ æ¬¡\n2ï¼šè¯·æ£€æŸ¥ç¬¬ä¸‰éƒ¨rpkæ–‡ä»¶æ˜¯å¦æ›¿æ¢æˆåŠŸï¼(å¦‚æœæ²¡æœ‰å‡ºç°å¾ˆå¯èƒ½æ˜¯è¿™ä¸ªåŸå› ,å†ç¡®è®¤ä¸€ä¸‹)\nç¬¬ä¹æ­¥ï¼šæ›¿æ¢æ—¶é—´æˆ³ å°†è¯·æ±‚ç æ˜æ–‡ä¸­çš„ Kå’ŒDIçš„å€¼æ›¿æ¢åˆ°ä¸‹é¢å¯¹åº”çš„åœ°æ–¹ï¼Œ\n{â€œKâ€:â€œNAVHT4PXWT8WQBL5â€, â€œNâ€:â€œ52pojieâ€, â€œOâ€:â€œ52pojie.cnâ€, â€œDIâ€:â€œODQ2Yjg2ZDBjMTEzMjhhâ€, â€œTâ€:1616939200}\nå†ç™»å½• https://unixtime.51240.com/\nè°ƒæ•´åˆ°ç°åœ¨çš„æ—¶é—´(ä¸ç”¨é‚£ä¹ˆç²¾ç¡®,æ²¡å…³ç³»)ï¼Œå¹¶æŠŠUnixæ—¶é—´æˆ³æ›¿æ¢åˆ°ä¸Šé¢çš„Tåé¢\nç¬¬åæ­¥ï¼šè·å–æ¿€æ´»ç  å°†æ›¿æ¢å¥½çš„æ–‡æœ¬ï¼Œæ”¾å…¥åœ¨å¾…åŠ å¯†è§£å¯†çš„æ–‡æœ¬ ä¸­ï¼Œç‚¹å‡»RSAåŠ å¯†ï¼Œå¾—åˆ°åŠ å¯†åçš„æ–‡æœ¬\nç¬¬åä¸€æ­¥ï¼šè¾“å…¥å¹¶ç‚¹å‡»æ¿€æ´» è¾“å…¥æ¿€æ´»ç å¹¶ç‚¹å‡»æ¿€æ´»ã€‚\næœ¬æ–‡è½¬è½½äºhttps://my.oschina.net/u/4271891/blog/4256494 ","description":"\n","tags":[],"title":"\nMAC Navicat Premium Mac 12 ç ´è§£(äº²æµ‹å¯ç”¨!!!ï¼‰","uri":"/posts/post-318/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Git å®˜ç½‘ä¸‹è½½ï¼šhttp://git-scm.com/download/mac å®‰è£…è¿‡ç¨‹å’Œ Windows æ²¡å•¥åŒºåˆ«ï¼Œéƒ½æ˜¯ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ã€‚ IntelliJ IDEA å¯¹ Git çš„æ”¯æŒå¾ˆå¥½ï¼Œä¹Ÿä¸éœ€è¦é¢å¤–é…ç½®ä»€ä¹ˆï¼ŒIntelliJ IDEA çš„ Git æ“ä½œéƒ½å¾ˆä¾¿æ·å¼ºçƒˆä½¿ç”¨ IntelliJ IDEA ä½œä¸º Git çš„ GUI æ“ä½œå·¥å…·ã€‚ Homebrew æ–¹å¼ï¼ˆæ¨èï¼‰ï¼šbrew install git JDK å®˜ç½‘ä¸‹è½½ JDK7ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html å®˜ç½‘ä¸‹è½½ JDK8ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html jdk-8u231-macosx-x64.dmg ç™¾åº¦äº‘ï¼ˆd8rjï¼‰ï¼šhttps://pan.baidu.com/s/1VFAi0gpMWikTgjTQokZEhQ Java å¼€å‘ç¯å¢ƒç†è®ºä¸Šä¸€èˆ¬éƒ½æ˜¯è¿™ä¸ªä¼˜å…ˆå®‰è£…çš„ã€‚ å®‰è£…è¿‡ç¨‹å’Œ Windows æ²¡å•¥åŒºåˆ«ï¼Œéƒ½æ˜¯ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ï¼Œåªæ˜¯æ¯” Windows ç®€å•ï¼Œè¿å®‰è£…è·¯å¾„éƒ½ä¸éœ€è¦æ”¹è€Œå·²ï¼Œæ‰€ä»¥è¿™é‡Œä¸æˆªå›¾äº†ã€‚ æˆ‘è¿™è¾¹ä¸ç®¡æ˜¯ Windowsã€Macã€Linuxï¼Œåªè¦å¼€å‘ç¯å¢ƒï¼ŒJAVA_HOME æˆ‘éƒ½æ˜¯ JDK8ï¼ŒåŒæ—¶è¿˜è£…æœ‰ JDK6ã€JDK7ï¼Œåœ¨ä½¿ç”¨ IntelliJ IDEA çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸‰ä¸ªç‰ˆæœ¬çš„ JDKã€‚ JDK çš„ç¯å¢ƒå˜é‡æ˜¯è¦æ·»åŠ çš„ï¼Œæˆ‘è¿™è¾¹å¯ä»¥è´´ä¸€ä¸‹ã€‚ å¦‚æœä½ æ˜¯ bashï¼Œä½ éœ€è¦ç¼–è¾‘çš„æ˜¯è¿™ä¸ªï¼švim ~/.bash_profile ä¿®æ”¹åä¹‹ååˆ·æ–°é…ç½®æ–‡ä»¶æˆ‘æ˜¯ï¼šsource ~/.bash_profile 1 2 3 4 5 6 7 8 9 # JDK 1.8 JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home JRE_HOME=$JAVA_HOME/jre PATH=$PATH:$JAVA_HOME/bin CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar export JAVA_HOME export JRE_HOME export PATH export CLASSPATH å¸è½½ JDK 1 2 3 4 5 sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk IntelliJ IDEA å®˜ç½‘ä¸‹è½½ï¼šhttp://www.jetbrains.com/idea/ æœ€ä¼˜ç§€çš„ IDEï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œæˆ‘æ‰€æœ‰çš„ç”Ÿäº§åŠ›ç¡¬ä»¶è®¾å¤‡éƒ½æ˜¯ä¸ºäº†æ”¯æŒå®ƒè€Œè´­ä¹°çš„ï¼Œæ‰€ä»¥å†…å­˜ä¸€å®šè¦å¤Ÿå¤§ã€‚ ä¸‹é¢çš„ Mavenã€Tomcat éƒ½æ˜¯ä¾èµ–äº IntelliJ IDEA è¿è¡Œçš„ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæˆ‘åªè¦æå®š IntelliJ IDEAï¼Œå…¶ä»–çš„ Java å¼€å‘ç¯å¢ƒ IntelliJ IDEA éƒ½ä¼šå¸®æˆ‘ä»¬è§£å†³ã€‚ å…³äº IntelliJ IDEA Mac ä¸‹å®‰è£…/é…ç½®ç­‰ç›¸å…³ï¼Œè¯·çœ‹æˆ‘å†™çš„è¿™ä¸ªç³»åˆ—ï¼Œé‡Œé¢æœ‰è¯¦ç»†è¯´æ˜ï¼šIntelliJ IDEA ç®€ä½“ä¸­æ–‡ä¸“é¢˜æ•™ç¨‹ åœ¨ IntelliJ IDEA æœ‰å‡ ä¸ªç‰¹åˆ«çš„åœ°æ–¹æˆ‘å•ç‹¬æ‹¿å‡ºæ¥è®²è®²å§ï¼š å¦‚æœå¯åŠ¨ Tomcat çš„æ—¶å€™æŠ¥ï¼šPermission deniedï¼Œä½ åˆ™å¯ä»¥ï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥ Tomcat\\bin ç›®å½•ï¼Œç„¶åæ‰§è¡Œï¼šchmod 777 *.sh å¦‚æœå¯åŠ¨ Tomcat ä¹‹åï¼Œæ§åˆ¶å°ä¹±ç äº†ï¼Œå¹¶ä¸”ä½ ç¡®è®¤ä½ åœ¨ IntelliJ IDEA çš„ Preferences ä¸­è®¾ç½®çš„æ§åˆ¶å°å­—ä½“æ˜¯æ”¯æŒä¸­æ–‡çš„ï¼Œé‚£ä½ å¯ä»¥å°è¯•ä¸‹åœ¨ Tomcat VM å‚æ•°ä¸ŠåŠ ä¸Šï¼š-Dfile.encoding=UTF-8 Git çš„è·¯å¾„é…ç½®ï¼šPreferences -- Version Control -- Git -- Path to Git executable çš„å€¼æ˜¯ï¼š/usr/local/git/bin/git é‚£ä½ çš„ IntelliJ IDEA ç»ˆç«¯è·¯å¾„å¯ä»¥æ”¹æˆ zsh çš„ï¼Œé…ç½®æ–¹æ³•åœ¨ Preferences -- Tools -- Terminal -- Shell path çš„å€¼æ”¹ä¸ºæ˜¯ï¼š/bin/zsh IntelliJ IDEA åœ¨ Mac ä¸‹çš„é…ç½®æ–‡ä»¶ä¿å­˜è·¯å¾„ ä¸‹é¢å†…å®¹ä¸­ï¼šXXXXXXï¼Œè¡¨ç¤º IntelliJ IDEA çš„ç‰ˆæœ¬å·ï¼ŒIntelliJ IDEA çš„é…ç½®ç›®å½•æ˜¯è·Ÿç‰ˆæœ¬å·æœ‰å…³ç³»çš„ã€‚ /Users/ä½ çš„ç”¨æˆ·å/Library/Application Support/IntelliJIdeaXXXXXXï¼Œç”¨äºä¿å­˜å®‰è£…çš„æ’ä»¶ /Users/ä½ çš„ç”¨æˆ·å/Library/Caches/IntelliJIdeaXXXXXXï¼Œç”¨äºä¿å­˜ç¼“å­˜ã€æ—¥å¿—ã€ä»¥åŠæœ¬åœ°çš„ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯ï¼ˆlocal history è¿™ä¸ªåŠŸèƒ½ï¼‰ /Users/ä½ çš„ç”¨æˆ·å/Library/Preferences/IntelliJIdeaXXXXXXï¼Œç”¨äºä¿å­˜ä½ çš„ä¸ªäººé…ç½®ã€æˆæƒæ–‡ä»¶ï¼Œç­‰ä»·äº Windows ä¸‹çš„ config ç›®å½• IntelliJ IDEA è®¾ç½® JDK Maven å®˜ç½‘ä¸‹è½½ï¼šhttp://maven.apache.org/download.cgi Maven æ˜¯ç»¿è‰²ç‰ˆçš„ï¼Œä»»ä½•ç³»ç»Ÿéƒ½é€‚ç”¨ã€‚ å®‰è£…æ–¹å¼å’Œ Windowsã€Linux æ²¡å•¥æœ¬è´¨åŒºåˆ«ï¼Œéƒ½æ˜¯æŠŠ zip æ–‡ä»¶å¤¹è§£å‹ï¼Œç„¶åæ–°å¢å‡ ä¸ªç³»ç»Ÿå˜é‡ï¼Œä¿®æ”¹ Maven é…ç½®æ–‡ä»¶å‚æ•°ã€‚ æˆ‘æ˜¯æŠŠ Maven è§£å‹åï¼Œç›´æ¥æŠŠ Windows çš„ settings.xml å¤åˆ¶è¿‡æ¥ï¼Œä¿®æ”¹ä¸‹è¯¥æ–‡ä»¶æœ¬åœ°ä»“åº“çš„è·¯å¾„ï¼Œå…¶ä»–æ²¡å•¥å¯ä»¥æ”¹çš„äº†ã€‚ ç„¶åæœ¬åœ°ä»“åº“çš„é‚£äº›ä¾èµ–åŒ…æ˜¯ç›´æ¥ä» Windows ä¸‹æ‹·è´è¿‡æ¥çš„ï¼Œè¿™ä¸ªæ˜¯ä»»ä½•ç³»ç»Ÿä¸‹éƒ½å…¼å®¹çš„ï¼Œä¸éœ€è¦é¢å¤–å¤„ç†ã€‚ æœ€åå†ç”¨ IntelliJ IDEA å¯¹ Maven çš„é…ç½®è·¯å¾„é‡æ–°åšäº†ä¿®æ”¹ã€‚ ä»¥ä¸Šè¿™äº›ç‚¹éƒ½éœ€è¦ä½ å¯¹ Maven å’Œ IntelliJ IDEA æœ‰äº†è§£ï¼Œå¯¹äºè¿™ä¸¤ä¸ªä¸œè¥¿æˆ‘ä¹Ÿåœ¨æœ¬æ–‡ç« éƒ½è´´äº†ç›¸å…³çš„æ–‡ç« é“¾æ¥ï¼Œæˆ‘è¿™é‡Œä¸å¤šè¯´äº†ï¼Œå­¦ä¹ æ€»æ˜¯éœ€è¦èŠ±æ—¶é—´çš„ã€‚ Maven çš„ç¯å¢ƒå˜é‡æ˜¯è¦æ·»åŠ çš„ï¼Œæˆ‘è¿™è¾¹å¯ä»¥è´´ä¸€ä¸‹ï¼š 1 2 3 4 MAVEN_HOME=/Users/youmeek/my_software/work_software/maven3.3.9 PATH=$PATH:$MAVEN_HOME/bin export MAVEN_HOME export PATH éªŒè¯ï¼šmvn -v MySQL 5.7 å®˜ç½‘ä¸‹è½½ MySQLï¼šhttp://dev.mysql.com/downloads/mysql/ MySQL 5.7 ç‰ˆæœ¬ï¼šhttps://dev.mysql.com/downloads/mysql/5.7.html#downloads MySQL å®˜ç½‘æä¾›çš„ Mac ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼Œæ˜¯ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å®‰è£…ç±»å‹çš„ï¼Œæ²¡å•¥éš¾åº¦ï¼Œå¤§å®¶è‡ªå·±è¯•ä¸€ä¸‹ã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šå®‰è£…ç»“æŸåï¼Œä¼šæç¤ºä½ å®ƒç”Ÿæˆçš„ä¸€ä¸ªéšæœºå¯†ç ï¼Œä½ è¦å¤åˆ¶ä¸‹ï¼Œç­‰ä¸‹è¦ç”¨ æœ‰å‡ ä¸ªç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼š å¦‚ä½•ä¿®æ”¹ root å¯†ç ï¼š æ‰“å¼€ï¼šç³»ç»Ÿåå¥½è®¾ç½® -- åº•éƒ¨çš„ MySQL -- ç‚¹å‡»ï¼šStop MySQL Serverï¼Œæ ¹æ®æç¤ºè¾“å…¥ä½ çš„ Mac ç”¨æˆ·å¯†ç ã€‚ è¿æ¥ï¼šsudo /usr/local/mysql/bin/mysql -h 127.0.0.1 -u root -P 3306 -pï¼Œè¾“å…¥åˆšåˆšå¤åˆ¶çš„å¯†ç  - ä¿®æ”¹å¯†ç ï¼šset password = password('123456'); MySQL é…ç½®æ–‡ä»¶è®¾ç½® åˆ›å»ºæ–‡ä»¶ vim /etc/my.cnfï¼Œå‚è€ƒå†…å®¹å¦‚ä¸‹ é‡å¯ MySQL æœåŠ¡å³å¯ è¿™é‡Œç»™ä¸€ä¸ª demo ç¤ºä¾‹ï¼š [mysql] default-character-set = utf8mb4 [mysqld] symbolic-links=0 log-error=/var/log/mysql/error.log default-storage-engine = InnoDB collation-server = utf8mb4_unicode_520_ci init_connect = 'SET NAMES utf8mb4' character-set-server = utf8mb4 lower_case_table_names = 1 max_allowed_packet = 50M sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION é€šè¿‡å‘½ä»¤è¡Œæ“ä½œ MySQL å¯åŠ¨MySQLæœåŠ¡ sudo /usr/local/MySQL/support-files/mysql.server start åœæ­¢MySQLæœåŠ¡ sudo /usr/local/mysql/support-files/mysql.server stop é‡å¯MySQLæœåŠ¡ sudo /usr/local/mysql/support-files/mysql.server restart å¦‚æœä½ è¦å¸è½½ sudo rm -rf /usr/local/mysql sudo rm -rf /Library/PreferencePanes/MySQL* sudo rm -rf /var/db/receipts/com.mysql.* nginx #å½“å‰ç›®å½• /Users/maruifu/work/ComponentServices #ä¸‹è½½nginx-1.18.0 wget http://nginx.org/download/nginx-1.18.0.tar.gz # è§£å‹ tar -zxvf nginx-1.18.0.tar.gz #åˆ›å»ºç›®å½• mkdir nginx #åˆ›å»ºæ¨¡å—ç›®å½• mkdir nginx-src #è¿›å…¥æ¨¡æ¿ç›®å½• cd nginx-src #ä¸‹è½½pcreå¹¶è§£å‹ wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz #ä¸‹è½½opensslå¹¶è§£å‹ wget https://www.openssl.org/source/openssl-1.1.0g.tar.gz #ä¸‹è½½zlibå¹¶è§£å‹ wget http://prdownloads.sourceforge.net/libpng/zlib-1.2.11.tar.gz #è¿›å…¥æºç ç›®å½• cd ../nginx-1.18.0 #é…ç½®nginx ./configure \\ --with-http_gzip_static_module \\ --with-pcre=../nginx-src/pcre-8.41/ \\ --with-http_ssl_module \\ --with-openssl=../nginx-src/openssl-1.1.0g \\ --with-zlib=../nginx-src/zlib-1.2.11 \\ --prefix=/Users/maruifu/work/ComponentServices/nginx/nginx \\ #ç¼–è¯‘å¹¶å®‰è£… make \u0026\u0026 make install brew install wget\n","description":"\n","tags":[],"title":"\nmacOS ä¸‹git+ Java + Maven + MySql + Nginx å¼€å‘ç¯å¢ƒ","uri":"/posts/post-319/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"åŸå›  å…¶é»˜è®¤å¯åŠ¨æ‰§è¡Œè„šæœ¬å˜ä¸ºäº†~/.zshrcï¼Œæ‰€ä»¥æ€»ä¼šæ˜¾ç¤ºzshï¼šxxx not found\nè§£å†³æ–¹æ³• åœ¨ç»ˆç«¯ä¸­è¾“å…¥\necho â€˜source ~/.bash_profileâ€™ \u003e\u003e ~/.zshrc ","description":"\n","tags":[],"title":"\nMacç»ˆç«¯é…ç½®å¥½çš„ç¯å¢ƒå˜é‡åœ¨å…³é—­ç»ˆç«¯åå¤±æ•ˆæ€ä¹ˆåŠ","uri":"/posts/post-320/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"MAC\nAwesome Mac ï£¿ ç°åœ¨æˆ‘ä»¬å˜å¾—éå¸¸å¤§ï¼Œä¸æœ€åˆçš„æƒ³æ³•ä¸åŒï¼Œå¦‚ä»Šæˆ‘ä»¬éœ€è¦æ”¶é›†å„ç§ç±»åˆ«éå¸¸å¥½ç”¨çš„ Mac åº”ç”¨ç¨‹åºã€è½¯ä»¶ä»¥åŠå·¥å…·ã€‚\nå¼€å‘è€…å·¥å…· ç¼–è¾‘å™¨ ä¸€ç§ç”¨äºç¼–è¾‘çº¯æ–‡æœ¬æ–‡ä»¶çš„ç¨‹åºï¼Œå»ºè®®ä½¿ç”¨å…è´¹å¼€æºçš„ç¼–è¾‘å™¨\nAtom - GitHub æ¨å‡ºçš„å¼€æºç¼–è¾‘å™¨ï¼ŒAtomå¸¸ç”¨æ’ä»¶ã€‚ Android Studio - Android çš„å®˜æ–¹ IDEï¼ŒåŸºäº Intellij IDEAã€‚ Brackets - Adobe æ¨å‡ºçš„ Brackets å…è´¹/å¼€æºç¼–è¾‘å™¨ã€‚ BBEdit - å¼ºå¤§çš„æ–‡ä»¶ç¼–è¾‘å™¨ï¼Œç”¨äºç¼–è¾‘æ–‡ä»¶ï¼Œæ–‡æœ¬æ–‡ä»¶åŠç¨‹åºæºä»£ç ã€‚ Coda2 - ç”¨äºç¼–å†™ Web åº”ç”¨ï¼Œé•¿å¾—æ¼‚äº®çš„ç¼–è¾‘å™¨ã€‚ CotEditor - è½»é‡çº§çš„çº¯æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ Chocolat - è½»é‡çº§æœ¬åœ°ç¼–è¾‘å™¨ã€‚ Deco IDE - React Native IDE æ”¯æŒæ§ä»¶æ‹–æ‹½ç•Œé¢å®æ—¶å˜æ›´ã€‚ Espresso - Web ç¼–ç¨‹åˆ©å™¨ï¼Œå…·å¤‡äº†å¿«é€Ÿä¸”å¼ºå¤§çš„ç¼–è¾‘åŠŸèƒ½ã€ä¸“ä¸šæ£€æŸ¥ä¸åˆ†ç±»ã€å³æ—¶é¢„è§ˆç¼–è¾‘æˆæœã€å‘å¸ƒä¸åŒæ­¥åŠŸèƒ½ç­‰ã€‚ Emacs - Emacs æ˜¯åŸºäºæ§åˆ¶å°çš„ç¼–è¾‘å™¨å’Œé«˜åº¦å¯å®šåˆ¶çš„ã€‚ Eclipse - æµè¡Œçš„å¼€æº IDEï¼Œä¸»è¦ç”¨äº Javaï¼Œä¹Ÿä¸ºå¤šç§è¯­è¨€æä¾›æ’ä»¶æ”¯æŒã€‚ Sublime Text - ä¸€ä¸ªæ¯”è¾ƒç®€æ´å¤§æ–¹å¸¦æ’ä»¶ç®¡ç†ç³»ç»Ÿçš„æµè¡Œç¼–è¾‘å™¨ï¼ŒSublimeå¸¸ç”¨æ’ä»¶ã€‚ Haskell for Mac - Haskell çš„ç°ä»£å¼€å‘ç¯å¢ƒã€‚ HBuilder - HBuilder æ˜¯ DCloudï¼ˆæ•°å­—å¤©å ‚ï¼‰æ¨å‡ºçš„ä¸€æ¬¾æ”¯æŒ HTML5 çš„ Web å¼€å‘ IDEã€‚ JetBrains Toolbox App - ç®¡ç†å·²å®‰è£…çš„JetBrainså·¥å…·ï¼Œä¸‹è½½æ–°å·¥å…·å¹¶æ‰“å¼€æœ€è¿‘çš„é¡¹ç›®ã€‚ CLion - å¼ºå¤§çš„ C å’Œ C++ IDEã€‚(å­¦ç”Ÿå…è´¹) DataGrip - ç”¨äºæ•°æ®åº“å’ŒSQLçš„è·¨å¹³å°IDEã€‚ (å­¦ç”Ÿå…è´¹), æŸ¥çœ‹æ­¤å¤„äº†è§£æ›´å¤šã€‚ Rider - è·¨å¹³å° C# IDEã€‚ å®ƒæ˜¯ Microsoft çš„ Visual Studio çš„æ›¿ä»£æ–¹æ¡ˆ. AppCode - é€‚ç”¨äº iOS / macOS å¼€å‘çš„æ™ºèƒ½ IDE PyCharm - ä¸€æ¬¾ Python å¼€å‘é›†æˆç¯å¢ƒï¼Œæœ‰ä¸“ä¸šç‰ˆå’Œç¤¾åŒºç‰ˆã€‚ IntelliJ IDEA - ä¸€æ¬¾ Java å¼€å‘é›†æˆç¯å¢ƒã€‚(å­¦ç”Ÿå…è´¹) GoLand - JetBrainså‡ºå“çš„Goå¼€å‘IDEï¼Œæ™ºèƒ½ï¼Œçµæ´» Webstorm - æ˜¯ JetBrains å…¬å¸æ——ä¸‹ä¸€æ¬¾ JavaScript å¼€å‘å·¥å…·ã€‚å­¦ç”Ÿå…è´¹ï¼Œç‚¹å‡»è¿™é‡Œ æŸ¥çœ‹æ›´å¤šã€‚ NodeJS - é›†æˆ Node.jsï¼Œä½ è‚¯å®šéœ€è¦å®ƒï¼Œå¾ˆå¤šåŠŸèƒ½éœ€è¦å®ƒã€‚ EditorConfig - å¸®åŠ©å¼€å‘è€…åœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´å®šä¹‰å’Œç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚ Material Theme UI - Google ä¸º React å¼€å‘çš„ä¸»é¢˜ã€‚ LightTable - ä¸‹ä¸€ä»£ä»£ç ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ micro - ä¸€ä¸ªç°ä»£ç›´è§‚çš„åŸºäºç»ˆç«¯çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ NetBeans IDE - å…è´¹ã€å¼€æºçš„ IDEï¼Œä¸»è¦ç”¨äº Java å¼€å‘ï¼Œå¯æ”¯æŒå¤šç§è¯­è¨€å’Œæ¡†æ¶ã€‚ ONI - ç”± Neovim æä¾›çš„ IDEã€‚ Qt - è·¨å¹³å° C++ å›¾å½¢ç”¨æˆ·ç•Œé¢åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ã€‚ TextMate - æ–‡æœ¬ç¼–è¾‘å™¨è½¯ä»¶ï¼Œä¸ BBedit ä¸€èµ·å¹¶ç§°è‹¹æœæœºä¸Šçš„ emacs å’Œ vimã€‚ å¼€æºåœ°å€ Tincta - ä¸€ä¸ªå…è´¹çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€](https://github.com/CodingFriends/Tincta) Visual Studio Code - å¾®è½¯æ¨å‡ºçš„å…è´¹/å¼€æºç¼–è¾‘å™¨ï¼ŒTypeScript æ”¯æŒæ æ çš„ï¼ŒVSCodeå¸¸ç”¨æ’ä»¶ã€‚ å¼€æºåœ°å€ Vim - Vim å¤è€çš„ç»ˆç«¯ä¸­ä½¿ç”¨çš„ç¼–è¾‘å™¨ï¼ŒVimå¸¸ç”¨æ’ä»¶ã€‚ å¼€æºåœ°å€ Vimr - Vim å®¢æˆ·ç«¯ï¼Œå‡çº§ Vim ä½“éªŒã€‚ å¼€æºåœ°å€ Visual Studio Community for Mac - å…è´¹ï¼Œå¼€æºï¼ŒåŠŸèƒ½é½å…¨çš„ IDEã€‚ Xamarin Studio - å…è´¹çš„è·¨å¹³å°çš„ C# IDEã€‚æ”¯æŒ IOSã€Android å’Œ .net å¼€å‘ã€‚ å¼€æºåœ°å€ Xcode - å¼€å‘ iOS å’Œ MacOS åŸºæœ¬ IDEã€‚ å¼€å‘è€…å®ç”¨å·¥å…· BetterRename - ä¸€æ¬¾å¼ºå¤§çš„æ‰¹é‡é‡å‘½åå·¥å…·ï¼Œå¯ä»¥é€šè¿‡æœç´¢åŠŸèƒ½æ”¹åã€‚ Beyond Compare - å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ï¼Œå¹¶å°†å·®å¼‚ä»¥é¢œè‰²æ ‡ç¤ºã€‚ CodeKit - è‡ªåŠ¨ç¼–è¯‘ Lessã€Sassã€Stylusã€CoffeeScriptã€Jade \u0026 Hamlç­‰æ–‡ä»¶ã€‚ Cacher - åŸºäºäº‘çš„å›¢é˜Ÿä»£ç ç‰‡æ®µç®¡ç†å™¨ï¼Œå…·æœ‰GiståŒæ­¥ï¼ŒVSCode/Atom/Sublimeè½¯ä»¶åŒ…å’ŒMac/Windows/Linux/Webå®¢æˆ·ç«¯ã€‚ Dash - å¼ºå¤§åˆ°ä½ æ— æ³•æƒ³è±¡çš„ API ç¦»çº¿æ–‡æ¡£è½¯ä»¶ã€‚ DiffMerge - å¯è§†åŒ–çš„æ–‡ä»¶æ¯”è¾ƒï¼ˆä¹Ÿå¯è¿›è¡Œç›®å½•æ¯”è¾ƒï¼‰ä¸åˆå¹¶å·¥å…·ã€‚ EnvPane - å›¾å½¢ç»ˆç«¯æŸ¥çœ‹ç¯å¢ƒå˜é‡çš„åº”ç”¨å·¥å…·ã€‚ å¼€æºåœ°å€ Fanvas - æŠŠ swf è½¬ä¸º HTML5 canvas åŠ¨ç”»çš„ç³»ç»Ÿã€‚ å¼€æºåœ°å€ FinderGo Finder ä¸­å¿«é€Ÿæ‰“å¼€ç»ˆç«¯ï¼Œå®šä½åˆ°ç›®å½• å¼€æºåœ°å€ Gas Mask - ç¼–è¾‘ hosts æ–‡ä»¶çš„å·¥å…·ï¼Œæ›´ç®€å•æ–¹ä¾¿ã€‚ å¼€æºåœ°å€ Go2Shell - ä» Finder æ‰“å¼€å‘½ä»¤è¡Œã€‚ Gemini - æ™ºèƒ½çš„é‡å¤æ–‡ä»¶æŸ¥æ‰¾å™¨ã€‚ Hosts.prefpane - ç¼–è¾‘ hosts æ–‡ä»¶çš„å·¥å…·ã€‚ å¼€æºåœ°å€ Hex Fiend - å¿«é€Ÿè€Œèªæ˜çš„å¼€æºåå…­è¿›åˆ¶ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ iHosts - å”¯ä¸€ä¸Šæ¶ Mac App Store çš„ /etc/hosts ç¼–è¾‘ç¥å™¨ã€‚ Integrity - è½»æ¾æ‰¾åˆ°æ— æ•ˆé“¾æ¥ã€‚ Koala - é¢„å¤„ç†å™¨è¯­è¨€å›¾å½¢ç¼–è¯‘å·¥å…·ï¼Œæ”¯æŒ Lessã€Sassã€CoffeeScriptã€Compass framework çš„å³æ—¶ç¼–è¯‘ã€‚ å¼€æºåœ°å€ Kaleidoscope - ä¸€æ¬¾å¾ˆå¼ºå¤§çš„æ–‡æœ¬æ–‡ä»¶å’Œå›¾åƒæ¯”è¾ƒå·¥å…·ï¼ŒåŒæ—¶å’Œ gitã€svn ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·èƒ½å¤Ÿå®Œç¾çš„ç»“åˆã€‚ Localname - æä¾›å¯¹æœ¬åœ°å¼€å‘æœåŠ¡å™¨çš„è®¿é—®æƒé™ã€‚ MJML - ç®€åŒ–è®¾è®¡å›åº”ç”µå­é‚®ä»¶çš„æ–¹å¼ã€‚ å¼€æºåœ°å€ PaintCode - å°†è®¾è®¡è½¬æ¢æˆ Objective-C, Swift æˆ– C# ä»£ç ã€‚ PushMate å¯é€šè¿‡ç¡®ä¿æ¨é€æœ‰æ•ˆè½½è·æ­£ç¡®æ¥è§£å†³å¸¸è§çš„æ¨é€é€šçŸ¥é—®é¢˜ã€‚ PPRows - è®¡ç®—ä½ å†™äº†å¤šå°‘è¡Œä»£ç ã€‚ å¼€æºåœ°å€ SwitchHosts - ä¸€ä¸ªç®¡ç†ã€åˆ‡æ¢å¤šä¸ª hosts æ–¹æ¡ˆçš„å·¥å…·ã€‚ å¼€æºåœ°å€ SCM Breeze - ç”¨äºå¢å¼ºä¸gitäº¤äº’çš„shellè„šæœ¬é›†(ç”¨äºbashå’Œzsh)ã€‚ å¼€æºåœ°å€ SnippetsLab - ç®¡ç†å’Œç»„ç»‡ä½ çš„ä»£ç ç‰‡æ®µã€‚ StarUML - å¼ºå¤§çš„è½¯ä»¶å»ºæ¨¡è½¯ä»¶ã€‚ SecureCRT - ä¸€æ¬¾æ”¯æŒ SSHã€Telnet ç­‰å¤šç§åè®®çš„ç»ˆç«¯ä»¿çœŸç¨‹åºã€‚ Swiftify - Xcode ï¼† Finder æ‰©å±• Objective-C è½¬ Swift ä»£ç è½¬æ¢å™¨ SYM - ä¸€ä¸ªå›¾å½¢åŒ–çš„å´©æºƒæ—¥å¿—è§£æå·¥å…·ã€‚ å¼€æºåœ°å€ TeXstudio - é›†æˆåˆ›å»º LaTeX æ–‡æ¡£çš„å†™ä½œç¯å¢ƒã€‚ å¼€æºåœ°å€ uTools - ä¸€æ¬¾åŸºäºæ’ä»¶çš„ç¨‹åºå‘˜æ•ˆç‡å·¥å…·ï¼ŒåŒ…å«éå¸¸å¤šçš„å®ç”¨æ’ä»¶ï¼Œå¦‚å›¾åºŠã€UUIDã€å¯†ç ã€ç¿»è¯‘ã€JSONæ ¼å¼åŒ–ç­‰ã€‚ Vagrant Manager - ç®¡ç†ä½ æœ¬åœ°æœåŠ¡ã€‚ å¼€æºåœ°å€ Vagrant - ç”¨æ¥æ„å»ºè™šæ‹Ÿå¼€å‘ç¯å¢ƒçš„å·¥å…·ã€‚ å¼€æºåœ°å€ WeFlow - ä¸€ä¸ªåŸºäº tmt-workflow å‰ç«¯å·¥ä½œæµçš„å¼€å‘å·¥å…·ã€‚ å¼€æºåœ°å€ Woodpecker - åœ¨Macä¸ŠæŸ¥çœ‹ã€ç¼–è¾‘iOS Appçš„æ²™ç›’æ–‡ä»¶, UserDefaults, Keychainé¡¹ zeplin - å‰ç«¯ä¸è®¾è®¡ååŒå·¥ä½œä¸“ç”¨å·¥å…·ã€‚ æ­£åˆ™ç¼–è¾‘å™¨ Patterns - æ­£åˆ™è¡¨è¾¾å¼ç¼–è¾‘å™¨ã€‚ Regex - æ„Ÿè§‰æ˜¯ç”¨è¿‡æœ€æ¼‚äº®çš„æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å·¥å…·ã€‚ Reggy - æ­£åˆ™è¡¨è¾¾å¼ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ RegExRX - æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å‘å·¥å…·ã€‚ APIå¼€å‘å’Œåˆ†æ Cocoa Rest Client - æ¯” Postman çœ‹èµ·æ¥æ¼‚äº®çš„å®¢æˆ·ç«¯ï¼Œæµ‹è¯• HTTP/REST endpointsã€‚ å¼€æºåœ°å€ Insomnia - æœ€ç›´è§‚çš„è·¨å¹³å° REST API å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ Postman - Postman å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæµ‹è¯• APIã€‚ Katalon Studio - ç®€å•å¼€æ”¾æ€§æµ‹è¯•å‰ç«¯å¼€æ”¾å·¥å…·ï¼Œ ç½‘é¡µï¼Œ æ‰‹æœºåº”ç”¨ç­‰å®¢æˆ·ç«¯ã€‚ å¯ä»¥ä½¿ç”¨åœ¨ä¸åŒçš„æµè§ˆå™¨ ç½‘ç»œåˆ†æ Charles - ä¸€ä¸ªä»£ç†å·¥å…·ï¼Œå…è®¸ä½ æŸ¥çœ‹æ‰€æœ‰çš„ HTTP å’Œ HTTPS æµé‡ã€‚ James - ç”¨äº https å’Œ http è¿›è¡ŒæŸ¥è¯¢æ˜ å°„è¯·æ±‚ã€‚ å¼€æºåœ°å€ mitmproxy - ä¸€æ¬¾æ”¯æŒ HTTP(S) çš„ä¸­é—´äººä»£ç†å·¥å…·ï¼Œå¯åœ¨ç»ˆç«¯ä¸‹è¿è¡Œï¼Œå¯ç”¨äºæŠ“åŒ… å¼€æºåœ°å€ Paw - å…ˆè¿›çš„ HTTP å®¢æˆ·ç«¯ã€‚ Proxie - HTTP è°ƒè¯•å®¢æˆ·ç«¯ã€‚ Proxyman - é€‚ç”¨äº macOS çš„ç°ä»£ç›´è§‚ HTTP è°ƒè¯•ä»£ç†. Wireshark - ä¸–ç•Œä¸Šæœ€å¹¿æ³›ä½¿ç”¨çš„ç½‘ç»œåè®®åˆ†æè½¯ä»¶ã€‚ å¼€æºåœ°å€ å‘½ä»¤è¡Œå·¥å…· A curated list of shell commands and tools specific to OS X.\nautojump - å‘Šåˆ«åˆè‡­åˆé•¿çš„è·¯å¾„åï¼Œä¸€é”®ç›´è¾¾ä»»ä½•ç›®å½•ã€‚ å¼€æºåœ°å€ bash-it - ä¸€ä¸ªç¤¾åŒºçš„ bash çš„æ¡†æ¶ã€‚** å¼€æº ** bat - å¸¦æœ‰è¯­æ³•é«˜äº®å’ŒGité›†æˆçš„ cat(1) å…‹éš†ã€‚ å¼€æºåœ°å€ color-retro-term - ä¸€æ¬¾å¤å¤é£æ ¼çš„ç»ˆç«¯ï¼Œéå¸¸é…·ç‚«ã€‚ cool-retro-term - æ€€æ—§çš„å‘½ä»¤è¡Œç»ˆç«¯ã€‚ å¼€æºåœ°å€ Cakebrew - Homebrew çš„å®¢æˆ·ç«¯è½¯ä»¶ã€‚æ‘†è„±å‘½ä»¤æ–¹ä¾¿å®‰è£…ã€æŸ¥çœ‹ã€å¸è½½è½¯ä»¶ã€‚ å¼€æºåœ°å€ cmus - å‘½ä»¤è¡Œæ’­æ”¾éŸ³ä¹åº”ç”¨ã€‚ å¼€æºåœ°å€ Dnote - å‘½ä»¤è¡Œä¸Šçš„ç¬”è®°æœ¬ï¼Œæ”¯æŒå¤šè®¾å¤‡åŒæ­¥å’Œç½‘ç»œç•Œé¢ã€‚ å¼€æºåœ°å€ Fish Shell - æ™ºèƒ½ä¸”ç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œç»ˆç«¯ã€‚ Glances - åœ¨å‘½ä»¤è¡Œä¸­æŸ¥çœ‹ä½ ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„å·¥å…·ã€‚ å¼€æºåœ°å€ httpie - HTTPie æ˜¯ä¸€ä¸ªè®©ä½ å¾®ç¬‘çš„å‘½ä»¤è¡Œ HTTP å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ hyper - åŸºäº Web æŠ€æœ¯çš„ç»ˆç«¯ï¼Œç›´æ¥æ›¿ä»£è‡ªå¸¦çš„ Terminalã€‚ å¼€æºåœ°å€ HyperTerm - ä¸€æ¬¾åŸºäº Node å¼€å‘çš„ç»ˆç«¯è½¯ä»¶ï¼Œé€¼æ ¼å¾ˆé«˜ã€‚ å¼€æºåœ°å€ iTerm2 - å…è´¹çš„ç»ˆç«¯å·¥å…·ï¼Œç›´æ¥æ›¿ä»£è‡ªå¸¦çš„ Terminalï¼Œæœ‰éå¸¸å¤šæƒŠäººçš„ç‰¹æ€§ã€‚ å¼€æºåœ°å€ itunes-remote - é€šè¿‡ç»ˆç«¯æ§åˆ¶æ‚¨çš„ iTunesã€‚ å¼€æºåœ°å€ job - çŸ­å‘½ä»¤å¹¶å‘ã€é‡å¤æ‰§è¡Œå·¥å…·, é€‚ç”¨äºå‹æµ‹. å¼€æºåœ°å€ LNav - æ—¥å¿—æ–‡ä»¶é˜…è¯»å™¨. å¼€æºåœ°å€ mycli - ä¸º MySQL å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œæä¾›è¯­æ³•é«˜äº®å’Œæç¤ºåŠŸèƒ½çš„å·¥å…·ï¼ å¼€æºåœ°å€ m-cli - ç”¨äº macOS çš„ç‘å£«å†›åˆ€ã€‚ å¼€æºåœ°å€ Mac-CLI - è‡ªåŠ¨åŒ–æ‚¨çš„ OS X ç³»ç»Ÿçš„ä½¿ç”¨ã€‚ å¼€æºåœ°å€ mas - ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œç•Œé¢çš„è‹¹æœåº”ç”¨å•†åº—ã€‚ å¼€æºåœ°å€ ndm - æŸ¥çœ‹æœ¬åœ°NPMå®‰è£…çš„åŒ…å®¢æˆ·ç«¯è½¯ä»¶ã€‚æ‘†è„±å‘½ä»¤æ–¹ä¾¿å®‰è£…ã€æŸ¥çœ‹ã€å¸è½½è½¯ä»¶ã€‚ å¼€æºåœ°å€ pgcli - ä¸ºPostgresæä¾›ä¸€ä¸ªæ”¯æŒè‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº®çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ å¼€æºåœ°å€ silver searcher (ag) - ç±»ä¼¼äºackçš„ä»£ç æœç´¢å·¥å…·ï¼Œä¸“æ³¨äºé€Ÿåº¦ã€‚ å¼€æºåœ°å€ Serial - ä¸ºå·¥ç¨‹å¸ˆå’Œç³»ç»Ÿç®¡ç†å‘˜åµŒå…¥å¼ç¡¬ä»¶æ›´å®¹æ˜“ã€‚ spaceship - ä¸€ä¸ªç®€çº¦ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”ææ˜“å®šåˆ¶çš„Zshæç¤ºã€‚ å¼€æºåœ°å€ Tabby (formerly Terminus) - å…è´¹çš„ç»ˆç«¯å·¥å…·ï¼ŒåŸºäº Web æŠ€æœ¯çš„ç»ˆç«¯ï¼Œç”¨ TypeScript å†™æˆçš„è·¨å¹³å°ç»ˆç«¯å·¥å…·ã€‚æ·±å— hyper å¯å‘ã€‚ å¼€æºåœ°å€ Termius - å…è´¹çš„ç»ˆç«¯å·¥å…·ï¼Œå¯ä»¥ä¸ windows å¹³å°çš„ xshell åª²ç¾ã€‚ thefuck - ä¸€ä¸ªçº æ­£é”™è¯¯å‘½ä»¤çš„å·¥å…·ï¼Œè¾“å…¥é”™è¯¯å‘½ä»¤åï¼Œè¾“å…¥fuckå°±å¯ä»¥ä¿®æ­£æˆæ­£ç¡®çš„å‘½ä»¤è¡Œå‘½ä»¤ï¼Œæ”¯æŒè‡ªå®šä¹‰çš„bash_profileå‘½ä»¤[ å¼€æºåœ°å€] tmux - ä¸€ä¸ªä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨å™¨ç±»è‡ªç”±è½¯ä»¶ã€‚ å¼€æºåœ°å€ tmuxinator - Tmuxçš„é…ç½®ç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ ttygif - å°†ç»ˆç«¯å½•åˆ¶è½¬æ¢ä¸º GIF åŠ¨ç”»ã€‚ å¼€æºåœ°å€ trash - å°†æ–‡ä»¶å’Œç›®å½•ç§»åŠ¨åˆ°åºŸçº¸ç¯“ã€‚ å¼€æºåœ°å€ Upterm - Upterm (ä¹‹å‰æ˜¯ Black Screen) æ¥è‡ª 21 ä¸–çºªçš„å¼ºå¤§ç»ˆç«¯ã€‚ Zsh - ä¸€ä¸ªä¸“ä¸ºäº¤äº’å¼ä½¿ç”¨è€Œè®¾è®¡çš„å‘½ä»¤è¡Œ shellã€‚ å¼€æºåœ°å€ ç‰ˆæœ¬æ§åˆ¶ Git - ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œå®˜ç½‘æä¾›æ•°åç§ GUI å®¢æˆ·ç«¯ for Macã€‚ å¼€æºåœ°å€ SVN - ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚ GUI Cornerstone - Mac ä¸Šæœ€ä½³çš„ SVN ç®¡ç†å·¥å…·ã€‚ Fork - ä¸€ä¸ªå¿«é€Ÿå‹å¥½çš„ Git å®¢æˆ·ç«¯ã€‚ GitFinder - ä¸€ä¸ªå¿«é€Ÿå’Œè½»é‡çº§çš„ Git å®¢æˆ·ç«¯çš„ Mac ä¸ Finder é›†æˆã€‚ GitX - Pieterâ€™sçš„è¡ç”Ÿç‰ˆæœ¬ï¼Œç»´æŠ¤å¢å¼ºç”Ÿäº§åŠ›å’Œå›¢é˜Ÿå¼€å‘å˜åŒ–ã€‚ å¼€æºåœ°å€ Gitbar - å¼€æºï¼Œåœ¨ä½ çš„èœå•æ ä¸Šæ˜¾ç¤º GitHub è´¡çŒ®ç»Ÿè®¡ã€‚ å¼€æºåœ°å€ GitHub Desktop - ä½¿ç”¨ GitHub çš„ GUI åº”ç”¨ã€‚ GitUp - ä¸€ä¸ªç®€å•åŠŸèƒ½å¼ºå¤§çš„ Git å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ GitKraken - æœ€æµè¡Œçš„å›¾å½¢ç”¨æˆ·ç•Œé¢çš„ git ç®¡ç†å·¥å…·ã€‚ Hub - å°† GitHub æ¥å£å’Œ Git å‘½ä»¤è¿›è¡ŒåŒ…è£…ã€‚ å¼€æºåœ°å€ OhMyStar æœ€å¥½çš„ç»„ç»‡ Github Star çš„è½¯ä»¶ã€‚ SourceTree - å¼ºå¤§çš„ Git è·¨å¹³å°å®¢æˆ·ç«¯ã€‚ SmartGit - éå•†ä¸šç”¨é€”å…è´¹ï¼Œå…¨å¹³å°æ”¯æŒï¼Œé›†æˆ Github æœåŠ¡ã€‚ Sublime Merge - Gitå®¢æˆ·ç«¯ï¼Œæ¥è‡ªSublime Textçš„åˆ¶é€ å•†ã€‚ Tower2 - æœ€å¼ºå¤§çš„ Git å®¢æˆ·ç«¯ã€‚ Versions - Mac ä¸Šæœ€å¥½çš„ SVN ç®¡ç†å·¥å…·ã€‚ ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ Coding.net - ä»£ç æ‰˜ç®¡ï¼Œé¡¹ç›®ç®¡ç†ï¼ŒWebIDEï¼Œæ¼”ç¤ºéƒ¨ç½²ï¼Œå¼€å¯äº‘ç«¯å¼€å‘æ¨¡å¼ï¼Œè®©å¼€å‘æ›´ç®€å•ã€‚ GitLab - ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ã€‚ GitHub GitHub æ‰˜ç®¡ä»£ç ï¼Œé¡¹ç›®ç®¡ç†ï¼Œæ¼”ç¤ºéƒ¨ç½²ï¼Œç§ï¼Œæ‚¨ç°åœ¨å°±åœ¨è®¿é—®GitHubã€‚ Gogs - ä¸€æ¬¾ææ˜“æ­å»ºçš„è‡ªåŠ© Git æœåŠ¡ Golang ç‰ˆæœ¬ã€‚ å¼€æºåœ°å€ Gerrit Gerrit æ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æ”¾æºä»£ç çš„ä»£ç å®¡æŸ¥è½¯ä»¶ï¼Œä½¿ç”¨ç½‘é¡µç•Œé¢ã€‚ Gitblit Java ç‰ˆæœ¬ Git ä»£ç æ‰˜ç®¡ï¼Œé¡¹ç›®ç®¡ç†ã€‚ å¼€æºåœ°å€ Gitea - Gogs çš„ fork ç‰ˆæœ¬ã€‚** å¼€æº ** phabricator phabricator æ”¯æŒ Gitã€SVNã€HG åŸºäº PHP + Mysql çš„å¼€æ”¾æºä»£ç è½¯ä»¶å¼€å‘å¹³å°ã€‚ æ•°æ®åº“ Another Redis Desktop Manager - ä¸€æ¬¾ç¨³å®šå…¨æ–°çš„Redisç®¡ç†å·¥å…·ã€‚** å¼€æº ** Bdash - SQL å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œæ”¯æŒ MySQLã€ PostgreSQL (Redshift)ã€ BigQueryã€‚** å¼€æº ** Base 2 - ä¸€ä¸ªç”¨äºç®¡ç† SQLite æ•°æ®åº“çš„è½¯ä»¶ã€‚ Chrome MySQL Admin - ä¸€ä¸ª Chrome æ’ä»¶ï¼Œæ˜¯ MySQL å¼€å‘çš„è·¨å¹³å°ã€å¯è§†åŒ–æ•°æ®åº“å·¥å…·ã€‚ å¼€æºåœ°å€ Core Data Editor - æ ¸å¿ƒæ•°æ®ç¼–è¾‘å™¨å¯è®©æ‚¨è½»æ¾æŸ¥çœ‹ï¼Œç¼–è¾‘å’Œåˆ†æåº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚ å¼€æºåœ°å€ DB Browser for SQLite - ä¸€ä¸ªè·¨å¹³å°çš„ç”¨äºç®¡ç† SQLite æ•°æ®åº“çš„è½¯ä»¶ã€‚ å¼€æºåœ°å€ DataGrip - JetBrains å…¬å¸æ——ä¸‹ä¸€æ¬¾æ•°æ®åº“ç®¡ç†å·¥å…·ã€‚ç‚¹å‡»è¿™é‡Œ å­¦ç”Ÿå…è´¹ã€‚ DBeaver - è·¨å¹³å° SQL å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¤§éƒ¨åˆ†ä¸»æµæ•°æ®åº“ ElectroCRUD - MySQL æ•°æ®åº“ CRUD åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ Sequel Pro - ä¸€ä¸ª MySQL æ•°æ®åº“ç®¡ç†è½¯ä»¶ã€‚ å¼€æºåœ°å€ JackDB - ç›´æ¥çš„ SQL è®¿é—®ä½ æ‰€æœ‰çš„æ•°æ®ï¼Œæ— è®ºåœ¨å“ªé‡Œã€‚ å¼€æºåœ°å€ medis - æ¼‚äº®çš„ Redis ç®¡ç†è½¯ä»¶ã€‚ å¼€æºåœ°å€ MongoDB - ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚ å¼€æºåœ°å€ MongoBooster - MongoDB å›¾å½¢åŒ–ç®¡ç†è½¯ä»¶ï¼Œå†…åµŒ MongoShellï¼ŒES6 è¯­æ³•ï¼Œæµç•…æŸ¥è¯¢åŠæ™ºèƒ½æ„ŸçŸ¥ã€‚ mongoDB.app - åœ¨Mac ä¸Šæœ€ç®€å•çš„ä½¿ç”¨ MongoDBã€‚ å¼€æºåœ°å€ Mongo Management Studio - MongoDB å›¾å½¢åŒ–å®¢æˆ·ç«¯ç®¡ç†è½¯ä»¶ã€‚ MDB Explorer - Mac ä¸ŠæŸ¥çœ‹ç¼–è¾‘ Access æ•°æ®åº“çš„å·¥å…·ã€‚ MySQL Workbench - MySQL æ•°æ®åº“å®˜æ–¹ç®¡ç†è½¯ä»¶ã€‚ Navicat Data Modeler - ä¸€ä¸ªæ•°æ®åº“è®¾è®¡å·¥å…·ï¼Œå®ƒå¸®åŠ©åˆ›å»ºé«˜è´¨ç´ çš„æ¦‚å¿µã€é€»è¾‘å’Œç‰©ç†æ•°æ®æ¨¡å‹ã€‚ Postico - ç°ä»£ PostgreSQL å®¢æˆ·ç«¯ï¼Œæ¼‚äº®åŠŸèƒ½å¤šã€‚ Postgres.app - Mac ä¸Šæœ€ç®€å•çš„æ–¹æ³•çš„ä½¿ç”¨ PostgreSQL å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚ å¼€æºåœ°å€ PSequel - PostgreSQL æ•°æ®åº“ GUI è½¯ä»¶ã€‚ pgModeler - æ˜¯ä¸€ä¸ªä¸“ä¸ºPostgreSQLè®¾è®¡çš„å¼€æºæ•°æ®å»ºæ¨¡å·¥å…·ã€‚ å¼€æºåœ°å€ RedisClient - æ¼‚äº®è·¨å¹³å°çš„Redisç®¡ç†è½¯ä»¶ã€‚ å¼€æºåœ°å€ RedisDesktopManager - Redis è·¨å¹³å°çš„ GUI ç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ SQLPro Studio - æ”¯æŒ SQL Server, Postgres, Oracle ä»¥åŠ MySQL ç­‰ä¸»æµçš„æ•°æ®åº“å¯è§†åŒ–ç®¡ç†å·¥å…·. SQLight - ä¸€ä¸ª SQLite æ•°æ®åº“ç®¡ç†å™¨å·¥å…·ï¼Œéå¸¸å¥½ç”¨ã€‚ TablePlus - æ”¯æŒ PostgreSQLï¼ŒMySQLï¼ŒRedShiftï¼ŒMariaDBâ€¦ å„ç§æ•°æ®åº“çš„é«˜é¢œå€¼å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ Tableau Public - æ•°æ®å¯è§†åŒ–å·¥å…·ã€‚ Keylord - Redisï¼ŒBoltï¼ŒLevelDB å’Œ Memcached é”®å€¼æ•°æ®åº“çš„æ¡Œé¢GUIå®¢æˆ·ç«¯ã€‚ redis-pro - è½»é‡ï¼Œæ˜“ç”¨çš„ Redis å®¢æˆ·ç«¯ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨SwiftUIç¼–å†™ï¼Œå¾ˆå¥½çš„æ”¯æŒ Dark modeã€‚ å¼€æºåœ°å€ è®¾è®¡å’Œäº§å“ è®¾è®¡å·¥å…· Acorn - ä¸€ä¸ªåƒ PSï¼Œå…¨é¢çš„åŠŸèƒ½é›†çš„å›¾åƒç¼–è¾‘å™¨ã€‚ Affinity Designer - çŸ¢é‡å›¾åƒè®¾è®¡å·¥å…·ï¼Œå¯ä»¥æ˜¯ Adobe Illustrator çš„æ›¿ä»£ã€‚ Affinity Photo - å…‰æ …å›¾åƒè®¾è®¡å·¥å…·ï¼Œå¯ä»¥æ›¿ä»£ Adobe PS å›¾è±¡å¤„ç†è½¯ä»¶ã€‚ Alchemy - å¼€æºçš„ç»˜å›¾å·¥å…·è½¯ä»¶ï¼Œç”¨äºç´ æã€ä¼šè¯ä»¥åŠä¸€ç§æ–°çš„ç»˜å›¾æ–¹å¼ã€‚ å¼€æºåœ°å€ Art Text 3 - ç”Ÿæˆå„ç§ç‰¹æ•ˆå­—ä½“ã€‚ Blender - å…¨åŠŸèƒ½å¯æ‰©å±•çš„è·¨å¹³å° 3D å†…å®¹å¥—ä»¶ã€‚ å¼€æºåœ°å€ Figma - ä¸€æ¬¾åŸºäº Web çš„å®æ—¶åä½œçš„äº‘è®¾è®¡è½¯ä»¶ã€‚ FontForge - å­—ä½“ç¼–è¾‘å·¥å…·ã€‚ å¼€æºåœ°å€ GIMP - å›¾åƒç¼–è¾‘è½¯ä»¶ï¼Œå·ç§° Linux ä¸‹çš„ PhotoShopï¼ŒåŒæ—¶æœ‰ Mac ç‰ˆæœ¬ã€‚ å¼€æºåœ°å€ Gravit Designer - æ··åˆçŸ¢é‡/ä½å›¾å¸ƒå±€åº”ç”¨ï¼Œæ¯”èµ· Sketch è¿˜å·®ä¸€ç‚¹ã€‚ inklet - å°† Mac ä¸Šçš„è§¦æ‘¸æ¿å˜æˆç»˜å›¾æ¿ã€‚ Inkscape - ä¸€æ¬¾å¼€æºçŸ¢é‡å›¾å½¢ç¼–è¾‘è½¯ä»¶ï¼Œä¸ Illustratorã€Freehandã€CorelDrawã€Xara X ç­‰å…¶ä»–è½¯ä»¶ç›¸ä¼¼ã€‚ å¼€æºåœ°å€ Krita - ä¸€ä¸ªå¼€æºçš„ä½å›¾å½¢ç¼–è¾‘è½¯ä»¶ï¼ŒåŒ…å«ä¸€ä¸ªç»˜ç”»ç¨‹å¼å’Œç…§ç‰‡ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ Monodraw - macOS å¹³å°ä¸Šå¼ºå¤§çš„ ASCII è®¾è®¡æµç¨‹ç¼–è¾‘å™¨ã€‚ MagicaVoxel - è½»é‡çº§çš„8ä½åƒç´ ç¼–è¾‘å’Œäº¤äº’è·¯å¾„è¿½è¸ªæ¸²æŸ“å™¨ã€‚ MakeHuman - åŠŸèƒ½å¼ºå¤§ä¸”å…è´¹çš„3Däººä½“å»ºæ¨¡å™¨ã€‚ Nik Collection - ä¸“ä¸šç…§ç‰‡åæœŸåˆ¶ä½œå·¥å…·ï¼ŒGoogle æ”¶è´­åå…è´¹ Pixelmator - å¼ºå¤§çš„å›¾åƒç¼–è¾‘å™¨ï¼Œå¯èƒ½PSå›¾åƒå¤„ç†è½¯ä»¶çš„é€‰æ‹©ã€‚ Paintbrush - ä½å›¾å›¾åƒç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ Pencil2D - åˆ¶ä½œ2Dæ‰‹ç»˜åŠ¨ç”»çš„ç®€å•ç›´è§‚çš„å·¥å…·ã€‚ å¼€æºåœ°å€ Principle - ä½¿ç”¨å®ƒå¾ˆå®¹æ˜“è®¾è®¡åŠ¨ç”»å’Œäº¤äº’å¼ç”¨æˆ·ç•Œé¢ã€‚ Pixel Perfect - æ¯”è¾ƒ UI æ¨¡å‹å’Œå¼€å‘ç»“æœéå¸¸å®¹æ˜“ã€‚ Sculptris - æ‰€è§æ‰€å¾—çš„ 3D å»ºæ¨¡ã€‚ Sketch - æ··åˆçŸ¢é‡/ä½å›¾å¸ƒå±€åº”ç”¨ï¼Œç‰¹åˆ«é€‚ç”¨äºç”¨æˆ·ç•Œé¢ï¼ŒWeb å’Œç§»åŠ¨è®¾è®¡ã€‚ Sketch Toolbox - ä¸€ä¸ªè¶…çº§ç®€å•çš„ Sketch æ’ä»¶ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ Measure - è®¾è®¡ç¨¿æ ‡æ³¨ã€æµ‹é‡å·¥å…·ã€‚ å¼€æºåœ°å€ User Flows - ç›´æ¥ä»ç”»æ¿ç”Ÿæˆæµç¨‹å›¾ã€‚ å¼€æºåœ°å€ Sketch Cache Cleaner - æ¸…ç† Sketch å†å²æ–‡ä»¶ï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚ å¼€æºåœ°å€ SketchBook - å‡ºä¼—çš„ç»˜å›¾è½¯ä»¶ã€‚ ScreenToLayers - è½»æ¾å¯¼å‡ºæ¡Œé¢åˆ†å±‚æ–‡ä»¶ PSD æ–‡ä»¶ã€‚ å¼€æºåœ°å€ Sparkle - å¯è§†åŒ–ç½‘é¡µè®¾è®¡å·¥å…·ã€‚ Tayasui Sketches - ä¸“ä¸šçš„ç»˜å›¾è½¯ä»¶ã€‚ Vectr - å…è´¹å›¾å½¢ç¼–è¾‘å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„ Web å’Œæ¡Œé¢è·¨å¹³å°å·¥å…·ï¼ŒæŠŠä½ çš„è®¾è®¡å˜æˆç°å®ã€‚ åŸå‹æµç¨‹ Axure RP 8 - ç”»åŸå‹å›¾å·¥å…·ï¼Œå›¢é˜Ÿåä½œï¼Œæ–¹ä¾¿å¥½ç”¨ã€‚ ProtoPie - é«˜ä¿çœŸäº¤äº’åŸå‹è®¾è®¡ã€‚ Adobe XD (Experience Design) - ç”¨äºç½‘ç«™å’Œç§»åŠ¨åº”ç”¨çš„è®¾è®¡å’ŒåŸå‹è®¾è®¡ã€‚ Balsamiq Mockups - ä¸€ä¸ªå¿«é€Ÿçš„ç½‘é¡µè®¾è®¡åŸå‹å·¥å…·ï¼Œå¸®åŠ©ä½ æ›´å¿«ã€æ›´èªæ˜çš„å·¥ä½œã€‚ Origami Studio - ä¸€ç§è®¾è®¡ç°ä»£ç•Œé¢çš„æ–°å·¥å…·ï¼Œç”± Facebook è®¾è®¡å¸ˆæ„å»ºå’Œä½¿ç”¨ã€‚ Flinto - å¿«é€Ÿåˆ¶ä½œé«˜ä¿çœŸçš„äº’äº¤åŸå‹å·¥å…·ï¼Œæ”¯æŒ Sketch å¯¼å…¥ã€‚ Kite - ä¸€ä¸ªå¼ºå¤§çš„åŠ¨ç”»åˆ¶ä½œå·¥å…·åˆ¶ä½œ Mac å’Œ iOS åŸå‹ä¸­çš„åº”ç”¨ã€‚ Justinmind - åŠŸèƒ½æ›´ä¸°å¯Œå›¢é˜Ÿåä½œæ–¹ä¾¿ã€‚ MockFlow - ç”¨äºç½‘é¡µè®¾è®¡å’Œå¯ç”¨æ€§æµ‹è¯•çš„åœ¨çº¿åŸå‹è®¾è®¡å¥—ä»¶ã€‚ pencil - å¼€æºå…è´¹åˆ¶ä½œè½¯ä»¶åŸå‹çš„å·¥å…· å¼€æºåœ°å€ Mockplus - æ›´å¿«æ›´ç®€å•çš„åŸå‹è®¾è®¡å·¥å…·ã€‚ OmniGraffle - å¯ç”¨æ¥ç»˜åˆ¶å›¾è¡¨ã€æµç¨‹å›¾ã€ç»„ç»‡ç»“æ„å›¾ã€æ€ç»´å¯¼å›¾ä»¥åŠæ’å›¾æˆ–åŸå‹ã€‚ XMind - ä¸€æ¬¾å®ç”¨çš„æ€ç»´å¯¼å›¾è½¯ä»¶ã€‚ Lighten - XMind å‡ºå“çš„ä¸€æ¬¾å®ç”¨çš„æ€ç»´å¯¼å›¾è½¯ä»¶ã€‚ Loremify - å¿«é€Ÿå‡†ç¡®çš„è®¾è®¡ï¼ŒåŸå‹æˆ–ç”Ÿæˆæ ‡é¢˜ï¼Œæ®µè½ï¼Œåˆ—è¡¨å’Œæ–‡ç« ã€‚ Scapple - ä¸€æ¬¾å®ç”¨çš„æ€ç»´å¯¼å›¾è½¯ä»¶ã€‚ Framer - åšäº¤äº’åŸå‹çš„å·¥å…·ã€‚ Marvel - ç®€å•è®¾è®¡ï¼ŒåŸå‹è®¾è®¡å’Œåä½œã€‚ MindNode - ç®€æ´çš„é£æ ¼ä¸äººæ€§åŒ–çš„æ“ä½œï¼Œç»˜åˆ¶æ€ç»´è„‘å›¾ã€‚ WriteMapper - ä¸“ä¸ºå†™ä½œè€…è€Œè®¾çš„è„‘å›¾å·¥å…·ã€‚ SimpleMind - è¶…å°ä½“ç§¯çš„æ€ç»´å¯¼å›¾å·¥å…·ã€‚ macSVG - è®¾è®¡ HTML5 SVG å’ŒåŠ¨ç”». å¼€æºåœ°å€ ä½œå›¾å·¥å…· Draw.io - ä¸Šç™¾ç§å›¾å½¢ï¼Œæ”¯æŒå¤šç§æ ¼å¼å¯¼å‡ºã€‚ OmniGraffle - Omni æˆå‘˜ï¼Œnative åº”ç”¨ã€‚ ProcessOn - æµç¨‹å›¾ã€æ€ç»´å¯¼å›¾ã€åŸå‹å›¾â€¦ ä¸­æ–‡å‹å¥½ï¼Œå…è´¹ä¿å­˜ 5 ä¸ªæ–‡ä»¶ã€‚ æˆªå›¾å·¥å…· GifCapture - å¼€æº macOS æˆªå±ç”Ÿæˆ Gif å·¥å…·ã€‚ å¼€æºåœ°å€ Gifox - ä¸“ä¸šçš„é«˜é¢œå€¼ GIF å½•åˆ¶åº”ç”¨ã€‚ GIF Brewery - gives everyone the power to create stunning GIFs from video files. GIPHY Capture - å…è´¹è½¯ä»¶çš„æ•æ‰å’Œåˆ†äº«å›¾ç‰‡åœ¨æ¡Œé¢ä¸Šã€‚ Kap - è½»é‡ GIF å½•å±å°å·¥å…·ã€‚ å¼€æºåœ°å€ KeyCastr - å½•å±å¥½å¸®æ‰‹ï¼Œå®æ—¶æ˜¾ç¤ºæŒ‰é”®æ“ä½œçš„å°å·¥å…·ã€‚ å¼€æºåœ°å€ Licecap - æ˜¯ä¸€æ¬¾å±å¹•å½•åˆ¶å·¥å…·è¾“å‡º GIFï¼Œå½•åˆ¶è¿‡ç¨‹ä¸­å¯ä»¥éšæ„æ”¹å˜å½•å±èŒƒå›´ã€‚ å¼€æºåœ°å€ Monosnap - åˆ¶ä½œæˆªå›¾ï¼Œå½•åˆ¶è§†é¢‘å…±äº«æ–‡ä»¶ã€‚ Skitch - æˆªå›¾é™„å¸¦å¼ºå¤§çš„æ ‡æ³¨åŠŸèƒ½ã€‚ Shifty - ä¸€ä¸ªèœå•æ åº”ç”¨ç¨‹åºï¼Œè®©æ‚¨æ›´å¤šåœ°æ§åˆ¶å¤œç­ã€‚ å¼€æºåœ°å€ ScreenShot PSD - å°†å±å¹•æ•è·å­˜ä¸ºåˆ†å±‚çš„ PSDï¼Œä¾¿äºç¼–è¾‘ã€‚ Snipaste - ä¸€ä¸ªç®€å•ä½†å¼ºå¤§çš„æˆªå›¾å·¥å…·ã€‚ Snip - é«˜æ•ˆçš„æˆªå›¾å·¥å…·ï¼Œæ”¯æŒæ»šåŠ¨æˆªå±ï¼Œè…¾è®¯ä½œå“ã€‚ Teampaper Snap - ä¸ºè®¾è®¡å¸ˆé‡èº«å®šåšçš„å±å¹•æˆªå›¾å…¼æ³¨é‡Šå·¥å…·ã€‚ æˆªå›¾(Jietu) - æˆªå›¾é™„å¸¦å¼ºå¤§çš„æ ‡æ³¨åŠŸèƒ½ï¼Œè…¾è®¯ä½œå“ã€‚ Xnip - å…è´¹å¥½ç”¨çš„æ»šåŠ¨æˆªå±åˆ©å™¨ã€‚ iShot - å®Œå…¨å…è´¹ã€åŠŸèƒ½å…¨é¢çš„æˆªå›¾å·¥å…·ï¼Œæ”¯æŒè´´å›¾ã€æ»šåŠ¨æˆªå›¾ã€å»¶æ—¶æˆªå›¾ç­‰ã€‚ å…¶å®ƒå·¥å…· APNGb - ç¼–è¾‘ png å›¾ç‰‡æ ¼å¼çš„è½¯ä»¶ã€‚ å¼€æºåœ°å€ Assetizr - å›¾ç‰‡ç¼–è¾‘åº”ç”¨ï¼Œè½»æ¾æ›´æ”¹å›¾ç‰‡å°ºå¯¸ï¼Œå‹ç¼©å›¾ç‰‡ï¼Œé‡å‘½åå›¾ç‰‡ã€‚ AppIconBuilder(å›¾æ ‡æ„å»º) - Appå›¾æ ‡å¤šå¹³å°ä¸€é”®å¯¼å‡ºã€‚ Couleurs - ç®€å•çš„å±å¹•å–è‰²åº”ç”¨ç¨‹åºã€‚ Eagle App - å¼ºå¤§çš„å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ã€è¨­è¨ˆç´ æåŠæ–‡ä»¶ç®¡ç†è½¯ä»¶ã€‚ Frank DeLoupe - æ”¯æŒ Retina çš„å±å¹•æ‹¾è‰²å™¨ã€‚ Image2icon - å°†ä½ çš„å›¾ç‰‡è½¬æ¢æˆå›¾æ ‡ã€‚ ImageAlpha - å‹ç¼© PNG å›¾ç‰‡ï¼Œå»æ‰æ— æ•ˆçš„é€æ˜ã€‚ å¼€æºåœ°å€ ImageOptim - å‹ç¼©å›¾ç‰‡ï¼Œåˆ é™¤ EXIF ä¿¡æ¯ã€‚ å¼€æºåœ°å€ iPic - ä¸Šä¼ å›¾ç‰‡è‡³ä¸ƒç‰›ã€é˜¿é‡Œäº‘ç­‰å›¾åºŠï¼Œæ”¯æŒ Markdown é“¾æ¥ã€‚ IconKit - Appå›¾æ ‡è‡ªåŠ¨ç”Ÿæˆå™¨ã€‚ (https://itunes.apple.com/cn/app/iconkit-icon-resizer-for-app/id507135296?mt=12) Iconjar - å›¾æ ‡ç®¡ç†è½¯ä»¶ï¼Œå¸¦ç»„ç»‡å’Œæœç´¢åŠŸèƒ½ã€‚ JPEGmini - å°†å›¾åƒå°ºå¯¸é™ä½é«˜è¾¾ 80ï¼…ï¼Œè€Œä¸ä¼šå½±å“è´¨é‡ã€‚ Preset Brewery - å°†Lightroomé¢„è®¾è½¬æ¢ä¸ºAdobe Camera Rawçš„å·¥å…·ã€‚ PicGo - æ”¯æŒå¸¸ç”¨ cdn çš„å›¾åºŠå·¥å…·ã€‚ å¼€æºåœ°å€ Resize Master - æ›´å¿«é€Ÿå’Œå®¹æ˜“æ‰¹é‡è°ƒæ•´å›¾åƒå’ŒåŠ æ°´å°ã€‚ RightFont - å­—ä½“ç®¡ç†å·¥å…·ã€‚ svgus - SVG å›¾ç‰‡ç®¡ç†å™¨ã€‚ Solarized - å¹²å‡€æ¸…çˆ½çš„é¢œè‰²ä¸»é¢˜ï¼Œæ”¯æŒ iTermã€Intellij IDEAã€Vim ç­‰ã€‚ Sip - æ”¶é›†ï¼Œæ•´ç†å’Œåˆ†äº«ä½ çš„é¢œè‰²æ‹¾è‰²å™¨ã€‚ Spectrum - ä¸€æ¬¾å¯ä»¥è½»æ¾ç›´è§‚åœ°åˆ›å»ºæ¼‚äº®é…è‰²æ–¹æ¡ˆçš„åº”ç”¨ç¨‹åºã€‚ TinyPNG4Mac - å›¾ç‰‡å‹ç¼©ä¸“ç”¨å¼€æºå·¥å…·ã€‚ å¼€æºåœ°å€ Tropy - ç…§ç‰‡æ¡£æ¡ˆç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ uPic - macOS åŸç”Ÿåº”ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”ç®€æ´çš„å›¾åºŠå®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ é©¬å…‹é³— - é«˜æ•ˆçš„è®¾è®¡ç¨¿æ ‡æ³¨ã€æµ‹é‡å·¥å…·ã€‚ è™šæ‹Ÿæœº Docker - å¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ã€‚ å¼€æºåœ°å€ DockStation - ç®¡ç† Docker é¡¹ç›®çš„ç¨‹åºã€‚ å¼€æºåœ°å€ Parallels Desktop - è™½ç„¶å¥½ç”¨ä½†æ˜¯æ”¶è´¹æœºåˆ¶ï¼Œæ›´æ–°èŠ±é’±ã€èŠ±é’±ã€èŠ±é’±ã€‚ Portainer - åŸºäºç½‘é¡µç®¡ç† Docker å®¹å™¨å’Œ swarm é›†ç¾¤ã€‚ å¼€æºåœ°å€ Virtual Box - å…è´¹ã€å…è´¹ã€å…è´¹ï¼Œå¸¦ NTFS è¯»å†™ï¼Œä¸ç”¨ä¹° ParagonNTFSï¼Œçœ100å—ã€‚ VMware Fusion - å¼ºå¤§çš„è™šæ‹Ÿæœºï¼Œå•†ä¸šè½¯ä»¶ã€‚ Veertu - Mac ä¸Šè½»é‡çº§çš„è™šæ‹Ÿæœºã€‚é€šè¿‡ä¸€ç§é«˜å“åº”ï¼Œæ²™ç®±ä¸”æœ¬åœ°åŒ–çš„æ–¹å¼åœ¨ä½ åœ¨ Mac ä¸Šè¿è¡Œè™šæ‹Ÿæœºã€‚ é€šä¿¡ æ¨èä¸€äº›é€šä¿¡å·¥å…·ï¼Œæ²Ÿé€šï¼Œå›¢é˜ŸååŒã€‚\nAdium - å‘ƒï¼Œè¿™ä¸ªæ˜¯è€çš„é›†æˆå¤šä¸ªå¹³å°çš„èŠå¤©å®¢æˆ·ç«¯ã€‚ BearyChat - äº’è”ç½‘å›¢é˜Ÿåä½œï¼Œæ²Ÿé€šå·¥å…·ã€‚ ChitChat - WhatsApp éå®˜æ–¹ã€‚ å¼€æºåœ°å€ Electronic WeChat - è°ƒç”¨å¾®ä¿¡æ¥å£ï¼Œä½¿ç”¨ Electron å¼€å‘çš„ç¬¬ä¸‰æ–¹æ¼‚äº®å¼€æºå¾®ä¿¡åº”ç”¨ã€‚ å¼€æºåœ°å€ Franz - ä¸€ä¸ªä½¿ç”¨ Electronå¼€å‘çš„ï¼Œå¯ä»¥åŒæ—¶ç™»å½• 23 ä¸ªå¹³å°çš„å³æ—¶é€šè®¯è½¯ä»¶ã€‚ Flume - ç®€çº¦å¤§æ°”é«˜é€¼æ ¼çš„Instagramï¼Œå¦‚æœåªæ˜¯æµè§ˆç‚¹èµè¯„è®ºï¼Œå…è´¹ç‰ˆå·²ç»è¶³å¤Ÿç”¨ã€‚ Gitter - å…³äº GitHub çš„é¡¹ç›®äº¤æµï¼Œæ”¯æŒ Markdownï¼Œå¯¹å¼€å‘è€…æä¸ºå‹å¥½ã€‚ Keybase - ä¸€ä¸ªå®‰å…¨çš„æ¶ˆæ¯åº”ç”¨ç¨‹åº! å¼€æºåœ°å€ Maipoè„‰æ - å¾®åšç¬¬ä¸‰æ–¹ Mac åº”ç”¨ã€‚ Messenger - Facebook ç¬¬ä¸‰æ–¹èŠå¤©å·¥å…·ã€‚ å¼€æºåœ°å€ QQ - QQ for Mac Appã€‚ Rambox - æ¶ˆæ¯å’Œç”µå­é‚®ä»¶åº”ç”¨ç¨‹åºï¼Œå°†å¸¸è§çš„Webåº”ç”¨ç¨‹åºç»„åˆæˆä¸€ä¸ªç¨‹åºã€‚ å¼€æºåœ°å€ Skype - Skype å…±äº«ã€è·¨å¹³å°çš„çŸ­ä¿¡å’Œç”µè¯ã€‚ Slack - å›¢é˜Ÿåä½œï¼Œæ²Ÿé€šå·¥å…·ã€‚ Telegram - é€šè®¯æ–°æ—¶ä»£ã€‚ Textual - æœ€å—æ¬¢è¿çš„ä¸–ç•Œä¸æˆ‘ä»¬ç›¸å…³çš„ KPI åº”ç”¨ for OS Xã€‚ å¼€æºåœ°å€ Teambition - å›¢é˜Ÿåä½œã€‚æä¾›ç®¡ç†ä»»åŠ¡ã€å®‰æ’æ—¥ç¨‹ã€æŸ¥æ‰¾æ–‡ä»¶ã€å³æ—¶è®¨è®ºç­‰å›¢é˜Ÿæ‰€éœ€è¦çš„ä¸€åˆ‡åä½œåŠŸèƒ½ã€‚ WeChat - å¾®ä¿¡ for Mac Appã€‚ WeeChat - ä¸€ä¸ªå‘½ä»¤è¡ŒèŠå¤©å®¢æˆ·ç«¯ã€‚ Zoom - è§†é¢‘ä¼šè®® \u0026 å±å¹•å…±äº«ï¼Œæä¾›å½•åˆ¶åŠŸèƒ½ã€‚ å¾¡é£¯ - é¥­å¦ç¬¬ä¸‰æ–¹Macåº”ç”¨ã€‚ ç®€èŠ - ä¼ä¸šçº§å³æ—¶æ²Ÿé€šå·¥å…·ï¼Œå·²ç»ä¸‹çº¿äº†ï¼Œå¯ä»¥è‡ªå·±æ­å»ºä¸€å¥—ç³»ç»Ÿç©å„¿ã€‚ å¼€æºåœ°å€ é’‰é’‰ - ä¼ä¸šçº§åŠå…¬é€šè®¯å…è´¹å¹³å°ã€‚ é›¶ä¿¡ - éšæ—¶éšåœ°å·¥ä½œï¼Œè·¨å¹³å°ã€‚ ä»Šç›®æ ‡ - ä¸€æ¬¾é¢å‘ä¸­å°ä¼ä¸šçš„äº’è”ç½‘å·¥ä½œå¹³å°ã€‚ æ—¥äº‹æ¸… - å·¥ä½œè®¡åˆ’è½¯ä»¶ï¼Œæ—¥å¿—è½¯ä»¶ï¼Œé¡¹ç›®ç®¡ç†ï¼Œå›¢é˜Ÿåä½œè½¯ä»¶ï¼Œä¸ªäººæ—¥ç¨‹ç®¡ç†ï¼Œå›¢é˜Ÿåä½œå·¥å…·ã€‚æ—¥ç¨‹å®‰æ’ï¼Œè®¡åˆ’åˆ†é…ï¼Œç¬”è®°æ€»ç»“ç­‰ã€‚ RTX_è…¾è®¯é€š - ä¼ä¸šå†…éƒ¨å¯ä»¥ä½¿ç”¨çš„èŠå¤©è½¯ä»¶ï¼Œä¼ä¸šå†…éƒ¨å¯ä»¥ä½¿ç”¨æ­¤é€šè®¯å·¥å…·ï¼Œè¿™ä¸ªè½¯ä»¶æœ‰Macç‰ˆæœ¬ä¹Ÿæœ‰winç‰ˆæœ¬ï¼ŒMacç‰ˆæœ¬ä¸“ä¸º Retina æ˜¾ç¤ºä¼˜åŒ–è¿‡ Email Airmail - å¿«é€Ÿçš„é‚®ä»¶å®¢æˆ·ç«¯æ”¯æŒ Mac å’Œ iPhoneã€‚ Foxmail - å¿«é€Ÿçš„é‚®ä»¶å®¢æˆ·ç«¯ã€‚ ç½‘æ˜“é‚®ç®±å¤§å¸ˆ - å…¨å¹³å°çš„é‚®ç®±ç®¡ç†å®¢æˆ·ç«¯ï¼Œç½‘æ˜“é‚®ç®±å¤§å¸ˆç”µè„‘ç‰ˆã€‚ MailTags - ç®¡ç†å’Œç»„ç»‡é‚®ä»¶ï¼Œæ—¥ç¨‹å’Œæ ‡ç­¾è¿›è¡Œåˆ†ç±»é‚®ä»¶ã€‚ Nylas Mail - å…è´¹é‚®ä»¶å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ N1 - å¯ä»¥æ‰©å±•çš„å¼€æºæ”¶è´¹é‚®ä»¶å®¢æˆ·ç«¯ã€‚ Newton(åŸCloudmagic) - ç•Œé¢éå¸¸ç®€æ´çš„ä¸€ä¸ªé‚®ä»¶å®¢æˆ·ç«¯ã€‚ Postbox - è¿™ä¸ªè²Œä¼¼ä¹Ÿéå¸¸å¼ºå¤§å“¦ï¼Œå…³é”®æ˜¯ç®€æ´æ¼‚äº®çš„æ”¶è´¹é‚®ä»¶å®¢æˆ·ç«¯ã€‚ Polymail - ç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œé•¿å¾—å¥½çœ‹çš„æ–°æ™‹é‚®ä»¶å®¢æˆ·ç«¯ã€‚ Spark - æ–°æ¨å‡ºçš„å¿«é€Ÿé‚®ä»¶å®¢æˆ·ç«¯æ”¯æŒ Mac å’Œ iPhoneã€‚ ThunderBird - Mozilla å…¬å¸å‡ºå“çš„å¼ºå¤§çš„ Email å®¢æˆ·ç«¯ç¨‹åºã€‚ Yomail - æ–°å‡ºçš„å›½å†…å¼€å‘çš„æ¯”è¾ƒå¥½çš„é‚®ä»¶å®¢æˆ·ç«¯ã€‚ æ–‡ä»¶å…±äº« Cyberduck - å…è´¹ FTPï¼ŒSFTPï¼ŒS3 å’Œ WebDAV å®¢æˆ·ç«¯ \u0026 OpenStack Swift Clientã€‚ Flow - æ”¯æŒç®€å•çš„ FTP + SFTP å®¢æˆ·ç«¯ã€‚ Transmit - ä¸€ä¸ª FTP å®¢æˆ·ç«¯ï¼Œæ”¯æŒ FTP + SFTP + S3ã€‚ Yummy FTP - ä¸“ä¸šå¿«é€Ÿï¼Œå¯é çš„ FTP å®¢æˆ·ç«¯ã€‚ æ•°æ®æ¢å¤ DiskWarrior - æ¢å¤æ–‡ä»¶ç³»ç»ŸæŸåæ—¶ï¼Œç£ç›˜å·¥å…·è¿›è¡Œé€‰æ‹©ã€‚ Data Rescue - å¤šç§æƒ…å†µä¸‹çš„å…¨é¢å’Œä¸“ä¸šçš„æ•°æ®æ¢å¤ã€‚ R-Studio for Mac - å¯æ¢å¤åˆ†åŒºè¢«æ ¼å¼åŒ–ã€æŸåæˆ–è¢«åˆ é™¤çš„æ–‡ä»¶ã€‚ éŸ³é¢‘å’Œè§†é¢‘ Audacity - å…è´¹å¼€æºçš„ç¼–è¾‘éŸ³é¢‘çš„è½¯ä»¶ã€‚ å¼€æºåœ°å€ Ardour - å½•åˆ¶ï¼Œç¼–è¾‘å’Œæ··åˆå¤šè½¨éŸ³é¢‘ã€‚ å¼€æºåœ°å€ Audio Hijack - ä¸€ä¸ªè®°å½•ä»»ä½•åº”ç”¨ç¨‹åºçš„éŸ³é¢‘ï¼ŒåŒ…æ‹¬ç½‘ç»œç”µè¯ Skypeï¼Œç½‘ç»œæµä» Safariï¼Œä»¥åŠæ›´å¤šã€‚ ArcTime - è·¨å¹³å°å­—å¹•åˆ¶ä½œè½¯ä»¶ã€‚ Adapter - è§†é¢‘ï¼ŒéŸ³é¢‘å’Œå›¾åƒè½¬æ¢å·¥å…·ã€‚ Aegisub - å…è´¹ã€å¼€æºã€è·¨å¹³å°çš„ä¸“ä¸šå­—å¹•ç¼–è¾‘è½¯ä»¶ï¼Œå¯ä»¥å¿«é€Ÿæ‰“è½´ï¼Œåˆ¶ä½œç‰¹æ•ˆå­—å¹•ç­‰ï¼Œå­—å¹•ç»„å¿…å¤‡ã€‚ å¼€æºåœ°å€ Cog - ä¸€ä¸ªå…è´¹çš„å¼€æºéŸ³é¢‘æ’­æ”¾å™¨ã€‚ å¼€æºåœ°å€ Carol - ä¸º macOS æä¾›æœ€å°åŒ–å’Œç¾ä¸½çš„æ­Œè¯åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ Elmedia Player - æ”¯æŒ FLV, MP4, AVI, MOV, DAT, MKV, MP3, FLAC, M4V ç­‰æ ¼å¼æ’­æ”¾. Hydrogen - ä¸“ä¸šé¼“ä¹ç±»å·¥å…·ï¼Œåˆ›å»ºä¸“ä¸šä½†ç®€å•è€Œç›´è§‚çš„é¼“ä¹èŠ‚ç›®ã€‚ å¼€æºåœ°å€ HandBrake - é«˜æ€§èƒ½çš„è§†é¢‘ç¼–ç å’Œè½¬æ¢å·¥å…·ï¼Œå…·æœ‰å¾ˆå¥½çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚ å¼€æºåœ°å€ iFFmpeg - MacOS ä¸ŠåŠŸèƒ½å¼ºå¤§ã€æ˜“ç”¨çš„è§†é¢‘å‹åˆ¶è½¯ä»¶ã€‚ IINA - åŸºäºMPVçš„ï¼Œç°ä»£è§†é¢‘æ’­æ”¾å™¨ï¼Œæ”¯æŒå¤šç‚¹è§¦æ‘¸æ§åˆ¶ã€‚ å¼€æºåœ°å€ Kodi - ä¸€æ¬¾ä¸€æµçš„å…è´¹å¼€æºåª’ä½“ä¸­å¿ƒè½¯ä»¶ï¼Œå¯ç”¨äºæ’­æ”¾è§†é¢‘ã€éŸ³ä¹ï¼ŒæŸ¥çœ‹å›¾ç‰‡ï¼Œç©æ¸¸æˆç­‰ã€‚ å¼€æºåœ°å€ LosslessCut - è·¨å¹³å°å·¥å…·ï¼Œä½¿ç”¨ffmpegè¿›è¡Œå¿«é€Ÿæ— æŸçš„è§†é¢‘å’ŒéŸ³é¢‘ä¿®å‰ªã€‚ å¼€æºåœ°å€ LyricsX - ä¸€æ¬¾åŠŸèƒ½å®Œå¤‡çš„æ­Œè¯å·¥å…·ã€‚ å¼€æºåœ°å€ Metadatics - éŸ³é¢‘å…ƒæ•°æ®ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤§å¤šæ•°å¸¸è§çš„éŸ³é¢‘æ–‡ä»¶ã€‚ Mixxx - å…è´¹çš„DJè½¯ä»¶ï¼Œç»™ä½ ä¸€åˆ‡ä½ éœ€è¦çš„è¡¨æ¼”ç»„åˆï¼Œåå‰¯å…¶å®çš„æ›¿ä»£ Traktorã€‚ å¼€æºåœ°å€ MuseScore - å…è´¹çš„ä½œæ›²ä¸ä¹è°±è½¯ä»¶ã€‚ å¼€æºåœ°å€ MPV - ä¸€ä¸ªå…è´¹ã€å¼€æºå’Œè·¨å¹³å°çš„åª’ä½“æ’­æ”¾å™¨ã€‚ å¼€æºåœ°å€ Movie Catcher - ç”µå½±ç¾å‰§æœç´¢åŠåœ¨çº¿è§‚çœ‹ç¦»çº¿ä¸‹è½½è½¯ä»¶ï¼Œå€ŸåŠ©ç™¾åº¦äº‘å®ç°ç¦»çº¿ä¸‹è½½ä»¥åŠåœ¨çº¿æ’­æ”¾åŠŸèƒ½ã€‚ å¼€æºåœ°å€ Natron - å¼€æºçš„è§†é¢‘åˆæˆè½¯ä»¶ï¼ŒåŠŸèƒ½ä¸ Adobe After Effects æˆ–è€… Nuke ç±»ä¼¼ã€‚ å¼€æºåœ°å€ Popcorn Time - ç”µå½±æ’­æ”¾å™¨ï¼Œè§‚çœ‹ torrent ç”µå½±ã€‚ Playback - å®éªŒæ€§è´¨çš„è§†é¢‘æ’­æ”¾å™¨ã€‚ å¼€æºåœ°å€ Perian - è®© QuickTime æ’­æ”¾æ‰€æœ‰å¸¸è§æ ¼å¼çš„å…è´¹æ’ä»¶ã€‚ å¼€æºåœ°å€ Radiant Player - Google PlayéŸ³ä¹æ’­æ”¾å™¨ã€‚ å¼€æºåœ°å€ Soda Player - ä¸€æ¬¾èƒ½å¤Ÿç›´æ¥æ’­æ”¾ç§å­ã€ç£åŠ›é“¾æ¥ã€åœ¨çº¿è§†é¢‘ã€è‡ªåŠ¨è·å–å­—å¹•ã€é“¾æ¥å’Œæœ¬åœ°è§†é¢‘æ–‡ä»¶çš„æ’­æ”¾å™¨ã€‚ Sonora - ä¸€ä¸ªå¾ˆå°çš„éŸ³ä¹æ’­æ”¾å™¨ã€‚ å¼€æºåœ°å€ Stringed 2 - éŸ³é¢‘ç¼–è¾‘å¤„ç†å·¥å…·ã€‚ Shotcut - å…è´¹å¼€æºè§†é¢‘ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ ScreenFlow - å±å¹•å’Œè§†é¢‘ç¼–è¾‘è½¯ä»¶ã€‚ Synfig Studio - å·¥ä¸šçº§ã€å¼ºå¤§çš„ 2D çŸ¢é‡åŠ¨ç”»åˆ¶ä½œè½¯ä»¶ã€‚ å¼€æºåœ°å€ SpotMenu - Spotify å’Œ iTunes åœ¨çŠ¶æ€èœå•æ ä¸­æ˜¾ç¤ºã€‚ å¼€æºåœ°å€ VOX Player - å…è´¹å…¨èƒ½éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ’¸ç ä¹‹ä½™å¬å¬æ­Œæ˜¯ä¸€ç§äº«å—ã€‚ VLC - å¼€æºçš„è·¨å¹³å°å¤šåª’ä½“æ’­æ”¾å™¨åŠæ¡†æ¶ï¼Œå¯æ’­æ”¾å¤§å¤šæ•°å¤šåª’ä½“æ–‡ä»¶ã€‚ å¼€æºåœ°å€ XLD - è§£ç /è§£ç /è½¬æ¢/æ’­æ”¾å„ç§â€œæ— æŸâ€éŸ³é¢‘æ–‡ä»¶ã€‚ å¼€æºåœ°å€ äº‘éŸ³ä¹æ’­æ”¾å™¨ ieaseMusic åŸºäºç½‘æ˜“äº‘éŸ³ä¹ å¼€æºåœ°å€ QQéŸ³ä¹ ç½‘æ˜“äº‘éŸ³ä¹ è™¾ç±³éŸ³ä¹ é…·æˆ‘éŸ³ä¹ é…·ç‹—éŸ³ä¹ éŸ³é¢‘å½•åˆ¶ä¸ç¼–è¾‘ GarageBand æ¥è‡ªAppleçš„å…è´¹æ•°å­—éŸ³é¢‘å·¥ä½œç«™ï¼ˆDAW)ï¼Œæä¾›ç®€ä»‹ä½é—¨æ§›çš„æ“ä½œç•Œé¢å’Œå®Œæ•´çš„éŸ³ä¹å½•åˆ¶ã€å‰ªè¾‘åˆ¶ä½œåŠŸèƒ½ Logic Pro X æ¥è‡ªAppleçš„ä¸“ä¸šæ•°å­—éŸ³é¢‘å·¥ä½œç«™ï¼ˆDAWï¼‰ï¼Œæä¾›å®Œæ•´ä¸“ä¸šçš„éŸ³ä¹åˆ¶ä½œåŠŸèƒ½ã€ä¼˜ç§€çš„è‡ªå¸¦æ’ä»¶å’ŒéŸ³æºï¼ŒåŸç”Ÿæ”¯æŒApple Siliconå®ç°é«˜æ•ˆè¿è¡Œ ä¹¦ç­¾é˜…è¯»å†™ä½œ Agenda - ä»¥æ—¥æœŸä¸ºé‡ç‚¹çš„ç¬”è®°è®°å½•åº”ç”¨ç¨‹åºï¼Œç”¨äºè§„åˆ’å’Œè®°å½•æ‚¨çš„é¡¹ç›®ã€‚ Bear Writer - æ¼‚äº®ï¼Œçµæ´»çš„å†™ä½œåº”ç”¨ç¨‹åºï¼Œç”¨äºåˆ¶ä½œç¬”è®°å’Œæ•£æ–‡ã€‚ Boostnote - ä¸ºç¨‹åºå‘˜é‡èº«å®šåšçš„ç¬”è®°åº”ç”¨ã€‚ å¼€æºåœ°å€ Chmox - è¯» chm æ–‡ä»¶çš„è½¯ä»¶ã€‚ CHM Reader - è¯» chm æ–‡ä»¶çš„è½¯ä»¶ã€‚ iChm - è¯» chm æ–‡ä»¶çš„è½¯ä»¶ã€‚ å¼€æºåœ°å€ Joplin - æ”¯æŒ markdown çš„å¼€æºè®°äº‹æœ¬å’Œå…·æœ‰åŒæ­¥åŠŸèƒ½çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ Kindle App - äºšé©¬é€Š Kindle App ç”µå­ä¹¦é˜…è¯»å™¨ã€‚ Klib - å…¨æ–°çš„ Kindleã€iBooks æ ‡æ³¨ç®¡ç†å·¥å…·ã€‚ MarginNote - ä¸€æ¬¾ä¼˜ç§€çš„ PDF æœ‰æ ‡æ³¨è½¯ä»¶ï¼Œæ‰¹æ³¨ã€æŠ½è®¤å¡ã€æ€ç»´å¯¼å›¾ã€æ±‡æ€»è§†å›¾ç­‰åŠŸèƒ½ã€‚ PDF Reader Pro - å¯ä»¥æŸ¥çœ‹ï¼Œåˆ›å»ºï¼Œç­¾åï¼Œè½¬æ¢å’Œå‹ç¼©ä»»ä½• PDF æ–‡æ¡£ã€‚ PDF Expert - PDF é˜…è¯»ã€æ‰¹æ³¨ï¼Œç¼–è¾‘æ–‡æœ¬ï¼Œæ·»åŠ ç…§ç‰‡ï¼Œå¡«å†™è¡¨å•ã€‚ QOwnNotes - æ˜¯å¼€æºè®°äº‹æœ¬ï¼Œå¸¦æœ‰ markdown æ”¯æŒå’Œå¾…åŠäº‹é¡¹åˆ—è¡¨ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ Spillo - åŠŸèƒ½å¼ºå¤§ï¼Œç¾è§‚ã€å¿«é€Ÿç½‘ç»œä¹¦ç­¾ç½‘é¡µé˜…è¯»ã€‚ Skim - PDF é˜…è¯»å™¨å’Œç¬”è®°æœ¬ã€‚ å¼€æºåœ°å€ texpad - Mac ä¸‹éå¸¸æ£’çš„ LaTeX ç¼–è¾‘å™¨ã€‚ æ”¯æŒè‡ªåŠ¨ç¼–è¯‘é¢„è§ˆï¼Œè‡ªåŠ¨è¡¥å…¨ç­‰ã€‚ WonderPen - ä¸“æ³¨äºå†™ä½œçš„åº”ç”¨ï¼Œæ”¯æŒ markdownï¼Œå¾ˆå¤šè´´å¿ƒç»†èŠ‚ï¼Œæ”¯æŒé•¿æ–‡å†™ä½œï¼Œå¯å¯¼å‡ºå¤šç§æ ¼å¼ã€‚ Office KOffice - é›†æˆåŒ–åŠå…¬å¥—ä»¶ï¼ŒåŒ…å«æ–‡å­—å¤„ç†å™¨ã€ç”µå­ è¡¨æ ¼ã€å¹»ç¯ç‰‡åˆ¶ä½œã€é¡¹ç›®ç®¡ç†ç­‰å¤šç§å·¥å…·ã€‚ Keynote è®²æ¼” æ„å»ºç‚«ç›®çš„æ¼”ç¤ºæ–‡ç¨¿ã€‚ LibreOffice - ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å…è´¹å¼€æºåŠå…¬è½¯ä»¶ï¼Œé»˜è®¤ä½¿ç”¨å¼€æ”¾æ–‡æ¡£æ ¼å¼ï¼Œå¹¶æ”¯æŒå…¶ä»–å¤šç§æ–‡æ¡£æ ¼å¼ã€‚ å¼€æºåœ°å€ Microsoft Office å¾®è½¯OfficeåŠå…¬å¥—ä»¶ Numbers è¡¨æ ¼ åˆ›å»ºä»¤äººå°è±¡æ·±åˆ»çš„ç”µå­è¡¨æ ¼ã€‚ Pages æ–‡ç¨¿ å¼•äººæ³¨ç›®çš„æ–‡ç¨¿ã€‚ WPS - æ˜¯ä¸€å¥—è·¨å¹³å°çš„åŠå…¬å®¤è½¯ä»¶å¥—ä»¶ã€‚ RSS Leaf - RSS å®¢æˆ·ç«¯ç¨‹åºã€‚ NetNewsWire - å…è´¹çš„ RSS é˜…è¯»å™¨ã€‚ å¼€æºåœ°å€ ReadKit - ä¹¦ç­¾ RSS ç®¡ç†å®¢æˆ·ç«¯ã€‚ Reeder 4 - RSS æœåŠ¡è®¢é˜…ã€‚ Vienna - RSS/Atom æ–°é—»é˜…è¯»å®¢æˆ·ç«¯ã€‚ å¼€æºåœ°å€ irreader - å¤šåŠŸèƒ½çš„ RSS é˜…è¯»å™¨ï¼Œæ”¯æŒè®¢é˜…æ’­å®¢å’Œä»»ä½•ç½‘ç«™ã€‚ Markdown A curated list of delightful Markdown stuff. Cmd Markdown - Cmd Markdown ç¼–è¾‘é˜…è¯»å™¨ï¼Œæ”¯æŒå®æ—¶åŒæ­¥é¢„è§ˆï¼ŒåŒºåˆ†å†™ä½œå’Œé˜…è¯»æ¨¡å¼ï¼Œæ”¯æŒåœ¨çº¿å­˜å‚¨ï¼Œåˆ†äº«æ–‡ç¨¿ç½‘å€ã€‚ EME - æœ€è¿‘åˆšå‡ºçš„ä¸€æ¬¾ Markdown ç¼–è¾‘å™¨ï¼Œç•Œé¢å¾ˆåƒ Chrome æµè§ˆå™¨çš„ç•Œé¢ï¼Œå¾ˆç®€çº¦ã€‚ iA Writer - Markdown æ–‡æœ¬é¢„è§ˆç¼–è¾‘ï¼Œæ³¨é‡è¯­æ³•æ£€æŸ¥ï¼Œä¸“é—¨ä¸ºä½œå®¶æä¾›çš„ç¼–è¾‘å™¨ã€‚ LightPaper - ç®€å•çš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ Marp - Markdown åˆ¶ä½œå¹»ç¯ç‰‡ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ MWeb - ä¸“ä¸šçš„ Markdown å†™ä½œã€è®°ç¬”è®°ã€é™æ€åšå®¢ç”Ÿæˆè½¯ä»¶ã€‚ MacDown - ä¸€æ¬¾å¼€æºçš„ Markdown ç¼–è¾‘å™¨ï¼Œæ·±å—Mouçš„å½±å“ã€‚** å¼€æº ** Marked 2 - Markdown æ–‡æœ¬é¢„è§ˆç¼–è¾‘ï¼Œä¸ºæ‰€æœ‰ä½œå®¶æä¾›ä¸€å¥—ä¼˜é›…è€Œå¼ºå¤§çš„å·¥å…·ã€‚ TextNut - Markdown ç¼–è¾‘å™¨ï¼Œå¯Œæ–‡æœ¬ä¹‹é—´è‡ªç”±åˆ‡æ¢ã€‚ Typora - åŸºäº Electron çš„â€œè¯»å†™ä¸€ä½“â€ Markdown ç¼–è¾‘å™¨ã€‚ Ulysses - é€‚ç”¨äº Macï¼ŒiPad å’Œ iPhone çš„å†™ä½œåº”ç”¨ç¨‹åºï¼Œæ”¯æŒ Markdownã€‚ Yu Writer - ä¸€æ¬¾èƒ½æ‰¾åˆ°å†™ä½œä¹è¶£çš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ é©¬å…‹é£è±¡ - Markdown ç¼–è¾‘å™¨ï¼Œæä¾› Web ç«¯ å’Œ App ç«¯ï¼Œå¤šç§é…è‰²ï¼Œæ”¯æŒåŒæ­¥åˆ° å°è±¡ç¬”è®°ã€‚ Effie - è½»é‡çº§ Markdown å†™ä½œè½¯ä»¶ï¼Œæ”¯æŒå¤§çº²ç¬”è®°å’Œæ€ç»´å¯¼å›¾ã€‚ ç¬”è®° Evernote - ç¬”è®°æœ¬åº”ç”¨ç¨‹åºã€‚\nInkdrop - Markdown çˆ±å¥½è€…çš„ç¬”è®°æœ¬åº”ç”¨ç¨‹åºã€‚\nleanote - æ”¯æŒ Markdown çš„ä¸€æ¬¾å¼€æºç¬”è®°è½¯ä»¶ï¼Œæ”¯æŒç›´æ¥æˆä¸ºä¸ªäººåšå®¢ã€‚ å¼€æºåœ°å€\nNotes - ç®€æ´çš„ç¬”è®°åº”ç”¨ã€‚ å¼€æºåœ°å€\nNotebook æ¼‚äº®çš„ç¬”è®°æœ¬åº”ç”¨ç¨‹åºã€‚\nNotion - ä¸€ä¸ªé›†å¤§æˆçš„å¯Œæ–‡æœ¬ç¬”è®°ç®¡ç†è½¯ä»¶ï¼Œæ”¯æŒä¸°å¯Œå´åˆç®€å•æ˜äº†çš„çš„æ–‡å­—æ ¼å¼ï¼Œç”šè‡³è¦†ç›–äº†TODOç±»è½¯ä»¶çš„åŠŸèƒ½ã€‚æ•°æ®åœ¨æœåŠ¡ç«¯å­˜å‚¨ï¼Œæ”¯æŒwebè®¿é—®ï¼Œä¹Ÿæä¾›äº†macOS/Windows/iOS/å®‰å“ç­‰å¹³å°å®¢æˆ·ç«¯ã€‚\nOneNote - å¾®è½¯å¤‡æ³¨åº”ç”¨ã€‚\nQuiver - ç¨‹åºçŒ¿çš„ç¬”è®°æœ¬ã€‚\næœ‰é“äº‘ç¬”è®° - æ”¯æŒå¤šç›®å½•ï¼ŒMarkdownï¼ŒiWork/Office é¢„è§ˆã€‚\nä¸ºçŸ¥ç¬”è®° - æ”¯æŒ Markdownï¼Œæœé›†æ•´ç†å›¾ç‰‡é“¾æ¥å¯¼å…¥æ–‡æ¡£ã€‚\né˜¿é‡Œè¯­é›€ - äº‘ç¬”è®°ç±»çŸ¥è¯†ç®¡ç†ã€åä½œå¹³å°ï¼ŒåŸºäºMarkdownå†™ä½œï¼Œæ”¯æŒå†…åµŒæµç¨‹å›¾ã€è„‘å›¾ã€æ—¶åºã€ä»£ç æ¸²æŸ“ä»¥åŠSketchç”»æ¿åˆ›ä½œï¼Œä¸ªäººçŸ¥è¯†åˆ†äº«ç­‰ï¼ç›¸æ¯”æœ‰é“äº‘ç¬”è®°ã€å°è±¡ç¬”è®°åŒç±»äº§å“ï¼ŒåŒ…å«å…¶å…¨éƒ¨çš„åŠŸèƒ½ä»¥å¤–ï¼Œæ”¯æŒçŸ¥è¯†åˆ†äº«ä»¥åŠæ›´å¼ºå¤§çš„åˆ›ä½œã€åä½œã€ç¼–è¾‘å™¨ï¼Œå®ƒæ¥è‡ªé˜¿é‡Œå·´å·´èš‚èšé‡‘æœã€‚\nåˆ¶ä½œç”µå­ä¹¦ Calibre - ä¸‘é™‹çš„è½¯ä»¶ï¼Œä½†å¼ºå¤§çš„è½¯ä»¶ç”µå­ä¹¦ç®¡ç†å’Œè½¬æ¢ã€‚ å¼€æºåœ°å€ Sigil - å¤šå¹³å° EPUB ç¼–è¾‘å™¨ã€‚ å¼€æºåœ°å€ Scribus - å¼€æºç”µå­æ‚å¿—åˆ¶ä½œè½¯ä»¶ã€‚ å¼€æºåœ°å€ è½¯ä»¶æ‰“åŒ…å·¥å…· AppJS - ä½¿ç”¨ JSã€HTML å’ŒCSS æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ AlloyDesktop - åŒä¸Šï¼Œè…¾è®¯å‡ºå“ï¼Œç»™ä¸ªå·®è¯„ã€‚ å¼€æºåœ°å€ create-dmg - å¿«é€Ÿåˆ›å»ºä¸€ä¸ªå‹ç¼©é•œåƒæ–‡ä»¶ã€‚ å¼€æºåœ°å€ Electron - å‰èº«æ˜¯ AtomShellï¼Œä½¿ç”¨ JSã€HTML å’Œ CSS æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ Electrino - ä½¿ç”¨ JSã€HTML å’Œ CSS æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæ„å»ºå‡ºçš„åº”ç”¨ä½“ç§¯æ¯” Electron å°ã€‚ å¼€æºåœ°å€ Finicky - Web åº”ç”¨ç¨‹åºè½¬åŒ–ä¸ºè‹¹æœçš„åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ HEX - ä½¿ç”¨ JSã€HTML å’Œ CSS æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæœ‰é“å‡ºå“ã€‚ å¼€æºåœ°å€ ionic - ä¸€ä¸ªç”¨æ¥å¼€å‘æ··åˆæ‰‹æœºåº”ç”¨çš„ï¼Œå¼€æºçš„ï¼Œå…è´¹çš„ä»£ç åº“ã€‚ å¼€æºåœ°å€ nw.js - ä½¿ç”¨ HTML å’Œ JavaScript æ¥åˆ¶ä½œæ¡Œé¢åº”ç”¨ã€‚ å¼€æºåœ°å€ MacGap - æ¡Œé¢ WebKit æ‰“åŒ… HTMLã€CSSã€JS åº”ç”¨ã€‚ å¼€æºåœ°å€ react-desktop - ä¸º macOS Sierraå¸¦æ¥ React UI ç»„ä»¶ã€‚ å¼€æºåœ°å€ ReactXP - å¾®è½¯å®˜æ–¹å‡ºå“ï¼Œæ”¯æŒå¹³å° Webï¼ŒiOSï¼ŒAndroid å’Œ Windows UWP ä»ç„¶æ˜¯ä¸€é¡¹æ­£åœ¨è¿›è¡Œçš„å·¥ä½œã€‚ å¼€æºåœ°å€ React Native macOS - ç”¨ React Native æŠ€æœ¯æ„å»º OS X ä¸‹çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ React Native Desktop for Ubuntu - ç”¨ React Native æŠ€æœ¯æ„å»º Ubuntu ä¸‹çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ ä¸‹è½½å·¥å…· aria2 - ä¸€æ¬¾æ”¯æŒå¤šç§åè®®çš„è½»é‡çº§å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚ å¼€æºåœ°å€ Downie - æ”¯æŒå¤šè¾¾è¿‘ 1200 ä¸ªè§†é¢‘ç«™ç‚¹çš„è§†é¢‘ä¸‹è½½å·¥å…·ã€‚ Free Download Manager - åŠŸèƒ½å¼ºå¤§çš„ä¸‹è½½åŠ é€Ÿå™¨ã€‚ FOLX - ä¸€ä¸ª Mac osx ç³»ç»Ÿé£æ ¼ç•Œé¢çš„ä¸‹è½½ç®¡ç†å·¥å…·ã€‚ JDownloader - ä¸‹è½½å·¥å…·ï¼Œä¸‹è½½æ–‡ä»¶çš„ä¸€é”®å¼æ‰˜ç®¡ã€‚ Motrix - Motrix æ˜¯ä¸€æ¬¾å…¨èƒ½çš„ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒä¸‹è½½ HTTPã€FTPã€BTã€ç£åŠ›é“¾ã€ç™¾åº¦ç½‘ç›˜ç­‰èµ„æºã€‚ å¼€æºåœ°å€ qBittorrent - ä¸€ä¸ªæ›¿ä»£ Î¼Torrent çš„å¼€æºè½¯ä»¶ã€‚ å¼€æºåœ°å€ Transmission - å…è´¹çš„ BitTorrent å®¢æˆ·ç«¯ å¼€æºåœ°å€ You-Get - ç½‘ç»œå¯Œåª’ä½“å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚ å¼€æºåœ°å€ ç½‘ç›˜ æ¨èä¸€äº›æœ‰Macå®¢æˆ·ç«¯çš„ç½‘ç›˜ã€‚\n115 - 115 äº‘å®¢æˆ·ç«¯ã€‚ Dropbox - éå¸¸å¥½ç”¨çš„å…è´¹ç½‘ç»œæ–‡ä»¶åŒæ­¥å·¥å…·ï¼Œæä¾›åœ¨çº¿å­˜å‚¨æœåŠ¡ã€‚ NextCloud - åŸºäº ownCloud å®Œå…¨å¼€æºå…è´¹å¼€æºï¼Œä¼ä¸šæ–‡ä»¶åŒæ­¥å’Œå…±äº«ã€‚ Mega - å…è´¹çš„äº‘æœåŠ¡ï¼Œæä¾› 50GB çš„å…è´¹å­˜å‚¨ç©ºé—´ã€‚ Resilio Sync - P2Pç§æœ‰äº‘ç›˜ï¼ŒBitTorrentè¡€ç»Ÿï¼Œæ”¯æŒå®‰å“/iOS/Windows/macOS/Linux/FreeBSD/NASç­‰ç³»ç»Ÿå¹³å°ã€‚æ³¨æ„ï¼šæˆªæ­¢2021.7.20ï¼ŒmacOSå¹³å°å®¢æˆ·ç«¯å­˜åœ¨ä¼‘çœ å´©æºƒç°è±¡ï¼Œé™¤æ­¤ä¹‹å¤–å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ Seafile - æ˜¯ç”±å›½å†…å›¢é˜Ÿå¼€å‘çš„å›½é™…åŒ–çš„å¼€æºäº‘å­˜å‚¨è½¯ä»¶é¡¹ç›®ã€‚ Syncthing - Resilio Syncçš„å¼€æºç«äº‰è€…ï¼Œæ¶æ„ä¸Šæ›´åŠ å¼€æ”¾è‡ªç”±ï¼Œè‰¯å¥½çš„ç”¨æˆ·æ–‡æ¡£ï¼ŒåŸºäºGoè¯­è¨€æ”¯æŒå¤§é‡ç³»ç»Ÿå¹³å°ï¼Œç”šè‡³åŒ…æ‹¬OpenWrtï¼æ­¤é¡¹ç›®çš„ç•Œé¢ç¿»è¯‘å·¥ä½œä¹Ÿæ”¯æŒå¼€æºå…±å»ºã€‚ å¼€æºåœ°å€ ownCloud - ç§æœ‰äº‘ç½‘ç›˜ã€‚ ç™¾åº¦äº‘ - ç™¾åº¦äº‘å®¢æˆ·ç«¯ã€‚ è…¾è®¯å¾®äº‘ - è…¾è®¯äº‘å®¢æˆ·ç«¯ã€‚ åšæœäº‘ - åšæœäº‘å®¢æˆ·ç«¯ã€‚ äº¿æ–¹äº‘ - ç¡…è°·å›¢é˜Ÿæ‰“é€ ï¼Œä¸ªäººå…è´¹ã€‚ é˜¿é‡Œäº‘ç›˜ - é˜¿é‡Œäº‘ç›˜ã€‚ è¾“å…¥æ³• Kawa - ç»™æ¯ä¸ªè¾“å…¥æ³•å®šä¹‰ä¸€ä¸ªå¿«æ·é”®. å¼€æºåœ°å€ RIME - ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“ã€‚ å¼€æºåœ°å€ Rocket - ä½¿ç”¨å†’å·å¿«æ·é”®å¯ä»¥æ›´å¿«æ·åœ°è¾“å…¥è¡¨æƒ…ç¬¦å·ã€‚ Type2Phone - æŠŠ Macbook é”®ç›˜å˜ä¸º iPhone çš„è“ç‰™é”®ç›˜ã€‚ WBIM - äº”ç¬”è¾“å…¥æ³•ã€‚ QQè¾“å…¥æ³• - è…¾è®¯å‡ºå“çš„è¾“å…¥æ³•ã€‚ æœç‹—è¾“å…¥æ³• - æœç‹—è¾“å…¥æ³•ã€‚ ç™¾åº¦è¾“å…¥æ³• - æ”¯æŒæ‹¼éŸ³äº”ç¬”è¾“å…¥ã€‚ è½æ ¼è¾“å…¥æ³• - æ‰“ç ´ Mac åŒæ‹¼å¤šå¹´æ¥çš„çª˜å¢ƒã€‚ iAvro - å­ŸåŠ æ‹‰è¯­è¾“å…¥æ³•ã€‚ å¼€æºåœ°å€ æ¸…æ­Œäº”ç¬”è¾“å…¥æ³• - ä¸º iOS å’Œ Mac ä¸“é—¨æ‰“é€ çš„äº”ç¬”è¾“å…¥æ³•ã€‚ é¢œæ–‡å­— - é¢œæ–‡å­—è¾“å…¥ã€‚ å“ˆåˆ©è·¯äºšè‹±æ–‡è¾“å…¥æ³• - æ™ºèƒ½è‹±æ–‡è¾“å…¥æ³•ï¼Œå…·å¤‡è‡ªåŠ¨è¡¥å…¨ï¼Œè‡ªåŠ¨çº é”™åŠŸèƒ½ã€‚ æµè§ˆå™¨ è¿™é‡Œæ”¾Macçš„æµè§ˆå™¨åº”ç”¨\nBrave - ç”¨ Brave æµè§ˆæ›´å¿«æ›´å®‰å…¨ã€‚ Chrome - Chrome æµè§ˆå™¨è°·æ­Œå‡ºå“ã€‚ Firefox - è¿æ¥ Firefox Quantumã€‚å¿«ï¼Œåªä¸ºæ›´å¥½ã€‚ç«ç‹æµè§ˆå™¨ã€‚ Safari - Mac é¢„è£…è‡ªå¸¦æµè§ˆå™¨ã€‚ Opera - Opera æµè§ˆå™¨ã€‚ QQæµè§ˆå™¨ - QQ æµè§ˆå™¨ï¼è…¾è®¯å‡ºå“ã€‚ Vivaldi - Opera å¼€å‘å•†å‡ºå“æ–°çš„æµè§ˆå™¨ã€‚ ÅŒryÅki - å°çš„ web æµè§ˆå™¨ã€‚è¿™æ˜¯ä¸€ä¸ªè¯•éªŒæ€§çš„é¡¹ç›®ï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­ å‚²æ¸¸äº‘æµè§ˆå™¨ - å‚²æ¸¸äº‘æµè§ˆå™¨ã€‚ 360æé€Ÿæµè§ˆå™¨ - æ›´å¥½ç”¨ï¼Œä¸å°†å°±ã€‚ ç¿»è¯‘å·¥å…· æœ‰é“ç¿»è¯‘ - æœ‰é“è¯å…¸æ¡Œé¢ç‰ˆã€‚ è¾æµ·è¯å…¸ - å­¦å•è¯ã€èƒŒå•è¯ã€è¾æµ·è¯å…¸ã€‚ eudic - æ¬§è·¯è¯å…¸è¯å…¸ã€‚ Grammarly - ä¿®æ­£è‹±è¯­è¯­æ³•åŠç”¨è¯­ iText - æˆªå›¾è¯†åˆ«æ–‡å­—ã€ç¿»è¯‘ iTranslate - æ”¯æŒå…¨ä¸–ç•Œè¶…è¿‡ 80 ç§è¯­è¨€å‘éŸ³å’Œè¾“å‡ºã€‚ Ludwig - è¯­è¨€æœç´¢å¼•æ“ï¼Œå¯å¸®åŠ©æ‚¨ç”¨è‹±è¯­å†™å¾—æ›´å¥½ã€‚ Translate Tab - èœå•æ ç¿»è¯‘æ’ä»¶ï¼Œå°è£…äº†è°·æ­Œç¿»è¯‘ï¼Œæ”¯æŒè‡ªåŠ¨è¯†åˆ«è¯­è¨€ã€‚ Bob - ç®€å°å¥½ç”¨çš„ç¿»è¯‘å·¥å…·ï¼Œæ”¯æŒè¯­è¨€è‡ªåŠ¨æ£€æµ‹ï¼Œæˆªå›¾ç¿»è¯‘ã€‚ å¼€æºåœ°å€ Translatium - åœ¨ 100 å¤šç§è¯­è¨€ä¹‹é—´ç¿»è¯‘å•è¯ã€çŸ­è¯­å’Œå›¾åƒï¼Œå¹¶æä¾›å­—å…¸ã€éŸ³è¯‘å’Œè¯­éŸ³è¾“å‡ºæ”¯æŒã€‚ å¼€æºåœ°å€ å®‰å…¨å·¥å…· Antivirus One - å€¼å¾—ä¿¡èµ–çš„Macå®‰å…¨ä¿æŠ¤å·¥å…·ï¼šä¿æŠ¤æ‚¨çš„ Mac å…å—ç—…æ¯’ã€æ¶æ„è½¯ä»¶å’Œå¹¿å‘Šè½¯ä»¶çš„ä¾µå®³ã€‚é˜»æ­¢æ½œåœ¨çš„ Webå¨èƒå¹¶ä¿æŠ¤æ‚¨çš„Macå…å—æ¼æ´å½±å“ã€‚ BlockBlock - æ¶æ„è½¯ä»¶ä¼šè‡ªè¡Œå®‰è£…ï¼Œä»¥ç¡®ä¿å®ƒåœ¨é‡æ–°å¼•å¯¼æ—¶è‡ªåŠ¨é‡æ–°æ‰§è¡Œã€‚ Dylib Hijack Scanner - Dylib åŠ«æœºæ‰«æä»ªæˆ– DHSï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„å®ç”¨ç¨‹åºï¼Œå°†æ‰«ææ‚¨çš„è®¡ç®—æœºçš„åº”ç”¨ç¨‹åºæ˜¯æ˜“å— dylib åŠ«æŒæˆ–è¢«åŠ«æŒã€‚ Encrypto - å…è´¹åŠ å¯†å·¥å…·ï¼Œç”¨äºåŠ å¯†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ GPG Suite - macOSå¹³å°çš„ä¸€ç«™å¼GnuPGè§£å†³æ–¹æ¡ˆï¼Œæä¾›å‘½ä»¤è¡Œå’ŒGUIçš„åŠ è§£å¯†å·¥å…·ã€‚å¼€ç®±å³ç”¨çš„gpg-agentå¯†ç ç¼“å­˜æœåŠ¡ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ªGUIçš„pinenryç¨‹åºï¼Œæ”¯æŒä¸macOSåŸç”Ÿé’¥åŒ™ä¸²é›†æˆã€‚ å¼€æºåœ°å€ KextViewer - æŸ¥çœ‹æ‰€æœ‰åœ¨ OS å†…æ ¸ä¸­åŠ è½½çš„æ¨¡å—ã€‚ KnockKnock - â€œè°åœ¨é‚£ï¼Ÿâ€ æŸ¥çœ‹Macä¸ŠæŒä¹…å®‰è£…çš„å†…å®¹ã€‚ LinkLiar - å¯ä»¥å¸®åŠ©ä½ å“„éª— Wi-Fi å’Œä»¥å¤ªç½‘æ¥å£çš„ MAC åœ°å€ã€‚ å¼€æºåœ°å€ LuLu - å…è´¹çš„macOSé˜²ç«å¢™ï¼Œæ—¨åœ¨é˜»æ­¢æœªç»æˆæƒï¼ˆä¼ å‡ºï¼‰çš„ç½‘ç»œæµé‡ã€‚ å¼€æºåœ°å€ Murus - å¼ºå¤§ã€çµæ´»ä¸”æ˜“äºç†è§£ä½¿ç”¨çš„é˜²ç«å¢™ï¼Œå®˜æ–¹æä¾›å¤šç§ä¸åŒçš„APPä»¥æä¾›ä¸åŒåŠŸèƒ½çš„ç»„åˆã€‚æœ€åŸºç¡€çš„å…è´¹ç‰ˆæœ¬Murus Liteæ˜¯çº¯ç²¹åŸºäºä¼ å…¥ç«¯å£çš„é˜²ç«å¢™ï¼Œè·ŸåŸºäºåº”ç”¨ç¨‹åºçš„macOSåŸç”Ÿé˜²ç«å¢™å½¢æˆæœ‰æ•ˆäº’è¡¥ã€‚ OverSight - ç›‘æ§ Mac çš„éº¦å…‹é£å’Œç½‘ç»œæ‘„åƒå¤´ï¼Œå½“å†…éƒ¨éº¦å…‹é£è¢«æ¿€æ´»ï¼Œæˆ–è€…å½“è¿›ç¨‹è®¿é—®æ‘„åƒå¤´æ—¶æé†’ç”¨æˆ·ã€‚ RansomWhere? - é€šç”¨ Ransomware æ£€æµ‹ã€‚ TaskExplorer - ä½¿ç”¨ TaskExplorer æ¢ç´¢åœ¨ Mac ä¸Šè¿è¡Œçš„æ‰€æœ‰ä»»åŠ¡ï¼ˆè¿›ç¨‹ï¼‰ã€‚ Whatâ€™s Your Sign? - éªŒè¯æ–‡ä»¶çš„åŠ å¯†ç­¾åå¯ä»¥æ¨æ–­å…¶æ¥æºæˆ–å¯ä¿¡åº¦ã€‚ ç§‘å­¦ä¸Šç½‘ å‡è®¾ä½ æ˜¯ä¸ªå‹¤å¥‹çš„åŒå­¦ï¼Œä½ æ€»æœ‰ä¸€å¤©ä¼šå¼ºçƒˆéœ€è¦å®ƒä»¬ï¼Œä¸Šå¸ä¿ä½‘ä»–ä»¬å§ã€‚\nAlgo - åœ¨äº‘ä¸­è®¾ç½®ä¸ªäºº IPSEC VPNã€‚ å¼€æºåœ°å€ ClashX - åŸºäº clash çš„ä¸€æ¬¾æ”¯æŒè§„åˆ™è¿‡æ»¤çš„ç§‘å­¦ä¸Šç½‘å·¥å…·ã€‚ å¼€æºåœ°å€ Lantern - ç§‘å­¦ä¸Šç½‘ã€‚ å¼€æºåœ°å€ ShadowsocksX - ä¸€ä¸ªå¿«é€Ÿçš„éš§é“ä»£ç†ï¼Œå¯ä»¥å¸®åŠ©ä½ ç»•è¿‡é˜²ç«å¢™ã€‚ å¼€æºåœ°å€ ShadowsocksX-NG - ä¸€æ¬¾ ShadowsocksX å®¢æˆ·ç«¯è½¯ä»¶ã€‚ å¼€æºåœ°å€ Surge - ç§‘å­¦ä¸Šç½‘ã€‚ Shimo - è¿æ¥å¤§é‡ VPN çš„åº”ç”¨ Tunnelbear - ç®€å•çš„ç§äºº VPNã€‚ Tunnelblick - OpenVPN çš„å…è´¹è½¯ä»¶ã€‚ tinc - VPN è½¯ä»¶. å¼€æºåœ°å€ V2Ray - åŸç”Ÿæ”¯æŒ Socksã€HTTPã€Shadowsocksã€VMess ç­‰åè®®ã€‚ å…¶å®ƒå®ç”¨å·¥å…· 12306ForMac - Mac ç‰ˆ 12306 è®¢ç¥¨/æ£€ç¥¨åŠ©æ‰‹ã€‚ å¼€æºåœ°å€ 1440 Minutes Left Today - åœ¨èœå•æ ä¸­ï¼Œç›´æ¥è®°å½•åˆ°ä¸€å¤©ç»“æŸè¿˜å‰©å¤šå°‘åˆ†é’Ÿã€‚ AirServer - å°†æ‰‹æœºæŠ•å½±åˆ°ç”µè„‘ä¸Šã€‚ Alfred - æ•ˆç‡ç¥å™¨ã€‚ Raycast - ç±»ä¼¼AlfredåŠŸèƒ½ï¼Œé‡è¦çš„æ˜¯å…è´¹ã€‚ BitBar - æ”¯æŒä½¿ç”¨å„ç§è¯­è¨€å°†ä¿¡æ¯å±•ç¤ºåˆ°Mac OSçš„èœå•æ ã€‚ å¼€æºåœ°å€ BetterZip - å‹ç¼©è§£å‹ç¼©å·¥å…·æ”¯æŒæ ¼å¼ ZIPã€TARã€TGZã€TBZã€TXZ (new)ã€7-ZIPã€RARã€‚ BetterTouchTool - ä»£æ›¿é»˜è®¤çš„ç³»ç»Ÿæ“ä½œæ–¹å¼ï¼ˆç»„åˆé”®ã€ä¿®é¥°é”®ã€æ‰‹åŠ¿ç­‰ï¼‰ã€‚ CopyQ - é«˜çº§åŠŸèƒ½å‰ªè´´æ¿ç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ ControlPlane - è‡ªå®šä¹‰ Mac æƒ…æ™¯æ¨¡å¼ã€‚æŸäº›åœºæ™¯è®© Mac è‡ªåŠ¨é™éŸ³æˆ–æ˜¯è‡ªåŠ¨æ‰“å¼€ Mail å®¢æˆ·ç«¯ç­‰ç­‰ã€‚ å¼€æºåœ°å€ ClipMenu - ä¸€ä¸ªå‰ªè´´æ¿æ“ä½œçš„ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ Clipy - åŸºäº ClipMenu ç»§ç»­å¼€å‘çš„å¼ºå¤§çš„å‰ªåˆ‡æ¿ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ CheatSheet - CheatSheet æ˜¯ä¸€æ¬¾ Mac ä¸Šçš„éå¸¸å®ç”¨çš„å¿«æ·é”®å¿«é€Ÿæé†’å·¥å…·ã€‚ DaisyDisk - ç£ç›˜ç©ºé—´ä½¿ç”¨æ‰«æå·¥å…·ã€‚ DNS Heaven - å¯ä»¥ä»¤åŸºäº glibc çš„ macOS åº”ç”¨ç›´æ¥ä½¿ç”¨åŸç”Ÿæ ˆæ¥è§£æ DNSï¼Œä¸»è¦é€‚ç”¨äº VPNã€‚ å¼€æºåœ°å€ eZip - ç•Œé¢ç®€æ´ï¼ŒåŠŸèƒ½å®Œå–„ï¼Œæ”¯æŒä¸»æµçš„å¤šç§å‹ç¼©æ ¼å¼ã€‚æ”¯æŒ Mojave æ·±è‰²æ¨¡å¼ã€QuickLooké¢„è§ˆã€æ‹–æ‹½è§£å‹ã€‚ f.lux - è‡ªåŠ¨è°ƒæ•´æ‚¨çš„ç”µè„‘å±å¹•ï¼Œä»¥åŒ¹é…äº®åº¦ã€‚ Lunar - å¤–æ¥æ˜¾ç¤ºå™¨äº®åº¦/å¯¹æ¯”åº¦è°ƒèŠ‚å·¥å…·ï¼Œä»æ­¤å‘Šåˆ«ç‰©ç†æŒ‰é”®ã€‚ å¼€æºåœ°å€ Hammerspoon - åŠŸèƒ½å¼ºå¤§çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼ŒLua è„šæœ¬é©±åŠ¨ï¼Œæ”¯æŒçª—å£ç®¡ç†ã€‚ å¼€æºåœ°å€ HTTrack - å¯ä»¥ä¸‹è½½æ•´ä¸ªç½‘ç«™å’Œç¦»çº¿æµè§ˆã€‚ HapticKey - Touch Bar è§¦è§‰åé¦ˆã€‚ å¼€æºåœ°å€ HWSensors - è‡ªå¸¦FakeSMCçš„é»‘è‹¹æœç¡¬ä»¶çŠ¶æ€ç›‘æ§æ’ä»¶ã€‚ å¼€æºåœ°å€ Hungrymark - éå¸¸æœ‰ç”¨çš„æ”¶è—å¤¹åº”ç”¨ï¼Œæ”¶è—æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ï¼Œç½‘å€ï¼Œå¿«é€Ÿçš„é€šè¿‡çŠ¶æ€æ èœå•è®¿é—®è¿™äº›ä¹¦ç­¾ã€‚ iStat pro - å…è´¹çš„ Mac OS ç”µè„‘ç¡¬ä»¶ä¿¡æ¯æ£€æµ‹è½¯ä»¶ã€‚ Itsycal - ä¸€æ¬¾ç®€æ´å®ç”¨çš„å¼€æºæ—¥å†å·¥å…·ã€‚ å¼€æºåœ°å€ Karabiner - ä¸€ä¸ªå¼ºå¤§çš„å’Œç¨³å®šçš„ OS X çš„é”®ç›˜å®šåˆ¶ã€‚ å¼€æºåœ°å€ Keyboard Maestro - æ ¹æ®é”®ç›˜ï¼Œèœå•ï¼Œä½ç½®ï¼Œæ·»åŠ çš„è®¾å¤‡ç­‰è§¦å‘å™¨è‡ªåŠ¨æ‰§è¡Œæ—¥å¸¸æ“ä½œã€‚ Keytty - è®©ä½ é€šè¿‡é”®ç›˜ä½¿ç”¨é¼ æ ‡ã€‚ Keka - ä¸€ä¸ªå…è´¹çš„ macOS æ–‡ä»¶è§£å‹ç¼©ç¨‹åºã€‚ Lungo - é˜²æ­¢Macè¿›å…¥ç¡çœ çŠ¶æ€ã€‚ Memo - ç»™ä½ çš„ä¾¿ç¬ºåŠ ä¸ªå¯†ã€‚ Manta - çµæ´»çš„å‘ç¥¨æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæ¼‚äº®å’Œå¯å®šåˆ¶æ¨¡æ¿ã€‚ å¼€æºåœ°å€ Mos - è®©ä½ çš„é¼ æ ‡æ»šè½®ä¸æ»‘å¦‚è§¦æ§æ¿ã€‚ å¼€æºåœ°å€ Mac Cache Cleaner - ç¼“å­˜æ¸…ç†å·¥å…· å¼€æºåœ°å€ Numi - æ¼‚äº®çš„è®¡ç®—å™¨åº”ç”¨ã€‚ NoSleep - åˆä¸Šç›–å­ä¸ä¼‘çœ ï¼Œå¯æ ¹æ®æ˜¯å¦è¿æ¥ç”µæºå•ç‹¬è®¾ç½®ã€‚ openEmu - æ¨¡æ‹Ÿå™¨ï¼Œå¯ä»¥ç©é­‚æ–—ç½—ä¹‹ç±»ï¼Œè½»æ¾å›åˆ°å°æ—¶å€™ã€‚ å¼€æºåœ°å€ OmniDiskSweeper - ç£ç›˜ç©ºé—´ä½¿ç”¨æ‰«æå·¥å…·ã€‚ OmniPlan - é¡¹ç›®ç®¡ç†è½¯ä»¶ã€‚ Paste - æ™ºèƒ½å‰ªè´´æ¿å†å²ç‰‡æ®µç®¡ç†ã€‚ PasteBot - å¼ºå¤§çš„å‰ªè´´æ¿ç®¡ç†å™¨ã€‚ PDF Archiver - ä¸€ä¸ªç”¨äºæ ‡è®°å’Œå½’æ¡£ä»»åŠ¡çš„å¥½å·¥å…·ã€‚ å¼€æºåœ°å€ Qbserve - è§‚å¯Ÿä½ å¦‚ä½•åº¦è¿‡ä½ çš„æ—¶é—´ã€‚ RescueTime - ä¸ªäººåˆ†ææœåŠ¡ï¼Œå‘æ‚¨å±•ç¤ºå¦‚ä½•èŠ±æ—¶é—´å’Œæä¾›å·¥å…·æ¥å¸®åŠ©æ‚¨æé«˜å·¥ä½œæ•ˆç‡ã€‚ Snap - ä¸€æ¬¾å¯ä»¥ç»™ Dock ä¸Šçš„ç¨‹åºæ·»åŠ å¿«æ·é”®çš„å°å·¥å…·ã€‚ Streaker - GitHubè´¡çŒ®å’Œç»Ÿè®¡è·Ÿè¸ªèœå•æ åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ The Unarchiver - è§£å‹è®¸å¤šä¸åŒç§ç±»çš„å½’æ¡£å‹ç¼©æ–‡ä»¶ã€‚ å¼€æºåœ°å€ Timing - Mac çš„è‡ªåŠ¨æ—¶é—´å’Œç”Ÿäº§åŠ›è·Ÿè¸ªã€‚ Unarchive One - å¿«é€Ÿè§£å‹å•ä¸ªå¤šä¸ªä¸åŒç§ç±»çš„å‹ç¼©æ–‡ä»¶/å‹ç¼©æ–‡ä»¶åˆ°å„ç±»å¸¸è§å‹ç¼©æ ¼å¼ã€‚ Ukelele - Unicode é”®ç›˜å¸ƒå±€ç¼–è¾‘å™¨ã€‚ WWDC - Mac OS çš„éå®˜æ–¹çš„ WWDC APPã€‚ å¼€æºåœ°å€ xScope - æµ‹é‡ã€æ£€æŸ¥å’Œæµ‹è¯•å±å¹•ä¸Šçš„å›¾å½¢å’Œå¸ƒå±€çš„å·¥å…·ã€‚æœç´¢ä½ çš„è‹¹æœå’Œç½‘ç»œï¼Œå¿«é€Ÿæ‰“å¼€åº”ç”¨ç¨‹åºã€‚ 360å‹ç¼© - ç®€å•æ˜“ç”¨ï¼Œå…è´¹æ— å¹¿å‘Šçš„å‹ç¼©å·¥å…·ã€‚ è¶…çº§å³é”® - ä¸€æ¬¾finderå³é”®èœå•æ‰©å±•ï¼ŒåŒ…æ‹¬äº†å¤§é‡ä¾¿æ·å·¥å…·æ¯”å¦‚æ–°å»ºæ–‡ä»¶ï¼Œç›´æ¥æ‰“å¼€ç»ˆç«¯ç­‰ å‰ªè´´æ¿å·¥å…· ClipMenu - ä¸€ä¸ªå‰ªè´´æ¿æ“ä½œçš„ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ CopyQ - é«˜çº§åŠŸèƒ½å‰ªè´´æ¿ç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ iPaste - è½»å·§é«˜æ•ˆçš„å‰ªè´´æ¿å·¥å…·ã€‚ Paste - æ™ºèƒ½å‰ªè´´æ¿å†å²ç‰‡æ®µç®¡ç†ã€‚ PasteBot - å¼ºå¤§çš„å‰ªè´´æ¿ç®¡ç†å™¨ã€‚ èœå•æ å·¥å…· BeardedSpice - å…è®¸æ‚¨ä½¿ç”¨ Mac é”®ç›˜ä¸Šçš„åª’ä½“é”®æ§åˆ¶åŸºäºWebçš„åª’ä½“æ’­æ”¾å™¨ï¼ˆSoundCloudï¼ŒYouTube ç­‰ï¼‰å’Œä¸€äº›æœ¬æœºåº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ Bartender - ç»„ç»‡æˆ–éšè—Macä¸Šçš„èœå•æ å›¾æ ‡ã€‚ BitBar - æ”¯æŒä½¿ç”¨å„ç§è¯­è¨€å°†ä¿¡æ¯å±•ç¤ºåˆ° Mac OS çš„èœå•æ ã€‚ å¼€æºåœ°å€ iGlance - çŠ¶æ€æ çš„ç³»ç»Ÿç›‘è§†å™¨ã€‚ å¼€æºåœ°å€ Itsycal - ä¸€æ¬¾ç®€æ´å®ç”¨çš„å¼€æºæ—¥å†å·¥å…·ã€‚ å¼€æºåœ°å€ Vanilla - éšè—ç³»ç»Ÿèœå•æ ã€‚ å¾…åŠäº‹é¡¹å·¥å…· 2Do - æ¯”è¾ƒå¥½çš„ TODO åº”ç”¨ç¨‹åºã€‚ Day-O 2 - èœå•æ—¥å†æ›´æ¢å†…ç½®æ—¥å†ã€‚ Fantastical - æ—¥å†åº”ç”¨ç¨‹åºï¼Œä½ å°†ç®¡ç†å¥½ç”Ÿæ´»ã€‚ Focus - ä¸€ä¸ªæ¼‚äº®çš„ç•ªèŒ„å·¥ä½œæ³•ä¸ºåŸºç¡€çš„æ—¶é—´ç®¡ç†å·¥å…·ã€‚ Microsoft To-Do - ä»»åŠ¡ç®¡ç†å·¥å…·å¾®è½¯å‡ºå“ã€‚ Nozbe - é€‚ç”¨äºä¸ªäººå’Œå›¢é˜Ÿçš„å¼ºå¤§GTDåº”ç”¨ç¨‹åºï¼Œæ”¯æŒæ¯ä¸ªAppleè®¾å¤‡ã€‚ OmniFocus - ç”± OmniGroups åˆ¶ä½œçš„ Nice GTD åº”ç”¨ç¨‹åºã€‚ Taskade - å®æ—¶åä½œç¼–è¾‘å™¨ï¼Œåä½œç®€å†ä»»åŠ¡ç®¡ç†å™¨ï¼Œå¤§çº²å’Œç¬”è®°ã€‚ TaskPaper - æ¼‚äº®çš„çº¯æ–‡æœ¬ä»»åŠ¡åˆ—è¡¨ã€‚ Things - ä»¤äººæ„‰å¿«ä¸”æ˜“äºä½¿ç”¨çš„ä»»åŠ¡ç®¡ç†å™¨ã€‚ Todoist - è·¨å¹³å°çš„ä»»åŠ¡ç®¡ç†å™¨ä¸ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚ Wunderlist - å¥‡å¦™æ¸…å•è·¨å¹³å°çš„ä»»åŠ¡ç®¡ç†å™¨ä¸ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚ æ»´ç­”æ¸…å• - è½»ä¾¿ä¸”å¼ºå¤§çš„è·¨å¹³å°ä»»åŠ¡ç®¡ç†åº”ç”¨ã€‚ ç³»ç»Ÿç›¸å…³å·¥å…· Amphetamine - è¦†ç›–æ‚¨çš„èŠ‚èƒ½è®¾ç½®å¹¶è®©æ‚¨çš„Macä¿æŒæ¸…é†’çŠ¶æ€ã€‚ AdBlock One - é€‚ç”¨äºMacOS/iOSçš„å…è´¹å¹¿å‘Šæ‹¦æˆªå™¨ åœæ­¢åœ¨Safariä¸­çœ‹åˆ°çƒ¦äººçš„å¹¿å‘Šã€‚æ›´å¿«åœ°æ‰“å¼€ç½‘ç«™ã€‚æ›´å®‰å…¨åœ°æµè§ˆç½‘é¡µã€‚ AppCleaner - ä¸€ä¸ªå°åº”ç”¨ç¨‹åºï¼Œè®©ä½ å½»åº•å¸è½½ä¸éœ€è¦çš„åº”ç”¨ç¨‹åºã€‚ AppTrap - åˆ é™¤APPçš„åŒæ—¶ç§»é™¤æ–‡ä»¶ã€‚ å¼€æºåœ°å€ blueutil - å‘½ä»¤è¡Œè“ç‰™æ§åˆ¶å·¥å…·ï¼Œå¯ä»¥é…åˆSleepWatcherå®ç°MacBookåˆç›–ç¬é—´å…³é—­è“ç‰™ï¼Œå¼€ç›–è‡ªåŠ¨æ‰“å¼€è“ç‰™ã€‚è¿™åœ¨ä½¿ç”¨è“ç‰™è€³æœºæ—¶å°¤å…¶æœ‰ç”¨ã€‚ å¼€æºåœ°å€ Cleaner One - å¤šåˆä¸€ç£ç›˜æ¸…ç†ç®¡ç†å™¨ï¼šæ¸…ç†æ‚¨çš„ Mac å¹¶ä¼˜åŒ–å…¶æ€§èƒ½ï¼Œç«‹å³è¿è¡Œå¿«é€Ÿæ‰«æä»¥éªŒè¯ä»€ä¹ˆå ç”¨äº†æ‚¨çš„å­˜å‚¨ç©ºé—´ã€‚ Cleaner for Xcode - Xcode çš„æ¸…ç†å·¥å…·ï¼Œæ¸…ç†å‡ åGåº”è¯¥ä¸æ˜¯é—®é¢˜ã€‚ å¼€æºåœ°å€ Coolant - è¿™æ˜¯èƒ½è®©ä½ çŸ¥é“ä»€ä¹ˆåº”ç”¨ç¨‹åºé€ æˆä½  CPU100% è®© Mac ç”µè„‘è¿‡çƒ­ç”µæ± è€—å°½çš„èœå•åº”ç”¨ç¨‹åºã€‚ coconutBattery - æ˜¾ç¤ºMacä¸­æœ‰å…³ç”µæ± çš„å®æ—¶ä¿¡æ¯ã€‚ DaisyDisk - ç£ç›˜ç©ºé—´ä½¿ç”¨æ‰«æå·¥å…·ã€‚ FruitJuice - ä¼šè®©ä½ çŸ¥é“æ¯å¤©ä¿æŒä¸æ’ç”µçš„æ—¶é—´ï¼Œä»¥ä¿æŒä½ çš„ç”µæ± å¥åº·ã€‚ gfxCardStatus - æ§åˆ¶Macç‹¬ç«‹æ˜¾å¡ä¸é›†æˆæ˜¾å¡ä¹‹é—´çš„åˆ‡æ¢ã€‚ HandShaker - Mac ç”µè„‘ä¸Šä¹Ÿå¯ä»¥æ–¹ä¾¿è‡ªå¦‚åœ°ç®¡ç†æ‚¨åœ¨ Android æ‰‹æœºä¸­çš„å†…å®¹ã€‚ HTML5 Player - Chrome æ’ä»¶è§£å†³ä¸­å›½è§†é¢‘ç½‘ç«™æ’­æ”¾è§†é¢‘ç”µè„‘å‘çƒ­çš„æƒ…å†µã€‚ iStat Menus - èœå•æ ä¸Šçš„é«˜çº§ Mac ç³»ç»Ÿç›‘è§†å™¨ã€‚ iStats - iStats æ˜¯ä¸€ä¸ªå¯ä»¥è®©ä½ å¿«é€ŸæŸ¥çœ‹ç”µè„‘ CPU æ¸©åº¦ï¼Œç£ç›˜è½¬é€Ÿå’Œç”µæ± ç­‰ä¿¡æ¯çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ å¼€æºåœ°å€ Juice - è®©ç”µæ± æ˜¾ç¤ºæ›´æœ‰è¶£ å¼€æºåœ°å€ KeepingYouAwake - æ›¿ä»£å’–å•¡å› ï¼Œæ›´å¥½åœ°æ”¯æŒMacä¸­çš„æš—æ¨¡å¼ã€‚ å¼€æºåœ°å€ Monity - å¸®åŠ©ç”¨æˆ·å®æ—¶ç›‘æ§ç³»ç»Ÿçš„ä¸€æ¬¾éå¸¸æ¼‚äº®çš„è½¯ä»¶ã€‚ Mounty - NTFS åˆ†åŒºè¯»å†™ç»„ä»¶ã€‚ NitroShare - è·¨å¹³å°ç½‘ç»œæ–‡ä»¶ä¼ è¾“åº”ç”¨ç¨‹åºã€‚ å¼€æºåœ°å€ OnyX - å¤šåŠŸèƒ½å®ç”¨å·¥å…·æ¥éªŒè¯ç£ç›˜å’Œæ–‡ä»¶ï¼Œè¿è¡Œæ¸…æ´å’Œç³»ç»Ÿç»´æŠ¤ä»»åŠ¡ï¼Œé…ç½®éšè—é€‰é¡¹ç­‰ã€‚ OmniDiskSweeper - ç£ç›˜ç©ºé—´ä½¿ç”¨æ‰«æå·¥å…·ã€‚ Paragon NTFS - åœ¨ Mac OS X ä¸­å®Œå…¨è¯»å†™ã€ä¿®æ”¹ã€è®¿é—® Windows NTFS ç¡¬ç›˜ã€U ç›˜ç­‰å¤–æ¥è®¾å¤‡çš„æ–‡ä»¶ã€‚ Porting Kit - åœ¨Macä¸­å®‰è£…WindowsÂ®æ¸¸æˆã€‚ SleepWatcher - å¯ä»¥åœ¨MacBookåˆç›–å’Œå¼€ç›–æ—¶æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œæ¯”å¦‚å¼€å…³è“ç‰™ç­‰ã€‚å¯ä»¥é€šè¿‡homebrewå®‰è£…ã€‚ å¼€æºåœ°å€ smcFanControl - çŸ­å°ç²¾æ‚çš„é£æ‰‡è½¬é€Ÿæ¸©æ§è½¯ä»¶ï¼Œå¯ä»¥é¢„è®¾ä¸¤æ¡£é£æ‰‡æœ€ä½è½¬é€Ÿï¼Œæ–¹ä¾¿åœ¨ä¸åŒå·¥ä½œè´Ÿè½½é—´äººå·¥å¼ºåˆ¶åˆ‡æ¢ã€‚å› ä¸ºåªæ˜¯é™åˆ¶é£æ‰‡æœ€ä½é€Ÿåº¦ï¼Œæ‰€ä»¥ç³»ç»ŸåŸç”Ÿæ¸©æ§è°ƒé€Ÿä¸ä¼šå®Œå…¨å¤±æ•ˆã€‚ å¼€æºåœ°å€ SSH Tunnel - ç®¡ç†ä½ çš„ SSHã€‚ TG Pro - æ¸©åº¦ç›‘æ§ï¼Œé£æ‰‡æ§åˆ¶å’Œç¡¬ä»¶è¯Šæ–­ï¼Œå¸®åŠ©æ‚¨ä¿æŒ Macçš„ å‡‰çˆ½å’Œå¥åº·ã€‚ Tuxera NTFS - Mac ä¸Šçš„ NTFS æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ã€‚ è…¾è®¯æŸ æª¬æ¸…ç† - ä¸€æ¬¾å…è´¹çš„Macç³»ç»Ÿæ¸…ç†è½¯ä»¶ï¼Œæ›¿ä»£åŸæ¥çš„Macç”µè„‘ç®¡å®¶ï¼Œè…¾è®¯å‡ºå“ã€‚ çª—å£ç®¡ç† Amethyst - çª—å£ç®¡ç†å™¨ï¼ˆè‡ªåŠ¨ä¿æŒçª—å£å¤§å°çš„çª—å£ï¼‰ã€‚ å¼€æºåœ°å€ BetterSnapTool - çª—å£ç®¡ç†å·¥å…·ï¼Œå¯é€šè¿‡å¿«æ·é”®æˆ–çª—å£æ‹–åŠ¨å¿«é€Ÿå®ç°åˆ†å±ã€‚ Contexts- æä¾›æ¯” Mac åŸç”Ÿ Dock æ›´å¼ºå¤§åŠŸèƒ½å°¤å…¶åœ¨ä½ æœ‰å¤šä¸ªå±å¹•çš„æ—¶å€™,å®ƒå¯ä»¥å¸®åŠ©ä½ æ›´å¿«æ·åˆ‡æ¢ã€‚ Divvy - å‡­å€Ÿå…¶æƒŠäººçš„ Divvy Grid ç³»ç»Ÿï¼Œçª—å£ç®¡ç†å¤„äºæœ€ä½³çŠ¶æ€ã€‚ IntelliDock - è‡ªåŠ¨éšè— Dockã€‚ Moom - å¤šä»»åŠ¡å¤šçª—å£çš„è½¯ä»¶ã€‚ Magnet - ä¸€ä¸ªçª—å£ç®¡ç†å™¨ï¼Œå¯ä»¥ä¿æŒå·¥ä½œç©ºé—´çš„ç»„ç»‡ã€‚ rcmd - ä½¿ç”¨ âŒ˜ Right Command é”®æ ¹æ®åç§°åˆ‡æ¢åº”ç”¨ç¨‹åºã€‚ ShiftIt - çª—å£ä½ç½®å’Œå¤§å°ç®¡ç†è½¯ä»¶ã€‚ å¼€æºåœ°å€ Slate - çª—å£ç®¡ç†å™¨ï¼Œå¯ç”¨ JavaScript å†™é…ç½®ã€‚ å¼€æºåœ°å€ SizeUp - å¼ºå¤§çš„ï¼Œä»¥é”®ç›˜ä¸ºä¸­å¿ƒçš„çª—å£ç®¡ç†ã€‚ Spectacle - ç®€å•çš„ç§»åŠ¨å’Œè°ƒæ•´å¤§å°çš„çª—å£ï¼Œå’Œå¯å®šåˆ¶çš„é”®ç›˜å¿«æ·é”®ã€‚ å¼€æºåœ°å€ Total Spaces - åƒ ubuntu ä¸€æ ·æä¾›çª—å£ç®¡ç†ï¼Œä¸ºå·¥ä½œåŒºåˆ›å»ºçƒ­é”®ï¼Œä½¿æ‚¨å¯ä»¥è½»æ¾ç§»åŠ¨ã€‚ å¯†ç ç®¡ç† 1password - è·¨å¹³å°å¸å·å¯†ç ç®¡ç†è½¯ä»¶ã€‚ Authy - åŒå› ç´ èº«ä»½éªŒè¯ä»¤ç‰Œç®¡ç†å™¨ï¼Œå¯åœ¨æ‚¨çš„è®¾å¤‡ä¸Šè¿›è¡Œå¤‡ä»½å’ŒåŒæ­¥ã€‚ Bitwarden - é€‚ç”¨äºMac OSï¼ŒiOSå’Œæµè§ˆå™¨çš„å¼€æºå¯†ç ç®¡ç†å·¥å…·ã€‚ å¼€æºåœ°å€ Buttercup - è·¨å¹³å°å¯†ç ç®¡ç†å™¨ å¼€æºåœ°å€ Dashlane - åŸºäºäº‘çš„å¯†ç ç®¡ç†å™¨ï¼Œæ‹¥æœ‰å±¡è·æ®Šè£çš„è®¾è®¡ã€‚ Enpass - å…·æœ‰äº‘é›†æˆçš„è·¨å¹³å°å¯†ç ç®¡ç†å·¥å…·ã€‚ Keeweb - ä¸ KeePass å…¼å®¹çš„å…è´¹è·¨å¹³å°å¯†ç ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ LastPass - å¯†ç ç®¡ç†å™¨å’Œå®‰å…¨çš„æ•°å­—ç¬”è®°ã€‚ MacPass - å¯†ç ç®¡ç†å™¨ã€‚ å¼€æºåœ°å€ RememBear - æ²»æ„ˆç³»å¯†ç ç®¡ç†å·¥å…·ã€‚ Finder fman - å…ˆè¿›çš„åŒçª—å£æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ‹¥æœ‰å¾ˆå¤šç‰¹æ€§ã€‚ ForkLift - å…ˆè¿›çš„åŒçª—å£æ–‡ä»¶ç®¡ç†å™¨å’Œæ–‡ä»¶ä¼ è¾“å®¢æˆ·ç«¯ã€‚ Hazel - è®¾è®¡ç²¾ç¾çš„è‡ªåŠ¨æ–‡ä»¶ç®¡ç†è½¯ä»¶ã€‚ MacAssistant - Google åŠ©æ‰‹ å¼€æºåœ°å€ Path Finder - å¼ºå¤§çš„ Finder æ›¿ä»£è€…ï¼Œæ‹¥æœ‰å¾ˆå¤šç‰¹æ€§ã€‚ Quicklook-Plugins - Finder å¿«é€Ÿé¢„è§ˆæ–‡ä»¶æ’ä»¶ã€‚ QSpace - ä¸€æ¬¾ç®€æ´é«˜æ•ˆçš„å¤šè§†å›¾æ–‡ä»¶ç®¡ç†å™¨ã€‚ TotalFinder - å¼ºå¤§çš„ Finder æ›¿ä»£è€…ï¼Œç•Œé¢é£æ ¼åƒ Chromeã€‚ XtraFinder - ç»™ Finder æ·»åŠ æœ‰ç”¨çš„æ–°ç‰¹æ€§ã€‚ è¿œç¨‹ååŠ© RustDesk - åˆä¸€ä¸ªè¿œç¨‹æ¡Œé¢è½¯ä»¶ã€‚ å¼€æºåœ°å€ AnyDesk æ˜¯ä¸€æ¬¾è¿œç¨‹æ§åˆ¶è·¨å¤šå¹³å°çš„ç¨‹åºã€‚ Microsoft Remote Desktop - å¾®è½¯å®˜æ–¹çš„è¿œç¨‹æ¡Œé¢è¿æ¥å·¥å…·(å›½åŒºApp storeæ²¡æœ‰ä¸Šæ¶,ä¸‹è½½åœ°å€)ã€‚ RealVNC æ˜¯ä¸€æ¬¾å…è´¹çš„è¿œç¨‹æ§åˆ¶è·¨å¤šå¹³å°çš„ç¨‹åºã€‚ TeamViewer - è¿œç¨‹ååŠ©åŠåœ¨çº¿åä½œå’Œä¼šè®®åŠŸèƒ½çš„è½¯ä»¶ï¼Œå•†ä¸šè½¯ä»¶ä¸ªäººä½¿ç”¨å…è´¹ã€‚ QuickLookæ’ä»¶ List of useful Quick Look plugins for developers.\nä½¿ç”¨ Homebrew Cask å°†é€šè¿‡å‘½ä»¤å®‰è£…å³ä¸ºç®€å•ã€‚å¼€å‘äººå‘˜ä½¿ç”¨çš„Quick Lookæ’ä»¶åˆ—è¡¨ã€‚å¦‚æœæ‰‹åŠ¨å®‰è£…ï¼Œä½ å¯å°†ä¸‹è½½çš„ .qlgenerator æ–‡ä»¶ç§»åŠ¨åˆ° ~/Library/QuickLook è¿è¡Œ qlmanage -r\nQuicklookStephen - å¯ä»¥è®©æ‚¨æŸ¥çœ‹æ²¡æœ‰æ–‡ä»¶æ‰©å±•åçš„çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚ READMEã€INSTALLã€Capfileã€CHANGELOGâ€¦brew install --cask install qlstephen ç¬¬ä¸‰æ–¹åº”ç”¨å¸‚åœºAPP è¿™é‡Œè®¨è®ºç›—ç‰ˆé—®é¢˜æˆ–è€…æä¾›é»‘åå•ï¼Ÿï¼Œæ‹’ç»ç›—ç‰ˆä»æˆ‘åšèµ·ï¼Œæ¬¢è¿å¤§å®¶ç›‘ç£ã€‚\næ­£ç‰ˆ è¿™é‡Œåªæä¾›æ­£ç‰ˆè½¯ä»¶è´­ä¹°ä¸‹è½½çš„åº”ç”¨å•†åº—ã€‚\nHomebrew Cask - åŸºäºHomebrewæ‰©å±•çš„ï¼Œé€šè¿‡å‘½ä»¤è¡Œå®‰è£… Mac GUI è½¯ä»¶çš„å·¥å…·ã€‚ å¼€æºåœ°å€ Homebrew - ä½“éªŒé€šè¿‡å‘½ä»¤è¡Œå®‰è£… Mac è½¯ä»¶çš„å·¥å…·(å¤§éƒ¨åˆ†æ˜¯å‘½ä»¤è¡Œå·¥å…·)ã€‚ å¼€æºåœ°å€ MacUpdate Desktop - ç®¡ç†/æ›´æ–°/ä¸‹è½½ Appï¼Œè·Ÿè¸ªä¼˜æƒ ä¿¡æ¯ã€‚ MacPorts - ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ç”¨äºç®€åŒ– OS X å’Œ Darwin æ“ä½œç³»ç»Ÿå†…è½¯ä»¶çš„å®‰è£…ã€‚ å¼€æºåœ°å€ Setapp - MacPaw æ¨å‡ºçš„è®¢é˜…åˆ¶ä»˜è´¹ App å¹³å°æœåŠ¡ã€‚ åº”ç”¨å•†åº—é»‘åå• ç¬¬ä¸‰æ–¹åº”ç”¨å¸‚åœºAPPé»‘åå•ï¼Œå­˜åœ¨ç›—ç‰ˆè½¯ä»¶ä¼ æ’­å’Œä¸‹è½½ï¼Œæ‹’ç»ç›—ç‰ˆä»æˆ‘åšèµ·ï¼Œæ¬¢è¿å¤§å®¶ç›‘ç£å®ƒä»¬ã€‚\nè¿…é›·Thunder Store - è¿…é›· Thunder for Mac å¸¦åº”ç”¨å¸‚åœºã€‚ Macè½¯ä»¶å®ç®± - Macx æ¨å‡ºè½¯ä»¶å®ç®±ã€‚ MacHunter - Mac åº”ç”¨å¸‚åœºã€‚ Macè½¯ä»¶ä¸‹è½½ç½‘ç«™ è¿™é‡Œä¸»è¦æ˜¯æ¨èä¸€äº›è½¯ä»¶ä¸‹è½½çš„ç½‘ç«™ï¼Œè¿˜æœ‰ä¸€äº›Mac OSXè½¯ä»¶åˆ†äº«ç½‘ç«™\næ­£ç‰ˆ/ä»‹ç» App Shopperï¼šhttp://appshopper.com/ MacUpdateï¼šhttps://www.macupdate.com/ å°‘æ•°æ´¾ï¼šhttp://sspai.com/tag/Mac Macç©å„¿æ³•ï¼šhttp://www.waerfa.com è…¾è®¯æŸ æª¬ç²¾é€‰ï¼šhttps://lemon.qq.com/lab/ ç›—ç‰ˆè½¯ä»¶ä¸‹è½½ç½‘ç«™é»‘åå• ä¸Šé¢æœ‰å¤§é‡çš„å¼€æºè½¯ä»¶æˆ–è€…å…è´¹è½¯ä»¶ï¼Œæ‹’ç»ç›—ç‰ˆä»æˆ‘åšèµ·ï¼Œä¸‹é¢è¢«åˆ é™¤çš„ç½‘ç«™æä¾›å¤§é‡ç ´è§£è½¯ä»¶ä¸‹è½½ï¼Œæ¬¢è¿å¤§å®¶ç›‘ç£å®ƒä»¬ã€‚\nç©è½¬è‹¹æœï¼šhttp://www.ifunmac.com AppKedï¼šhttp://www.macbed.com appaddictï¼šhttps://www.appaddict.org/ Macç²¾å“è½¯ä»¶ï¼šhttp://xclient.info/ MacWkï¼šhttps://macwk.com/ MacPeersï¼šhttps://www.macpeers.com Macæ¯’ï¼šhttps://www.macdo.cn Macxï¼šhttps://www.macx.cn/ Macè½¯ä»¶ä¸‹è½½ç«™ï¼šhttp://www.pshezi.com MacPeersï¼šhttp://www.macpeers.com Macå¿—ï¼šhttp://www.isofts.org Macè½¯ä»¶åˆ†äº«ï¼šhttp://www.waitsun.com MacSkyè‹¹æœè½¯ä»¶å›­ï¼šhttp://www.macsky.net/ Softasmï¼šhttps://softasm.com/ Macç ´è§£è½¯ä»¶ï¼šhttps://www.macappstore.net/ å¡å¡æºï¼šhttp://www.kkroot.com/ è‹¹æœè½¯ä»¶å›­ï¼šhttp://www.maczapp.com é©¬å¯è èï¼šhttp://www.macbl.com/ æè‡´åˆ†äº«ï¼šhttps://alltoshare.com/ éº¦å…‹ç¤¾ï¼šhttp://www.macshe.com/ æœªæ¥è½¯ä»¶å›­ï¼šhttp://www.orsoon.com/ è…¾ç‰›ç½‘ï¼šhttp://www.qqtn.com/mac/r_17_1.html æœªæ¥è½¯ä»¶å›­ï¼šhttp://www.orsoon.com/mac/ å¨é”‹ç½‘ï¼šhttps://bbs.feng.com/forum.php?mod=forumdisplay\u0026fid=19\u0026page= MACèŒæ–°ç½‘ï¼šhttps://www.macxin.com ","description":"\n","tags":[],"title":"\nAwesome Mac","uri":"/posts/post-321/"},{"categories":["IDE"],"content":"ï¼ˆWin + Linuxï¼‰å¿«æ·é”® è¯´æ˜ IntelliJ IDEA çš„ä¾¿æ·æ“ä½œæ€§ï¼Œå¿«æ·é”®çš„åŠŸåŠ³å äº†ä¸€å¤§åŠï¼Œå¯¹äºå„ä¸ªå¿«æ·é”®ç»„åˆè¯·è®¤çœŸå¯¹å¾…ã€‚IntelliJ IDEA æœ¬èº«çš„è®¾è®¡æ€ç»´æ˜¯æå€¡é”®ç›˜ä¼˜å…ˆäºé¼ æ ‡çš„ï¼Œæ‰€ä»¥å„ç§å¿«æ·é”®ç»„åˆå±‚å‡ºä¸ç©·ï¼Œå¯¹äºå¿«æ·é”®è®¾ç½®ä¹Ÿæœ‰å„ç§æ”¯æŒï¼Œå¯¹äºå…¶ä»– IDE çš„å¿«æ·é”®ç»„åˆä¹Ÿæœ‰é¢„è®¾æ¨¡æ¿è¿›è¡Œæ”¯æŒã€‚\nå…³äºå„ä¸ªå¿«æ·é”®çš„é¢‘ç‡åˆ†ç±»ä¸Šå¯èƒ½æ¯ä¸ªäººéƒ½æœ‰å„è‡ªçš„çœ‹æ³•ï¼Œä¸‹é¢çš„æ•´ç†ä¹Ÿåªæ˜¯ä»¥æˆ‘ä¸ªäººçš„ä½¿ç”¨ä¹ æƒ¯æ¥åˆ’åˆ†çš„ï¼Œè€Œæˆ‘åº”è¯¥æ˜¯å¯ä»¥ä»£è¡¨æŸä¸€éƒ¨åˆ†å°ä¼—äººå‘˜ã€‚ä½†æ˜¯æˆ‘ä¸ªäººè¿˜æ˜¯å¼ºçƒˆå»ºè®®ä½ å¯ä»¥åœ¨æˆ‘çš„åŸºç¡€ä¸Šæ•´ç†ä¸€ä»½å±äºä½ çš„å¿«æ·é”®ç›®å½•ï¼ˆåˆ é™¤æ‰å¤šä½™çš„å­—çœ¼ï¼Œåªä¿ç•™å¿«æ·é”®å†…å®¹ï¼‰ï¼Œæœ¬ç¯‡æ–‡ç« ä¹Ÿåªæ˜¯èµ·åˆ°ä¸€ä¸ªå·¥å…·å’Œå¼•å­çš„ä½œç”¨ã€‚\nå¯¹äºä¸‹é¢å„ä¸ªå¿«æ·é”®çš„ä½¿ä»‹ç»æè¿°ä¹Ÿè®¸ç”¨æˆ‘ä¸ªäººè¯­è¨€ç¿»è¯‘èµ·æ¥ä¸å¤Ÿå‡†ç¡®æˆ–æ˜¯ä¸å…¨é¢ï¼Œä¸”åœ¨ä¸åŒçš„æ–‡ä»¶ç±»å‹ä¸ŠæŒ‰å‡ºæ¥çš„æ•ˆæœä¹Ÿå¯èƒ½ç»“æœä¸å¤ªä¸€æ ·,æ‰€ä»¥ å¼ºçƒˆå»ºè®® ä½ è‡ªå·±æŠŠå„ä¸ªå¿«æ·é”®éƒ½äº²è‡ªæ“ä½œä¸‹ä½“ä¼šä¸‹å„ä¸ªå¿«æ·é”®çš„å®é™…ç”¨æ³•ã€‚\nå‰æ IntelliJ IDEA å®˜æ–¹å‡ºçš„å­¦ä¹ è¾…åŠ©æ’ä»¶ï¼šIDE Features Trainerï¼šhttps://plugins.jetbrains.com/plugin/8554?pr=idea Ctrl å¿«æ·é”® ä»‹ç» Ctrl + F åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æŸ¥æ‰¾ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + R åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æ›¿æ¢ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Z æ’¤é”€ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Y åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– åˆ é™¤é€‰ä¸­çš„è¡Œ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + X å‰ªåˆ‡å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å‰ªåˆ‡é€‰æ‹©å†…å®¹ Ctrl + C å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å¤åˆ¶é€‰æ‹©å†…å®¹ Ctrl + D å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å¤åˆ¶é€‰æ‹©å†…å®¹ï¼Œå¹¶æŠŠå¤åˆ¶å†…å®¹æ’å…¥å…‰æ ‡ä½ç½®ä¸‹é¢ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + W é€’è¿›å¼é€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•é€‰ä¸­èŒƒå›´ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶è®°å½•åˆ—è¡¨ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + N æ ¹æ®è¾“å…¥çš„ ç±»å æŸ¥æ‰¾ç±»æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + G åœ¨å½“å‰æ–‡ä»¶è·³è½¬åˆ°æŒ‡å®šè¡Œå¤„ Ctrl + J æ’å…¥è‡ªå®šä¹‰åŠ¨æ€ä»£ç æ¨¡æ¿ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + P æ–¹æ³•å‚æ•°æç¤ºæ˜¾ç¤º ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Q å…‰æ ‡æ‰€åœ¨çš„å˜é‡ / ç±»å / æ–¹æ³•åç­‰ä¸Šé¢ï¼ˆä¹Ÿå¯ä»¥åœ¨æç¤ºè¡¥å……çš„æ—¶å€™æŒ‰ï¼‰ï¼Œæ˜¾ç¤ºæ–‡æ¡£å†…å®¹ Ctrl + U å‰å¾€å½“å‰å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•çš„çˆ¶ç±»çš„æ–¹æ³• / æ¥å£å®šä¹‰ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + B è¿›å…¥å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•/å˜é‡çš„æ¥å£æˆ–æ˜¯å®šä¹‰å¤„ï¼Œç­‰æ•ˆäº Ctrl + å·¦é”®å•å‡» ï¼ˆå¿…å¤‡ï¼‰ Ctrl + K ç‰ˆæœ¬æ§åˆ¶æäº¤é¡¹ç›®ï¼Œéœ€è¦æ­¤é¡¹ç›®æœ‰åŠ å…¥åˆ°ç‰ˆæœ¬æ§åˆ¶æ‰å¯ç”¨ Ctrl + T ç‰ˆæœ¬æ§åˆ¶æ›´æ–°é¡¹ç›®ï¼Œéœ€è¦æ­¤é¡¹ç›®æœ‰åŠ å…¥åˆ°ç‰ˆæœ¬æ§åˆ¶æ‰å¯ç”¨ Ctrl + H æ˜¾ç¤ºå½“å‰ç±»çš„å±‚æ¬¡ç»“æ„ Ctrl + O é€‰æ‹©å¯é‡å†™çš„æ–¹æ³• Ctrl + I é€‰æ‹©å¯ç»§æ‰¿çš„æ–¹æ³• Ctrl + + å±•å¼€ä»£ç  Ctrl + - æŠ˜å ä»£ç  Ctrl + / æ³¨é‡Šå…‰æ ‡æ‰€åœ¨è¡Œä»£ç ï¼Œä¼šæ ¹æ®å½“å‰ä¸åŒæ–‡ä»¶ç±»å‹ä½¿ç”¨ä¸åŒçš„æ³¨é‡Šç¬¦å· ï¼ˆå¿…å¤‡ï¼‰ Ctrl + [ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·å¼€å§‹ä½ç½® Ctrl + ] ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·ç»“æŸä½ç½® Ctrl + F1 åœ¨å…‰æ ‡æ‰€åœ¨çš„é”™è¯¯ä»£ç å¤„æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + F3 è°ƒè½¬åˆ°æ‰€é€‰ä¸­çš„è¯çš„ä¸‹ä¸€ä¸ªå¼•ç”¨ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + F4 å…³é—­å½“å‰ç¼–è¾‘æ–‡ä»¶ Ctrl + F8 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè®¾ç½®å…‰æ ‡å½“å‰è¡Œä¸ºæ–­ç‚¹ï¼Œå¦‚æœå½“å‰å·²ç»æ˜¯æ–­ç‚¹åˆ™å»æ‰æ–­ç‚¹ Ctrl + F9 æ‰§è¡Œ Make Project æ“ä½œ Ctrl + F11 é€‰ä¸­æ–‡ä»¶ / æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨åŠ©è®°ç¬¦è®¾å®š / å–æ¶ˆä¹¦ç­¾ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + F12 å¼¹å‡ºå½“å‰æ–‡ä»¶ç»“æ„å±‚ï¼Œå¯ä»¥åœ¨å¼¹å‡ºçš„å±‚ä¸Šç›´æ¥è¾“å…¥ï¼Œè¿›è¡Œç­›é€‰ Ctrl + Tab ç¼–è¾‘çª—å£åˆ‡æ¢ï¼Œå¦‚æœåœ¨åˆ‡æ¢çš„è¿‡ç¨‹åˆåŠ æŒ‰ä¸Šdeleteï¼Œåˆ™æ˜¯å…³é—­å¯¹åº”é€‰ä¸­çš„çª—å£ Ctrl + End è·³åˆ°æ–‡ä»¶å°¾ Ctrl + Home è·³åˆ°æ–‡ä»¶å¤´ Ctrl + Space åŸºç¡€ä»£ç è¡¥å…¨ï¼Œé»˜è®¤åœ¨ Windows ç³»ç»Ÿä¸Šè¢«è¾“å…¥æ³•å ç”¨ï¼Œéœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå»ºè®®ä¿®æ”¹ä¸º Ctrl + é€—å· ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Delete åˆ é™¤å…‰æ ‡åé¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + BackSpace åˆ é™¤å…‰æ ‡å‰é¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + 1,2,3â€¦9 å®šä½åˆ°å¯¹åº”æ•°å€¼çš„ä¹¦ç­¾ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + å·¦é”®å•å‡» åœ¨æ‰“å¼€çš„æ–‡ä»¶æ ‡é¢˜ä¸Šï¼Œå¼¹å‡ºè¯¥æ–‡ä»¶è·¯å¾„ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + å…‰æ ‡å®šä½ æŒ‰ Ctrl ä¸è¦æ¾å¼€ï¼Œä¼šæ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„ç±»ä¿¡æ¯æ‘˜è¦ Ctrl + å·¦æ–¹å‘é”® å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + å³æ–¹å‘é”® å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + å‰æ–¹å‘é”® ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘å‰æ•ˆæœ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + åæ–¹å‘é”® ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘åæ•ˆæœ ï¼ˆå¿…å¤‡ï¼‰ Alt å¿«æ·é”® ä»‹ç» Alt + ` æ˜¾ç¤ºç‰ˆæœ¬æ§åˆ¶å¸¸ç”¨æ“ä½œèœå•å¼¹å‡ºå±‚ ï¼ˆå¿…å¤‡ï¼‰ Alt + Q å¼¹å‡ºä¸€ä¸ªæç¤ºï¼Œæ˜¾ç¤ºå½“å‰ç±»çš„å£°æ˜ / ä¸Šä¸‹æ–‡ä¿¡æ¯ Alt + F1 æ˜¾ç¤ºå½“å‰æ–‡ä»¶é€‰æ‹©ç›®æ ‡å¼¹å‡ºå±‚ï¼Œå¼¹å‡ºå±‚ä¸­æœ‰å¾ˆå¤šç›®æ ‡å¯ä»¥è¿›è¡Œé€‰æ‹© ï¼ˆå¿…å¤‡ï¼‰ Alt + F2 å¯¹äºå‰é¢é¡µé¢ï¼Œæ˜¾ç¤ºå„ç±»æµè§ˆå™¨æ‰“å¼€ç›®æ ‡é€‰æ‹©å¼¹å‡ºå±‚ Alt + F3 é€‰ä¸­æ–‡æœ¬ï¼Œé€ä¸ªå¾€ä¸‹æŸ¥æ‰¾ç›¸åŒæ–‡æœ¬ï¼Œå¹¶é«˜äº®æ˜¾ç¤º Alt + F7 æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³• / å˜é‡ / ç±»è¢«è°ƒç”¨çš„åœ°æ–¹ Alt + F8 åœ¨ Debug çš„çŠ¶æ€ä¸‹ï¼Œé€‰ä¸­å¯¹è±¡ï¼Œå¼¹å‡ºå¯è¾“å…¥è®¡ç®—è¡¨è¾¾å¼è°ƒè¯•æ¡†ï¼ŒæŸ¥çœ‹è¯¥è¾“å…¥å†…å®¹çš„è°ƒè¯•ç»“æœ Alt + Home å®šä½ / æ˜¾ç¤ºåˆ°å½“å‰æ–‡ä»¶çš„ Navigation Bar Alt + Enter IntelliJ IDEA æ ¹æ®å…‰æ ‡æ‰€åœ¨é—®é¢˜ï¼Œæä¾›å¿«é€Ÿä¿®å¤é€‰æ‹©ï¼Œå…‰æ ‡æ”¾åœ¨çš„ä½ç½®ä¸åŒæç¤ºçš„ç»“æœä¹Ÿä¸åŒ ï¼ˆå¿…å¤‡ï¼‰ Alt + Insert ä»£ç è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚ç”Ÿæˆå¯¹è±¡çš„ set / get æ–¹æ³•ï¼Œæ„é€ å‡½æ•°ï¼ŒtoString() ç­‰ ï¼ˆå¿…å¤‡ï¼‰ Alt + å·¦æ–¹å‘é”® åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„çª—å£ä¸­çš„å­è§†å›¾ï¼Œæ¯”å¦‚Debugçª—å£ä¸­æœ‰Outputã€Debuggerç­‰å­è§†å›¾ï¼Œç”¨æ­¤å¿«æ·é”®å°±å¯ä»¥åœ¨å­è§†å›¾ä¸­åˆ‡æ¢ ï¼ˆå¿…å¤‡ï¼‰ Alt + å³æ–¹å‘é”® æŒ‰åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„çª—å£ä¸­çš„å­è§†å›¾ï¼Œæ¯”å¦‚Debugçª—å£ä¸­æœ‰Outputã€Debuggerç­‰å­è§†å›¾ï¼Œç”¨æ­¤å¿«æ·é”®å°±å¯ä»¥åœ¨å­è§†å›¾ä¸­åˆ‡æ¢ ï¼ˆå¿…å¤‡ï¼‰ Alt + å‰æ–¹å‘é”® å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„å‰ä¸€ä¸ªæ–¹æ³•åä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Alt + åæ–¹å‘é”® å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„åä¸€ä¸ªæ–¹æ³•åä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Alt + 1,2,3â€¦9 æ˜¾ç¤ºå¯¹åº”æ•°å€¼çš„é€‰é¡¹å¡ï¼Œå…¶ä¸­ 1 æ˜¯ Project ç”¨å¾—æœ€å¤š ï¼ˆå¿…å¤‡ï¼‰ Shift å¿«æ·é”® ä»‹ç» Shift + F1 å¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å¯ä»¥è¿æ¥å¤–éƒ¨æ–‡æ¡£ Shift + F2 è·³è½¬åˆ°ä¸Šä¸€ä¸ªé«˜äº®é”™è¯¯ æˆ– è­¦å‘Šä½ç½® Shift + F3 åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼ŒæŸ¥æ‰¾åŒ¹é…ä¸Šä¸€ä¸ª Shift + F4 å¯¹å½“å‰æ‰“å¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨æ–°Windowsçª—å£æ‰“å¼€ï¼Œæ—§çª—å£ä¿ç•™ Shift + F6 å¯¹æ–‡ä»¶ / æ–‡ä»¶å¤¹ é‡å‘½å Shift + F7 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ™ºèƒ½æ­¥å…¥ã€‚æ–­ç‚¹æ‰€åœ¨è¡Œä¸Šæœ‰å¤šä¸ªæ–¹æ³•è°ƒç”¨ï¼Œä¼šå¼¹å‡ºè¿›å…¥å“ªä¸ªæ–¹æ³• Shift + F8 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè·³å‡ºï¼Œè¡¨ç°å‡ºæ¥çš„æ•ˆæœè·Ÿ F9 ä¸€æ · Shift + F9 ç­‰æ•ˆäºç‚¹å‡»å·¥å…·æ çš„ Debug æŒ‰é’® Shift + F10 ç­‰æ•ˆäºç‚¹å‡»å·¥å…·æ çš„ Run æŒ‰é’® Shift + F11 å¼¹å‡ºä¹¦ç­¾æ˜¾ç¤ºå±‚ ï¼ˆå¿…å¤‡ï¼‰ Shift + Tab å–æ¶ˆç¼©è¿› ï¼ˆå¿…å¤‡ï¼‰ Shift + ESC éšè—å½“å‰ æˆ– æœ€åä¸€ä¸ªæ¿€æ´»çš„å·¥å…·çª—å£ Shift + End é€‰ä¸­å…‰æ ‡åˆ°å½“å‰è¡Œå°¾ä½ç½® Shift + Home é€‰ä¸­å…‰æ ‡åˆ°å½“å‰è¡Œå¤´ä½ç½® Shift + Enter å¼€å§‹æ–°ä¸€è¡Œã€‚å…‰æ ‡æ‰€åœ¨è¡Œä¸‹ç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Shift + å·¦é”®å•å‡» åœ¨æ‰“å¼€çš„æ–‡ä»¶åä¸ŠæŒ‰æ­¤å¿«æ·é”®ï¼Œå¯ä»¥å…³é—­å½“å‰æ‰“å¼€æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰ Shift + æ»šè½®å‰åæ»šåŠ¨ å½“å‰æ–‡ä»¶çš„æ¨ªå‘æ»šåŠ¨è½´æ»šåŠ¨ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt å¿«æ·é”® ä»‹ç» Ctrl + Alt + L æ ¼å¼åŒ–ä»£ç ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + O ä¼˜åŒ–å¯¼å…¥çš„ç±»ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + I å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– é€‰ä¸­éƒ¨åˆ†è¿›è¡Œè‡ªåŠ¨ä»£ç ç¼©è¿›ï¼Œæœ‰ç‚¹ç±»ä¼¼æ ¼å¼åŒ– Ctrl + Alt + T å¯¹é€‰ä¸­çš„ä»£ç å¼¹å‡ºç¯ç»•é€‰é¡¹å¼¹å‡ºå±‚ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + J å¼¹å‡ºæ¨¡æ¿é€‰æ‹©çª—å£ï¼Œå°†é€‰å®šçš„ä»£ç åŠ å…¥åŠ¨æ€æ¨¡æ¿ä¸­ Ctrl + Alt + H è°ƒç”¨å±‚æ¬¡ Ctrl + Alt + B åœ¨æŸä¸ªè°ƒç”¨çš„æ–¹æ³•åä¸Šä½¿ç”¨ä¼šè·³åˆ°å…·ä½“çš„å®ç°å¤„ï¼Œå¯ä»¥è·³è¿‡æ¥å£ Ctrl + Alt + C é‡æ„-å¿«é€Ÿæå–å¸¸é‡ Ctrl + Alt + F é‡æ„-å¿«é€Ÿæå–æˆå‘˜å˜é‡ Ctrl + Alt + V é‡æ„-å¿«é€Ÿæå–å˜é‡ Ctrl + Alt + Y åŒæ­¥ã€åˆ·æ–° Ctrl + Alt + S æ‰“å¼€ IntelliJ IDEA ç³»ç»Ÿè®¾ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + F7 æ˜¾ç¤ºä½¿ç”¨çš„åœ°æ–¹ã€‚å¯»æ‰¾è¢«è¯¥ç±»æˆ–æ˜¯å˜é‡è¢«è°ƒç”¨çš„åœ°æ–¹ï¼Œç”¨å¼¹å‡ºæ¡†çš„æ–¹å¼æ‰¾å‡ºæ¥ Ctrl + Alt + F11 åˆ‡æ¢å…¨å±æ¨¡å¼ Ctrl + Alt + Enter å…‰æ ‡æ‰€åœ¨è¡Œä¸Šç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + Home å¼¹å‡ºè·Ÿå½“å‰æ–‡ä»¶æœ‰å…³è”çš„æ–‡ä»¶å¼¹å‡ºå±‚ Ctrl + Alt + Space ç±»åè‡ªåŠ¨å®Œæˆ Ctrl + Alt + å·¦æ–¹å‘é”® é€€å›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + å³æ–¹å‘é”® å‰è¿›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Alt + å‰æ–¹å‘é”® åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œè·³åˆ°ä¸Šä¸ªæŸ¥æ‰¾çš„æ–‡ä»¶ Ctrl + Alt + åæ–¹å‘é”® åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œè·³åˆ°ä¸‹ä¸ªæŸ¥æ‰¾çš„æ–‡ä»¶ Ctrl + Alt + å³æ‹¬å·ï¼ˆ]ï¼‰ åœ¨æ‰“å¼€å¤šä¸ªé¡¹ç›®çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢ä¸‹ä¸€ä¸ªé¡¹ç›®çª—å£ Ctrl + Alt + å·¦æ‹¬å·ï¼ˆ[ï¼‰ åœ¨æ‰“å¼€å¤šä¸ªé¡¹ç›®çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢ä¸Šä¸€ä¸ªé¡¹ç›®çª—å£ Ctrl + Shift å¿«æ·é”® ä»‹ç» Ctrl + Shift + F æ ¹æ®è¾“å…¥å†…å®¹æŸ¥æ‰¾æ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + R æ ¹æ®è¾“å…¥å†…å®¹æ›¿æ¢å¯¹åº”å†…å®¹ï¼ŒèŒƒå›´ä¸ºæ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + J è‡ªåŠ¨å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œæœ«å°¾ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Z å–æ¶ˆæ’¤é”€ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + W é€’è¿›å¼å–æ¶ˆé€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•å–æ¶ˆé€‰ä¸­èŒƒå›´ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + N é€šè¿‡æ–‡ä»¶åå®šä½ / æ‰“å¼€æ–‡ä»¶ / ç›®å½•ï¼Œæ‰“å¼€ç›®å½•éœ€è¦åœ¨è¾“å…¥çš„å†…å®¹åé¢å¤šåŠ ä¸€ä¸ªæ­£æ–œæ  ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + U å¯¹é€‰ä¸­çš„ä»£ç è¿›è¡Œå¤§ / å°å†™è½®æµè½¬æ¢ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + T å¯¹å½“å‰ç±»ç”Ÿæˆå•å…ƒæµ‹è¯•ç±»ï¼Œå¦‚æœå·²ç»å­˜åœ¨çš„å•å…ƒæµ‹è¯•ç±»åˆ™å¯ä»¥è¿›è¡Œé€‰æ‹© ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + C å¤åˆ¶å½“å‰æ–‡ä»¶ç£ç›˜è·¯å¾„åˆ°å‰ªè´´æ¿ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + V å¼¹å‡ºç¼“å­˜çš„æœ€è¿‘æ‹·è´çš„å†…å®¹ç®¡ç†å™¨å¼¹å‡ºå±‚ Ctrl + Shift + E æ˜¾ç¤ºæœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨çš„å¼¹å‡ºå±‚ Ctrl + Shift + H æ˜¾ç¤ºæ–¹æ³•å±‚æ¬¡ç»“æ„ Ctrl + Shift + B è·³è½¬åˆ°ç±»å‹å£°æ˜å¤„ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + I å¿«é€ŸæŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³• æˆ– ç±»çš„å®šä¹‰ Ctrl + Shift + A æŸ¥æ‰¾åŠ¨ä½œ / è®¾ç½® Ctrl + Shift + / ä»£ç å—æ³¨é‡Š ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + [ é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„é¡¶éƒ¨ä¸­æ‹¬å·ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + ] é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„åº•éƒ¨ä¸­æ‹¬å·ä½ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + + å±•å¼€æ‰€æœ‰ä»£ç  ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + - æŠ˜å æ‰€æœ‰ä»£ç  ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + F7 é«˜äº®æ˜¾ç¤ºæ‰€æœ‰è¯¥é€‰ä¸­æ–‡æœ¬ï¼ŒæŒ‰Escé«˜äº®æ¶ˆå¤± ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + F8 åœ¨ Debug æ¨¡å¼ä¸‹ï¼ŒæŒ‡å®šæ–­ç‚¹è¿›å…¥æ¡ä»¶ Ctrl + Shift + F9 ç¼–è¯‘é€‰ä¸­çš„æ–‡ä»¶ / åŒ… / Module Ctrl + Shift + F12 ç¼–è¾‘å™¨æœ€å¤§åŒ– ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Space æ™ºèƒ½ä»£ç æç¤º Ctrl + Shift + Enter è‡ªåŠ¨ç»“æŸä»£ç ï¼Œè¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å· ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Backspace é€€å›åˆ°ä¸Šæ¬¡ä¿®æ”¹çš„åœ°æ–¹ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + 1,2,3â€¦9 å¿«é€Ÿæ·»åŠ æŒ‡å®šæ•°å€¼çš„ä¹¦ç­¾ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + å·¦é”®å•å‡» æŠŠå…‰æ ‡æ”¾åœ¨æŸä¸ªç±»å˜é‡ä¸Šï¼ŒæŒ‰æ­¤å¿«æ·é”®å¯ä»¥ç›´æ¥å®šä½åˆ°è¯¥ç±»ä¸­ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + å·¦æ–¹å‘é”® åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + å³æ–¹å‘é”® åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + å‰æ–¹å‘é”® å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + åæ–¹å‘é”® å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº ï¼ˆå¿…å¤‡ï¼‰ Alt + Shift å¿«æ·é”® ä»‹ç» Alt + Shift + N é€‰æ‹© / æ·»åŠ  task ï¼ˆå¿…å¤‡ï¼‰ Alt + Shift + F æ˜¾ç¤ºæ·»åŠ åˆ°æ”¶è—å¤¹å¼¹å‡ºå±‚ / æ·»åŠ åˆ°æ”¶è—å¤¹ Alt + Shift + C æŸ¥çœ‹æœ€è¿‘æ“ä½œé¡¹ç›®çš„å˜åŒ–æƒ…å†µåˆ—è¡¨ Alt + Shift + I æŸ¥çœ‹é¡¹ç›®å½“å‰æ–‡ä»¶ Alt + Shift + F7 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œä¸‹ä¸€æ­¥ï¼Œè¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœæ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­ï¼Œä¾æ­¤å¾ªç¯è¿›å…¥ Alt + Shift + F9 å¼¹å‡º Debug çš„å¯é€‰æ‹©èœå• Alt + Shift + F10 å¼¹å‡º Run çš„å¯é€‰æ‹©èœå• Alt + Shift + å·¦é”®åŒå‡» é€‰æ‹©è¢«åŒå‡»çš„å•è¯ / ä¸­æ–‡å¥ï¼ŒæŒ‰ä½ä¸æ”¾ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å…¶ä»–å•è¯ / ä¸­æ–‡å¥ ï¼ˆå¿…å¤‡ï¼‰ Alt + Shift + å‰æ–¹å‘é”® ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Šç§»åŠ¨ ï¼ˆå¿…å¤‡ï¼‰ Alt + Shift + åæ–¹å‘é”® ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸‹ç§»åŠ¨ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Alt å¿«æ·é”® ä»‹ç» Ctrl + Shift + Alt + V æ— æ ¼å¼é»è´´ ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Alt + N å‰å¾€æŒ‡å®šçš„å˜é‡ / æ–¹æ³• Ctrl + Shift + Alt + S æ‰“å¼€å½“å‰é¡¹ç›®è®¾ç½® ï¼ˆå¿…å¤‡ï¼‰ Ctrl + Shift + Alt + C å¤åˆ¶å‚è€ƒä¿¡æ¯ å…¶ä»– å¿«æ·é”® ä»‹ç» F2 è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé«˜äº®é”™è¯¯ æˆ– è­¦å‘Šä½ç½® ï¼ˆå¿…å¤‡ï¼‰ F3 åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå®šä½åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…å¤„ F4 ç¼–è¾‘æº ï¼ˆå¿…å¤‡ï¼‰ F7 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™è¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœè¯¥æ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¸ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­ F8 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™ä¸è¿›å…¥å½“å‰æ–¹æ³•ä½“å†… F9 åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ¢å¤ç¨‹åºè¿è¡Œï¼Œä½†æ˜¯å¦‚æœè¯¥æ–­ç‚¹ä¸‹é¢ä»£ç è¿˜æœ‰æ–­ç‚¹åˆ™åœåœ¨ä¸‹ä¸€ä¸ªæ–­ç‚¹ä¸Š F11 æ·»åŠ ä¹¦ç­¾ ï¼ˆå¿…å¤‡ï¼‰ F12 å›åˆ°å‰ä¸€ä¸ªå·¥å…·çª—å£ ï¼ˆå¿…å¤‡ï¼‰ Tab ç¼©è¿› ï¼ˆå¿…å¤‡ï¼‰ ESC ä»å·¥å…·çª—å£è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ ï¼ˆå¿…å¤‡ï¼‰ è¿æŒ‰ä¸¤æ¬¡Shift å¼¹å‡º Search Everywhere å¼¹å‡ºå±‚ å®˜ç½‘å¿«æ·é”®èµ„æ–™ Windows / Linuxï¼šhttps://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard.pdf Mac OS Xï¼šhttps://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf ç¬¬ä¸‰æ–¹å¿«æ·é”®èµ„æ–™ æ¥è‡ª eta02913ï¼šhttp://xinyuwu.iteye.com/blog/1005454 Mac å¿«æ·é”® æ ¹æ®å®˜æ–¹pdfç¿»è¯‘ï¼šhttps://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf åœ¨ IntelliJ IDEA ä¸­æœ‰ä¸¤ä¸ª Mac ç‰ˆæœ¬çš„å¿«æ·é”®ï¼Œä¸€ä¸ªå«åšï¼šMac OS Xï¼Œä¸€ä¸ªå«åšï¼šMac OS X 10.5+ ç›®å‰éƒ½æ˜¯ç”¨ï¼šMac OS X 10.5+ æœ‰ä¸¤å¥—çš„åŸå› ï¼šhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/206159109-Updated-Mac-OS-X-keymap-Feedback-needed å»ºè®®å°† Mac ç³»ç»Ÿä¸­ä¸ IntelliJ IDEA å†²çªçš„å¿«æ·é”®å–æ¶ˆæˆ–æ›´æ”¹ï¼Œä¸å»ºè®®æ”¹ IntelliJ IDEA çš„é»˜è®¤å¿«æ·é”®ã€‚\nMac é”®ç›˜ç¬¦å· å›¾æ ‡ ä»‹ç» âŒ˜ Command â‡§ Shift â‡ª Caps Lock âŒ¥ Option = Alt âŒƒ Control â†© Enter âŒ« Delete âŒ¦ Fn + Delete â†‘ ä¸Šç®­å¤´ â†“ ä¸‹ç®­å¤´ â† å·¦ç®­å¤´ â†’ å³ç®­å¤´ â‡ Fn + â†‘ = Page Up â‡Ÿ Fn + â†“ = Page Down Home Fn + â† End Fn + â†’ â‡¥ Tab = å³åˆ¶è¡¨ç¬¦ â‡¤ Shift + Tab = å·¦åˆ¶è¡¨ç¬¦ â‹ Esc = Escape â ç”µæºå¼€å…³é”® Editingï¼ˆç¼–è¾‘ï¼‰ Control + Space åŸºæœ¬çš„ä»£ç è¡¥å…¨ï¼ˆè¡¥å…¨ä»»ä½•ç±»ã€æ–¹æ³•ã€å˜é‡ï¼‰ Control + Shift + Space æ™ºèƒ½ä»£ç è¡¥å…¨ï¼ˆè¿‡æ»¤å™¨æ–¹æ³•åˆ—è¡¨å’Œå˜é‡çš„é¢„æœŸç±»å‹ï¼‰ Command + Shift + Enter è‡ªåŠ¨ç»“æŸä»£ç ï¼Œè¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å· Command + P æ˜¾ç¤ºæ–¹æ³•çš„å‚æ•°ä¿¡æ¯ Control + J æ˜¾ç¤ºå½“å‰ä½ç½®çš„å˜é‡ã€æ–¹æ³•çš„ Documentation å†…å®¹ Control + J å¿«é€ŸæŸ¥çœ‹æ–‡æ¡£ Shift + F1 æŸ¥çœ‹å¤–éƒ¨æ–‡æ¡£ï¼ˆåœ¨æŸäº›ä»£ç ä¸Šä¼šè§¦å‘æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºç›¸å…³æ–‡æ¡£ï¼‰ Command + é¼ æ ‡æ”¾åœ¨ä»£ç ä¸Š æ˜¾ç¤ºä»£ç ç®€è¦ä¿¡æ¯ Command + F1 åœ¨é”™è¯¯æˆ–è­¦å‘Šå¤„æ˜¾ç¤ºå…·ä½“æè¿°ä¿¡æ¯ Command + N, Control + Enter, Control + N ç”Ÿæˆä»£ç ï¼ˆgetterã€setterã€æ„é€ å‡½æ•°ã€hashCode/equals,toStringï¼‰ Control + O è¦†ç›–æ–¹æ³•ï¼ˆé‡å†™çˆ¶ç±»æ–¹æ³•ï¼‰ Control + I å®ç°æ–¹æ³•ï¼ˆå®ç°æ¥å£ä¸­çš„æ–¹æ³•ï¼‰ Command + Option + T åŒ…å›´ä»£ç ï¼ˆä½¿ç”¨if..else, try..catch, for, synchronizedç­‰åŒ…å›´é€‰ä¸­çš„ä»£ç ï¼‰ Command + / æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šä¸è¡Œæ³¨é‡Š Command + Option + / æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šä¸å—æ³¨é‡Š Option + æ–¹å‘é”®ä¸Š è¿ç»­é€‰ä¸­ä»£ç å— Option + æ–¹å‘é”®ä¸‹ å‡å°‘å½“å‰é€‰ä¸­çš„ä»£ç å— Control + Shift + Q æ˜¾ç¤ºä¸Šä¸‹æ–‡ä¿¡æ¯ Option + Enter æ˜¾ç¤ºæ„å‘åŠ¨ä½œå’Œå¿«é€Ÿä¿®å¤ä»£ç  Command + Option + L æ ¼å¼åŒ–ä»£ç  Control + Option + O ä¼˜åŒ–import Control + Option + I è‡ªåŠ¨ç¼©è¿›çº¿ Tab / Shift + Tab ç¼©è¿›ä»£ç  / åç¼©è¿›ä»£ç  Command + X å‰ªåˆ‡å½“å‰è¡Œæˆ–é€‰å®šçš„å—åˆ°å‰ªè´´æ¿ Command + C å¤åˆ¶å½“å‰è¡Œæˆ–é€‰å®šçš„å—åˆ°å‰ªè´´æ¿ Command + V ä»å‰ªè´´æ¿ç²˜è´´ Command + Shift + V ä»æœ€è¿‘çš„ç¼“å†²åŒºç²˜è´´ Command + D å¤åˆ¶å½“å‰è¡Œæˆ–é€‰å®šçš„å— Command + Delete åˆ é™¤å½“å‰è¡Œæˆ–é€‰å®šçš„å—çš„è¡Œ Control + Shift + J æ™ºèƒ½çš„å°†ä»£ç æ‹¼æ¥æˆä¸€è¡Œ Command + Enter æ™ºèƒ½çš„æ‹†åˆ†æ‹¼æ¥çš„è¡Œ Shift + Enter å¼€å§‹æ–°çš„ä¸€è¡Œ Command + Shift + U å¤§å°å†™åˆ‡æ¢ Command + Shift + ] / Command + Shift + [ é€‰æ‹©ç›´åˆ°ä»£ç å—ç»“æŸ/å¼€å§‹ Option + Fn + Delete åˆ é™¤åˆ°å•è¯çš„æœ«å°¾ Option + Delete åˆ é™¤åˆ°å•è¯çš„å¼€å¤´ Command + åŠ å· / Command + å‡å· å±•å¼€ / æŠ˜å ä»£ç å— Command + Shift + åŠ å· å±•å¼€æ‰€ä»¥ä»£ç å— Command + Shift + å‡å· æŠ˜å æ‰€æœ‰ä»£ç å— Command + W å…³é—­æ´»åŠ¨çš„ç¼–è¾‘å™¨é€‰é¡¹å¡ Search/Replaceï¼ˆæŸ¥è¯¢/æ›¿æ¢ï¼‰ Double Shift æŸ¥è¯¢ä»»ä½•ä¸œè¥¿ Command + F æ–‡ä»¶å†…æŸ¥æ‰¾ Command + G æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå‘ä¸‹æŸ¥æ‰¾ Command + Shift + G æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå‘ä¸ŠæŸ¥æ‰¾ Command + R æ–‡ä»¶å†…æ›¿æ¢ Command + Shift + F å…¨å±€æŸ¥æ‰¾ï¼ˆæ ¹æ®è·¯å¾„ï¼‰ Command + Shift + R å…¨å±€æ›¿æ¢ï¼ˆæ ¹æ®è·¯å¾„ï¼‰ Command + Shift + S æŸ¥è¯¢ç»“æ„ï¼ˆUltimate Edition ç‰ˆä¸“ç”¨ï¼Œéœ€è¦åœ¨Keymapä¸­è®¾ç½®ï¼‰ Command + Shift + M æ›¿æ¢ç»“æ„ï¼ˆUltimate Edition ç‰ˆä¸“ç”¨ï¼Œéœ€è¦åœ¨Keymapä¸­è®¾ç½®ï¼‰ Usage Searchï¼ˆä½¿ç”¨æŸ¥è¯¢ï¼‰ Option + F7 / Command + F7 åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ç”¨æ³• / åœ¨ç±»ä¸­æŸ¥æ‰¾ç”¨æ³• Command + Shift + F7 åœ¨æ–‡ä»¶ä¸­çªå‡ºæ˜¾ç¤ºçš„ç”¨æ³• Command + Option + F7 æ˜¾ç¤ºç”¨æ³• Compile and Runï¼ˆç¼–è¯‘å’Œè¿è¡Œï¼‰ Command + F9 ç¼–è¯‘Project Command + Shift + F9 ç¼–è¯‘é€‰æ‹©çš„æ–‡ä»¶ã€åŒ…æˆ–æ¨¡å— Control + Option + R å¼¹å‡º Run çš„å¯é€‰æ‹©èœå• Control + Option + D å¼¹å‡º Debug çš„å¯é€‰æ‹©èœå• Control + R è¿è¡Œ Control + D è°ƒè¯• Control + Shift + R, Control + Shift + D ä»ç¼–è¾‘å™¨è¿è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒé…ç½® Debuggingï¼ˆè°ƒè¯•ï¼‰ F8 è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™ä¸è¿›å…¥å½“å‰æ–¹æ³•ä½“å†… F7 è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™è¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœè¯¥æ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¸ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­ Shift + F7 æ™ºèƒ½æ­¥å…¥ï¼Œæ–­ç‚¹æ‰€åœ¨è¡Œä¸Šæœ‰å¤šä¸ªæ–¹æ³•è°ƒç”¨ï¼Œä¼šå¼¹å‡ºè¿›å…¥å“ªä¸ªæ–¹æ³• Shift + F8 è·³å‡º Option + F9 è¿è¡Œåˆ°å…‰æ ‡å¤„ï¼Œå¦‚æœå…‰æ ‡å‰æœ‰å…¶ä»–æ–­ç‚¹ä¼šè¿›å…¥åˆ°è¯¥æ–­ç‚¹ Option + F8 è®¡ç®—è¡¨è¾¾å¼ï¼ˆå¯ä»¥æ›´æ”¹å˜é‡å€¼ä½¿å…¶ç”Ÿæ•ˆï¼‰ Command + Option + R æ¢å¤ç¨‹åºè¿è¡Œï¼Œå¦‚æœè¯¥æ–­ç‚¹ä¸‹é¢ä»£ç è¿˜æœ‰æ–­ç‚¹åˆ™åœåœ¨ä¸‹ä¸€ä¸ªæ–­ç‚¹ä¸Š Command + F8 åˆ‡æ¢æ–­ç‚¹ï¼ˆè‹¥å…‰æ ‡å½“å‰è¡Œæœ‰æ–­ç‚¹åˆ™å–æ¶ˆæ–­ç‚¹ï¼Œæ²¡æœ‰åˆ™åŠ ä¸Šæ–­ç‚¹ï¼‰ Command + Shift + F8 æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯ Navigationï¼ˆå¯¼èˆªï¼‰ Command + O æŸ¥æ‰¾ç±»æ–‡ä»¶ Command + Shift + O æŸ¥æ‰¾æ‰€æœ‰ç±»å‹æ–‡ä»¶ã€æ‰“å¼€æ–‡ä»¶ã€æ‰“å¼€ç›®å½•ï¼Œæ‰“å¼€ç›®å½•éœ€è¦åœ¨è¾“å…¥çš„å†…å®¹å‰é¢æˆ–åé¢åŠ ä¸€ä¸ªåæ–œæ / Command + Option + O å‰å¾€æŒ‡å®šçš„å˜é‡ / æ–¹æ³• Control + æ–¹å‘é”®å·¦ / Control + æ–¹å‘é”®å³ å·¦å³åˆ‡æ¢æ‰“å¼€çš„ç¼–è¾‘tabé¡µ F12 è¿”å›åˆ°å‰ä¸€ä¸ªå·¥å…·çª—å£ Esc ä»å·¥å…·çª—å£è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ Shift + Esc éšè—å½“å‰æˆ–æœ€åä¸€ä¸ªæ´»åŠ¨çš„çª—å£ï¼Œä¸”å…‰æ ‡è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ Command + Shift + F4 å…³é—­æ´»åŠ¨run/messages/find/â€¦ tab Command + L åœ¨å½“å‰æ–‡ä»¶è·³è½¬åˆ°æŸä¸€è¡Œçš„æŒ‡å®šå¤„ Command + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„ æ–‡ä»¶è®°å½• åˆ—è¡¨ Command + Shift + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„ æ–‡ä»¶ä»£ç ä½ç½®è®°å½• åˆ—è¡¨ Option + æ–¹å‘é”®å·¦ / Option + æ–¹å‘é”®å³ å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ / å³ä¾§å¼€å¤´ä½ç½® Command + Option + æ–¹å‘é”®å·¦ / Command + Option + æ–¹å‘é”®å³ é€€å› / å‰è¿›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ Command + Shift + Delete è·³è½¬åˆ°æœ€åä¸€ä¸ªç¼–è¾‘çš„åœ°æ–¹ Option + F1 æ˜¾ç¤ºå½“å‰æ–‡ä»¶é€‰æ‹©ç›®æ ‡å¼¹å‡ºå±‚ï¼Œå¼¹å‡ºå±‚ä¸­æœ‰å¾ˆå¤šç›®æ ‡å¯ä»¥è¿›è¡Œé€‰æ‹©(å¦‚åœ¨ä»£ç ç¼–è¾‘çª—å£å¯ä»¥é€‰æ‹©æ˜¾ç¤ºè¯¥æ–‡ä»¶çš„Finder) Command + B / Command + é¼ æ ‡ç‚¹å‡» è¿›å…¥å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•/å˜é‡çš„æ¥å£æˆ–æ˜¯å®šä¹‰å¤„ Command + Option + B è·³è½¬åˆ°å®ç°å¤„ï¼Œåœ¨æŸä¸ªè°ƒç”¨çš„æ–¹æ³•åä¸Šä½¿ç”¨ä¼šè·³åˆ°å…·ä½“çš„å®ç°å¤„ï¼Œå¯ä»¥è·³è¿‡æ¥å£ Option + Space, Command + Y å¿«é€Ÿæ‰“å¼€å…‰æ ‡æ‰€åœ¨æ–¹æ³•ã€ç±»çš„å®šä¹‰ Control + Shift + B è·³è½¬åˆ°ç±»å‹å£°æ˜å¤„ Command + U å‰å¾€å½“å‰å…‰æ ‡æ‰€åœ¨æ–¹æ³•çš„çˆ¶ç±»çš„æ–¹æ³• / æ¥å£å®šä¹‰ Control + æ–¹å‘é”®ä¸‹ / Control + æ–¹å‘é”®ä¸Š å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„å‰ä¸€ä¸ª/åä¸€ä¸ªæ–¹æ³•åä½ç½® Command + ] / Command + [ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·å¼€å§‹/ç»“æŸä½ç½® Command + F12 å¼¹å‡ºå½“å‰æ–‡ä»¶ç»“æ„å±‚ï¼Œå¯ä»¥åœ¨å¼¹å‡ºçš„å±‚ä¸Šç›´æ¥è¾“å…¥è¿›è¡Œç­›é€‰ï¼ˆå¯ç”¨äºæœç´¢ç±»ä¸­çš„æ–¹æ³•ï¼‰ Control + H æ˜¾ç¤ºå½“å‰ç±»çš„å±‚æ¬¡ç»“æ„ Command + Shift + H æ˜¾ç¤ºæ–¹æ³•å±‚æ¬¡ç»“æ„ Control + Option + H æ˜¾ç¤ºè°ƒç”¨å±‚æ¬¡ç»“æ„ F2 / Shift + F2 è·³è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªçªå‡ºé”™è¯¯æˆ–è­¦å‘Šçš„ä½ç½® F4 / Command + æ–¹å‘é”®ä¸‹ ç¼–è¾‘/æŸ¥çœ‹ä»£ç æº Option + Home æ˜¾ç¤ºåˆ°å½“å‰æ–‡ä»¶çš„å¯¼èˆªæ¡ F3é€‰ä¸­æ–‡ä»¶/æ–‡ä»¶å¤¹/ä»£ç è¡Œï¼Œæ·»åŠ /å–æ¶ˆä¹¦ç­¾ Option + F3 é€‰ä¸­æ–‡ä»¶/æ–‡ä»¶å¤¹/ä»£ç è¡Œï¼Œä½¿ç”¨åŠ©è®°ç¬¦æ·»åŠ /å–æ¶ˆä¹¦ç­¾ Control + 0...Control + 9 å®šä½åˆ°å¯¹åº”æ•°å€¼çš„ä¹¦ç­¾ä½ç½® Command + F3 æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç­¾ Refactoringï¼ˆé‡æ„ï¼‰ F5 å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šç›®å½• F6 ç§»åŠ¨æ–‡ä»¶åˆ°æŒ‡å®šç›®å½• Command + Delete åœ¨æ–‡ä»¶ä¸Šä¸ºå®‰å…¨åˆ é™¤æ–‡ä»¶ï¼Œå¼¹å‡ºç¡®è®¤æ¡† Shift + F6 é‡å‘½åæ–‡ä»¶ Command + F6 æ›´æ”¹ç­¾å Command + Option + N ä¸€è‡´æ€§ Command + Option + M å°†é€‰ä¸­çš„ä»£ç æå–ä¸ºæ–¹æ³• Command + Option + V æå–å˜é‡ Command + Option + F æå–å­—æ®µ Command + Option + C æå–å¸¸é‡ Command + Option + P æå–å‚æ•° VCS/Local Historyï¼ˆç‰ˆæœ¬æ§åˆ¶/æœ¬åœ°å†å²è®°å½•ï¼‰ Command + K æäº¤ä»£ç åˆ°ç‰ˆæœ¬æ§åˆ¶å™¨ Command + T ä»ç‰ˆæœ¬æ§åˆ¶å™¨æ›´æ–°ä»£ç  Option + Shift + C æŸ¥çœ‹æœ€è¿‘çš„å˜æ›´è®°å½• Control + C å¿«é€Ÿå¼¹å‡ºç‰ˆæœ¬æ§åˆ¶å™¨æ“ä½œé¢æ¿ Live Templatesï¼ˆåŠ¨æ€ä»£ç æ¨¡æ¿ï¼‰ Command + Option + J å¼¹å‡ºæ¨¡æ¿é€‰æ‹©çª—å£ï¼Œå°†é€‰å®šçš„ä»£ç ä½¿ç”¨åŠ¨æ€æ¨¡æ¿åŒ…ä½ Command + J æ’å…¥è‡ªå®šä¹‰åŠ¨æ€ä»£ç æ¨¡æ¿ Generalï¼ˆé€šç”¨ï¼‰ Command + 1...Command + 9 æ‰“å¼€ç›¸åº”ç¼–å·çš„å·¥å…·çª—å£ Command + S ä¿å­˜æ‰€æœ‰ Command + Option + Y åŒæ­¥ã€åˆ·æ–° Control + Command + F åˆ‡æ¢å…¨å±æ¨¡å¼ Command + Shift + F12 åˆ‡æ¢æœ€å¤§åŒ–ç¼–è¾‘å™¨ Option + Shift + F æ·»åŠ åˆ°æ”¶è—å¤¹ Option + Shift + I æ£€æŸ¥å½“å‰æ–‡ä»¶ä¸å½“å‰çš„é…ç½®æ–‡ä»¶ Control + ` å¿«é€Ÿåˆ‡æ¢å½“å‰çš„schemeï¼ˆåˆ‡æ¢ä¸»é¢˜ã€ä»£ç æ ·å¼ç­‰ï¼‰ Command + , æ‰“å¼€IDEAç³»ç»Ÿè®¾ç½® Command + ; æ‰“å¼€é¡¹ç›®ç»“æ„å¯¹è¯æ¡† Shift + Command + A æŸ¥æ‰¾åŠ¨ä½œï¼ˆå¯è®¾ç½®ç›¸å…³é€‰é¡¹ï¼‰ Control + Shift + Tab ç¼–è¾‘çª—å£æ ‡ç­¾å’Œå·¥å…·çª—å£ä¹‹é—´åˆ‡æ¢ï¼ˆå¦‚æœåœ¨åˆ‡æ¢çš„è¿‡ç¨‹åŠ æŒ‰ä¸Šdeleteï¼Œåˆ™æ˜¯å…³é—­å¯¹åº”é€‰ä¸­çš„çª—å£ï¼‰ Otherï¼ˆä¸€äº›å®˜æ–¹æ–‡æ¡£ä¸Šæ²¡æœ‰ä½“ç°çš„å¿«æ·é”®ï¼‰ Command + Shift +8 ç«–ç¼–è¾‘æ¨¡å¼ ä» Windows è¿‡åº¦åˆ° Mac å¿…å¤‡å¿«æ·é”®å¯¹ç…§è¡¨ Mac é”®ç›˜ç¬¦å· å›¾æ ‡ ä»‹ç» âŒ˜ Command â‡§ Shift â‡ª Caps Lock âŒ¥ Option = Alt âŒƒ Control â†© Enter âŒ« Delete âŒ¦ Fn + Delete â†‘ ä¸Šç®­å¤´ â†“ ä¸‹ç®­å¤´ â† å·¦ç®­å¤´ â†’ å³ç®­å¤´ â‡ Fn + â†‘ = Page Up â‡Ÿ Fn + â†“ = Page Down Home Fn + â† End Fn + â†’ â‡¥ Tab = å³åˆ¶è¡¨ç¬¦ â‡¤ Shift + Tab = å·¦åˆ¶è¡¨ç¬¦ â‹ Esc = Escape â ç”µæºå¼€å…³é”® Alt Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Alt + ` Control + V æ˜¾ç¤ºç‰ˆæœ¬æ§åˆ¶å¸¸ç”¨æ“ä½œèœå•å¼¹å‡ºå±‚ Alt + F1 Option + F1 æ˜¾ç¤ºå½“å‰æ–‡ä»¶é€‰æ‹©ç›®æ ‡å¼¹å‡ºå±‚ï¼Œå¼¹å‡ºå±‚ä¸­æœ‰å¾ˆå¤šç›®æ ‡å¯ä»¥è¿›è¡Œé€‰æ‹© Alt + F7 Option + F7 æŸ¥è¯¢æ‰€é€‰å¯¹è±¡/å˜é‡è¢«å¼•ç”¨ Alt + Enter Option + Enter IntelliJ IDEA æ ¹æ®å…‰æ ‡æ‰€åœ¨é—®é¢˜ï¼Œæä¾›å¿«é€Ÿä¿®å¤é€‰æ‹©ï¼Œå…‰æ ‡æ”¾åœ¨çš„ä½ç½®ä¸åŒæç¤ºçš„ç»“æœä¹Ÿä¸åŒ Alt + Insert Command + N ä»£ç è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚ç”Ÿæˆå¯¹è±¡çš„ set / get æ–¹æ³•ï¼Œæ„é€ å‡½æ•°ï¼ŒtoString() ç­‰ Alt + å·¦æ–¹å‘é”® Control + å·¦æ–¹å‘é”® åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„çª—å£ä¸­çš„å­è§†å›¾ï¼Œæ¯”å¦‚Debugçª—å£ä¸­æœ‰Outputã€Debuggerç­‰å­è§†å›¾ï¼Œç”¨æ­¤å¿«æ·é”®å°±å¯ä»¥åœ¨å­è§†å›¾ä¸­åˆ‡æ¢ Alt + å³æ–¹å‘é”® Control + å³æ–¹å‘é”® åˆ‡æ¢å½“å‰å·²æ‰“å¼€çš„çª—å£ä¸­çš„å­è§†å›¾ï¼Œæ¯”å¦‚Debugçª—å£ä¸­æœ‰Outputã€Debuggerç­‰å­è§†å›¾ï¼Œç”¨æ­¤å¿«æ·é”®å°±å¯ä»¥åœ¨å­è§†å›¾ä¸­åˆ‡æ¢ Alt + å‰æ–¹å‘é”® Control + å‰æ–¹å‘é”® å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„å‰ä¸€ä¸ªæ–¹æ³•åä½ç½® Alt + åæ–¹å‘é”® Control + åæ–¹å‘é”® å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„åä¸€ä¸ªæ–¹æ³•åä½ç½® Alt + 1,2,3â€¦9 Command + 1,2,3â€¦9 æ˜¾ç¤ºå¯¹åº”æ•°å€¼çš„é€‰é¡¹å¡ï¼Œå…¶ä¸­ 1 æ˜¯ Project ç”¨å¾—æœ€å¤š Ctrl Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Ctrl + F Command + F åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æŸ¥æ‰¾ Ctrl + R Command + R åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æ›¿æ¢ Ctrl + Z Command + Z æ’¤é”€ Ctrl + G Command + L è·³è½¬åˆ°æŒ‡å®šè¡Œæ•°ä½ç½® Ctrl + Y Command + Delete åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– åˆ é™¤é€‰ä¸­çš„è¡Œ Ctrl + D Command + D å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ æˆ– å¤åˆ¶é€‰æ‹©å†…å®¹ï¼Œå¹¶æŠŠå¤åˆ¶å†…å®¹æ’å…¥å…‰æ ‡ä½ç½®ä¸‹é¢ Ctrl + W Option + æ–¹å‘é”®ä¸Š é€’è¿›å¼é€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•é€‰ä¸­èŒƒå›´ Ctrl + E Command + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶è®°å½•åˆ—è¡¨ Ctrl + N Command + O æ ¹æ®è¾“å…¥çš„ ç±»å æŸ¥æ‰¾ç±»æ–‡ä»¶ Ctrl + J Command + J æ’å…¥è‡ªå®šä¹‰åŠ¨æ€ä»£ç æ¨¡æ¿ Ctrl + P Command + P æ–¹æ³•å‚æ•°æç¤ºæ˜¾ç¤º Ctrl + Q Control + J å½“å‰ä½ç½®å˜é‡ã€æ–¹æ³•çš„ Documentation å†…å®¹æ˜¾ç¤º Ctrl + U Command + U å‰å¾€å½“å‰å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•çš„çˆ¶ç±»çš„æ–¹æ³• / æ¥å£å®šä¹‰ Ctrl + B Command + B è¿›å…¥å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•/å˜é‡çš„æ¥å£æˆ–æ˜¯å®šä¹‰å¤„ï¼Œç­‰æ•ˆäº Ctrl + å·¦é”®å•å‡» Ctrl + / Command + / æ³¨é‡Šå…‰æ ‡æ‰€åœ¨è¡Œä»£ç ï¼Œä¼šæ ¹æ®å½“å‰ä¸åŒæ–‡ä»¶ç±»å‹ä½¿ç”¨ä¸åŒçš„æ³¨é‡Šç¬¦å· Ctrl + F1 Command + F1 åœ¨å…‰æ ‡æ‰€åœ¨çš„é”™è¯¯ä»£ç å¤„æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ Ctrl + F11 Option + F3 é€‰ä¸­æ–‡ä»¶ / æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨åŠ©è®°ç¬¦è®¾å®š / å–æ¶ˆä¹¦ç­¾ Ctrl + F12 Command + F12 å¼¹å‡ºå½“å‰æ–‡ä»¶ç»“æ„å±‚ï¼Œå¯ä»¥åœ¨å¼¹å‡ºçš„å±‚ä¸Šç›´æ¥è¾“å…¥ï¼Œè¿›è¡Œç­›é€‰ Ctrl + Space Control + Space åŸºç¡€ä»£ç è¡¥å…¨ï¼Œé»˜è®¤åœ¨ Windows ç³»ç»Ÿä¸Šè¢«è¾“å…¥æ³•å ç”¨ï¼Œéœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå»ºè®®ä¿®æ”¹ä¸º Ctrl + é€—å· Ctrl + Delete Option + Fn+ Delete åˆ é™¤å…‰æ ‡åé¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥ Ctrl + BackSpace Option + Delete åˆ é™¤å…‰æ ‡å‰é¢çš„å•è¯æˆ–æ˜¯ä¸­æ–‡å¥ Ctrl + 1,2,3â€¦9 Control + 1,2,3â€¦9 å®šä½åˆ°å¯¹åº”æ•°å€¼çš„ä¹¦ç­¾ä½ç½® Ctrl + åŠ å· Command + åŠ å· å±•å¼€ä»£ç  Ctrl + å‡å· Command + å‡å· æŠ˜å ä»£ç  Ctrl + å·¦é”®å•å‡» Control + å·¦é”®å•å‡» åœ¨æ‰“å¼€çš„æ–‡ä»¶æ ‡é¢˜ä¸Šï¼Œå¼¹å‡ºè¯¥æ–‡ä»¶è·¯å¾„ Ctrl + å·¦æ–¹å‘é”® Option + å·¦æ–¹å‘é”® å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½® Ctrl + å³æ–¹å‘é”® Option + å³æ–¹å‘é”® å…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½® Ctrl + å‰æ–¹å‘é”® é¢„è®¾ä¸­æ²¡æœ‰è¯¥å¿«æ·é”® ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘å‰æ•ˆæœ Ctrl + åæ–¹å‘é”® é¢„è®¾ä¸­æ²¡æœ‰è¯¥å¿«æ·é”® ç­‰æ•ˆäºé¼ æ ‡æ»šè½®å‘åæ•ˆæœ Shift Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Shift + F11 Command + F3 å¼¹å‡ºä¹¦ç­¾æ˜¾ç¤ºå±‚ Shift + Tab Shift + Tab å–æ¶ˆç¼©è¿› Shift + Enter Shift + Enter å¼€å§‹æ–°ä¸€è¡Œã€‚å…‰æ ‡æ‰€åœ¨è¡Œä¸‹ç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œä½ç½® Shift + å·¦é”®å•å‡» Shift + å·¦é”®å•å‡» åœ¨æ‰“å¼€çš„æ–‡ä»¶åä¸ŠæŒ‰æ­¤å¿«æ·é”®ï¼Œå¯ä»¥å…³é—­å½“å‰æ‰“å¼€æ–‡ä»¶ Alt + Shift Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Alt + Shift + N Option + Shift + N é€‰æ‹© / æ·»åŠ  task Alt + Shift + å·¦é”®åŒå‡» Option + Shift + å·¦é”®åŒå‡» é€‰æ‹©è¢«åŒå‡»çš„å•è¯ / ä¸­æ–‡å¥ï¼ŒæŒ‰ä½ä¸æ”¾ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å…¶ä»–å•è¯ / ä¸­æ–‡å¥ Alt + Shift + å‰æ–¹å‘é”® Option + Shift + å‰æ–¹å‘é”® ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Šç§»åŠ¨ Alt + Shift + åæ–¹å‘é”® Option + Shift + åæ–¹å‘é”® ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸‹ç§»åŠ¨ Ctrl + Alt Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Ctrl + Alt + L Command + Option + L æ ¼å¼åŒ–ä»£ç ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ Ctrl + Alt + O Control + Option + O ä¼˜åŒ–å¯¼å…¥çš„ç±»ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨ Ctrl + Alt + T Command + Option + T å¯¹é€‰ä¸­çš„ä»£ç å¼¹å‡ºç¯ç»•é€‰é¡¹å¼¹å‡ºå±‚ Ctrl + Alt + S Command + é€—å· æ‰“å¼€ IntelliJ IDEA ç³»ç»Ÿè®¾ç½® Ctrl + Alt + Enter Command + Option + Enter å…‰æ ‡æ‰€åœ¨è¡Œä¸Šç©ºå‡ºä¸€è¡Œï¼Œå…‰æ ‡å®šä½åˆ°æ–°è¡Œ Ctrl + Alt + å·¦æ–¹å‘é”® Command + Option + å·¦æ–¹å‘é”® é€€å›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ Ctrl + Alt + å³æ–¹å‘é”® Command + Option + å³æ–¹å‘é”® å‰è¿›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ Ctrl + Shift Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Ctrl + Shift + F Command + Shift + F æ ¹æ®è¾“å…¥å†…å®¹æŸ¥æ‰¾æ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ Ctrl + Shift + R Command + Shift + R æ ¹æ®è¾“å…¥å†…å®¹æ›¿æ¢å¯¹åº”å†…å®¹ï¼ŒèŒƒå›´ä¸ºæ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶ Ctrl + Shift + J Control + Shift + J è‡ªåŠ¨å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œæœ«å°¾ Ctrl + Shift + Z Command + Shift + Z å–æ¶ˆæ’¤é”€ Ctrl + Shift + W Option + æ–¹å‘é”®ä¸‹ é€’è¿›å¼å–æ¶ˆé€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•å–æ¶ˆé€‰ä¸­èŒƒå›´ Ctrl + Shift + N Command + Shift + O é€šè¿‡æ–‡ä»¶åå®šä½ / æ‰“å¼€æ–‡ä»¶ / ç›®å½•ï¼Œæ‰“å¼€ç›®å½•éœ€è¦åœ¨è¾“å…¥çš„å†…å®¹åé¢å¤šåŠ ä¸€ä¸ªæ­£æ–œæ  Ctrl + Shift + U Command + Shift + U å¯¹é€‰ä¸­çš„ä»£ç è¿›è¡Œå¤§ / å°å†™è½®æµè½¬æ¢ Ctrl + Shift + T Command + Shift + T å¯¹å½“å‰ç±»ç”Ÿæˆå•å…ƒæµ‹è¯•ç±»ï¼Œå¦‚æœå·²ç»å­˜åœ¨çš„å•å…ƒæµ‹è¯•ç±»åˆ™å¯ä»¥è¿›è¡Œé€‰æ‹© Ctrl + Shift + C Command + Shift + C å¤åˆ¶å½“å‰æ–‡ä»¶ç£ç›˜è·¯å¾„åˆ°å‰ªè´´æ¿ Ctrl + Shift + B Control + Shift + B è·³è½¬åˆ°ç±»å‹å£°æ˜å¤„ Ctrl + Shift + / Command + Option + / ä»£ç å—æ³¨é‡Š Ctrl + Shift + [ Command + Shift + [ é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„é¡¶éƒ¨ä¸­æ‹¬å·ä½ç½® Ctrl + Shift + ] Command + Shift + ] é€‰ä¸­ä»å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°å®ƒçš„åº•éƒ¨ä¸­æ‹¬å·ä½ç½® Ctrl + Shift + åŠ å· Command + Shift + åŠ å· å±•å¼€æ‰€æœ‰ä»£ç  Ctrl + Shift + å‡å· Command + Shift + å‡å· æŠ˜å æ‰€æœ‰ä»£ç  Ctrl + Shift + F7 Command + Shift + F7 é«˜äº®æ˜¾ç¤ºæ‰€æœ‰è¯¥é€‰ä¸­æ–‡æœ¬ï¼ŒæŒ‰Escé«˜äº®æ¶ˆå¤± Ctrl + Shift + F12 Command + Shift + F12 ç¼–è¾‘å™¨æœ€å¤§åŒ– Ctrl + Shift + Enter Command + Shift + Enter è‡ªåŠ¨ç»“æŸä»£ç ï¼Œè¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å· Ctrl + Shift + Backspace Ctrl + Shift + Backspace é€€å›åˆ°ä¸Šæ¬¡ä¿®æ”¹çš„åœ°æ–¹ Ctrl + Shift + 1,2,3â€¦9 Control + Shift + 1,2,3â€¦9 å¿«é€Ÿæ·»åŠ æŒ‡å®šæ•°å€¼çš„ä¹¦ç­¾ Ctrl + Shift + å·¦é”®å•å‡» Command + Shift + å·¦é”®å•å‡» æŠŠå…‰æ ‡æ”¾åœ¨æŸä¸ªç±»å˜é‡ä¸Šï¼ŒæŒ‰æ­¤å¿«æ·é”®å¯ä»¥ç›´æ¥å®šä½åˆ°è¯¥ç±»ä¸­ Ctrl + Shift + å·¦æ–¹å‘é”® Option + Shift + å·¦æ–¹å‘é”® åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å·¦ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥ Ctrl + Shift + å³æ–¹å‘é”® Option + Shift + å³æ–¹å‘é”® åœ¨ä»£ç æ–‡ä»¶ä¸Šï¼Œå…‰æ ‡è·³è½¬åˆ°å½“å‰å•è¯ / ä¸­æ–‡å¥çš„å³ä¾§å¼€å¤´ä½ç½®ï¼ŒåŒæ—¶é€‰ä¸­è¯¥å•è¯ / ä¸­æ–‡å¥ Ctrl + Shift + å‰æ–¹å‘é”® Command + Shift + å‰æ–¹å‘é”® å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº Ctrl + Shift + åæ–¹å‘é”® Command + Shift + åæ–¹å‘é”® å…‰æ ‡æ”¾åœ¨æ–¹æ³•åä¸Šï¼Œå°†æ–¹æ³•ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ–¹æ³•å‰é¢ï¼Œè°ƒæ•´æ–¹æ³•æ’åº Ctrl + Shift + Alt Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» Ctrl + Shift + Alt + V Command + Shift + Option + V æ— æ ¼å¼é»è´´ Ctrl + Shift + Alt + S Command + ; æ‰“å¼€å½“å‰é¡¹ç›®è®¾ç½® Other Win å¿«æ·é”® Mac å¿«æ·é”® ä»‹ç» F2 F2 è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé«˜äº®é”™è¯¯ æˆ– è­¦å‘Šä½ç½® F4 F4 ç¼–è¾‘æº F11 F3 æ·»åŠ ä¹¦ç­¾ F12 F12 å›åˆ°å‰ä¸€ä¸ªå·¥å…·çª—å£ Tab Tab ç¼©è¿› ESC ESC ä»å·¥å…·çª—å£è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ æœ€ç‰¹æ®Šçš„å¿«æ·é”® Alt + Enter ä»‹ç» è¯´æ˜ è¿™æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„å¿«æ·é”®ï¼Œæœ‰å¿…è¦æ‹¿å‡ºæ¥å•ç‹¬è®²ã€‚ å¼ºçƒˆæ³¨æ„ï¼šæ­¤å¿«æ·é”®è·Ÿå…‰æ ‡æ‰€åœ¨ä½ç½®æœ‰ç€å¾ˆä¸¥é‡å…³è”å…³ç³»ï¼Œå…‰æ ‡æ”¾çš„ä½ç½®ä¸åŒï¼Œä½¿ç”¨æ­¤å¿«æ·é”®å‡ºæ¥çš„èœå•é€‰é¡¹å®Œå…¨ä¸ä¸€æ ·ã€‚ å¯ä»¥ä»å‡ ä¸ªæ€è·¯ï¼šJava ç±»ã€JSPã€HTMLã€JavaScriptã€CSSã€SQL ç­‰æ–‡ä»¶ç±»å‹ ä¸‹é¢æ¼”ç¤ºçš„å„ä¸ªåŠŸèƒ½æ˜¯åŸºäºï¼šIntelliJ IDEA 2016.1.1ï¼Œå¦‚æœä½ ä½¿ç”¨æ—©æœŸç‰ˆæœ¬ï¼Œå¯èƒ½ä¸ä¸€å®šæœ‰å¯¹åº”çš„åŠŸèƒ½ã€‚ æ™ºèƒ½è¾…åŠ© åœ¨ æ¥å£ç±» ä¸­ï¼Œå¦‚æœå…‰æ ‡å½“å‰æ‰€åœ¨çš„æ–¹æ³•ï¼Œå·²ç»åœ¨ æ¥å£å®ç°ç±» ä¸­ç”Ÿæˆäº†ï¼Œåˆ™æ­¤å¿«æ·é”®çš„æ•ˆæœæ˜¯è·³è½¬ã€‚ åœ¨ æ¥å£ç±» ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•åï¼Œè®©è¯¥ æ¥å£å®ç°ç±» ä¹Ÿè·Ÿç€ç”Ÿæˆ åœ¨ æ¥å£å®ç°ç±» ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•åï¼Œè®©è¯¥ æ¥å£ç±» ä¹Ÿè·Ÿç€ç”Ÿæˆ å¯¹å½“å‰å…‰æ ‡æ‰€åœ¨ç±»ï¼Œç”Ÿæˆå•å…ƒæµ‹è¯•ç±» å¯¹å½“å‰å…‰æ ‡æ‰€åœ¨ç±»ï¼Œåˆ›å»ºå­ç±»ï¼Œå¸¸ç”¨åœ¨å¯¹æ¥å£ç”Ÿæˆæ¥å£å®ç°ç±» ç§»é™¤æœªä½¿ç”¨çš„å˜é‡ã€å¯¹è±¡ç­‰å…ƒç´  å¯¹å±æ€§åˆ›å»º setã€get æ–¹æ³• æ·»åŠ  docï¼Œåªèƒ½æŠŠå…‰æ ‡æ”¾åœ¨æ–¹æ³•åæˆ–æ˜¯å˜é‡åç­‰è¿™ç±»å…ƒç´ ä¸Šæ‰ä¼šæœ‰ æŠŠè‡ªå·±é€ çš„å•è¯åŠ å…¥è¯åº“ä¸­ï¼Œè®©æ‹¼å†™å•è¯æ£€æŸ¥é”™è¯¯çš„æ³¢æµªçº¿æ•ˆæœæ¶ˆå¤±ã€‚ è‡ªå·±é€ çš„è¯åº“åœ¨ä¸Šå›¾æ‰€ç¤ºä½ç½® å¿«é€Ÿç§»é™¤å½“å‰ç±»æ‰€ç»§æ‰¿çš„æ¥å£ï¼Œå¹¶ä¸”åŒæ—¶æ¸…ç©ºå·²ç»å†™å¥½çš„è¯¥æ¥å£æ‰€æœ‰çš„ Override æ–¹æ³•ã€‚ å…‰æ ‡åªèƒ½æ–¹å¼ æ¥å£å®ç°ç±» ä¸Šçš„ æ¥å£å¯¹è±¡å•è¯ ä¸Šæ‰å¯ä»¥å®ç°ã€‚ ä¿®æ”¹å…‰æ ‡å½“å‰å…ƒç´ çš„ä½œç”¨åŸŸ ç»™è°ƒç”¨çš„æ–¹æ³•ç”Ÿæˆè¿”å›å€¼ æ ¹æ®è¿”å›å€¼è‡ªåŠ¨å¼ºè½¬ å¯¹å…‰æ ‡æ‰€åœ¨çš„å¯¹è±¡è¿›è¡ŒåŒ…å¯¼å…¥ åˆ‡æ¢æˆé™æ€å¯¼å…¥ æ ¹æ® Language Level çº§åˆ«ä¸åŒï¼ŒJDK ç‰¹æ€§ä¸åŒï¼Œç»™ä¸åŒæ„è§ã€‚Language Level çš„å«ä¹‰åœ¨å…¶ä»–ç« èŠ‚æœ‰è®²è¿‡ã€‚ ç»™ Hibernate çš„ Entity å¯¹è±¡åˆ†é…æ•°æ®æºï¼Œä»è€Œäº§ç”Ÿä¸€ç³»åˆ—æ™ºèƒ½åŠŸèƒ½ ","description":"\n","tags":[],"title":"\nIDEAå¿«æ·é”®","uri":"/posts/post-322/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç®€æ´æ¸…çˆ½çš„ä»£ç é£æ ¼åº”è¯¥æ˜¯å¤§å¤šæ•°å·¥ç¨‹å¸ˆæ‰€æœŸå¾…çš„ã€‚åœ¨å·¥ä½œä¸­ç¬”è€…å¸¸å¸¸å› ä¸ºèµ·åå­—è€Œçº ç»“ï¼Œå¤¸å¼ ç‚¹å¯ä»¥è¯´æ˜¯ç¼–ç¨‹5åˆ†é’Ÿï¼Œå‘½åä¸¤å°æ—¶ï¼\næ¯ä¸ªå…¬å¸éƒ½æœ‰ä¸åŒçš„æ ‡å‡†ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿æŒç»Ÿä¸€ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œæå‡å›¢é˜Ÿç ”å‘æ•ˆèƒ½ã€‚æ‰€ä»¥æœ¬æ–‡ä¸­æ˜¯ç¬”è€…ç»“åˆé˜¿é‡Œå·´å·´å¼€å‘è§„èŒƒï¼Œä»¥åŠå·¥ä½œä¸­çš„è§é—»é’ˆå¯¹Javaé¢†åŸŸç›¸å…³å‘½åè¿›è¡Œæ•´ç†å’Œæ€»ç»“ï¼Œä»…ä¾›å‚è€ƒã€‚\nä¸€ï¼ŒJavaä¸­çš„å‘½åè§„èŒƒ å¥½çš„å‘½åèƒ½ä½“ç°å‡ºä»£ç çš„ç‰¹å¾ï¼Œå«ä¹‰æˆ–è€…æ˜¯ç”¨é€”ï¼Œè®©é˜…è¯»è€…å¯ä»¥æ ¹æ®åç§°çš„å«ä¹‰å¿«é€Ÿå˜æ¸…ç¨‹åºçš„è„‰ç»œã€‚ä¸åŒè¯­è¨€ä¸­é‡‡ç”¨çš„å‘½åå½¢å¼å¤§ç›¸å¾„åº­ï¼ŒJavaä¸­å¸¸ç”¨åˆ°çš„å‘½åå½¢å¼å…±æœ‰ä¸‰ç§ï¼Œæ—¢é¦–å­—æ¯å¤§å†™çš„UpperCamelCaseï¼Œé¦–å­—æ¯å°å†™çš„lowerCamelCaseä»¥åŠå…¨éƒ¨å¤§å†™çš„å¹¶ç”¨ä¸‹åˆ’çº¿åˆ†å‰²å•è¯çš„UPPERCAMELUNSER_SCOREã€‚é€šå¸¸çº¦å®šï¼Œç±»ä¸€èˆ¬é‡‡ç”¨å¤§é©¼å³°å‘½åï¼Œæ–¹æ³•å’Œå±€éƒ¨å˜é‡ä½¿ç”¨å°é©¼å³°å‘½åï¼Œè€Œå¤§å†™ä¸‹åˆ’çº¿å‘½åé€šå¸¸æ˜¯å¸¸é‡å’Œæšä¸¾ä¸­ä½¿ç”¨ã€‚\nç±»å‹(å) çº¦æŸ ä¾‹ é¡¹ç›® å…¨éƒ¨å°å†™å¤šä¸ªå•è¯ç”¨ä¸­åˆ’çº¿åˆ†éš”â€˜-â€™ spring-cloud åŒ… å…¨éƒ¨å°å†™ com.alibaba.fastjson ç±» å•è¯é¦–å­—æ¯å¤§å†™ Feature,FieldDeserializer å˜é‡ é¦–å­—æ¯å°å†™å¤šä¸ªå•è¯ç»„æˆæ—¶ï¼Œé™¤é¦–ä¸ªå•è¯å…¶ä»–å•è¯é¦–å­—æ¯éƒ½è¦å¤§å†™ password, userName å¸¸é‡ å…¨éƒ¨å¤§å†™ï¼Œå¤šä¸ªå•è¯ï¼Œç”¨â€™_â€˜åˆ†éš” CACHEEXPIREDTIME æ–¹æ³• åŒå˜é‡ read(), getById(Long id) äºŒï¼ŒåŒ…å‘½å åŒ…åç»Ÿä¸€ä½¿ç”¨å°å†™ï¼Œç‚¹åˆ†éš”ç¬¦ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè‡ªç„¶è¯­ä¹‰çš„è‹±æ–‡å•è¯æˆ–è€…å¤šä¸ªå•è¯è‡ªç„¶è¿æ¥åˆ°ä¸€å—ï¼ˆå¦‚ springframeworkï¼Œdeepspaceä¸éœ€è¦ä½¿ç”¨ä»»ä½•åˆ†å‰²ï¼‰ã€‚åŒ…åç»Ÿä¸€ä½¿ç”¨å•æ•°å½¢å¼ï¼Œå¦‚æœç±»å‘½æœ‰å¤æ•°å«ä¹‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤æ•°å½¢å¼ã€‚\nåŒ…åçš„æ„æˆå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ å››éƒ¨åˆ†ã€å‰ç¼€ã€‘ ã€å‘èµ·è€…åã€‘ã€é¡¹ç›®åã€‘ã€æ¨¡å—åã€‘ã€‚å¸¸è§çš„å‰ç¼€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š\nå‰ç¼€ ä¾‹ å«ä¹‰ indiæˆ–onem indi.å‘èµ·è€…å.é¡¹ç›®å.æ¨¡å—å.â€¦â€¦ ä¸ªä½“é¡¹ç›®ä¸ªäººå‘èµ·ï¼Œä½†éè‡ªå·±ç‹¬è‡ªå®Œæˆå¯å…¬å¼€æˆ–ç§æœ‰é¡¹ç›®ï¼Œcopyrightä¸»è¦å±äºå‘èµ·è€…ã€‚ pers pers.ä¸ªäººå.é¡¹ç›®å.æ¨¡å—å.â€¦â€¦ ä¸ªäººé¡¹ç›®æŒ‡ä¸ªäººå‘èµ·ï¼Œç‹¬è‡ªå®Œæˆï¼Œå¯åˆ†äº«çš„é¡¹ç›®copyrightä¸»è¦å±äºä¸ªäºº priv priv.ä¸ªäººå.é¡¹ç›®å.æ¨¡å—å.â€¦â€¦ ç§æœ‰é¡¹ç›®ï¼ŒæŒ‡ä¸ªäººå‘èµ·ï¼Œç‹¬è‡ªå®Œæˆéå…¬å¼€çš„ç§äººä½¿ç”¨çš„é¡¹ç›®ï¼Œcopyrightå±äºä¸ªäººã€‚ team team.å›¢é˜Ÿå.é¡¹ç›®å.æ¨¡å—å.â€¦â€¦ å›¢é˜Ÿé¡¹ç›®ï¼ŒæŒ‡ç”±å›¢é˜Ÿå‘èµ·å¹¶ç”±è¯¥å›¢é˜Ÿå¼€å‘çš„é¡¹ç›®copyrightå±äºè¯¥å›¢é˜Ÿæ‰€æœ‰ é¡¶çº§åŸŸå com.å…¬å¸å.é¡¹ç›®å.æ¨¡å—å.â€¦â€¦ å…¬å¸é¡¹ç›®copyrightç”±é¡¹ç›®å‘èµ·çš„å…¬å¸æ‰€æœ‰ ä¸‰ï¼Œç±»å‘½å ç±»åä½¿ç”¨å¤§é©¼å³°å‘½åå½¢å¼ï¼Œç±»å‘½é€šå¸¸æ—¶åè¯æˆ–åè¯çŸ­è¯­ï¼Œæ¥å£åé™¤äº†ç”¨åè¯å’Œåè¯çŸ­è¯­ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å½¢å®¹è¯æˆ–å½¢å®¹è¯çŸ­è¯­ï¼Œå¦‚Cloneableï¼ŒCallableç­‰ï¼Œè¡¨ç¤ºå®ç°è¯¥æ¥å£çš„ç±»æœ‰æŸç§åŠŸèƒ½æˆ–èƒ½åŠ›ã€‚å¯¹äºæµ‹è¯•ç±»åˆ™ä»¥å®ƒè¦æµ‹è¯•çš„ç±»å¼€å¤´ï¼Œä»¥Testç»“å°¾ï¼Œå¦‚HashMapTestã€‚\nå¯¹äºä¸€äº›ç‰¹æ®Šç‰¹æœ‰åè¯ç¼©å†™ä¹Ÿå¯ä»¥ä½¿ç”¨å…¨å¤§å†™å‘½åï¼Œæ¯”å¦‚XMLHttpRequestï¼Œä¸è¿‡ç¬”è€…è®¤ä¸ºç¼©å†™ä¸‰ä¸ªå­—æ¯ä»¥å†…éƒ½å¤§å†™ï¼Œè¶…è¿‡ä¸‰ä¸ªå­—æ¯åˆ™æŒ‰ç…§è¦ç»™å•è¯ç®—ã€‚è¿™ä¸ªæ²¡æœ‰æ ‡å‡†å¦‚é˜¿é‡Œå·´å·´ä¸­fastjsonç”¨JSONObjectä½œä¸ºç±»å‘½ï¼Œè€Œgoogleåˆ™ä½¿ç”¨JsonObjectRequestå‘½åï¼Œå¯¹äºè¿™ç§ç‰¹æ®Šçš„ç¼©å†™ï¼ŒåŸåˆ™æ˜¯ç»Ÿä¸€å°±å¥½ã€‚\nå±æ€§(ç±») çº¦æŸ ä¾‹ æŠ½è±¡ Abstract æˆ–Base å¼€å¤´ BaseUserService æšä¸¾ Enum ä½œä¸ºåç¼€ OSType å·¥å…· Utilsä½œä¸ºåç¼€ StringUtils å¼‚å¸¸ Exceptionç»“å°¾ RuntimeException æ¥å£å®ç° æ¥å£å+ Impl UserServiceImpl é¢†åŸŸæ¨¡å‹ç›¸ /DO/DTO/VO/DAO æ­£ä¾‹ï¼šUserDAOåä¾‹ï¼šUserDao è®¾è®¡æ¨¡å¼ç›¸å…³ Builderï¼ŒFactoryç­‰ å½“ä½¿ç”¨åˆ°è®¾è®¡æ¨¡å¼æ—¶è¦ä½¿ç”¨å¯¹åº”çš„è®¾è®¡æ¨¡å¼ä½œä¸ºåç¼€å¦‚ThreadFactory å¤„ç†ç‰¹å®šåŠŸèƒ½ Handlerï¼ŒPredicateValidator è¡¨ç¤ºå¤„ç†å™¨ï¼Œæ ¡éªŒå™¨ï¼Œæ–­è¨€è¿™äº›ç±»å·¥å‚è¿˜æœ‰é…å¥—çš„æ–¹æ³•åå¦‚handleï¼Œpredicateï¼Œvalidate æµ‹è¯• Teståç¼€ UserServiceTestè¡¨ç¤ºç”¨æ¥æµ‹è¯•UserServiceç±»çš„ MVCåˆ†å±‚ Controllerï¼ŒServiceServiceImplï¼ŒDAOåç¼€ UserManageControllerUserManageDAO å››ï¼Œæ–¹æ³• æ–¹æ³•å‘½åé‡‡ç”¨å°é©¼å³°çš„å½¢å¼ï¼Œé¦–å­—å°å†™ï¼Œå¾€åçš„æ¯ä¸ªå•è¯é¦–å­—æ¯éƒ½è¦å¤§å†™ã€‚å’Œç±»åä¸åŒçš„æ˜¯ï¼Œæ–¹æ³•å‘½åä¸€èˆ¬ä¸ºåŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ï¼Œä¸å‚æ•°æˆ–å‚æ•°åå…±åŒç»„æˆåŠ¨å®¾çŸ­è¯­ï¼Œå³åŠ¨è¯ + åè¯ã€‚ä¸€ä¸ªå¥½çš„å‡½æ•°åä¸€èˆ¬èƒ½é€šè¿‡åå­—ç›´æ¥è·çŸ¥è¯¥å‡½æ•°å®ç°ä»€ä¹ˆæ ·çš„åŠŸèƒ½ã€‚\n4.1 è¿”å›çœŸä¼ªå€¼çš„æ–¹æ³• ä½ç½® å•è¯ æ„ä¹‰ ä¾‹ pre is å¯¹è±¡æ˜¯å¦ç¬¦åˆæœŸå¾…çš„çŠ¶æ€ isValid pre can å¯¹è±¡èƒ½å¦æ‰§è¡Œæ‰€æœŸå¾…çš„åŠ¨ä½œ canRemove pre should è°ƒç”¨æ–¹æ‰§è¡ŒæŸä¸ªå‘½ä»¤æˆ–æ–¹æ³•æ˜¯å¥½è¿˜æ˜¯ä¸å¥½åº”ä¸åº”è¯¥ï¼Œæˆ–è€…è¯´æ¨èè¿˜æ˜¯ä¸æ¨è shouldMigrate pre has å¯¹è±¡æ˜¯å¦æŒæœ‰æ‰€æœŸå¾…çš„æ•°æ®å’Œå±æ€§ hasObservers pre needs è°ƒç”¨æ–¹æ˜¯å¦éœ€è¦æ‰§è¡ŒæŸä¸ªå‘½ä»¤æˆ–æ–¹æ³• needsMigrate 4.2 ç”¨æ¥æ£€æŸ¥çš„æ–¹æ³• å•è¯ æ„ä¹‰ ä¾‹ ensure æ£€æŸ¥æ˜¯å¦ä¸ºæœŸå¾…çš„çŠ¶æ€ ä¸æ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸æˆ–è¿”å›error code ensureCapacity validate æ£€æŸ¥æ˜¯å¦ä¸ºæ­£ç¡®çš„çŠ¶æ€ ä¸æ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸æˆ–è¿”å›error code validateInputs 4.3 æŒ‰éœ€æ±‚æ‰æ‰§è¡Œçš„æ–¹æ³• ä½ç½® å•è¯ æ„ä¹‰ ä¾‹ suf IfNeeded éœ€è¦çš„æ—¶å€™æ‰§è¡Œä¸éœ€è¦åˆ™ä»€ä¹ˆéƒ½ä¸åš drawIfNeeded pre might åŒä¸Š mightCreate pre try å°è¯•æ‰§è¡Œå¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸æˆ–æ˜¯è¿”å›errorcode tryCreate suf OrDefault å°è¯•æ‰§è¡Œå¤±è´¥æ—¶è¿”å›é»˜è®¤å€¼ getOrDefault suf OrElse å°è¯•æ‰§è¡Œå¤±è´¥æ—¶è¿”å›å®é™…å‚æ•°ä¸­æŒ‡å®šçš„å€¼ getOrElse pre force å¼ºåˆ¶å°è¯•æ‰§è¡ŒerroræŠ›å‡ºå¼‚å¸¸æˆ–æ˜¯è¿”å›å€¼ forceCreate, forceStop 4.4 å¼‚æ­¥ç›¸å…³æ–¹æ³• ä½ç½® å•è¯ æ„ä¹‰ ä¾‹ pre blocking çº¿ç¨‹é˜»å¡æ–¹æ³• blockingGetUser suf InBackground æ‰§è¡Œåœ¨åå°çº¿ç¨‹ doInBackground suf Async å¼‚æ­¥æ–¹æ³• sendAsync suf Sync åŒæ­¥æ–¹æ³• sendSync pre/alo schedule Jobå’ŒTaskæ”¾å…¥é˜Ÿåˆ— schedule, scheduleJob pre/alo post åŒä¸Š postJob pre/alo execute æ‰§è¡Œå¼‚æ­¥æˆ–åŒæ­¥æ–¹æ³• execute,executeTask pre/alo start åŒä¸Š star,tstartJob pre/alo cancel åœæ­¢å¼‚æ­¥æ–¹æ³• cance,cancelJob pre/alo stop åŒä¸Š stop,stopJob 4.5 å›è°ƒæ–¹æ³• ä½ç½® å•è¯ æ„ä¹‰ ä¾‹ pre on äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œ onCompleted pre before äº‹ä»¶å‘ç”Ÿå‰æ‰§è¡Œ beforeUpdate pre pre åŒä¸Š preUpdate pre will åŒä¸Š willUpdate pre after äº‹ä»¶å‘ç”Ÿåæ‰§è¡Œ afterUpdate pre post åŒä¸Š postUpdate pre did åŒä¸Š didUpdate pre should ç¡®è®¤äº‹ä»¶æ˜¯å¦å¯ä»¥æ‰§è¡Œ shouldUpdate 4.6 æ“ä½œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³• å•è¯ æ„ä¹‰ ä¾‹ initialize åˆå§‹åŒ–æˆ–å»¶è¿Ÿåˆå§‹åŒ–ä½¿ç”¨ initialize pause æš‚åœ onPause , pause stop åœæ­¢ onStop, stop abandon é”€æ¯çš„æ›¿ä»£ abandon destroy åŒä¸Š destroy dispose åŒä¸Š dispose 4.7 ä¸é›†åˆæ“ä½œç›¸å…³çš„æ–¹æ³• å•è¯ æ„ä¹‰ ä¾‹ contains æ˜¯åŒ…å«æŒ‡å®šå¯¹è±¡ç›¸åŒçš„å¯¹è±¡ contains add æ·»åŠ  addJob append æ·»åŠ  appendJob insert æ’å…¥åˆ°ä¸‹æ ‡n insertJob put æ·»åŠ ä¸keyå¯¹åº”çš„å…ƒç´  putJob remove ç§»é™¤å…ƒç´  removeJob enqueue æ·»åŠ åˆ°é˜Ÿåˆ—çš„æœ€æœ«ä½ enqueueJob dequeue ä»é˜Ÿåˆ—ä¸­å¤´éƒ¨å–å‡ºå¹¶ç§»é™¤ dequeueJob push æ·»åŠ åˆ°æ ˆå¤´ pushJob pop ä»æ ˆå¤´å–å‡ºå¹¶ç§»é™¤ popJob peek ä»æ ˆå¤´å–å‡ºä½†ä¸ç§»é™¤ peekJob find å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„æŸç‰© findById 4.8 ä¸æ•°æ®ç›¸å…³çš„æ–¹æ³• å•è¯ æ„ä¹‰ ä¾‹ create æ–°åˆ›å»º createAccount new æ–°åˆ›å»º newAccount from ä»æ—¢æœ‰çš„æŸç‰©æ–°å»ºæˆ–æ˜¯ä»å…¶ä»–çš„æ•°æ®æ–°å»º fromConfig to è½¬æ¢ toString update æ›´æ–°æ—¢æœ‰æŸç‰© updateAccount load è¯»å– loadAccount fetch è¿œç¨‹è¯»å– fetchAccount delete åˆ é™¤ deleteAccount remove åˆ é™¤ removeAccount save ä¿å­˜ saveAccount store ä¿å­˜ storeAccount commit ä¿å­˜ commitChange apply ä¿å­˜æˆ–åº”ç”¨ applyChange clear æ¸…é™¤æˆ–æ˜¯æ¢å¤åˆ°åˆå§‹çŠ¶æ€ clearAll reset æ¸…é™¤æˆ–æ˜¯æ¢å¤åˆ°åˆå§‹çŠ¶æ€ resetAll 4.9 æˆå¯¹å‡ºç°çš„åŠ¨è¯ å•è¯ æ„ä¹‰ getè·å– set è®¾ç½® add å¢åŠ  remove åˆ é™¤ create åˆ›å»º destory ç§»é™¤ start å¯åŠ¨ stop åœæ­¢ open æ‰“å¼€ close å…³é—­ read è¯»å– write å†™å…¥ load è½½å…¥ save ä¿å­˜ create åˆ›å»º destroy é”€æ¯ begin å¼€å§‹ end ç»“æŸ backup å¤‡ä»½ restore æ¢å¤ import å¯¼å…¥ export å¯¼å‡º split åˆ†å‰² merge åˆå¹¶ inject æ³¨å…¥ extract æå– attach é™„ç€ detach è„±ç¦» bind ç»‘å®š separate åˆ†ç¦» view æŸ¥çœ‹ browse æµè§ˆ edit ç¼–è¾‘ modify ä¿®æ”¹ select é€‰å– mark æ ‡è®° copy å¤åˆ¶ paste ç²˜è´´ undo æ’¤é”€ redo é‡åš insert æ’å…¥ delete ç§»é™¤ add åŠ å…¥ append æ·»åŠ  clean æ¸…ç† clear æ¸…é™¤ index ç´¢å¼• sort æ’åº find æŸ¥æ‰¾ search æœç´¢ increase å¢åŠ  decrease å‡å°‘ play æ’­æ”¾ pause æš‚åœ launch å¯åŠ¨ run è¿è¡Œ compile ç¼–è¯‘ execute æ‰§è¡Œ debug è°ƒè¯• trace è·Ÿè¸ª observe è§‚å¯Ÿ listen ç›‘å¬ build æ„å»º publish å‘å¸ƒ input è¾“å…¥ output è¾“å‡º encode ç¼–ç  decode è§£ç  encrypt åŠ å¯† decrypt è§£å¯† compress å‹ç¼© decompress è§£å‹ç¼© pack æ‰“åŒ… unpack è§£åŒ… parse è§£æ emit ç”Ÿæˆ connect è¿æ¥ disconnect æ–­å¼€ send å‘é€ receive æ¥æ”¶ download ä¸‹è½½ upload ä¸Šä¼  refresh åˆ·æ–° synchronize åŒæ­¥ update æ›´æ–° revert å¤åŸ lock é”å®š unlock è§£é” check out ç­¾å‡º check in ç­¾å…¥ submit æäº¤ commit äº¤ä»˜ push æ¨ pull æ‹‰ expand å±•å¼€ collapse æŠ˜å  begin èµ·å§‹ end ç»“æŸ start å¼€å§‹ finish å®Œæˆ enter è¿›å…¥ exit é€€å‡º abort æ”¾å¼ƒ quit ç¦»å¼€ obsolete åºŸå¼ƒ depreciate åºŸæ—§ collect æ”¶é›† aggregate èšé›† äº”ï¼Œå˜é‡\u0026å¸¸é‡å‘½å 5.1 å˜é‡å‘½å å˜é‡æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œä¸­å¯ä»¥æ”¹å˜å…¶å€¼çš„é‡ï¼ŒåŒ…æ‹¬æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å˜é‡åç”±å¤šå•è¯ç»„æˆæ—¶ï¼Œç¬¬ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å°å†™ï¼Œå…¶åå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œä¿—ç§°éª†é©¼å¼å‘½åæ³•ï¼ˆä¹Ÿç§°é©¼å³°å‘½åæ³•ï¼‰ï¼Œå¦‚ computedValuesï¼Œindexã€å˜é‡å‘½åæ—¶ï¼Œå°½é‡ç®€çŸ­ä¸”èƒ½æ¸…æ¥šçš„è¡¨è¾¾å˜é‡çš„ä½œç”¨ï¼Œå‘½åä½“ç°å…·ä½“çš„ä¸šåŠ¡å«ä¹‰å³å¯ã€‚\nå˜é‡åä¸åº”ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·å¼€å¤´ï¼Œå°½ç®¡è¿™åœ¨è¯­æ³•ä¸Šæ˜¯å…è®¸çš„ã€‚å˜é‡ååº”ç®€çŸ­ä¸”å¯Œäºæè¿°ã€‚å˜é‡åçš„é€‰ç”¨åº”è¯¥æ˜“äºè®°å¿†ï¼Œå³ï¼Œèƒ½å¤ŸæŒ‡å‡ºå…¶ç”¨é€”ã€‚å°½é‡é¿å…å•ä¸ªå­—ç¬¦çš„å˜é‡åï¼Œé™¤éæ˜¯ä¸€æ¬¡æ€§çš„ä¸´æ—¶å˜é‡ã€‚pojoä¸­çš„å¸ƒå°”å˜é‡ï¼Œéƒ½ä¸è¦åŠ is(æ•°æ®åº“ä¸­çš„å¸ƒå°”å­—æ®µå…¨éƒ½è¦åŠ  is_ å‰ç¼€)ã€‚\n5.2 å¸¸é‡å‘½å å¸¸é‡å‘½åCONSTANT_CASEï¼Œä¸€èˆ¬é‡‡ç”¨å…¨éƒ¨å¤§å†™ï¼ˆä½œä¸ºæ–¹æ³•å‚æ•°æ—¶é™¤å¤–ï¼‰ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿åˆ†å‰²ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å¸¸é‡å‘¢ï¼Ÿ\nå¸¸é‡æ˜¯åœ¨ä½œç”¨åŸŸå†…ä¿æŒä¸å˜çš„å€¼ï¼Œä¸€èˆ¬ä½¿ç”¨finalè¿›è¡Œä¿®é¥°ã€‚ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§ï¼Œå…¨å±€å¸¸é‡ï¼ˆpublic static finalä¿®é¥°ï¼‰ï¼Œç±»å†…å¸¸é‡ï¼ˆprivate static final ä¿®é¥°ï¼‰ä»¥åŠå±€éƒ¨å¸¸é‡ï¼ˆæ–¹æ³•å†…ï¼Œæˆ–è€…å‚æ•°ä¸­çš„å¸¸é‡ï¼‰ï¼Œå±€éƒ¨å¸¸é‡æ¯”è¾ƒç‰¹æ®Šï¼Œé€šå¸¸é‡‡ç”¨å°é©¼å³°å‘½åå³å¯ã€‚\n/** * ä¸€ä¸ªdemo * * @author XiaoMage * @date 2020-07-07 00:25 **/ public class HelloWorld { //å±€éƒ¨å¸¸é‡(æ­£ä¾‹) public static final long USER_MESSAGE_CACHE_EXPIRE_TIME = 3600; //å±€éƒ¨å¸¸é‡(åä¾‹ï¼Œå‘½åä¸æ¸…æ™°ï¼‰ public static final long MESSAGE_CACHE_TIME = 3600; // å…¨å±€å¸¸é‡ private static final String ERROR_MESSAGE = \"error message\"; //æˆå‘˜å˜é‡ private int currentUserId; /** * æ§åˆ¶å°æ‰“å° {@code message} ä¿¡æ¯ * * @param message æ¶ˆæ¯ä½“ï¼Œå±€éƒ¨å¸¸é‡ */ public void sayHello ( final String message ) { System.out.println(\"Hello world!\"); } } å¸¸é‡ä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„ä¸šåŠ¡å«ä¹‰,ä¸è¦å®³æ€•é•¿åº¦è¿‡é•¿è€Œè¿›è¡Œçœç•¥æˆ–è€…ç¼©å†™ã€‚å¦‚ï¼Œç”¨æˆ·æ¶ˆæ¯ç¼“å­˜è¿‡æœŸæ—¶é—´çš„è¡¨ç¤ºï¼Œé‚£ç§æ–¹å¼æ›´ä½³æ¸…æ™°ï¼Œäº¤ç»™ä½ æ¥è¯„åˆ¤ã€‚\né€šç”¨å‘½åè§„åˆ™ 1.å°½é‡ä¸è¦ä½¿ç”¨æ‹¼éŸ³ï¼›æœç»æ‹¼éŸ³å’Œè‹±æ–‡æ··ç”¨ã€‚å¯¹äºä¸€äº›é€šç”¨çš„è¡¨ç¤ºæˆ–è€…éš¾ä»¥ç”¨è‹±æ–‡æè¿°çš„å¯ä»¥é‡‡ç”¨æ‹¼éŸ³ï¼Œä¸€æ—¦é‡‡ç”¨æ‹¼éŸ³å°±åšå†³ä¸èƒ½å’Œè‹±æ–‡æ··ç”¨ã€‚æ­£ä¾‹ï¼šBeiJingï¼Œ HangZhou åä¾‹ï¼švalidateCanShu\n2.å‘½åè¿‡ç¨‹ä¸­å°½é‡ä¸è¦å‡ºç°ç‰¹æ®Šçš„å­—ç¬¦ï¼Œå¸¸é‡é™¤å¤–ã€‚\n3.å°½é‡ä¸è¦å’Œjdkæˆ–è€…æ¡†æ¶ä¸­å·²å­˜åœ¨çš„ç±»é‡åï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨javaä¸­çš„å…³é”®å­—å‘½åã€‚\n4.\u003eå¦™ç”¨ä»‹è¯ï¼Œå¦‚for(å¯ä»¥ç”¨åŒéŸ³çš„4ä»£æ›¿), to(å¯ç”¨åŒéŸ³çš„2ä»£æ›¿), from, withï¼Œofç­‰ã€‚å¦‚ç±»åé‡‡ç”¨User4RedisDOï¼Œæ–¹æ³•ågetUserInfoFromRedisï¼ŒconvertJson2Mapç­‰ã€‚\nå…­ï¼Œä»£ç æ³¨è§£ 6.1 æ³¨è§£çš„åŸåˆ™ å¥½çš„å‘½åå¢åŠ ä»£ç é˜…è¯»æ€§ï¼Œä»£ç çš„å‘½åå¾€å¾€æœ‰ä¸¥æ ¼çš„é™åˆ¶ã€‚è€Œæ³¨è§£ä¸åŒï¼Œç¨‹åºå‘˜å¾€å¾€å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œå•å¹¶ä¸æ„å‘³ç€å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºä¹‹èƒ¡ä½œéä¸ºã€‚ä¼˜é›…çš„æ³¨è§£é€šå¸¸è¦æ»¡è¶³ä¸‰è¦ç´ ã€‚\n1.Nothing is strange æ²¡æœ‰æ³¨è§£çš„ä»£ç å¯¹äºé˜…è¯»è€…éå¸¸ä¸å‹å¥½ï¼Œå“ªæ€•ä»£ç å†™çš„åœ¨æ¸…é™¤ï¼Œé˜…è¯»è€…è‡³å°‘ä»å¿ƒç†ä¸Šä¼šæœ‰æŠµè§¦ï¼Œæ›´ä½•å†µä»£ç ä¸­å¾€å¾€æœ‰è®¸å¤šå¤æ‚çš„é€»è¾‘ï¼Œæ‰€ä»¥ä¸€å®šè¦å†™æ³¨è§£ï¼Œä¸ä»…è¦è®°å½•ä»£ç çš„é€»è¾‘ï¼Œè¿˜æœ‰è¯´æ¸…æ¥šä¿®æ”¹çš„é€»è¾‘ã€‚\n2.Less is more ä»ä»£ç ç»´æŠ¤è§’åº¦æ¥è®²ï¼Œä»£ç ä¸­çš„æ³¨è§£ä¸€å®šæ˜¯ç²¾åä¸­çš„ç²¾åã€‚åˆç†æ¸…æ™°çš„å‘½åèƒ½è®©ä»£ç æ˜“äºç†è§£ï¼Œå¯¹äºé€»è¾‘ç®€å•ä¸”å‘½åè§„èŒƒï¼Œèƒ½å¤Ÿæ¸…æ¥šè¡¨è¾¾ä»£ç åŠŸèƒ½çš„ä»£ç ä¸éœ€è¦æ³¨è§£ã€‚æ»¥ç”¨æ³¨è§£ä¼šå¢åŠ é¢å¤–çš„è´Ÿæ‹…ï¼Œæ›´ä½•å†µå¤§éƒ¨åˆ†éƒ½æ˜¯åºŸè¯ã€‚\n// æ ¹æ®idè·å–ä¿¡æ¯ã€åºŸè¯æ³¨è§£ã€‘ Advance with the time æ³¨è§£åº”è¯¥éšç€ä»£ç çš„å˜åŠ¨è€Œæ”¹å˜ï¼Œæ³¨è§£è¡¨è¾¾çš„ä¿¡æ¯è¦ä¸ä»£ç ä¸­å®Œå…¨ä¸€è‡´ã€‚é€šå¸¸æƒ…å†µä¸‹ä¿®æ”¹ä»£ç åä¸€å®šè¦ä¿®æ”¹æ³¨è§£ã€‚ 6.2 æ³¨è§£æ ¼å¼ æ³¨è§£å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯javadocæ³¨è§£ï¼Œå¦ä¸€ç§æ˜¯ç®€å•æ³¨è§£ã€‚javadocæ³¨è§£å¯ä»¥ç”ŸæˆJavaAPIä¸ºå¤–éƒ¨ç”¨æˆ·æä¾›æœ‰æ•ˆçš„æ”¯æŒjavadocæ³¨è§£é€šå¸¸åœ¨ä½¿ç”¨IDEAï¼Œæˆ–è€…Eclipseç­‰å¼€å‘å·¥å…·æ—¶éƒ½å¯ä»¥è‡ªåŠ¨ç”Ÿæˆï¼Œä¹Ÿæ”¯æŒè‡ªå®šä¹‰çš„æ³¨è§£æ¨¡æ¿ï¼Œä»…éœ€è¦å¯¹å¯¹åº”çš„å­—æ®µè¿›è¡Œè§£é‡Šã€‚å‚ä¸åŒä¸€é¡¹ç›®å¼€å‘çš„åŒå­¦ï¼Œå°½é‡è®¾ç½®æˆç›¸åŒçš„æ³¨è§£æ¨¡æ¿ã€‚\na. åŒ…æ³¨è§£ åŒ…æ³¨è§£åœ¨å·¥ä½œä¸­å¾€å¾€æ¯”è¾ƒç‰¹æ®Šï¼Œé€šè¿‡åŒ…æ³¨è§£å¯ä»¥å¿«é€ŸçŸ¥æ‚‰å½“å‰åŒ…ä¸‹ä»£ç æ˜¯ç”¨æ¥å®ç°å“ªäº›åŠŸèƒ½ï¼Œå¼ºçƒˆå»ºè®®å·¥ä½œä¸­åŠ ä¸Šï¼Œå°¤å…¶æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„åŒ…ï¼ŒåŒ…æ³¨è§£ä¸€èˆ¬åœ¨åŒ…çš„æ ¹ç›®å½•ä¸‹ï¼Œåç§°ç»Ÿä¸€ä¸ºpackage-info.javaã€‚\n/** * è½åœ°ä¹Ÿè´¨é‡æ£€æµ‹ * 1. ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜ * å¯¹å¹¿å‘Šä¸»æŠ•æ”¾çš„å¹¿å‘Šè½åœ°é¡µè¿›è¡Œæ€§èƒ½æ£€æµ‹ï¼Œæ¨¡æ‹Ÿä¸åŒçš„ç³»ç»Ÿï¼Œå¦‚Androidï¼ŒIOSç­‰; æ¨¡æ‹Ÿä¸åŒçš„ç½‘ç»œï¼š2Gï¼Œ3Gï¼Œ4Gï¼Œwifiç­‰ * 2. å¦‚ä½•å®ç° * åŸºäºchromeæµè§ˆå™¨ï¼Œç”¨chromedriveré©±åŠ¨æµè§ˆå™¨ï¼Œè®¾ç½®å¯¹åº”çš„ç½‘ç»œï¼ŒOSå‚æ•°ï¼Œè·å–åˆ°æµè§ˆå™¨è¿”å›ç»“æœã€‚ * æ³¨æ„ï¼šç½‘ç»œç¯å¢ƒé…ç½®ä¿¡æ¯{@link cn.mycookies.landingpagecheck.meta.NetWorkSpeedEnum}ç›®å‰ä½¿ç”¨æ˜¯å¸¸è§„é€Ÿåº¦ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ * @author xiaomage * @time 2020/07/7 20:3 ä¸‹åˆ */ package cn.maruifu.landingpagecheck; b. ç±»æ³¨æ¥ javadocæ³¨è§£ä¸­ï¼Œæ¯ä¸ªç±»éƒ½å¿…é¡»æœ‰æ³¨è§£ã€‚\n/** * Copyright (C), 2019-2020, XiaoMage balabala... * ç±»çš„ä»‹ç»ï¼šè¿™æ˜¯ä¸€ä¸ªç”¨æ¥åšä»€ä¹ˆäº‹æƒ…çš„ç±»ï¼Œæœ‰å“ªäº›åŠŸèƒ½ï¼Œç”¨åˆ°çš„æŠ€æœ¯..... * @author ç±»åˆ›å»ºè€…å§“å ä¿æŒå¯¹é½ * @date åˆ›å»ºæ—¥æœŸ ä¿æŒå¯¹é½ * @version ç‰ˆæœ¬å· ä¿æŒå¯¹é½ */ c. å±æ€§æ³¨è§£ åœ¨æ¯ä¸ªå±æ€§å‰é¢å¿…é¡»åŠ ä¸Šå±æ€§æ³¨é‡Šï¼Œé€šå¸¸æœ‰ä¸€ä¸‹ä¸¤ç§å½¢å¼ï¼Œè‡³äºæ€ä¹ˆé€‰æ‹©ï¼Œä½ é«˜å…´å°±å¥½ï¼Œä¸è¿‡ä¸€ä¸ªé¡¹ç›®ä¸­è¦ä¿æŒç»Ÿä¸€ã€‚\n/** æç¤ºä¿¡æ¯ */ private String userName; /** * å¯†ç  */ private String password; d. æ–¹æ³•æ³¨é‡Š åœ¨æ¯ä¸ªæ–¹æ³•å‰é¢å¿…é¡»åŠ ä¸Šæ–¹æ³•æ³¨é‡Šï¼Œå¯¹äºæ–¹æ³•ä¸­çš„æ¯ä¸ªå‚æ•°ï¼Œä»¥åŠè¿”å›å€¼éƒ½è¦æœ‰è¯´æ˜ã€‚\n/** * æ–¹æ³•çš„è¯¦ç»†è¯´æ˜ï¼Œèƒ½å¹²å˜›ï¼Œæ€ä¹ˆå®ç°çš„ï¼Œæ³¨æ„äº‹é¡¹... * @param xxx å‚æ•°1çš„ä½¿ç”¨è¯´æ˜ï¼Œ èƒ½å¦ä¸ºnull * @return è¿”å›ç»“æœçš„è¯´æ˜ï¼Œ ä¸åŒæƒ…å†µä¸‹ä¼šè¿”å›æ€æ ·çš„ç»“æœ * @throws å¼‚å¸¸ç±»å‹ æ³¨æ˜ä»æ­¤ç±»æ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸çš„è¯´æ˜ */ e. æ„é€ æ–¹æ³•æ³¨é‡Š åœ¨æ¯ä¸ªæ„é€ æ–¹æ³•å‰é¢å¿…é¡»åŠ ä¸Šæ³¨é‡Šï¼Œæ³¨é‡Šæ¨¡æ¿å¦‚ä¸‹ï¼š\n/** * æ„é€ æ–¹æ³•çš„è¯¦ç»†è¯´æ˜ * @param xxx å‚æ•°1çš„ä½¿ç”¨è¯´æ˜ï¼Œ èƒ½å¦ä¸ºnull * @throws å¼‚å¸¸ç±»å‹ æ³¨æ˜ä»æ­¤ç±»æ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸çš„è¯´æ˜ */ è€Œç®€å•æ³¨è§£å¾€å¾€æ˜¯éœ€è¦å·¥ç¨‹å¸ˆå­—èŠ‚å®šä¹‰ï¼Œåœ¨ä½¿ç”¨æ³¨è§£æ—¶åº”è¯¥æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š\næšä¸¾ç±»çš„å„ä¸ªå±æ€§å€¼éƒ½è¦ä½¿ç”¨æ³¨è§£ï¼Œæšä¸¾å¯ä»¥ç†è§£ä¸ºæ˜¯å¸¸é‡ï¼Œé€šå¸¸ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œé€šå¸¸ä¼šè¢«åœ¨å¤šä¸ªåœ°æ–¹å¼•ç”¨ï¼Œå¯¹æšä¸¾çš„ä¿®æ”¹å’Œæ·»åŠ å±æ€§é€šå¸¸ä¼šå¸¦æ¥å¾ˆå¤§çš„å½±å“ã€‚\nä¿æŒæ’ç‰ˆæ•´æ´ï¼Œä¸è¦ä½¿ç”¨è¡Œå°¾æ³¨é‡Šï¼›åŒæ–œæ å’Œæ˜Ÿå·ä¹‹åè¦ç”¨1ä¸ªç©ºæ ¼åˆ†éš”ã€‚\nint id = 1 ; // åä¾‹ï¼šä¸è¦ä½¿ç”¨è¡Œå°¾æ³¨é‡Š //åä¾‹ï¼šæ¢è¡Œç¬¦ä¸æ³¨é‡Šä¹‹é—´æ²¡æœ‰ç¼©è¿› int age = 18 ; // æ­£ä¾‹ï¼šå§“å String name ; /** * 1. å¤šè¡Œæ³¨é‡Š * * 2. å¯¹äºä¸åŒçš„é€»è¾‘è¯´æ˜ï¼Œå¯ä»¥ç”¨ç©ºè¡Œåˆ†éš” */ æ€»ç»“ æ— è®ºæ˜¯å‘½åå’Œæ³¨è§£ï¼Œä»–ä»¬çš„ç›®çš„éƒ½æ˜¯ä¸ºäº†è®©ä»£ç å’Œå·¥ç¨‹å¸ˆè¿›è¡Œå¯¹è¯ï¼Œå¢å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§ã€‚ä¼˜ç§€çš„ä»£ç å¾€å¾€èƒ½å¤Ÿè§åçŸ¥æ„ï¼Œæ³¨è§£å¾€å¾€æ˜¯å¯¹å‘½åçš„è¡¥å……å’Œå®Œå–„ã€‚å‘½åå¤ªéš¾äº†ï¼\nå‚è€ƒæ–‡çŒ®ï¼šã€Šç å‡ºé«˜æ•ˆã€‹ https://www.cnblogs.com/wangcp-2014/p/10215620.html https://qiita.com/KeithYokoma/items/2193cf79ba76563e3db6 https://google.github.io/styleguide/javaguide.html#s2.1-file-name\n","description":"\n","tags":[],"title":"\nç¼–ç 5åˆ†é’Ÿï¼Œå‘½å2å°æ—¶ï¼ŸJavaå¼€å‘éƒ½éœ€è¦å‚è€ƒçš„ä¸€ä»½å‘½åè§„èŒƒï¼","uri":"/posts/post-323/"},{"categories":["è¯­è¨€"],"content":"\n","description":"\n","tags":[],"title":"\nå„ç§ä¹±ç åŸå› åŠç¤ºä¾‹","uri":"/posts/post-324/"},{"categories":["è¯­è¨€"],"content":" public static void main(String[] args) throws Exception{ Class clazz = Class.forName(\"com.mantis.hc.sale.dto.response.ExamAssistCustomerQueryRespDTO\"); Class clazz1 = ExamAssistCustomerQueryRespDTO.class; ExamAssistCustomerQueryRespDTO examAssistCustomerQueryRespDTO = new ExamAssistCustomerQueryRespDTO(); examAssistCustomerQueryRespDTO.setAccount(\"qweqweqweqweqw\"); String attachmenturl = (String) clazz.getMethod(\"getAccount\").invoke(examAssistCustomerQueryRespDTO);//æ‰§è¡Œæ–¹æ³• String attachmenturl1 = (String) clazz1.getMethod(\"getAccount\").invoke(examAssistCustomerQueryRespDTO);//æ‰§è¡Œæ–¹æ³• System.out.println(attachmenturl); System.out.println(attachmenturl1); } ","description":"\n","tags":[],"title":"\nJava é€šè¿‡åå°„åŠ¨æ€æ‰§è¡Œæ–¹æ³•","uri":"/posts/post-325/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":" import java.net.HttpURLConnection; import java.net.URL; import java.util.ArrayList; import java.util.Arrays; import java.util.List; public class TextFile { // éªŒè¯è¡¨å• public static void main(String[] args) throws Exception{ // select group_concat(CONCAT('\"',download_url,'\"')) from course_unit_live_ware where company_id = 6131 ' List\u003cString\u003e list = Arrays.asList(\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/702e126d6d714be0979ae27aaa59893b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/98edd35b7e8a493cbeeda2bf4abeb8d8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/92e2360fc7514bd191b1c248de8fda5d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/85faf19d86084a938571907db4f83c4a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/40dbca378bb943f7b3e37d5b5eac96d2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/801813d720bd4c78a2dd625b67c06d47.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/17edf013973e4165bfc7dde51df5bd35.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7f0d8f3582c0404b8ae2b1f5dc412634.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/432b9e8c14554b97b0e768d0c537e1ec.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9b631ac34bd6481bbad76972aa4fc451.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e14972af0bc544d6ac0b7e9afdc6eacb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/556f9f7f7fad46adbc503d04b828e8d7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/97bf085bedbd4580a4ab11ee3f647bab.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/daaf99588ea74c4096bc5a7a67a863d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/40d2f50034ee48ebb12be2041c7993b1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f1a4c1d1e6dd49f6916b12fa567f7e90.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/465aa654f340470eab8c2b42e5910f9c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8ee3a5f6498c41f09b395eb6a0a196f9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/da32ffe3f65e452d837a3a3f725dc616.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5d26ba917eed4cd993f9277f00136f74.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/305205f4ca904947a12ce6c70f63b2a8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2318f7bebcdf4753a7691f7698fd7276.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7e5dc3b31ee8410198f17c76be171191.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1523b5a96b07454199aa49f754455d9f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/acffe314668c406588c1a4a561623bf1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e530da73cd9b44e696b4c28bee7120ab.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/de71dd25a42c4fe5a8440657e3cb7bcb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3c8b5a8afd9c4e7196d1b72ab2f9d1a0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9c3127b283d8421889d29b634063e575.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/702913e86512412ca059ec0ce1c8dd23.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4399c6b54449437eacc28ed16dae37e9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a82bb1c6e8ba4f7dbfafa52fad6f20f6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b80cfe4d7795401d9a7329cbd2f1c632.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f5db2f998cc2420ab8dd49797c446075.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bc5f5e7339b54ddab1e4fe14ff093a8c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/236aa74e879c43ba9ec8ce9ab5362aa7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9b5181135c514aa6817054c80e8951b5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/814faa0ed3a049e28d283ce46c42e534.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/04a34d0d6e8a45909c1a69bc2c53879a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5035619fd8d046efb801f814eb4d3558.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/655af2f33be44ca6a65d44bd105ae096.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/93c12587782743329023ed1755f1017d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1d419488dbc347dcbf2fa7ad8d907490.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4665ae7009294581be2d8c440cf6ec85.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/76094bdd6e394d6690b33061cb368b08.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dde28a8ad6654df0a41ef060bff1b054.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c4e9fa0593e74f41bc69d5482ebf0ed7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a52b5a15d57f4489869221d9e61882d8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cb65b44b33c84c3eadbb788d265b717a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bd9b7a76d4904e6a9e668c046918aac5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/990a50760fd7423c92f1d22053370790.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bc1bdda8c4a24a39bff8d9e84405de27.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/65959afab74d4c40a4272f5b2bd23462.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/df38fb50715d4fd488bfcb4ae9e5bee0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7c1694b04396468fa4175607af1a7e88.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0f2dc86a8be44e8a9a90b4f3a2eca107.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c929491d7c0d46b8bb259bc298047976.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3ad9793493394a04a92584bdb1202277.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41cbf947e9e547b68e1580c4271203b2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a848a84fd0d4723abb53db288be1dbe.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/26bc66ade8004f0783ec89e5191f1970.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4e4a530640841749221098c7f556ace.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6678c4d1cd2c4e1eabf5e2a5b8a0b9fd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/578021ed9ad34f3888f5a30199fb51e3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f32e6b9987ea470896b851e4176767c6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9890795f2c4749499cc57ba7f0bae515.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a68c04cef9754d12aa238c14e2a66181.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6bea411318a14c5eadcbde42a2b7211d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/904b398d0696462781ae651b1cc6b582.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a59a2f023a63419f99609fd1dae74e9d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6771117fa0a3429da9f23e221f7a5908.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a45d79bcd66f412387a835f060ae2040.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d2989eaf73c4364a6f199c9c424b505.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/362d50b7f5bc43669c007146b3de965c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/97c2992ab3d540549f2af5412c9fefb2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/470e3bc8f4e54078807152d1c052d9a0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a37e58c2c46e4e5295d7afc13263c271.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b7c1354fcea44ddfa6dcc3c25f87e7bc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d31d2de60ffe49a8b52f2b2f701ad4ce.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/03b42aaad4b94ae5a7ed30ecaa7ee135.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fc2c45344443421eb2e5b8fbd8a870ef.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/24fd13b3cd8b4f85996d9737a7a4b38f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4a9f9e3e7da24dcd859b59f134f7e56f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/47c26ed24c79495ebb1550c35702d706.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f9b9028f7b6d45568fdc1b67b159d43f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/209713f818f745a98037960f26398514.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6376fc4b1c6e4e4d96f6a639d8da90df.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/31842ec0a13843828b8f689eb839c3c9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c717c3778c8b4a269a5e1b8722a70b03.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3abc12043a074558b0838cf9d2142d54.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cd63c7b95e68435487b55cef8ad60401.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4cff460653c941c09f561075a6ea094c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/046289ebeb66464f8ee4c9513f2655c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/321ef6ee5f8646959b1462bc9c95b7e1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/38a19f3313864b4c967946ccc8577a8a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8f7a4de2e83e46cfb213b867b22a4042.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cc3373db56284de6975e092b7f228cf6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9944faf6b227420d87f2941f6feae97e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/db36d8b49c224dd798eff66adf10b2a7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2af642a1d6941a7ba81f12db2607fd1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/725521c38fe543c5af09d84979aca35e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6cd3da393aeb460689de4411a950ff74.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a15a5be305e14fb3bd7203d499ecc567.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8049502208b14c7b93225127c8159baa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/afdea3fb6be44d9d90c825b6c75ef3be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5b73b211dc154ca4847fb11a69b6f6c6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/08fafe56896440249bd7d690fc843974.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ad855a6e9dcf49cda150aedac627d3dd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f45f3e1f3c5041699dd8bce6f966243b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/647944e827d04721be28e714154ae901.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6c2f659c6e334417801eb1daafaf135b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2fa519d6f0f64905b01be3e779f29880.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/df0f1e9799f6477c823f7494b7a1aa04.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f4dcf7599b9c4620adf872716c217640.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1ceb49d70da94f5daff406dc37127e19.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ccdb98eb3bf8426e8bde3e223afd3026.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2dae8777056e42f6b22ca9e4b2eac3e4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cfee387fbe9d407e9cb3ce5ed638adcc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ebd27fa837404af194c61d1eac959fd3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1c5180b459eb4ec4857f9981e109abfb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/87b206cbf0e24b18a8540d5738fa842b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3173fedd9d7b4372a11b543814c09423.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b3169327123f441896feaa226773a9a1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/48ebbfe856404df8b989ed4300ffa865.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/47238eef8b974789931b1fc35aa48efa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e1bf5fcde3474dc3bb0244b923447fc3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/43cfeaa763134734ad8330c812276d64.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c618ca9b9b2444b1a1ed00a2e0cf89c9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4fc82e4e91584f82ab6663ce96dd0fa9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d5945638b9694eb9a04bfc284fe4a1ed.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1f4bb2208c0a42e3af0cb1a6182ead1a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ec150daf5d27463ebe6f5e7910109f95.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/85eea4197af44654bbbaeb8bedb6bf42.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f9f2d72878dc425aa2ab7c77889cae2b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/70bf652c2f51496d92f21e337baf1f6b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c74cac5bbc7e45d1815dd3c83296f86d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2abd872158f143ca8ec56d22ef62b54f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a7ad7cbaeab345f7801f1c0c8abc453a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/36b1942b04c1475b927ca4d835f11f4b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7c74d4e6e1224365828bd1f611fd513c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fbe780219f17485a82748950f2ab6ee2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5364ae000d214a088dccf3a9326bea22.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6bfe48dc82204132b68072b3d34fbf29.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8d921d267afe49e0a6697bda05380359.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/63fcef2ff33c45c69395e340a65aa161.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c1c2e9d1c7ed44dbb94623df56862a6b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/33f4db0be5ca472eb38004b1600c055e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6eccb93d0f52447288b7342cda2c3bbe.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f54f3da8813e4ac7bf8ba9174f795d62.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/17a7775f5b6d4f799546305f53ee52ed.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0fc95b9fcc3f4576a0940e9e7efb8ed7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e6ee9403d91b443f9aa9ec807b098264.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/61ae2f85bc1a4355ab5b3fb69afce8b6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/da9119fba59042978ed8e8ed7b145e29.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/10e7ecf7086e4a14a9c380ac0cb1e6f5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/21a8fb0ac5a84a56893b41cf3607bbe1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e4880563e9854638b9af4326364eb96b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e4ab8910528e4dfd9fee0cd8b6fb6a82.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0bd1a001efda45e98d972be536e66c96.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6de2663b03994821a41ff7decb59454e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d422ddcd633a49fc8fff8e16140d40d0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bfdc6fcbf2c342178c0bf1f2aaeeb9cd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aece5d987a44450d84935ef39b9a7191.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f595c285caa74c53b8e9eabad024a484.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/93fd02eab7b74b5997597d1d24646e16.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/631cf8b3ddf548d0b5c4b2a5bbc74cc0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3fc94ebc5df14350b7ff624349c6b58c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dbfeca63b4874a1383c5f716721452ee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3773871bb4944bafb7c3c327c0e60072.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b40760e210c74524ba4396a34036f7db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b62b8ac8a8194fa2a028b9cb8e28b215.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/42a938b887674c109f374ce0bfc96853.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/afaa6ce55bc94d2185b15359a4d789db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1d99d5db80a14e9ba120552026631a53.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c01239c39d27420c8418600266a33ed1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aaea4eb937ec4c388c30bf7708d4be3c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/96f3575572634efabc19946280e4c84f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1b9570d0ecde48039da3898a4a7c3a40.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c081166b33a74fdf9cea16f1ef924f1f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/30716f87fa7144558e834698e9cdaf7c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/725948959892497db16e1fe34d675bb5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9dfea505e88d4057a6a498b20e9b2e93.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d0ec18bd84e46eab629ad108011310a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/15ceab0dc07441ca90ee5c7c7ffd271f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2757b1d23f00407d92faf5c1aef9550c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e340cd08ae894895bcdb47f81851dcd5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/34863b8f7eb147c29262121efb6b6283.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6590bfde51464c3bacf3fb610f3d1acc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4937d28e80684764ae4034af55175256.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/57121fe2bbb54aee9b23eb53b9570bb2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/42db3aa3402749e48de56bf6145bc183.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/da6357ffaef64c04939bebadbdb6905d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8f240821533f40ceb6799e9db3ce6ca5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4bde65129ea4d9e9342cb1b40faa140.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0ab03bb06d344403820611b3352002d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/27209d0481724b84a7bdd278492caaa7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6f6f8e02fd93495eb90249294ded1951.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4f56c72b47684a5b90a4b72ba6ebc1a4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/08999852765e4989831a03aeaaee12be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cc06d4f0c95d496aa51370ceb8353445.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3391b05f8a604846ab2e06a123fe47dd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1f1228d839964a709d3460bcb34ca70f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/848ed3759ead42739ae28c912548796e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41acaa8ecff148a2a7b0a3bd18c5b1c9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/76bfa468be4549e8be8a759168f2e551.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/235d15a8dd674987bd6d6c1dcc6463e5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/af68a15ac82444489b066133aea9364e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/34ef5c8f49a9495a9ac7916d9ae66400.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ba51a40fd01e4225879d1d6b5ba4041b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6d345e4cf7194e35ab4a875948cff8e7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/08aa9c027dd24cfd926f644371f7a616.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b6a261a26c40497e881156086adf43c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/befc62e1d6f843cf8f8380d03fe70314.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aa584d5f9fbd497897dd92c730c6409c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/527b5bde112d40b79d78ee75e443886d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1678b30c91a9447982ddf57f25ae3706.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a688199c1dba467baf1e24e782abb448.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1bd090b0c574493e98e2775fbebec87b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/077494bdfb1d45ac82eac5bbd56131f8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c8bd0dc922b348768e0b5d70c8693286.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c330b7911d4644108cdc2c742fc7eef7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e6c69443c89c4964b8e21d58ee793f52.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37946a398bc14a7086a2fa5579cabead.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f05fb7dec291461bbd7369593471b42d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/67126a414fde458484e0bdbc8e2abd0e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/71a1353575e649b0981005d2daccd3ac.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/528f74c1592f4a7ea484a99e38b876e0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2ed90dd3fd9c452eadea1f9460409238.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7317277cf2d140a0932b89b38c9f35ef.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/833818abbcc1468489e40003c7ed8e73.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1741ebce7c304d9b8ed246862baa17f8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/490e84fbd87b49f9912923f8aac257aa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/01e981fa150840c7b61e8167d048638a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7ec16fbf5f37434ab5d5bda3580ac718.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9791c64c476c40b38b9a6a120cd791d0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6934345b5fbd416aa906e9b357272e43.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/77da91f473ce45b0b513dbee9a6d6e37.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4217239b1d14ca19b936f7a20cc382f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/843311bb924d452cbf9f8b92c9d7725b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/21032a09cf8247c28c7e43f47e1a9268.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/20d60c5b1224401c8f5059bd8bfbc6c9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/470edcb52e5448438ddf0eefebf16b81.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/913bcbe1446e4de69d025edf4ba4fae8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8fb29a70afdc45abb36f0a327fe4c9a5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1c57a9c3222a474d842eddeb3d160b1b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ab5e101b6c374675b48f18c39ce305b1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4405ae77db234aa8a18ab44dc5b9420c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c8c0f2b3179c4dd783a07a718164608b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e3c10a963fd1420e9dd22eec425030cc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2bb7d0149b244408b23f83a58566eca0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/043b4d41c5774f9e8f7f6659fa3244c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8df88e5baf5247819c386976bf5b9727.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e45bf3b8935a4e029a7474c93a6d00fd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8050a0e3b59245ebafd6057249a3e62a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5acef8968dc046a08aa298537ad7b710.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e5ba00b5514e46fea6055f9be573bfd8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a2f8423e90774fb4a2d28b2176d3f28a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a1d5c4bd622b43f98eaa67d3cb611b71.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3d8695a44c4146e69b3747cbe19d49df.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a5fd9b02e39941f4b300983af4e68bdf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c40e1fe177a749ecba2ad5e22e49239a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/005f698dc07f4d56a11bebf89b165e3e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/318c66e0eb254e9cac985ca6d865f73a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/74a067d33d2d472d87f21f640de207ba.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/18c2e65ec53943ee80f6e8c96f16f0a7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/960ba5cb20a3433d8dd63de3c485b9b5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2c053dd926547229906d4edfb8fb720.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9841251ab3d34075b91a05d3a088a317.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5bf7ed7ebdce48e8a2e466ec24787572.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/32519bdde8604d99bc90f13dffbc82e9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9039ae579dc4414d947a05cf3607bcbf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b7547a934d1447d7bdf67da0fbeefc6d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ac381ef03a4a4f9d84966104d6572fe9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5ba6cf6c64404e539d667165b1f86f92.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dcd341f7107f477c9ec36ed5350b6225.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d4f80fa9b8c4843852fd45331ab13f8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1bae7f7c2612430d94a6c9e4ef15706d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/86b7befae3494bb1b5ced5a7f142eb0e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6621475986b74e7cad92f321a999735b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f679ae3072b74e1faf18b992d242327d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/88bfea43c8d3446398ce818ccff9d0c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ef4bd9ea4cec42b080dfb9643ff64dff.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/91a2b48a8e354f19ba633fb32f2e7bf0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5abc237429764d75b3b6cfe8f12748e4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dd0abc5c76af4b4990fdd61c38588535.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8a7800eab12a4528a3b3f0f891e5ce14.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0ae97e79fac245539150f005aa9a726f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e159f7e8e3b54dd8aba4d72b060038fe.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0df42666f8c44204b9a9d776e36bad5d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/675cc8a5010341b5b7c41e25d29264fa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cd7ceab0bdad40cf95a08407e640598c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/93c0ffe1b54c485ca988b9149fb43555.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5535fd57f9124916ae416ca4f070f624.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/809ad13d1825429681d986545412751f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4a3049b53bb54ff1901bd731d73b27ce.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7773657805f64ea6aff300abe8d65adb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/69a0868b745a413197317f7da61e73fd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/51184f8eac134959b2c834ee5f4838df.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dca8fd9556934aec83a100490bd584d3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3404fe69b30741faa5f2d879ed9931d9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9ec19754dc9c4e4a8f673dc7eb8d9f30.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/80d409ecaa18477ba3b77c784150a15c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b66faffcf3ec4079b27d062af4d1b827.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/271b2d9136d649c3a27e3d5838164245.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/835681274cef420fa866ce061bbaef6a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c355ef4d0d374d47b4ae8b0b54279a73.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d5a79245d0ad46eab58e13caf68aee6e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/68bf0b8e1e63413882f400b8aba7f371.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ff7be25eaad644809b8c424b61345659.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4af0c0e261f94824a5d21d5ffe0e4140.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7450551a79b945feb3edd1513cb4dcc9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3b39885d742d47f9b1cbfdb5747847ab.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6d103eb27a374af0b89dbbc7b85c6c04.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41fe90c6eb9846f2a703daa03d0b39f2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5c8cebd47e7349b092f637ba4d243de9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1e823be594554aaa8e8a9e29187800cb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c128564a30244421a864172b4037e02d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/54152d039b624d09a48a49c301c04ba4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fc1077fef7bb4487ad8495233799b75d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8037bb2361524540bfc80b7b1a52276c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c8683a69ea0c47deb1035cb6d9a82442.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/36610fad06e145e0bd600f4f58f6d776.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e1f1acfbdcbf4baab58be731ddbf1bae.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/baaf0a94ecb44b35826faa1274d7dfd3.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6c156fc92c994ba78643d92162d592c4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/25b77ad1a9ce44a6a45dc0901adecd2b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/61c28437be044ae19d04e4374da36ce6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f89ca1336791468e9719f34edb5a366e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4b5cbb39c62342b9be7de598b28ede1a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/94d171c653ba4406844f519ab2a79c04.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c2dc675bd7df4138980f58a3b9003d56.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1f894f7a36054a09bd737f1d6cb76d5e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/84315dfcd47a48e0aecf75d55969ed4c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ba0da0e4af2847c58b45841b8d767c15.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/465af1b101974c78be14bb2748ffa931.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a61557f321a54014bd88eec9182cbbd4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/452dfd2e2097482fa38f7c251bc8426c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2cdf8fad5b6849cf93c6be12feb608d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/76e2aff88d8049cfbaa41033dd649180.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/94fcc06b07b6442d9cfddbf747b877cd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3fd02073bf4b40ff9fecc9e22c1b662f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8f1d9a045f5443228fda61daaa812d90.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e7eb58a8bffb491d934a0fcd4a1bdd01.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/39302efc21f845858e163a1fad20ba2e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/67e9a09a6b874142a285de89bcd20cd7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/48df374868af406f85999c0b95650b5a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/07d22952a0644172934cc09169e32f8e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6437680da9d14b63aca12b24a90cfc18.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/22d5226d6237431fad102b1d8ad9f316.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3426d9c1902f46f8b75f36a42aaa802d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4a6f991b50b1478d8954e712e8dde063.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d52b479f4bfa452e911b4fa38a6ad658.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/faa73b0ca47741e3af687c41c75b86db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/06c63d206da44ea1bbdbb0deac93d4ca.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/38182eaa59344cb48a5ddcfaa1f67ea5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ef5b07a1dfbd44aaa775a748c08969b9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dc08ac73c55c4c9485db43f7dcc1569e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/39980c42a810408e9a970605e2059571.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fec7e04c7cf446ada460123ccb9e7367.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2ab35e1b80fa43e0a4abd3a025dd7c85.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/399fcb0f191c4b0c995caedaf891d4f9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e582e025724d4419b7e7d7941bc452cc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ac4b2ed43b5e4e918acc14142114a135.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/702c6f30ef58469f83854e6ad4af5ff9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/64bbaa7c130d4a839ba1d3240a8a9871.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/40111f24acf54a9d96b579a9fee24656.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c991e18a42ee4c339e471d12235d3055.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dc1b93d8b7174056a40dcf8733c13115.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/365d1845638c43a29c103a6c48697413.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b58e6009d29e40838dbb98d9517a6bee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/10e73afe008d47c187f950dafef3a2ad.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4eaa24f9d2eb423d8dd1a572c9fdb163.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/29f3f05b26ea4fe7bba8b15d768b6789.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/737e5927298b43f3a1b8e73e5f51f18a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dd91cbc9dc3a4baa908e50e342b8fadd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4b193f594b143109f668938ad1a5921.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a922debac164a24b42fcbad5bcb1470.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/315a7b4196fb4c3bb23aa1e9cdc2ae49.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/10738e4317f84511bf0bbdba80661a1b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/27b628ffcd92486f976e6ac93004d013.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c5e83ba8dd954d78a3782d049d88d8ea.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b8653a382df6463485b1c9a40fe6b7c3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e37df4c32aae4c2f8fd759738ae446d7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8507d4a9e42d44f0803843b2cff337b0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a6c0e05c52141fab7c699d677c57e76.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5081249a9e9d490d8bd89ece0c93e863.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/256982e65571426b99f2b0c5ccce0eeb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e27a3eb5ff9f45ff86a2a10d510786c5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b6e9a10bbbf64a64991a2238e6b4fbfb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0bb429d682594de2a1a41749e3ff681e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/639dc2a052b94c0ba7ebddfb7382b8c8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/880cf90703384e9aaa7219255752404e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e8aa8168597045478c011a3518d6db2a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/25691ae70e404347a7e1cdd584588e3f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c14921b56748487dbed6a58ed0e90ef4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6948db0b281d428f928970a71325bb79.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7e174f67f3964d5489904b54c47d8c5f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/adecacbdc1b94be1a09d427bb2d84aa6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/242aa5854a88436399797cd0cf3a7b63.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7066ee27d10c478a83465149c2b93bc9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/52f92d8fb43e4709b25a173ebb733b43.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/695cafeeda00461fb26264c61851e5ca.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f29de63d253d4f8a8ea4610229249d90.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d724c9a9cb144b338a4e00bdd1de36eb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bdd30545d55346caac250e583b0f6ecc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4460f3955f8e460fb9a6f89bdd24d228.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aa9d88d10ebc48f0a2430bef4ff9ca3d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/94733e01686a42a09874194c8de1f6c1.doc\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/01f6358036914b3c98d7b71e03b94865.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1165423b4f954fcb9172ef46cc7ee5af.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bbd2d5ed36d74d60a0c796cbc0138222.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a042a5b737c14fa4b8de2f7cfccb2bf3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/39475ec4e67d4720a3b8434c804b37d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f1ba9e8c7c5e4e9a8e86ea5dcb68af9a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/12335895f10142ed96d68df9def2ef0f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9a97ca2834c142398aca6a4e529d3024.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/690fa63aa5bd49bf9b906c88d2130e7e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/29834c0ba9244c27b2c812996d6bfa3d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/35cb2a44efb646b7a60fdfa914e9340d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/69b94786ab494f4497493c495555d0d6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/07610732e53e46d5a487820df5aadc7e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/75992ee72fdf4a51a720327d0b43cb4c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9f78fa4b2b2f4b09a2107b9ed4ddc845.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/639c16a2256d4e65a0832ab0ad69f1bb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/63b4e06a1c9d440a810a6cbcf69c1ebf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9382bc9d9dbd4f8d9ddc00f09cc33e94.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c974f8138d9043b1aa5a29a9de458bd1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/20aac7d589d5400f836445c5d01635b6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2475e3e624464e949d5e54581b8b3a64.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/281d26289a594462be27067a75b9587b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b1abad5622bb4aeda077af8569c59fcf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/24c17c61410d48cbb1d7f4bbbfbc5e41.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/43185804b24348b69ba9756a5b6f2095.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4bb82f3b1290491ba77e07dfb56525ca.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/54aa7a2b41b74faab26d56057afd94bd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/26206df317d9403293961fde99ea1f50.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/699bb2718f2946d79db97a0e5f241d3d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/61856787250841cd86c7e73a833d11bb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8624612a73b64f86af8e177612f4f81b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/15c754b1b3ad41b38cab68813473fb89.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0106c381b45948078cda7cac307fee93.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/941235c245cd44449c631aa1cd3d81f1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/70bbcbe2523b4e978a2567faa75b648d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/880e1e6510404a99b29561b19177a7ba.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/64f5c482b4034a7bb0c4e87384c66eb3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1605b2ee1c8b4ee281846b043932e75c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/69a1a7dbca9a4f91b869d8b57c4cc4b3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/39c45d5303b04c4db800b480339f3a09.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/475e0124595349b19af8f64a46f7557e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4088bc64f6864537a35be6f854948c96.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5f74511f687b41c3ba211603c64ec5db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6b565a31b5f844e7a9f6bba9b339d407.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/79ab381a5b6c4223b2247816a1af8441.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f1ae7424e3ac48bfbe964163ad8472be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cb0cf0d16bf64294805f27f616393e64.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2a65ab7e0dbc4691bb5598aed02552db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/85f5b890e6e444c58f1f723a2c87c1db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dcc8e5cbc8ec47be9c6c89cbe7e12f18.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dd62f7f09aba4a108fe212e3cc80da56.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/76cdb65d0e2c48c4a3053c4be340c7c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3f3f55d0e54c43348b2e3ea688d5cd23.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d65d7231a714732add3338bf3a9df3f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e41ed80c4faf4a0ea0e52f5083b2dfdf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/06daadfeec294879a69b48d4a89d1484.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c757d3a2a7784ae99fea1755de5bf931.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eb049b187f3a4e3aaa71b0ee5d612013.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8a91f0a71b2b4558b0a7b44717a7cd6a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2051d71c93e54c6382219e8585ae3d95.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ff21ec7d97524610a2297e8a1f35191e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ec7b2dd0e81442e8a64170491f36c01a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/479cf06db942442084b4452f43b881a4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/54d57b776fb042bb888785ea7dea04f5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/384114536f444d36b75b982ad0514793.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/83babf03b072451ebfd8d6c76c5d4acc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/50eb40fa315b4efba105b29a7db942d9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e1aa997b62aa40f891f5df742e9b1c19.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2254b52c5b7a419ab43154064c7567ac.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fbeb0ed3670f49ac8bb3612fe7920a53.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0253ad7ba0e64dd68bc93f18b9a111fb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/14035d86b9f04a25923483340ef9c7c7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/259ee6c20ada4e2bb240f236aaceb028.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f00daa845df54fbda63c3d9dcc14f3f2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cd62a9d13bf2403ab4f15c44ac118c10.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/311f237f51034fc09be401ffdb0e762a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a4363a2f2384aaf9bdfe5e04efc5211.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4840f309ab54431ba07ddd83fe8e4837.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dec5fbb602924cb8bcb2077998837e86.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a4add5b42c724d16b7201358a47618c4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fc914ffc8b86459ba41d55416b70da52.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0edba343989748faa634e6591820122f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7b43e235030445f1a8a6c4538651b925.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b6121616c1cf4db883e37c6743eda8ed.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f7e1423c7f2f4ac890b93a0ce0bb8c76.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/36841b58dcc4409a92bfd674204aca98.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5e9290456aad43fab7fec56673f52986.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ed5fcc9f7d624632b1ea1fd4a84190fa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cae35cb1988a426982f49fba4b5693fb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/66b6aabcc0054bf880a7a6abb5f422bf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5e4521b5e9964c198da52a60cd27968b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/356256cabddb47328c827b40cf15fccb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/505d53a0a7e14715a8f6a3596e043f81.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4fd9455b6114c7b87812af5b0e4dbea.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1de3068763644c889b8321c934854321.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5b3398baeeea42a6b3dc77714a321b7e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3195051803f2416ba1e1ba9623793e28.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9114de7a00b84aa2876719ce7c74ca15.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f739dd3eae314b6bb006e19c5bd08ca9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9895276dfd5549dfbc86f6b5226a5b29.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37c19959b2004aab9ff7ca0dd1eb41aa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4606fd3f47744de0b2ee5459af258d70.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/20af17838a934a309f426410c94e6ecd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/600694989cff49b6ae4cbc52babc9204.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aa458af36d5640eaa688fd1b2bb9d23a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/76eeba2d39ff456094fadeb5cea6a41c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/af336f4017774435a8c0da0425aaffa6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b763fbb391954f8bbdb3513172164705.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/63a0e2478a8f4ad78a62d1ecae523aef.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37446a890b0e406aa61b35570fce3af4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7d88da9b44834e0aa6b4202d7113e71f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/06538f80713f41bea3da56cf3592f6d0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/990454cfb68f4562b233859677874f23.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3d1cf8e22dd4415cb76321411be24cb1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b74c8725be3945aa913cabce4dd3e893.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/78aa8571c6c4454bb133b326d85e59b2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/549f872c2d774ab39431e45e8c956b5a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ac348de5ef5e4c2c9faf0ef3f7cd2d59.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eb47cd31a082476198dd79ea63f19fd0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/54f7efccb09543378ff42916c69cc6e0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d8261608eb6d48a297a553f95e0a068a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dc7c57d585974c8981d9c354067172e5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/27f7228f93a04ad093ef09b47f05983b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9179d42dba5147eca8d56e89dfa9c47b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41b0b01ead8d4485b60cac6a83fae576.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e37ba80e8b74441faed74aa64765dbde.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7f3abd3b46b34e139db898fb498ad932.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d48b6c6ca1ae4d3b90c44aabdad0213d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bb40eff6b4be459cb4f89b8d8d4900d6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1dc10bc2eedd44e7935e9166c546eca5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0cfba0733f26470bbb6dd29f4914e6fb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8f9144830f6e408184ad5dde47a195cc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0326a04e8a5a40a5bea1c0e154240eee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9eaa1fb57991486cb6d23dd548913609.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f8864d59754842dbb6430e87cd72ec39.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8b12f2a30d5d41bfacbacd3f853a848c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/feee3e17ed7542a5802ac11f532ff30f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0c001c7bd98748939a4828f92ebf9d38.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/23add793da424d89a78723812f6365e2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a94f2b52a33a46c3850dc1f2cf17091c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d7b82540121640b6b010b844e77ea082.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a14b9b81abba4e11b5fa321b21f1de72.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/735164e00f6b48209ef9c1e3bb4a13a3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b03727deb7734c06a900af9f65d523db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/58b94440213f46d5aedb23fb26084a14.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9a2b6784298f468e9a7ea99e2e14c161.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/07a2cf8280ea44af88151d810ecfe3f9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7bae0bbef57049f98ce1b14fca74f21c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bd432883f2fa462fb7995b1245e9497b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7bf8986fff294635993d6470864ef1b1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c9b6c906c54943e0aca4895caec17f84.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/304c8142299e4378bd4e48e97be073db.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/be3743874e1a47e28801cd958e646eee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/820257c331f74f99b24e8f5e656e7c95.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/63a9a865af8949c68dcd66fba4faa74a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9c872fad247c4eb98c6bdd8baa08bd21.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/283eb3512fba4ab5aad8994f51e35d1a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5abb915301464266b15505104059fac6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/24338d55f42048d7ba6143e63d52567e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/057d6c1d4f894e43aaa922337c8430a6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/107eb161bf3143149262f8a749c523dd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2dd79ff2253a4949956d80f01b2c7f16.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4674397835254833ad4b49cffe9effcf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bd8fd2d5d605442c8c00831125b940b2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/70ca506a2e5a4b038a71962b5271a545.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/22dac913eca84fda941d1be59f0da2d2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/10a8d09569d9416cb2769a91eed84dd7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/13371166f716446397b7a9c87d2f6967.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/15134a1796c2462d9c7dc7990076518f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a8173d4310364db185d18acd6ca90334.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cda58ff945b84fc49a9f8bab5d6df735.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/32aa020836b74294aa3babdbd94ca3e7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e7bb3e1489804e919bec895fa536e917.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/dc6ed0daeb55493eae264bff8a528f73.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3d796adc5bf041508071d6971f455e8d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3a7a779832c84067aa77008aa1586eb0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d46a1515f5144a14841b5739d5aa3e65.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cfac671942b542848de27ac5c1ecb74e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5e09eed09ec9418ab28fc12707e884fd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eae95b56e044417b87ef302ba49be417.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/45b6062fadce4a559d74a7d1253d3f37.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d13251e9fa604af3ac1b8524560f0e64.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fbdb35f58b1244dd914e056281d4faa0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c05def6005194ddeac5f990abf060d2a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/36bd8072b2e448f8ab8f0f4151c13053.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d5ff6f23647e4dc1b83da9f107ffe62e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/920bed2a57d34502bf70824ed0722044.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/571e4b798d3b47e6929355e40f9906ac.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bdf5d8793e9e4e759bd126de7e470edf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5fd5b6d04cec401d9368d080291d9e6a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/87e2ce05eae3480a80f08917ba6ac8ff.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7742cd7658a64932bed4a8acbc6e8192.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bd90ea804f1e4c93af25ef6a6aa1b51e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c500f325ecd5453e8b5c3b9313141e79.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aaedef0271c1416794505cb2c848e6ee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2c942118749e431cb69f4d26d9d4fde2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/079fdeb7033443909e1b28c745bbf4b8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3130df2c0f4a4ee78e99e64a98cd26e2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2515f16092574509aa3b176efee1e4d9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/56c3bce3be9e48bc969b6d58d8b3f3e4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2c75eedf4d7f4f3ea939d16d3fa3cd2b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/858568f80f464b168114cfe67efe2554.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/edab6b9f241b4eb4805fa624cca3f192.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/629052c0b74e43c2bd3a725c03a673ae.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/13038f7d09644e82a6c0723f437c4271.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9b11d206f9354a9995803c4fa63f6209.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/692e7af2337147908f78a08ed432d59c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37429066dd0e48348cc18a91e890adac.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2285bb94210347c6852d9107b5ab9bb2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/335cc3324a0b4f9dae452ce363d492bc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3366aea5474441d29bcb438ddba49c96.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f60835a0f5ff48b5a59d193aa8e61feb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6e7a5ab971e24524b1c7c775364fc1ae.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a8b37266c4c40e3b8b46e0c3b34e3da.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c9be465289a3409cbafea60054445fa2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2ef58f439aa4b37a56073ddefc5d681.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/05b0827ed49a4d6f95f7caf7580bf0d5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d3e73298f3fc4156a3e1f280c661ecba.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aabac1fc63b54add8c5f8c31d146d842.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4945f90e8fb44e6d8ba5f98e4679ced4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/96f469825c6e4387863e97a981dd5273.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e5d37aa3e195453991a327baa2b04a57.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/35020081e1934cfab7ae6ef67764b23a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a626a231b00d4b1fbdc17e89a86ef9cc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8b955ee5f2b541f7969c7d43ce4c64ea.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a902604a6f3b42a285519ec748fc3a5b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a8c3d8a6dae49049fc0230db78b25ec.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/117e5181cc174eb682018757716825a7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e1a8fc1327974f1fa05ad7022ac91403.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/27852ee41cfd46cebcf1cf8085747417.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e8489771edd948bd8a7b4d02ef7cb69c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/13bbf541ee1b4a479dcf9fbe233bc017.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fa2906f9993e4a57b0e90c8d08bd0406.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/59a88cab0165406e87f3156c187e6bfa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ee351c7819f64f979958c018bdac7a9c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/49394eed32214f1b980824c1ca3a593f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d3fa29f9bc5d430ea93c78d4db5e0edc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f927918fec7a4bf3a7d8a16c096b172e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1a0cb1aafcf942999e8f2002e92f958c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4530f8fb674144ecb2d1ab3024c5ffec.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7f359532f70e491a924509d798b4da4c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0e78d18df108462ba4a0c8dfefd1209b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/461140e7bebe4e8fa6765bc86fcaa1cd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/60bd2450a77b4c9ab2187d4ba52e72c4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6dc800c624dd422bb81e19f6266a21ac.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1b1865c3847548e190b58462d560619c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e62f925e59924fddb27fc23636ccbda1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b8aa913b7c6c47c8849888218f5d576d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d8b62c632b0a41afacc6943e3cca5bde.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bfa6a139b7094ee8bd274511e09e05fd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e85976ab54634200a28d2adf4221cb5f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8167aa5dcdd34eb8a3a10eaa5c1105f6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ff00300087fd458daa63506a2ae8ac37.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/33e27399b0384889b36046ed4c22dae9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6f5f8e55a74c459fb2c65adee6437ace.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f740e3118df643b19a352f1cfc935f2f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/435fa7feeed5426fb3e46b6f4f4554d4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3ef5000a5f2548bfb57a7369c4654b5f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5aeca04a914d4ee4b71f33309bcc9f51.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37236b2da92e45e5b3b385513c713e92.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9de8c7a4fcda4978a8c1874cfa8921cf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a51dba11e2a846ff8a7c338d486503c3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a237ba479be14312b3a8898edc9db00b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8ef281f1d6c8449a8aa6f2c81201d147.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1519398495ab4cefbe72b2cf36fb19cd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/af2f5275f7b94a09bc9882ec443da6d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/13a025e18f434d4ca024792467c554ea.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5ae2273218a8480ebcfb9072c09bf807.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d4eaa0aeedf14c69987abff14330ad72.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/36506d01b46f43e88a14b3cfcb96c566.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/07d27c209a2d4e30ba825da86542396d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/662d27a8539746e2b1ea67abfbf09b3a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6525e23e55804b67af3b4f60fc7ea81c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/37fadf4e614b40b0912d886bc682a60e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/df6ff75bdfe0487aa37bf8f5d9c59764.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c9a0990e9caf4f5d9e4d360d775f03a7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7a8c5db5fbca42c490358775555b6388.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4facb691a84442ad8b6be808ca4b448d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b1175d66b17743e394d83e6412748c1a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/070397a346d9446490e2bac57c5c068d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4fbbe9fa076443e9b975dcbe6c090557.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1289852e40e2415593f36af6cc8b05aa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6a9fa50ac07a4b9d94d41764b036e4f8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ef90c0962e9c49ef805d8d599fa540e6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ccf059c72c134ddc8c23663138d7a3a9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/536c89aa818c4feab0f7ed32adadc341.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ae0f0d458b0341f1901cb4ad2adfb80b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3df4033c3304469c91745835a3dac4e9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f20de8ef3083430d9067428e2ed87d1d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/931146de220a435c82a7197145d58092.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2c6d5e74ea814c16989a2e18bbab4b54.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c80b9cfcd19d4e68b0bc03731f9cc13a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8790f918abed49a68e8ff142c4a9a0af.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/94045274af8f4de6bedd1ec4371fda05.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/45bc9ef7f6db4e42a882bb767ba3ff2f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/544a413fd30143b78406b455a09d3a7c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c1f09d88b4a04635b9316db0b94a79e7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/05a9cbb665a74a819586762e75075870.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1b74678751f84376987b1859f5d9dbdd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/883e730dadd342d39a309752c3bc726e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9576a938f88d4fd7a1b3e15521ea5587.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6732d23a135d4af893e8e8cc2d412c50.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/18d29c5ac9f04867b9cbce46326c9e09.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/54bceb01bd44481da4b93cd30a6ebb7a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4adcb1d44c124a8aa9c8c5c00ac4435a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3291468fd1504381bcc4ac92712116d6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aade7610493543029c0eef1e258b1697.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a9fa6696cd8d4174a3d5c6f8496a7b20.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/12995a0294aa43fdbc8a7bd0feda057a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/039260ffce824540989733588a7e81f0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7003bbe41b204cf391e0c57ebf8664ad.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6ec020ebc0ea4565985b72204725d116.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/23575e24210946bfa0578932b6f97f68.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5c2a48a20e2f42b787195e8fe346aaff.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/96c64be2bf344ea187dae7946e14fab0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cc5da67280a04e3fb12d0767cd1771f4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a56d5aa085d34948a0db1da328bec461.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/983c29cddabe4039a1da7ed5efaabe5f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/87b42bbec6dc451181d8237040cb2810.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/062cd8727b8c4eec8ddb8051125aef80.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c89858881366458a93c5bd9af56e2665.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/df6bf2f4efaf4b518dc98e8d8a2c6110.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e2d91a0039d54f6a901993b343817439.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ed8276a303db470ab8ae47bf4d75b574.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/122c95e6d4f14b118edc354d6ead555d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cf304c612d4a4fd2882049274fc78fa2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a17d7f9f18454e97bdd209b88af89170.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7a8043d5b2e84de3a76a7d6ab712182e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d445348f5ddc47b49f5c9c5d544790d7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8e563adc3e264e95b644791f262d1b18.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0a3eecff2fe24b19b4ad5a46dffde7c7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/65097cd4be164d6288e8faf5b3e2e897.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/956ef527ce4642c0beb6b13744ac423b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/12669ac230f541beba49c48e365b6bf8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8dc0dcb937f8466a9b8992a69dd7193d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/147df231efaa49779f3f92718770ce2a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/35638b6b2fe54b1dad00610a8ad2e58d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a6da05d31eac4e2b83980b80bda7fe98.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e83aebe8f57f4d3f9c94255813538ee7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8a2f029386504a328c5f1b297fa86b29.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/24c33165484e4258bdc30a5589fd3d63.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/228a294b1a494f45beee13334c468690.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5b38d843d12849308e78c978c4ff2041.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/423bca5120584bc2b1a2b3b77e501fd4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/82ad59eabb66414aa22cf094c4707b60.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/818fcffc2d094c5eadc462aa7854b85e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/23696fea53b6416398e3d4be84f4b421.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7e8fdf98f66c450bb9f94a815b68cab7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3538ab2d1a1a474492c201bd88e5af73.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f06d93e927974001847b3954c3d4591a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5687f174a4d249ecb8b97fb12e23dc0b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/810318d34fa54b54ab18290860f20453.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c0f716c005714cd3b8eb8f624aa19b04.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fe6d62ea179c4450bd95d70bbd88c1e3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/891f0e193f54419d917018514773c48f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4bf1d93753a84839a1dd5d275234ad1b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b4accc01383948999d9556bd4faeb424.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cda07200dd374cbc807152da30028b87.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b581f7632b544944804de798fb28dccd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/23a60544905341de857f479677081f90.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41c31de75dc64a918d98d190ecb4fbeb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ebdc5e8c22aa463ba55b41376e2d2d2c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/35ddc6946aa54f3d80a40429e46777fc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0ecd5502eb6745d8bd84ee7b07e6df6c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6ee184e890e045b28f40948b1002077d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/40b763ee98b8415495c61293881039f3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4b0d6f924ee5429dac75e48805f4ae09.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e2ff3c6b2006431d8ff44594d10293f5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d87cb6736384034a3d395425f894522.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c2d6b51c61754210abce67fed59fb81a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fdf57bd6f1684c9695c7eb1d39e258e1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/730226cf95ee49938f6f0c3dbad26567.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/320c81a4789046419be19ffeea75c193.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c6fc13a6b1dc471f93ebf76af096a221.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c6c55742da8848cbad9e87409471ae9d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f8c63bf5036e4de7b74a4c80f2bc6d0d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4c171d78d3f444bf959ca42df20ed3ff.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/caa6dc04c5254364bfca0f9e291a17fb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5d4c54b74f684ae195d1d6395ea2e65b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fc13fa6956b944ed9801aa1e9c7eff81.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b9d6467b7986442badd0a1fc6ac0ded1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e944f9aeb7684998a4cb03f24a91439b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a7a0eff189a74b0bab27c3ffc9a44ed2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3af4e1bcd5bb49009387e4b5973bd9fa.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eef34c237dd249e08453242325de71ec.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/448ed208c3d64518aca4242e4deb4b02.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7a108325c0c7447b8f15c7d8c9807147.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1859511a416f4c4c9f45c2c77c5f3e99.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eedc9ed3b4cf415c8c90d24063732c0a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2a53cfc1c28d4170a15bb2e9ef215a17.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cb8943056e65468a88f61bb3744de760.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/19e747ebb7df4c5e900991206190a213.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4131e5ff2fe048ccbfdb679b4a42c633.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5987283628644cfb99643bedcad8ac7e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/974472946f6c436ba4e854c8237685c1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d844b85af945427f81b2feb87ba08601.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ad1659e54ea541009dfdc6dfd5c67c55.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e8f7073b38f144e4b8584899ecfc0fd4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/91b00945e4734b6587cdb239845cc16c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0f4be2547a56495da846018c433c3e56.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0c5365790b204efeb506f3376f48c5ee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e0dd717ef7c946f990e2502909f160e7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e31e54aca68b43fc988b00c7606fd018.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/975cf4ad833b496a8309f0b502b9aaf7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3e136fb1a6fe4b76a30928cae1b67f49.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a52bc35b661a42d8b7ead77e86cdd6ee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/aacb80a631c8406493e1b03472951cf2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f04f9f703bc144dc90d4bf66ca004447.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5f8f1f5a22d644a289c794bdd08eab2f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2c286ca7ca254bbf9d58bc317918ac25.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cf4e39a64c164596985c6c239a75fff3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5c93a13c4acb41e0998376a9b6f0663f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2249f05ddbe04017908a592762e5fc15.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5d708cf7a2de4a25b44bf8b0c06e1bdf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/482a1dfea17e4bfaa24fb7760d24d223.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5073e173b7544397bd337acf5e8c5df4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9da5c2eb474947f08aeb2bc70c1c2ccc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8b5abb55f0b94750a4bc0e31004d0a58.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/83893175c3de4775b41faf86c89bfb98.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2f32d5d17c9408c92e0a2b3f3c9437a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b3c4f3da52aa4129ad8c9c35faa88967.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/92dc37227ba54d87aca655a6013ffd29.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5b62cf4ea5fc4ea6bc3ca2849b8f3e02.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8fe9e83d22c84101bccc94b6bfbcabd1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/525e56c26cf44800b3cf778a6df89953.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1c7af95c11a74383875799b5a1ab1727.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c9429933983a4eb5b8be741cce6bee67.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8fa00904b3004383ab7d39814c65414e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bed3659e5b794552b75f1eefad54717c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/099f3e9202ab4d43925de4e9844a688d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/91740153537e4f449efc19d6f4b72d8b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1d8b3b92c1044f0bbbdbc21a01b07578.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a6a5f78a7dfb40a2a9df9fd8ebc8bfa4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e663e5e622404909af34a3b9d39e11e2.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ebfa3f5437244adfaeffff58ada0d91c.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b6c9262787cf4255b1a550e61801410c.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f7fb2d44a43e40188f661b1b189dae7e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1c4a0afc6dda477ea727e1cf3346438e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/897a92bb5b1e4f5b8854b3c6c8e5824e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/61b4a79602084aaf8b5ae1aacc2f1313.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/544cdc9fa5d74a598c1362871b03423a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/34afa6c768774f65ab43badf2d01b9a6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1747d73c032944c082e0e1c94962f901.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2cbd3319626430f962e0092f4fe0bcf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e25b220778f14d3da702e81843e1c050.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cc354504e38b41d0bfa36ea0e44f7eff.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/86a0c95797f046e291aedab2be7e276d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/81f59fbc1b6e4b5f936228b815e4301b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/707ecf9bca2b4307a049cf9eab205f3c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/43cbd5a6338c42adb8dd68b0ba176523.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/74c47f29e43d4c348c0e89f604390c82.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f9fd200eb14a45de9c1e3895a3b2b1fc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0eb1860417f54082b8e0d94924156300.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ac6e20e87d254244b7ca8324235fae34.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/77438d49de1442b0b1526adf531c4b86.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/051a31f9227e4e4a8dfa5814ab9d66cd.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/96352e3b4b1d41838909a38a61b20d68.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/12a3184358c34749ab7252129ef47127.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7824100d93864a3ab7c4461da3c8588f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e7009adfca9a449e8a009d81274e955a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e45a7bcb6ba54050abe0006db51fcace.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ab39eec912ac42d080f60ecc5bd9b362.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/be2f98ec11754c49a928dab321138cd0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/16d085fdfe0b4286be6bb695c283d66f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0b818a8ab7dc4ba3be36be850a5e5e56.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/29beb7703224426aa848edc6ffdd29bf.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/01cc2e074e51412883560a44524a82d0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2ff7801330974f8eaff40ce9a3a3a39d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/edf1bea331184eed8fca3d50877550a6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a8f4844572c846c799e7dabfccec02c4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/00acc764f445481ead55a108e020c8d1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c139ea9b1a5c43258ed3c160adb5893d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5bafaa683ce44da8905c767d01dce427.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/bc1111c58dec4ea6abcec4e4f57bf249.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4c21b27daca34e74b083f93f0c06bb1f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8e189e398a9c4f28b1ed78d8ac8b239d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/836a8c1968c94bc7a9b6075ca9f434be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c7ae6aa04023486bb9c0cc811423a455.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6cc13a5f949a412aa04069a70fa2a39c.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/88e7d78f342c44a890fe63399f8b9be9.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/185ae5949fb040bb85ae2e0400266e16.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e2df39fab91f465f89c38fae1a038981.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/965ef42ec4584d59b9771da7382e4492.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d4e4bf33bbf642a8b2f4ca4303c3ae58.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/53ef2102baaa46adb038399344c7ae38.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/73a2475fa7ec430ab08f38ee60958485.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fc314b91504e4ecaa03e6b80e65c60f9.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3875776e43ee48b19183101e6d2cd766.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b04ebd7f492e4de88fe4a098db965fe8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/160f72aa0aaa471794c200ee116199a4.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f1ab558b16ce4cae8cb1263eee660e0c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/be7f10e9cc1f45fab9c645c75e98a463.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2dc440ab56cf4bbca13c80c1b06b8a2b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0daa3ac061e94d328ccb7bfefda793f1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/155ef5e2933647a89a285c3c5339f6a8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a959a2639f1a47edbeb958e8ccd13cc7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/10f3bf6ee50443fcabb3afbb92e967a1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/db4a23a7012049dca648e6ff11bbbf74.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0976c6bd5bfc41e0b2713a38b111ca1c.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6bedaecce55748a4a0317dae4369e8e7.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5fb090fc208f448d9d68fa04d732fa5b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/be24fcf3174b431198c23aa79fa73617.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0e802cd485304d79b06d88a337d1e8c0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d1b982bd2a2a4fa084bda389e4ea66d5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9084de0e125f4d3fa32854e8c745da79.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/07f0177ba93146eaa91b56c343d47a50.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/acb9c1cb1f2d4cceae2680d57e985da1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/23e657edc6bb4a8b905b2ae87238a803.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d3a04b0ebf4c46f9b7a7b6a30629a157.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2310819165e24634b2163bfb722e010f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5ae83c2474924ad5974d32020b517052.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d9eabc59786c455cafcb9ecb533b0bd1.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/49b15dde1ba547dbb223512bfb60de6a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e046baf0ab5d4f67a05ee921e3a8374e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/091d948bb8a44cfba0d3796af557728c.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4d2fda738de949359813e9a387e268c8.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d90c3fbeda054e8ebd44737c2b461f7a.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/58f2dffffe344b6ebd33efd0d357e27d.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4b31275c6f3c4be08b4ff56f18b38ba9.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/944120092e424000aa108809926eda8d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7b52a5801f7f433baa8c913670494043.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e8da12602cdd4261ae468876b37dca94.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cf6ee5dd65e54e629c5530ed9be1b46c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e69f52516d36404ab35db92ba01b317a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d865d2f6242545269ff13e6632613574.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c2dfd56cca7a46ea8d68d03ecfdad4c5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6a4151c1547b4715b4408e939467da76.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/860bbac35fe542269dd42f8f6ba56e90.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/22202a7f934b4ae6976a7a9d91c530e2.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ee54112ce11340c0ab482cff7edf3481.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/851106c2eb3a4fe0b9cd76a68190b30b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/0bafdda7700c4ad799a246288aebd519.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d105e884448441c8a83b5b004c7ce687.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ad1c284a002f4e93b9a42158b08899c8.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/620cb65478464bf88d2f6dbf87af0c9f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4b86927b5fc340b5ad893c888e75cb37.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/41f02b43d71e47b19cff611a1940a0ee.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e15c4e2427ad41be88d34098cda08bdd.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/021b3caed5144edf8e14967a0a52c4bf.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/410ac602230546c7b5adf9fdee35524c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6ff00ab61b764570937091962b2f541e.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f36f1f252a9446a7a0c3658073e51012.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/71264a49a375487587969f4ee0d55f71.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c196ab875e9546bfaecc956f8bbca30d.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8164c436fef041398c68883768503145.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1c015a6fe71141f3abb65a84235fba35.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f8eae073d97a48fe98ce1863ae68891d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/740eccfb9602455eb88ac3bd98937665.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4947d116dc5d4e69afc671da78b729c5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a46beec0fad2478b9cea27c4968739bd.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/06460fe37b9d4f9382d358a39f4cbfe0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f5a0d6d739c240bf95ca0eb916964efd.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b06bc79e8ff94d3ca89631e6049c8963.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a15b4199f1e547cd9c90d3050181697f.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b0fdedb3af744d49a9e6cad69a7ee678.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d60b52b9a10f42aa8dfd3a63ebd757d5.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b5a1c36aa7af49cf91f833c2350448dc.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5afdecc84b2f42c2ac821824f92d6bd0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7a98ff4aa8c546f98c376a6dcb78b1de.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/cd19ff647d874112824bc000483de57d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/f94765e2de25411aa329c9ebe6a88f03.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/72582f60cd084f5587fe8b5bb20c6970.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/df41fa9e7cf3426f93c7f51d098c5bbb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/235d18cf79314deab4e7bb6608f75e0d.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7364700758544d609c7df9c58ca9e150.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/eaab4a7d977d46be86283442b5bbc3be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/25e098a1c56a42b08f61772144d0b9b6.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8882696ec9664182b866e86167863f89.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d5892861a89b4bbb845979de34898a81.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e89df1755bea473385e246b0caf23df7.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/3f55b68af07c42eeb784336c2de9dd9a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/7493aaaea8044a90aca3d249d18aa4fb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/26542229439441288d6cad7608ca858b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8466e8511464449b823dbf9477b3b68f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/c6c10bff087c46889515910e18990269.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/fe86f9afc68c4cf987043abbaaa44ed3.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/d0bbd132700a47948c595724ed1aaeb6.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/83c423f028104bfdb11cc3f4cdcc9042.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/948d85dfb1804f1caba506200b938b46.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6f748f7b6d3f48228185deaa9985b720.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8fae6ab9491a4326a2c45b72b8fb49c0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/551a27a4b6204aa1b65957c8dad59c86.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/5594e65926084e608d866fa862991f2e.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b191294a266f4ebda67ac3a8c1f2f4bb.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/e064a0ca38e7472798472eaeb7792e59.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/6907452aebc74550865b40db79fc6186.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/882add6a5827409c9a746389936c91b7.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/b2a0e86237f64d3d8cd490aac1a76503.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/8556f94eb2954a4782a80b991dc686be.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/57a7e088ecd04317b1b1dfcc0a7f7b1b.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/4693094f90c9442ba672b6121993b15a.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/ddd958cee9824831930574be9129bd2f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/62b5018442e740dfa43a86ce600090b5.ppt\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/2c5f4637b5144c8bb7cd18c9e296efde.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/a5ecb1603e5d47709b953be1e1b0ca6c.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9244a9ca65bd4e38909e3b24e69ee3e0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/316619b9f05443acb5578a9a4a9ce81f.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/86d2b0326d604aca9c6caa8644aad4d0.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/1ed4cf50181a48be8997720ba6962c43.pdf\",\"https://files.bjmantis.net/sijiao/static/COURSEWAREURL/9571af3714064898865c2d76d015cf1b.pdf\"); List\u003cString\u003e strs = new ArrayList\u003c\u003e(); for (int i = 0; i \u003c list.size(); i++) { printSchedule( (i + 1)*100/list.size()); if(!\"N\".equals(getFlile(list.get(i)))){ strs.add(getFlile(list.get(i))); } } System.out.println(\"\\n\"+\"ä¸èƒ½ä¸‹è½½åœ°å€åˆ—è¡¨:\"+strs.toString()); } public static String getFlile(String filepath)throws Exception{ URL pathUrl = new URL(filepath); HttpURLConnection urlcon = (HttpURLConnection) pathUrl.openConnection(); if(urlcon.getResponseCode()\u003e=400){ return filepath; } return \"N\"; } private static int TOTLE_LENGTH = 100; public static void printSchedule(int percent){ for (int i = 0; i \u003c TOTLE_LENGTH + 10; i++) { System.out.print(\"\\b\"); } int now = TOTLE_LENGTH * percent / 100; for (int i = 0; i \u003c now; i++) { System.out.print(\"\u003e\"); } for (int i = 0; i \u003c TOTLE_LENGTH - now; i++) { System.out.print(\" \"); } System.out.print(\" \" + percent + \"%\"); } } ","description":"\n","tags":[],"title":"\nJava æ£€æµ‹æ— æ•ˆä¸‹è½½åœ°å€ï¼ˆè¿›åº¦ç‰ˆï¼‰","uri":"/posts/post-326/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"public void downloadVideoById(HttpServletRequest request, HttpServletResponse response) throws Exception { logger.info(\"ä¸‹è½½è¯·æ±‚start\u003e\u003e\"); String fileName = request.getParameter(\"fileName\");//æ–‡ä»¶å String filePath = request.getParameter(\"filePath\");//æ–‡ä»¶å try { if (StringUtil.isEmpty(fileName) || StringUtil.isEmpty(filePath)) { response.setStatus(HttpServletResponse.SC_UNAUTHORIZED); response.setCharacterEncoding(\"UTF-8\"); response.setContentType(\"application/json;charset=UTF-8\"); response.getWriter().print(\"å‚æ•°é”™è¯¯ï¼Œè¯·è”ç³»ç®¡ç†å‘˜!\"); response.flushBuffer(); return; } URL pathUrl = new URL(filePath); HttpURLConnection urlcon = (HttpURLConnection) pathUrl.openConnection(); if(urlcon.getResponseCode()\u003e=400){ response.setStatus(HttpServletResponse.SC_UNAUTHORIZED); response.setCharacterEncoding(\"UTF-8\"); response.setContentType(\"application/json;charset=UTF-8\"); response.getWriter().print(\"æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜!\"); response.flushBuffer(); return; } //è·å–è¾“å…¥æµå¯¹è±¡ï¼ˆç”¨äºè¯»æ–‡ä»¶ï¼‰ ç½‘ç»œæµ InputStream inputStream = new URL(filePath).openStream(); //æœ¬åœ°æµæ–‡ä»¶ // FileInputStream fis = new FileInputStream(new File(filePath)); //åŠ¨æ€è®¾ç½®å“åº”ç±»å‹ï¼Œæ ¹æ®å‰å°ä¼ é€’æ–‡ä»¶ç±»å‹è®¾ç½®å“åº”ç±»å‹ response.setContentType(\"application/\" + fileName.substring(fileName.lastIndexOf(\".\")+1)); //è®¾ç½®å“åº”å¤´,attachmentè¡¨ç¤ºä»¥é™„ä»¶çš„å½¢å¼ä¸‹è½½ï¼Œinlineè¡¨ç¤ºåœ¨çº¿æ‰“å¼€ response.setHeader(\"content-disposition\", \"attachment;fileName=\" + URLEncoder.encode(fileName, \"UTF-8\"));//ä¸‹è½½æ—¶æµè§ˆå™¨æ˜¾ç¤ºçš„åç§° //è·å–è¾“å‡ºæµå¯¹è±¡ï¼ˆç”¨äºå†™æ–‡ä»¶ï¼‰ ServletOutputStream os = response.getOutputStream(); //ä¸‹è½½æ–‡ä»¶,ä½¿ç”¨springæ¡†æ¶ä¸­çš„FileCopyUtilså·¥å…· FileCopyUtils.copy(inputStream, os); } catch (Exception e) { logger.error(\"ä¸‹è½½å¤±è´¥ start \u003e\u003e\",e); response.setStatus(HttpServletResponse.SC_UNAUTHORIZED); response.setCharacterEncoding(\"UTF-8\"); response.setContentType(\"application/json;charset=UTF-8\"); response.getWriter().print(\"ä¸‹è½½å¤±è´¥ï¼Œè¯·è”ç³»ç®¡ç†å‘˜!\"); response.flushBuffer(); } } ","description":"\n","tags":[],"title":"\nJava é€šè¿‡ç½‘ç»œæµè½¬å‘æ–‡ä»¶åˆ°æµè§ˆå™¨","uri":"/posts/post-327/"},{"categories":["è¯­è¨€"],"content":" public static void main(String[] args) throws Exception { String oldPath = \"/Users/admin/test/jmeter/123.log\"; String newPath = \"/Users/admin/test/jmeter/123/qweqweqweq.log\"; //åˆ›å»ºæŒ‡å®šçš„è·¯å¾„ File directory = new File(newPath); //è·å–æ–‡ä»¶å¤¹ è·¯å¾„ String courseFile = directory.getParent(); File file = new File(courseFile );// if(!file.exists()){//å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ file.mkdir();//åˆ›å»ºæ–‡ä»¶å¤¹ } File oldFile = new File(oldPath ); File newFile = new File(newPath ); //é‡å‘½å System.out.println(oldFile.renameTo(newFile)); } ","description":"\n","tags":[],"title":"\nJava ä¿®æ”¹æ–‡ä»¶å","uri":"/posts/post-328/"},{"categories":["NAS"],"content":"Docker chevereto å‡†å¤‡çš„ç¯å¢ƒ mysql æ•°æ®åº“ ï¼ˆæˆ‘ç›®å‰æ˜¯ä½¿ç”¨çš„æ˜¯MariaDB 10,å®‰è£…æ•°æ®åº“ä¸å¤šåšå™è¿°ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ•™ç¨‹ï¼‰\næˆ‘ç”¨çš„æ˜¯ Navicat ï¼Œæ–°å»ºæ•°æ®åº“ å¡«å†™ chevereto å¦‚å›¾ï¼š\nDocker cheveretoçš„ä¸‹è½½ åœ¨ç¾¤æ™–dockeré‡Œé¢çš„æ³¨å†Œè¡¨é‡Œé¢æœç´¢ Chevereto ï¼Œæˆ‘ç”¨çš„nmtan/cheveretoä¸‹è½½ï¼Œå¦‚æœæœ‰è®©ä½ é€‰æ‹©æ ‡ç­¾çš„è¯é»˜è®¤å°±å¥½ï¼Œç­‰å¾…å®¹å™¨é•œåƒä¸‹è½½å®Œæˆã€‚å¦‚å›¾: Docker cheveretoçš„å­˜å‚¨å· åœ¨ç¾¤æ™–çš„dockerç›®å½•é‡Œé¢å»ºç«‹å­ç›®å½•Cheveretoï¼Œåé¢å®‰è£…å®¹å™¨ä¼šæŒ‚è½½æ­¤ç›®å½•ä½œä¸ºå›¾åºŠçš„æ–‡ä»¶å­˜å‚¨ç›®å½•,æ³¨æ„æ–‡ä»¶åçš„å¤§å°å†™ Docker cheveretoçš„é…ç½® å®¹å™¨é•œåƒä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»ä¸‹è½½çš„é•œåƒæ–‡ä»¶åçš„å°ç®­å¤´ï¼ŒæŸ¥çœ‹è¯¥å®¹å™¨è¯¥å¦‚ä½•è¿›è¡Œé…ç½®ï¼Œdockerå…¶å®å¤§éƒ¨åˆ†éƒ½æœ‰é…ç½®ä»‹ç»ï¼Œå¤šçœ‹çœ‹è‡ªå·±ä¹Ÿä¼šé…ç½® åŒå‡»è¯¥é•œåƒè¿›è¡Œå®‰è£…ï¼Œå®¹å™¨åç§°éšæ„å¡«å†™ï¼Œå†…å­˜é™åˆ¶æ ¹æ®å®é™…éœ€è¦å¡«å†™ï¼Œç‚¹å‡»é«˜çº§è®¾ç½®ï¼Œå¯ç”¨è‡ªåŠ¨é‡æ–°å¯åŠ¨æ‰“é’©ï¼Œå·è®¾ç½®é‡Œé¢ç‚¹å‡»æ·»åŠ æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©ä½ åˆšåˆšåœ¨dockerç›®å½•ä¸‹åˆ›å»ºçš„ cheveretoç›®å½•ï¼Œåé¢è£…è½½è·¯å¾„å¡«å†™ã€/var/www/html/imagesã€‘ï¼Œä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè¯·æ³¨æ„ï¼Œç„¶ååœ¨åˆ°ç«¯å£è®¾ç½®ï¼Œæœ¬åœ°ç«¯å£è®¾ç½®ä¸º10000ï¼Œå®¹å™¨ç«¯å£ä¸éœ€è¦ä¿®æ”¹ï¼Œåé¢è¿›è¡Œdockerçš„ç¯å¢ƒé…ç½®ï¼Œ\nç‚¹å‡»å¯ç”¨åï¼Œå¯ä»¥ä½¿ç”¨http:ç¾¤æ™–åœ°å€:10000 è¿›è¡Œè®¿é—®ï¼Œè®¾ç½® ç›¸å…³çš„ä¿¡æ¯\næœ‰æ—¶å€™ä¼šæç¤ºç¾¤æ™– æ²¡æœ‰ å¯¹ images æ–‡ä»¶å¤¹çš„å†™å…¥æƒé™ ï¼Œåé¢å¯¹/volume1/docker/chevereto èµ‹äºˆæƒé™å³å¯ï¼\nä¹Ÿå¯ä»¥ä»ssh é‡Œé¢ç›´æ¥èµ‹äºˆæ‰€æœ‰æƒé™\nchmod +r 777 chevereto Docker cheveretoä¿®æ”¹ä¸Šä¼ å¤§å° http://åŸŸå:10000/dashboard/settings/image-upload\nè·å–rootæƒé™ admin@XiaoMageNAS:~$ sudo -i root@XiaoMageNAS:~# æŸ¥çœ‹è¿è¡Œçš„dockerå®¹å™¨ root@XiaoMageNAS:~# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 327c9776e0d3 nmtan/chevereto:latest \"docker-php-entrypoiâ€¦\" 17 hours ago Up 5 hours 0.0.0.0:10000-\u003e80/tcp Chevereto 7a30c3437280 oldiy/music-player-docker:latest \"docker-php-entrypoiâ€¦\" 13 days ago Up 13 days 0.0.0.0:32769-\u003e264/tcp, 0.0.0.0:32768-\u003e9000/tcp oldiy-music-player-docker1 1c8b79caaee6 luodaoyi/kms-server:1112 \"/bin/sh -c 'vlmcsdmâ€¦\" 8 weeks ago Exited (255) 7 weeks ago luodaoyi-kms-server1 root@XiaoMageNAS:~# å¤åˆ¶åˆ°ç¾¤æ™–æœ¬åœ°ç›®å½• root@XiaoMageNAS:~# docker cp 327c9776e0d3:/var/www/html/.htaccess /volume1/docker/ root@XiaoMageNAS:~# ä¿®æ”¹é…ç½®æ–‡ä»¶ vi /volume1/docker/.htaccess # Disable server signature ServerSignature Off # Disable directory listing (-indexes), Multiviews (-MultiViews) and enable Follow system links (+FollowSymLinks) Options -Indexes Options -MultiViews \u003cIfModule mod_rewrite.c\u003e RewriteEngine On # If you have problems with the rewrite rules remove the \"#\" from the following RewriteBase line # You will also have to change the path to reflect the path to your Chevereto installation # If you are using alias is most likely that you will need this. #RewriteBase / # 404 images # If you want to have your own fancy \"image not found\" image remove the \"#\" from RewriteCond and RewriteRule lines # Make sure to apply the correct paths to reflect your current installation RewriteCond %{REQUEST_FILENAME} !-f RewriteRule images/.+\\.(gif|jpe?g|png|bmp) - [NC,L,R=404] #RewriteRule images/.+\\.(gif|jpe?g|png|bmp) content/images/system/default/404.gif [NC,L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_URI} !\\.(css|js|html|htm|rtf|rtx|svg|svgz|txt|xsd|xsl|xml|asf|asx|wax|wmv|wmx|avi|bmp|class|divx|doc|docx|exe|gif|gz|gzip|ico|jpe?g|jpe|mdb|mid|midi|mov|qt|mp3|m4a|mp4|m4v|mpeg|mpg|mpe|mpp|odb|odc|odf|odg|odp|ods|odt|ogg|pdf|png|pot|pps|ppt|pptx|ra|ram|swf|tar|tif|tiff|wav|wma|wri|xla|xls|xlsx|xlt|xlw|zip)$ [NC] RewriteRule . index.php [L] #ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶å¤§å°å¢åŠ ä»¥ä¸‹ é…ç½® æœ€å¤§æ”¯æŒ 32M æ ¹æ®è‡ªå·±æƒ…å†µé…ç½® php_value post_max_size 64M php_value upload_max_filesize 32M \u003c/IfModule\u003e å¤åˆ¶åˆ°å®¹å™¨ç›®å½•é‡Œé¢ docker cp /volume1/docker/.htaccess 327c9776e0d3:/var/www/html/ ç„¶åè¿›å…¥åˆ°dockerå®¹å™¨ç®¡ç†é‡Œé¢é‡æ–°å¯åŠ¨å³å¯è§£é™¤2mä¸Šä¼ é™åˆ¶\n","description":"\n","tags":[],"title":"\nç¾¤æ™–Dockerå®‰è£…cheveretoå›¾åºŠ","uri":"/posts/post-329/"},{"categories":["NAS"],"content":"å‰è¨€ Windowsç³»ç»Ÿä¸­èƒ½å¤Ÿé€šè¿‡KMSè¿›è¡Œæ¿€æ´»çš„ä¸€èˆ¬ç§°ä¸ºVLç‰ˆ,å³VOLUMEæˆæƒç‰ˆã€‚æˆ‘ä»¬å¯ä»¥è‡ªè¡Œæ­å»ºKMSæ¿€æ´»æœåŠ¡å™¨ï¼Œå®ç°æ¯180å¤©ä¸€æ¬¡çš„è‡ªåŠ¨æ¿€æ´»ï¼Œä½¿å¾—ç³»ç»Ÿä¸€ç›´ä¿æŒæ¿€æ´»çŠ¶æ€ã€‚è¿™æ¬¡å°±è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨ç¾¤æ™–NASçš„Dockerå®¹å™¨å¥—ä»¶æ­å»ºKMSæœåŠ¡å™¨ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•åˆ©ç”¨æˆ‘ä»¬è‡ªå·±çš„KMSæœåŠ¡å™¨æ¿€æ´»Windowsæ“ä½œç³»ç»Ÿä¸Microsoft Officeã€‚\næ“ä½œæ­¥éª¤ å…ˆåˆ°å¥—ä»¶ä¸­å¿ƒå®‰è£…Dockerå¥—ä»¶\nå®‰è£…å¥½ä»¥åæ‰“å¼€Dockeråœ¨æ³¨å†Œè¡¨è¿™é‡Œæœç´¢ï¼šKMSï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œç‚¹å‡»ã€ä¸‹è½½ã€‘\né€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œå°±é€‰æ‹©:1112\nç¨ç­‰ç‰‡åˆ»ä¸‹è½½å®Œæˆï¼Œå®Œæˆåå†åˆ°ã€æ˜ åƒã€‘é€‰æ‹©åˆ°æˆ‘ä»¬åˆšæ‰ä¸‹è½½çš„ç‚¹å‡»ã€å¯åŠ¨ã€‘\nå¼€å§‹åˆ›å»ºå®¹å™¨ï¼Œè¿™é‡Œç‚¹å‡»ã€é«˜çº§è®¾ç½®ã€‘\nåœ¨ã€ç½‘ç»œã€‘è¿™é‡Œå‹¾é€‰ã€ä½¿ç”¨ä¸Docker Hostç›¸åŒçš„ç½‘ç»œã€‘\næœ€åç¡®è®¤ä¸€ä¸‹å³å¯ç‚¹å‡»ã€åº”ç”¨ã€‘ï¼Œåº”ç”¨åè‡ªåŠ¨å¯åŠ¨å®¹å™¨ã€‚\nè¿™æ ·æˆ‘ä»¬çš„KMSæœåŠ¡å™¨å°±ç®—æ­å»ºå¥½äº†ï¼ŒKMSæœåŠ¡å™¨é»˜è®¤ç«¯å£å·ä¸ºï¼š1688ï¼ŒIPçš„è¯å°±æ˜¯æˆ‘ä»¬NASçš„IPã€‚æƒ³è¦å¤–ç½‘ä¹Ÿå¯ä»¥ç”¨çš„è¯å°±å¯ä»¥ä½¿ç”¨å†…ç½‘ç©¿é€æˆ–è€…ç«¯å£æ˜ å°„ã€‚ä¸‹é¢ä»¥Windows10ä¸“ä¸šå·¥ä½œç«™ç‰ˆä¸ºä¾‹æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨KMSæ¿€æ´»ç³»ç»Ÿã€‚\nè¿™é‡Œé¦–å…ˆæˆ‘ä»¬å…ˆåˆ¤æ–­ä¸€ä¸‹æˆ‘ä»¬çš„Windowsæ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼Œç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ï¼šwmic os get caption çœ‹åˆ°æˆ‘è¿™é‡Œæ˜¯Windows 10 ä¸“ä¸šå·¥ä½œç«™ç‰ˆ\næ‰“å¼€ï¼šhttps://technet.microsoft.com/en-us/library/jj612867.aspx æ‰¾åˆ°å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„KEYï¼Œä¾‹å¦‚Windows10 ä¸“ä¸šå·¥ä½œç«™ç‰ˆçš„KEYä¸ºï¼šNRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J\nä¾æ—§ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼ˆå¯¹åº”æ‚¨è‡ªå·±çš„æƒ…å†µä¿®æ”¹ä»¥ä¸‹å‘½ä»¤å†…å®¹ã€‚nas.maruifu.cnä¸ºæ‚¨çš„NASçš„IPåœ°å€ï¼ŒNRG8B-VKK3Q-CXVCJ-9G2XF-6Q84Jä¸ºæ“ä½œç³»ç»Ÿå¯¹åº”çš„KEYï¼‰ï¼š\n1 2 3 4 5 slmgr /skms nas.zeruns.tech slmgr /ipk NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J slmgr /ato æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿçš„æ¿€æ´»çŠ¶æ€\nè¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†åˆ©ç”¨è‡ªå»ºçš„KMSæœåŠ¡å™¨æ¿€æ´»æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ¿€æ´»Microsoft Officeï¼Œè¿™é‡Œæˆ‘ä»¥Microsoft Office 2019 VOL ä¸“ä¸šç‰ˆä¸ºä¾‹æ¼”ç¤ºæ“ä½œã€‚\né¦–å…ˆå…ˆç¡®è®¤ä¸‹æˆ‘ä»¬çš„Officeæ˜¯å¦ä¸ºVOLç‰ˆï¼Œæ–¹æ³•å¦‚ä¸‹ï¼ˆè¯·æ‚¨æ ¹æ®è‡ªèº«æƒ…å†µæ›´æ”¹ä»¥ä¸‹å‘½ä»¤ï¼‰ï¼š\nç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ cd C:\\Program Files\\Microsoft Office\\Office16 åˆ‡æ¢ç›®å½• ï¼ˆè¿™é‡Œè¯·æ ¹æ®æ‚¨è‡ªå·±çš„Officeç‰ˆæœ¬æ›´æ”¹ç›¸åº”è·¯å¾„ï¼‰ï¼Œå†è¾“å…¥cscript ospp.vbs /dstatus ã€‚å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰VLå­—æ ·å³ä¸ºVOLç‰ˆ\nç„¶åå¼€å§‹æ¿€æ´»ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š\n1 2 3 4 5 cd C:\\Program Files\\Microsoft Office\\Office16 cscript ospp.vbs /sethst:nas.zeruns.tech cscript ospp.vbs /act æœ€åçœ‹åˆ°Product activation successfulå­—æ ·å³ä¸ºæ¿€æ´»æˆåŠŸã€‚\næŸ¥çœ‹ä¸€ä¸‹Microsoft Officeçš„æ¿€æ´»çŠ¶æ€\n","description":"\n","tags":[],"title":"\nç¾¤æ™–NASåˆ©ç”¨Dockerå®¹å™¨æ­å»ºKMSæ¿€æ´»æœåŠ¡å™¨å®ç°æ¿€æ´»windowsç³»ç»Ÿå’Œoffice","uri":"/posts/post-330/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"pullé•œåƒwordpressä¸‹æ¥ï¼Œä½†æ˜¯å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š\n# docker pull wordpress:latest Error response from daemon: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaitin headers) æŸ¥çœ‹æ—¥å¿—ï¼Œå‘ç°å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š\n#tailf /var/log/messages Aug 19 16:46:29 docker02 dockerd: time=\"2019-08-19T16:46:29.157861585+08:00\" level=warning msg=\"Error getting v2 registry: Get https://registry.docker-cn.com/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)\" Aug 19 16:46:29 docker02 dockerd: time=\"2019-08-19T16:46:29.157965774+08:00\" level=info msg=\"Attempting next endpoint for pull after error: Get https://registry.docker-cn.com/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)\" Aug 19 16:46:44 docker02 dockerd: time=\"2019-08-19T16:46:44.158651847+08:00\" level=warning msg=\"Error getting v2 registry: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)\" Aug 19 16:46:44 docker02 dockerd: time=\"2019-08-19T16:46:44.158907684+08:00\" level=info msg=\"Attempting next endpoint for pull after error: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)\" Aug 19 16:46:44 docker02 dockerd: time=\"2019-08-19T16:46:44.159189201+08:00\" level=error msg=\"Handler for POST /v1.40/images/create returned error: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)\" å‘ç°æ˜¯å› ä¸ºdockeråŠ é€Ÿå™¨è¶…æ—¶å¯¼è‡´pullä¸ä¸‹æ¥ æŸ¥çœ‹åŠ é€Ÿå™¨ï¼š/etc/docker/daemon.json\n# cat /etc/docker/daemon.json { \"registry-mirrors\": [\"https://registry.docker-cn.com\"], \"insecure-registries\": [\"10.0.0.12:5000\"] } å¯¼è‡´æ­¤é—®é¢˜äº§ç”Ÿï¼Œä¸»è¦æ˜¯å› ä¸ºå›½å®¶æŠŠdockerå›½å¤–é•œåƒhubå°æ‰äº†ï¼Œå¯¼è‡´é•œåƒpullä¸ä¸‹æ¥ï¼Œä¸ºæ­¤ï¼Œæ”¹ç”¨å›½å†…çš„é•œåƒ\n# cat /etc/docker/daemon.json { \"registry-mirrors\": [\"https://docker.mirrors.ustc.edu.cn/\",\"https://hub-mirror.c.163.com\",\"https://registry.docker-cn.com\"], \"insecure-registries\": [\"10.0.0.12:5000\"] } #systemctl restart docker # docker pull wordpress:latest latest: Pulling from library/wordpress 1ab2bdfe9778: Pulling fs layer 1448c64389e0: Pulling fs layer 4b8a4e62b444: Pulling fs layer 9eb9d1e8e241: Pulling fs layer d20b2d19292c: Pull complete 023060ea5930: Pull complete a7fa99bc84ac: Pull complete 138ec8da18f2: Pull complete cd4dae5ac262: Pull complete c90eff48869a: Pull complete 1bc49f4d3a43: Pull complete e3bb2b10f58d: Pull complete fd7b454ec570: Pull complete 6096f23889f4: Pull complete 81072ed817d5: Pull complete ecce7df16ad3: Pull complete f4475635015e: Pull complete bad34b7324ad: Pull complete 890f49d5ad8a: Pull complete 7e4ee285d305: Pull complete Digest: sha256:6566a68d0c613304aa11255d98aba6e29c5fa8cd8497064639343956a4c7d2b1 Status: Downloaded newer image for wordpress:latest docker.io/library/wordpress:latest å¯ä»¥æ­£å¸¸Pullä¸‹æ¥äº†ã€‚\n","description":"\n","tags":[],"title":"\nDockeré•œåƒpullä¸ä¸‹æ¥æœ€ç»ˆè§£å†³æ–¹æ³•","uri":"/posts/post-331/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ç¾¤æ™–å®‰è£… MariaDB10 åï¼Œé»˜è®¤ä»…æ”¯æŒæœ¬æœºè¿æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„å±€åŸŸç½‘ç”µè„‘æ˜¯è¿æ¥ä¸ä¸Šçš„ï¼Œå¦‚æœéœ€è¦å±€åŸŸç½‘è¿æ¥ï¼Œéœ€è¦åšå¤„ç†ã€‚\nç¯å¢ƒï¼šç¾¤æ™–6.2ã€MariaDB10\nå¤„ç†æ–¹æ³•ï¼š\n1ã€ä½¿ç”¨ ssh ç™»å½•åˆ°ç¾¤æ™–\n2ã€è¿›å…¥ MariaDB é»˜è®¤å®‰è£…ç›®å½•\ncd /volume1/@appstore/MariaDB10/usr/local/mariadb10/bin 3ã€ä½¿ç”¨ root ç™»å½• MariaDBï¼Œç„¶åè¿›è¡Œä¿®æ”¹\nadmin@XiaoMageNAS:~$ sudo -i root@XiaoMageNAS:~# cd /volume1/@appstore root@XiaoMageNAS:/volume1/@appstore# ls AudioStation DownloadStation MailPlus-Server NoteStation PHP7.0 TextEditor WebStation CloudStation ffmpeg MariaDB10 PDFViewer PHP7.2 transmission CloudSync Git Node.js_v12 Perl PythonModule VideoStation Docker MailClient Node.js_v8 PhotoStation SynologyApplicationService WebDAVServer root@XiaoMageNAS:/volume1/@appstore# cd /volume1/@appstore/MariaDB10/usr/local/mariadb10/bin root@XiaoMageNAS:/volume1/@appstore/MariaDB10/usr/local/mariadb10/bin# root@XiaoMageNAS:/volume1/@appstore/MariaDB10/usr/local/mariadb10/bin# ./mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 14 Server version: 10.3.21-MariaDB Source distribution Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]\u003e use mysql Database changed MariaDB [mysql]\u003e update user set host = '%' where user = 'root'; ERROR 1062 (23000): Duplicate entry '%-root' for key 'PRIMARY' MariaDB [mysql]\u003e select host,user from user; +-----------+------+ | host | user | +-----------+------+ | % | root | | 127.0.0.1 | root | | ::1 | root | +-----------+------+ 3 rows in set (0.000 sec) MariaDB [mysql]\u003e FLUSH PRIVILEGES; Query OK, 0 rows affected (0.001 sec) MariaDB [mysql]\u003e å…¶ä¸­ host ä¸º % è¡¨ç¤ºä¸é™åˆ¶IPï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®å…·ä½“çš„IPåœ°å€ï¼Œæˆ–è€…ç½‘æ®µ 192.168.1.% è¿™æ ·ã€‚ å¦å¤–ï¼Œä¸Šé¢å‡ºç°çš„ ERROR 1062 (23000): Duplicate entry â€˜%-rootâ€™ for key â€˜PRIMARYâ€™ ä¸äºˆç†ä¼šï¼Œå…¶æ„æ€æ˜¯ host ä¸ºä¸»é”®ï¼Œä¸èƒ½è®¾ç½®é‡å¤çš„å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬åæ¥çš„æŸ¥è¯¢ä¸­ï¼Œhost è¿˜æ˜¯3ä¸ªä¸åŒçš„å€¼ã€‚åˆšåˆšæ‰§è¡Œçš„ update è¯­å¥åªæˆåŠŸä¿®æ”¹äº†æ•°æ®åº“ä¸­ä¸€æ¡æ•°æ®ã€‚\n4ã€ä¸éœ€è¦é‡å¯æœåŠ¡ï¼Œå³å¯è¿æ¥ç™»å½•ã€‚\n","description":"\n","tags":[],"title":"\nç¾¤æ™– MariaDB10 å¼€å¯è¿œç¨‹ç™»å½•","uri":"/posts/post-332/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"5æœˆ22æ—¥æŠ«éœ²çš„æ”¿åºœå·¥ä½œæŠ¥å‘Šæ˜¾ç¤ºï¼Œä¸­å›½å°†å‘è¡Œ1ä¸‡äº¿å…ƒï¼ˆäººæ°‘å¸ï¼Œä¸‹åŒï¼‰æŠ—ç–«ç‰¹åˆ«å›½å€ºã€‚\nä½œä¸ºç‰¹æ®Šæ—¶æœŸçš„ç‰¹æ®Šä¸¾æªï¼Œ1ä¸‡äº¿å…ƒç‰¹åˆ«å›½å€ºå³å°†å‘è¡Œçš„æ¶ˆæ¯è¿…é€Ÿç™»ä¸Šäº†å¾®åšçƒ­æœã€‚\nå°ä¼™ä¼´ä»¬éƒ½å¾ˆå…³å¿ƒï¼šç‰¹åˆ«å›½å€ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦å‘è¡Œï¼Ÿæ€ä¹ˆå‘è¡Œï¼Ÿè€ç™¾å§“èƒ½ä¹°å—ï¼Ÿæ˜¯å¦å€¼å¾—ä¹°ä»Šå¤©å°±æ¥å’Œå¤§å®¶è¯´é“è¯´é“ã€‚\n01 å…³äºç‰¹åˆ«å›½å€º è¿™æ¬¡çš„ç‰¹åˆ«å›½å€ºé¡¾åæ€ä¹‰ï¼šæŠ—ç–«ï¼Œå°±æ˜¯ä¸ºäº†åº”å¯¹æ–°å† è‚ºç‚ç–«æƒ…å½±å“ï¼Œç”±ä¸­å¤®è´¢æ”¿ç»Ÿä¸€å‘è¡Œçš„ç‰¹æ®Šå›½å€ºã€‚\nå‘è¡Œçš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼šç”±äºç–«æƒ…å½±å“ï¼Œè´¢æ”¿æ”¶å…¥ä¸‹é™ï¼Œä½†æ”¯å‡ºå˜å¤šï¼Œæ‰€ä»¥éœ€è¦å‘è¡Œç‰¹åˆ«å›½å€ºï¼Œå¼¥è¡¥èµ„é‡‘ç¼ºå£ã€‚\nè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å›½å®¶æ—¶éš”13å¹´ä¹‹åï¼Œåˆä¸€æ¬¡å‘è¡Œç‰¹åˆ«å›½å€ºã€‚\n02 æ€ä¹ˆå‘è¡Œï¼Ÿ è™½ç„¶ç›®å‰åªæ˜¯æå‡ºäº†å‘è¡Œçš„è®¡åˆ’ï¼Œå…·ä½“çš„å‘è¡Œæ–¹å¼è¿˜æ²¡æœ‰æ­£å¼çš„è¯´æ˜ã€‚\nä½†æˆ‘ä»¬å¯ä»¥ä»å†å²ä¸­ä¸¤æ¬¡å‘è¡Œç‰¹åˆ«å›½å€ºä¸­æ‰¾æ‰¾è§„å¾‹ã€‚\nå†å²ä¸Šæˆ‘å›½åœ¨1998å¹´å’Œ2007å¹´å‘è¡Œè¿‡2æ¬¡ç‰¹åˆ«å›½å€ºã€‚\nç¬¬ä¸€æ¬¡æ˜¯åœ¨1998å¹´ï¼Œä¸­å›½å‘è¡Œäº†2700äº¿å…ƒçš„ç‰¹åˆ«å›½å€ºï¼Œé¢å‘ä¸­å›½å·¥å•†é“¶è¡Œã€ä¸­å›½å†œä¸šé“¶è¡Œã€ä¸­å›½é“¶è¡Œå’Œä¸­å›½å»ºè®¾é“¶è¡Œå®šå‘å‘è¡Œã€‚\nç¬¬äºŒæ¬¡æ˜¯åœ¨2007å¹´ï¼Œä¸­å›½å‘è¡Œäº†1.55ä¸‡äº¿å…ƒçš„ç‰¹åˆ«å›½å€ºé‡‡ç”¨çš„æ˜¯å®šå‘å‘è¡Œå’Œå…¬å¼€å‘è¡Œç›¸ç»“åˆï¼Œå…¶ä¸­0.2ä¸‡äº¿å…ƒå‘ç¤¾ä¼šå…¬ä¼—å‘è¡Œã€‚\nä»ä¹‹å‰ç»éªŒæ¥çœ‹ï¼Œç‰¹åˆ«å›½å€ºä¸»è¦é¢å‘å„å¤§é“¶è¡Œç­‰é‡‘èæœºæ„è¿›è¡Œå®šå‘å‘è¡Œï¼Œå¯èƒ½ä¼šæœ‰ å°‘éƒ¨åˆ†é’ˆå¯¹ä¸ªäººæŠ•èµ„è€…çš„å…¬å¼€å‘è¡Œï¼Œä½†æ˜¯é¢åº¦ä¸ä¼šå¤ªé«˜ï¼Œå¤§æ¦‚ç‡éœ€è¦å» å„å¤§å•†ä¸šé“¶è¡ŒæŸœå°æˆ–è€…çº¿ä¸Šç³»ç»Ÿè¿›è¡ŒæŠ¢è´­ã€‚\nä½†æ˜¯æ®æˆ‘é¢„è®¡ï¼šè¿™æ¬¡å¤§æ¦‚ç‡æ˜¯è¦é¢å‘å…¬ä¼—å¼€æ”¾çš„ã€‚\næ¯•ç«Ÿè¿™æ˜¯æŠ—ç–«ç‰¹åˆ«å›½å€ºï¼Œå…¨å›½è€ç™¾å§“å‚ä¸äº†æŠ—ç–«çš„è¿‡ç¨‹ï¼Œè´­ä¹°æŠ—ç–«ç‰¹åˆ«å›½å€ºä¹Ÿæ˜¯ä¸€ç§çˆ±å›½ä¸»ä¹‰çš„è¡¨è¾¾æ–¹å¼ã€‚\nå¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥ç•™æ„ä¸‹ä¸€æ­¥å‘è¡Œçš„å…·ä½“å®‰æ’ï¼Œä»¥åŠå„å¤§é“¶è¡Œçš„å®˜æ–¹æ¶ˆæ¯ã€‚å¤§æ¦‚ç‡æ˜¯èƒ½æŠ¢è´­çš„ã€‚\n03 åˆ©ç‡æ˜¯å¤šå°‘ï¼Ÿ æ ¹æ®å†å²æƒ…å†µçœ‹ï¼š1998å¹´å‘è¡Œçš„ç‰¹åˆ«å›½å€ºåˆ©ç‡ä¸º7.2%ï¼Œä»‹äºå½“å¹´çš„3å¹´æœŸå‚¨è“„å›½å€ºåˆ©ç‡ï¼ˆ7.11%ï¼‰å’Œ5å¹´æœŸå‚¨è“„å›½å€ºåˆ©ç‡ä¹‹é—´ï¼ˆ7.86%ï¼‰ã€‚\n2007å¹´å‘è¡Œçš„ç‰¹åˆ«å›½å€ºåˆ©ç‡ï¼Œåˆ©ç‡åœ¨4.2%-4.5%ä¹‹é—´ï¼Œå½“å¹´äº”å¹´æœŸå‚¨è“„å›½å€ºåˆ©ç‡ä¹Ÿåœ¨4.5%å·¦å³ã€‚\nå¯ä»¥çœ‹å‡ºï¼Œç‰¹åˆ«å›½å€ºåˆ©ç‡ä¸å‚¨è“„å›½å€ºåˆ©ç‡å…¶å®å·®åˆ«ä¸å¤§ï¼ŒåŸºæœ¬ä¸Š ç‰¹åˆ«å›½å€ºçš„åˆ©ç‡åœ¨ä¸‰å¹´æœŸ-äº”å¹´æœŸå›½å€ºçš„åˆ©ç‡ä¸­é—´ã€‚\nå½“å‰çš„å‚¨è“„å›½å€ºæœ‰ä¸‰å¹´æœŸå’Œäº”å¹´æœŸï¼Œä¸‰å¹´æœŸçš„åˆ©ç‡ä¸º4%ï¼Œäº”å¹´æœŸçš„åˆ©ç‡ä¸º4.27%ï¼Œæ­¤æ¬¡å‘è¡Œçš„ä¸€ä¸‡äº¿ç‰¹åˆ«å›½å€ºæ˜¯10å¹´æœŸçš„ï¼Œå¹´åŒ–åˆ©ç‡å¤§æ¦‚ç‡ä¼šåœ¨4%-4.2%çš„æ°´å¹³ã€‚\n04 å€¼å¾—è´­ä¹°å—ï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå€¼ä¸å€¼å¾—ä¹°ï¼Œå°±è€ƒè™‘é£é™©ã€æ”¶ç›Šç‡å’ŒæµåŠ¨æ€§ã€‚\nä»é£é™©æ¥çœ‹ï¼Œå›½å€ºæ˜¯ç”±ä¸­å¤®æ”¿åºœå‘è¡Œï¼Œä¿¡ç”¨çº§åˆ«æœ€é«˜ï¼Œæ²¡æœ‰ä»€ä¹ˆé£é™©ï¼›\nå°±ç›®å‰å›½å€ºåœ¨äºŒçº§å¸‚åœºçš„è¡¨ç°æ¥çœ‹ï¼ŒæµåŠ¨æ€§ä¹Ÿæ˜¯å¾ˆä¸é”™çš„ã€‚\nä»æ”¶ç›Šæ¥çœ‹ï¼Œå›½å€ºæ”¶ç›Šç‡çœ‹èµ·æ¥ä¸æ˜¯é‚£ä¹ˆé«˜ï¼Œç”šè‡³è¿˜ä¸å¦‚5å¹´æœŸçš„å›½å€ºï¼Œä½†æ˜¯èƒœåœ¨èƒ½é”æ­»åˆ©ç‡ã€‚\nä¹‹å‰æˆ‘è¯´è¿‡åˆ©ç‡æœªæ¥å¤§æ¦‚ç‡æ˜¯ä¸‹è¡ŒçŠ¶æ€ï¼Œç°åœ¨èƒ½åå¹´é”æ­»4%å·¦å³çš„æ”¶ç›Šç‡ï¼Œè¿˜æ˜¯ç›¸å½“ä¸é”™çš„ä¸€æ¬¡ç†è´¢æœºä¼šäº†ã€‚\nè€Œä¸”æ­¤æ¬¡ç‰¹åˆ«å›½å€ºè¿˜å…å¾åˆ©æ¯æ‰€å¾—ç¨ï¼Œå¤–åŠ ä¸Šå†å²æ„ä¹‰ã€‚åœ¨æˆ‘çœ‹æ¥è¿˜æ˜¯æœ‰è¾ƒå¤§çš„å¸å¼•åŠ›çš„ã€‚\nä½†æ˜¯è¿˜æ˜¯è¦æé†’å¤§å®¶ä¸€å¥ï¼šç‰¹åˆ«å›½å€ºä¸å¥½ä¹°ï¼æ˜¯éœ€è¦æŠ¢è´­çš„ï¼ï¼å¦‚æœæ²¡ä¹°åˆ°ä¹Ÿä¸ç”¨ç€æ€¥ã€‚\næ®æ‚‰ï¼Œ6æœˆ10æ—¥å°†æ­£å¼å¼€å‘å”®ä»Šå¹´çš„ç¬¬ä¸€æ‰¹å‚¨è“„å›½å€ºï¼Œå›½å€ºä¹°çš„æœºä¼šå¾ˆå¤šï¼Œæ”¶ç›Šã€å®‰å…¨æ€§ä¹Ÿéƒ½å·®ä¸å¤šã€‚\nå¤šçœ‹çœ‹é“¶è¡Œå®˜ç½‘ï¼ˆä¸»è¦æ˜¯äº”å¤§è¡Œï¼‰çš„æ¶ˆæ¯ï¼Œä¹°å›½å€ºè¿˜æ˜¯æœ‰å¸Œæœ›çš„ã€‚åªè¦æ˜¯é“¶è¡Œå®˜ç½‘é‡Šæ”¾æ¶ˆæ¯ï¼Œä¸€èˆ¬å„è¡Œçš„ç½‘ä¸Šé“¶è¡Œå’ŒæŸœå°éƒ½æ˜¯èƒ½è´­ä¹°å›½å€ºçš„\n","description":"\n","tags":[],"title":"\n1ä¸‡äº¿å…ƒç‰¹åˆ«å›½å€º","uri":"/posts/post-333/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"python3 python3 èœé¸Ÿæ•™ç¨‹\nè¿™æ˜¯python3çš„å¼€å‘å…¥é—¨åŸºç¡€æ•™ç¨‹ã€‚\npythonå…¥é—¨å»ºè®®ä¸»è¦æ ¹æ®èœé¸Ÿæ•™ç¨‹è¿›è¡Œã€‚\nxlwings xlwingsçŸ¥ä¹\nxlwings of github\nxlwings å®˜ç½‘\nxlwingsçŸ¥ä¹ ä»‹ç»xlwingsï¼› xlwings of github slwings æºç ï¼› xlwings å®˜ç½‘ xlwings å®˜æ–¹ç½‘ç«™\nä¸Šé¢ä¸‰ä¸ªä¸»è¦ç”¨äºä½¿ç”¨pythonæ“ä½œexcelæ—¶çš„é‡è¦æŸ¥è¯¢è·¯å¾„ã€‚\n","description":"\n","tags":["python","python3"],"title":"\npython3å…¥é—¨","uri":"/posts/post-12/"},{"categories":["NAS"],"content":"ä¸€ ï¼Œç”³è¯·å…¬ç½‘IP(åŠ¨æ€IP) åœ¨åŒ—æ–¹è”é€šå…¬ç½‘IPå¤šä¸€äº›,åœ¨å—æ–¹ç”µä¿¡å…¬ç½‘IPå¤šä¸€äº›\nåŒ—æ¼‚çš„æˆ‘è‡ªå·±ç”¨çš„ æ­£å¥½æ˜¯åŒ—äº¬è”é€šå®½å¸¦,å½“åˆåœ¨å’¸é±¼åŠç†çš„ä¸ƒç™¾å¤šåŠç†ä¸‹æ¥äº”ç™¾å¤š.\nç”³è¯·å…¬ç½‘IP ä¸€å¼€å§‹è·Ÿå®¢æœè¯´å®¢æœè¯´åŠç†ä¸“ç½‘æ‰æœ‰å…¬ç½‘IP,ç”³è¯·å¤±è´¥!(å®¢æœå¯èƒ½ç†è§£é”™äº†,è¦çš„ä¸æ˜¯å›ºå®šçš„å…¬ç½‘IP,æœ‰é’±å½“ç„¶éšæ„äº†)\nååˆæ‹¨æ‰“å®¢æœæ²Ÿé€šè¯´è¦å¼„æ‘„åƒå¤´å¼„nas,å¸®è½¬ä¸€ä¸‹æŠ€æœ¯å®¢æœ,ç„¶åç»™æŠ€æœ¯ä¸Šè¯´,ç„¶åå››äº”åˆ†é’Ÿåé‡å¯å°±å¥½äº†,\néªŒè¯å…¬ç½‘IP ç™»å½•å…‰çŒ«åå°æŸ¥çœ‹IP\nè¾“å…¥åœ°å€ www.ipip.net æŸ¥çœ‹IP\nå‘ç°ä¸¤ä¸ªIPä¸€è‡´è¯´æ˜å…¬ç½‘IP å¼€é€šå¥½äº†,è®°ä½é‚£ä¸ªVLAN ID 3961,æˆ‘çš„æ˜¯åŒ—äº¬çš„æ˜¯3961 ,åœ°åŸŸä¸ä¸€æ ·è¿™ä¸ªä¹Ÿä¸ä¸€æ ·åé¢ä¼šç”¨åˆ°\näºŒ , å…‰çŒ«æ¡¥æ¥ å…‰çŒ«é›†æˆäº†å¾ˆå¤šåŠŸèƒ½ï¼Œèº«å…¼æ•°èŒï¼Œé™¤äº†æœ€åŸºæœ¬çš„å…‰ç”µè½¬æ¢åŠŸèƒ½å¤–ï¼Œè¿˜é›†æˆäº†è·¯ç”±åŠŸèƒ½ã€DHCPæœåŠ¡ã€NATã€IPTVã€WIFIåŠŸèƒ½ç­‰ã€‚è€Œå…‰çŒ«çš„ç¡¬ä»¶åªèƒ½æ»¡è¶³å®¶åº­ç½‘ç»œçš„åŸºæœ¬éœ€æ±‚ï¼Œå¦‚æœå°†å…‰çŒ«ä½œä¸ºå®¶åº­ç½‘ç»œçš„ä¸­å¿ƒèŠ‚ç‚¹ï¼Œç”±äºå…‰çŒ«çš„æ€§èƒ½é—®é¢˜ï¼Œç°åœ¨åŸºæœ¬éƒ½æ˜¯æ™ºèƒ½å®¶å…·,ç¬”è®°æœ¬,PCç”µè„‘,åºŠå¤´ç¯æ‰‹æœº,å¤©çŒ«ç²¾çµ,å°çˆ±åŒå­¦,æ‘„åƒæœº,æ™ºèƒ½æ’åº§,IPADç­‰ç­‰å…‰è®¾å¤‡å°±åå‡ ä¸ª,æˆ‘æ‰“æ¸¸æˆæ—¶ ç»å¸¸460,ä½œä¸ºä¸€çº§å®½å¸¦è¿è¥å•†ä¸åº”è¯¥å‡ºç°çš„é—®é¢˜,ä¸€å¼€å§‹è´­ä¹°è”é€šå®½å¸¦ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ,ä¸åƒæ˜¯é¹åšå£«,é•¿åŸå®½å¸¦é‚£æ ·äºŒä¸‰çº§è¿è¥å•†\näºŒä¸‰çº§è¿è¥å•†çš„è¿è¥æ¨¡å¼å¤§æ¦‚æ˜¯è¿™æ ·çš„ æ¯”å¦‚ä»1çº§è¿è¥å•†é‚£é‡Œä¹°1000å…†å®½å¸¦,ç„¶åå¾€å¤–å– ,å–çš„æ—¶å€™å®£ç§°æ˜¯100å…†å®½å¸¦,åº”è¯¥å–ç»™10ä¸ªäººå°±å¤Ÿäº†,è®©æ¯ä¸ªäººæœ€å¤§èƒ½è¾¾åˆ°100å…†,å‡å¦‚æ¯ä¸ªäººéƒ½ç”¨ æœ€å¤§èƒ½åˆ°1000å…†,è¿™æ—¶å€™æ²¡é—®é¢˜,ä½†æ˜¯ä»–ä¸ä¼šåªå–ç»™10ä¸ªäºº,ä»–ä¼šå–ç»™100ä¸ªäºº,å¦‚æœè¿™ä¸ªæ—¶å€™é‡Œé¢åªæœ‰åŒæ—¶10ä¸ªäººä¸Šç½‘,é‚£æ²¡æœ‰é—®é¢˜,æ¯ä¸ªäººéƒ½èƒ½è¾¾åˆ°100å…†,å‡å¦‚100ä¸ªäººåŒæ—¶ä¸Šç½‘,å¹³å‡åˆ†é…,æ¯ä¸ªäººæ‰ä¼š10M,å› ä¸ºæ€»çš„1000Mä¸å˜.è¿™ä¹Ÿå°±æ˜¯ä¸ºå•¥æ™šä¸Šçš„æ—¶å€™ ä½ å®¶çš„ç½‘ç»œä¼šæ…¢çš„åŸå› äº†!(å½“ç„¶æ²¡æˆ‘è¯´çš„è¿™ä¹ˆç®€å•,ä»–å¯èƒ½ä¼šæ ¹æ®åœ°åŸŸ,ç®—æ³• å»ä¼˜åŒ–è¿™ç§ç½‘ç»œå¸¦å®½çš„åˆ†é…ç­–ç•¥)\né¦–å…ˆç™»é™†è‡ªå·±çš„å…‰çŒ«åå° æŸ¥çœ‹è‡ªå·±çš„å…‰çŒ«çš„è¿æ¥å®½å¸¦çš„è´¦å·å¯†ç  è´¦å·ä¼šæ˜¾ç¤º,å¯†ç ä¸çŸ¥é“çš„ å¯ä»¥æŒ‰f12 æ‰“å¼€æ£€æŸ¥\nç‚¹å‡»å¼¹å‡ºæ¡†çš„å·¦ä¸Šè§’çš„é¼ æ ‡ç®­å¤´,é€‰ä¸­å¯†ç ,ç„¶åæŠŠ\n\u003cinput type=\"password\" ä¿®æ”¹ä¸º \u003cinput type=\"text\" è¿™æ ·å¯†ç å°±æ˜¾ç¤ºå‡ºæ¥äº† è®°ä½è¿™ä¸ªè´¦å·\nè¿›å…¥ç®¡ç†å‘˜æ¨¡å¼ ç”¨ç”µè„‘ç›´æ¥é€šè¿‡ç½‘çº¿è¿æ¥å…‰çŒ«,ä¸è¦ç»è¿‡è·¯ç”±å™¨\næˆ‘çš„è”é€šå…‰çŒ« æ˜¯ ZXHN F477V2\n192.168.1.1/hidden_version_switch.gch ï¼Œé€‰ default versionï¼Œå¯†ç  CUAdmin\næœºå™¨è‡ªåŠ¨é‡å¯ä¹‹åå°±å¯ä»¥è¿› 192.168.1.1/cu.html äº†ï¼Œ é€‰ç®¡ç†å‘˜è´¦æˆ·ï¼Œå¯†ç  CUAdmin\nè¿›å»ä¹‹åæ–°å»º internet bridgeï¼Œvlan é€‰é¡¹è®°å¾—é€‰ æ”¹ tagï¼Œç„¶ååœ¨ vlan_id é‡Œå¡« 3961(æœ‰çš„ä¸æ˜¯3961, ä¸Šé¢è¯´è¿‡ä¸çŸ¥é“çš„çœ‹ä¸Šé¢)\nä¿å­˜è®¾ç½®ä¹‹å é‡å¯å°±å¯ä»¥äº†\nå¦å¤–ï¼Œå¦‚æœæœ‰é—®é¢˜è¦æ¢å¤åˆå§‹çŠ¶æ€ï¼Œé‡æ–°å›åˆ° hidden_version_switch.gch é‡Œé€‰ beijing é…ç½® ç„¶ååœ¨é…ç½®é¡µé¢é‡Œè¾“å…¥å®½å¸¦è´¦å·å°±å¯ä»¥äº†\nä¸çŸ¥é“çš„å’‹å¼„çš„è”ç³»å®¢æœè®©ç»´ä¿®å¸ˆå‚…å¸®ä½ ä¿®æ”¹ä¸€ä¸‹ä¹Ÿå¯ä»¥!\nè·¯ç”±å™¨æ‹¨å· ç”¨ç”µè„‘è¿æ¥è·¯ç”±å™¨è·¯ç”±å™¨è¿æ¥å…‰çŒ«\nè·¯ç”±å™¨é€‰æ‹©å®½å¸¦æ‹¨å·PPPoE\nè¾“å…¥å‰é¢æŸ¥çœ‹çš„è´¦å·å¯†ç ,è¿™ä¸ªæ—¶å€™æŸ¥çœ‹è·¯ç”±å™¨WANå£çš„IPåœ°å€,å’Œä¹‹å‰é€šè¿‡ www.ipip.net æŸ¥çœ‹çš„IPåœ°å€æ˜¯å¦ä¸€è‡´,ä¸€è‡´å°±è¯´æ˜å¯ä»¥äº†!\nè·¯ç”±å™¨ç«¯å£è½¬å‘ æ‰¾åˆ°è½¬å‘è®¾ç½®\nå¯ä»¥ç«¯å£è½¬å‘,ä¹Ÿå¯ä»¥DMZä¸»æœº,ä¸¤ä¸ªåŒºåˆ«çš„æ˜¯ä¸€ä¸ªæ˜¯æŒ‡å®šç«¯å£è½¬å‘,ä¸€ä¸ªæ˜¯æ‰€æœ‰æ¥å£è½¬å‘.æˆ‘è¿™é‡Œå› ä¸ºåé¢éƒ¨ç½²å¥½å¤šåº”ç”¨,æ•°æ®åº“å•¥çš„,æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ç”¨çš„DMZä¸»æœº\nDMZä¸»æœºåœ°å€å¡«å†™è‡ªå·±çš„NASçš„å†…ç½‘IPåœ°å€å°±å¯ä»¥äº†\nè¿™ä¸ªæ—¶å€™ç›´æ¥è®¿é—®è‡ªå·±çš„å¤–ç½‘åœ°å€å°±å¯ä»¥äº†!\n","description":"\n","tags":[],"title":"\nNAS ç¯‡äºŒï¼šå¤–ç½‘è®¿é—®NASä¸Šé¢çš„åº”ç”¨","uri":"/posts/post-334/"},{"categories":["NAS"],"content":"è´­ä¹°ç†ç”± å¤„äºä»¥ä¸‹è€ƒè™‘æˆ‘æœ‰äº†äººç”Ÿä¸­çš„ç¬¬ä¸€å°NAS\næˆ‘ä¹‹å‰è´­ä¹°äº†ä¸€å°å°ç±³å®¶åº­äº‘ç›˜,ä¹‹å‰æ˜¯å¤‡ä»½ç…§ç‰‡,ç¦»çº¿ä¸‹è½½,æ™ºèƒ½æ‘„åƒæœºå½•åƒå­˜å‚¨ç”¨çš„ ,åæ¥æ„Ÿè§‰ ä¹Ÿåªèƒ½å¹²è¿™äº›,ä¸‹è½½ä¸œè¥¿éœ€è¦å®‰è£…å®¢æˆ·ç«¯,ä¸èƒ½ç›´æ¥å¯¹å¤–åˆ†äº«,ä¸æ”¯æŒPCæ“ä½œ,å°¤å…¶æ˜¯MAC(å…¬å¸ç»™é…äº†ä¸€å°MAC),å…³é”®æ˜¯æœ‰ä¸¤ä¸ªTçš„ç›‘æ§çº§å†…ç½®ç¡¬ç›˜,,å’Œè´­ä¹°å†…å­˜å·®ä¸å¤šå°‘äº†,å› ä¸ºå½“æ—¶æ˜¯ä¼—ç­¹è¿˜å¾ˆä¾¿å®œ, åœ¨ä¸€ä¸ªæŠ€æœ¯äº¤æµç¾¤é‡Œé¢æœ‰ä¸ªäººè¦è´­ä¹°,æ­£å¥½å–ç»™ä»–äº†.ç”¨äº†ä¸€å¹´å¤šä¾¿å®œä¸€ç™¾å—é’±. æˆ‘çš„é˜¿é‡Œäº‘æœåŠ¡å™¨å¤ªæ…¢äº†,æ¢äº†macç¬”è®°æœ¬å,ä¹‹å‰æˆ‘ä¸€ç›´ç”¨çš„FoxMailé‚®ç®±é‡Œé¢çš„ç¬”è®°,å‘ç°MACå®¢æˆ·ç«¯ä¸æ”¯æŒ,ä¹‹å‰çš„ç¬”è®°åªèƒ½ä¸€ç‚¹ç‚¹å¤åˆ¶å‡ºæ¥,ç´¢æ€§æ­å»ºäº†ä¸€ä¸ªå¼€æºçš„ç¬”è®°,å‘ç°æœ‰ä¸ªä¸ºçŸ¥ç¬”è®°(å¤šç«¯æ”¯æŒåŒæ­¥æ”¯æŒmakedownè¯­æ³•æ­£å¼æˆ‘æƒ³è¦çš„) æ¨èæŒºå¥½çš„,æ­å»ºå¥½äº†,å¤ªå¡äº† é¡µé¢æ‰“å¼€åŠå¤©,å½“ç„¶å’Œæˆ‘æœåŠ¡å™¨æœ‰å…³ç³». è¿‡å»ä¸¤å¹´å†…å„å¤§ç¡¬ç›˜çš„å…³åœå’Œé™é€Ÿ. å¯ä»¥ä½œä¸ºå®¶é‡Œçš„å°å‹æœåŠ¡å™¨ä½¿ç”¨ã€‚ è‡ªå·±å¿ƒé‡Œç§è‰äº†ï¼Œè‡ªå·±ä¹Ÿæ˜¯ä¸ªçˆ±æŠ˜è…¾çš„äººï¼Œæˆ‘çš„äººç”Ÿä¸¤å¤§å®šå¾‹ â€œä¸€åˆ‡å‘é’±çœ‹â€,â€œæ´»ç€å°±è¦æŠ˜è…¾â€,è¿™æ˜¯ä¿ƒæˆè¿™ä¸ªå¾—ä¸»è¦åŸå›  è®¾å¤‡é‡‡è´­ ç½‘ä¸Šæœäº†ä¸€ä¸‹ ä¸»è¦æ˜¯æ¨èäº†ä¸‰ä¸ªå“ç‰Œ ç¾¤æ™–,å¨è”é€š,é“å¨é©¬å„æœ‰å„çš„ç‰¹ç‚¹æ€»ç»“ä¸‰å¥è¯\nå¯ç©æ€§æ¨èç¾¤æ™–\nå®‰å…¨æ€§æ¨èå¨è”é€š\næ€§ä»·æ¯”æ¨èé“å¨é©¬\næˆ‘å¼€å§‹é€‰æ‹©äº†é“å¨é©¬,è´­ä¹°åå‘ç°å£°éŸ³æœ‰ç‚¹å¤§,åŒ—äº¬ç§Ÿæˆ¿çš„æˆ‘åªèƒ½åœ¨ä¸€ä¸ªå±‹é‡Œé¢,è™½ç„¶æˆ‘ç¡çœ è´¨é‡æ¯”è¾ƒå¥½,æ¯•ç«Ÿè¿˜æœ‰å¯¹è±¡åœ¨,ä½“éªŒä¸¤å¤©,è‡ªè´¹é€€å›å»äº†.åæ¥é€‰æ‹©äº†ç¾¤è¾‰,æ¯”é“å¨é©¬å¤šäº†è¿‘ä¸€åƒå—\nç³»ç»Ÿå®‰è£… æå®šè¿ä¸Šç”µæºã€ç½‘çº¿ï¼Œç‚¹å‡»å¼€æœºé”®ã€‚ç„¶åæ‰“å¼€è·¯ç”±å™¨åœ°å€æŸ¥çœ‹ç»ˆç«¯ç®¡ç†,æ‰“å¼€å±€åŸŸç½‘åœ°å€ï¼ŒæŒ‰ç…§æç¤ºä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ï¼Œè®¾ç½®å¥½å†…å®¹å°±å¯ä»¥äº†ï¼Œååˆ†é’Ÿå·¦å³å°±ç»“æŸã€‚å®‰è£…å®Œæ¯•è¿›å…¥ç³»ç»Ÿç•Œé¢.\nè½¯ä»¶å®‰è£… æˆ‘ä»¬ä¹°NASçš„æœ€ä¸»è¦éœ€æ±‚ï¼š\n1.æ–‡ä»¶äº‘å­˜å‚¨ã€äº‘å¤‡ä»½\n2.ç…§ç‰‡äº‘ç®¡ç†\n3.å½±éŸ³æ–‡ä»¶äº‘ç®¡ç†\n4.äº‘ç¬”è®°\n5.è¿œç¨‹ä¸‹è½½\n6.å…¶ä»–é«˜é˜¶åº”ç”¨\n","description":"\n","tags":[],"title":"\nNAS ç¯‡ä¸€ï¼šè®°å½•ä¸‹è‡ªå·±çš„ç¬¬ä¸€å°NASç³»","uri":"/posts/post-335/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Dockerçš„ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µï¼šé•œåƒã€å®¹å™¨ã€ä»“åº“\né•œåƒï¼šç±»ä¼¼è™šæ‹Ÿæœºçš„é•œåƒã€ç”¨ä¿—è¯è¯´å°±æ˜¯å®‰è£…æ–‡ä»¶ã€‚\nå®¹å™¨ï¼šç±»ä¼¼ä¸€ä¸ªè½»é‡çº§çš„æ²™ç®±ï¼Œå®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºåº”ç”¨è¿è¡Œå®ä¾‹ï¼Œ\nå¯ä»¥å°†å…¶å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ã€è€Œè¿™äº›å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»ã€äº’ä¸å¯è§çš„ã€‚\nä»“åº“ï¼šç±»ä¼¼ä»£ç ä»“åº“ï¼Œæ˜¯Dockeré›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœºæ‰€ã€‚\nç®€å•ä»‹ç»ä¸€ä¸‹åœ¨CentOSä¸Šå®‰è£…Dockerã€‚ å‰ç½®æ¡ä»¶ï¼š\n64-bit ç³»ç»Ÿ kernel 3.10+ 1.æ£€æŸ¥å†…æ ¸ç‰ˆæœ¬ï¼Œè¿”å›çš„å€¼å¤§äº3.10å³å¯ã€‚ $ uname -r 2.ä½¿ç”¨ sudo æˆ– root æƒé™çš„ç”¨æˆ·ç™»å…¥ç»ˆç«¯ã€‚ 3.ç¡®ä¿yumæ˜¯æœ€æ–°çš„ $ yum update 4.æ·»åŠ  yum ä»“åº“ tee /etc/yum.repos.d/docker.repo \u003c\u003c-'EOF' [dockerrepo] name=Docker Repository baseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/ enabled=1 gpgcheck=1 gpgkey=https://yum.dockerproject.org/gpg EOF 5.å®‰è£… Docker [root@maruifu ~]# yum install -y docker-engine å®‰è£…æˆåŠŸåï¼Œä½¿ç”¨docker versionå‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå®‰è£…æˆåŠŸåâ€”â€”å¦‚ä¸‹\n[root@maruifu ~]# docker version Client: Version: 17.05.0-ce API version: 1.29 Go version: go1.7.5 Git commit: 89658be Built: Thu May 4 22:06:25 2017 OS/Arch: linux/amd64 Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? 6.å¯åŠ¨docker $systemctl start docker.service 7.éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ(æœ‰clientå’Œserviceä¸¤éƒ¨åˆ†è¡¨ç¤ºdockerå®‰è£…å¯åŠ¨éƒ½æˆåŠŸäº†) ä½¿ç”¨docker versionå‘½ä»¤æŸ¥çœ‹\n[root@maruifu ~]# docker version Client: Version: 17.05.0-ce API version: 1.29 Go version: go1.7.5 Git commit: 89658be Built: Thu May 4 22:06:25 2017 OS/Arch: linux/amd64 Server: Version: 17.05.0-ce API version: 1.29 (minimum version 1.12) Go version: go1.7.5 Git commit: 89658be Built: Thu May 4 22:06:25 2017 OS/Arch: linux/amd64 Experimental: false 8.è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ $ sudo systemctl enable docker åˆ°æ­¤ä¸ºæ­¢dockerå°±å®Œå…¨å®‰è£…å¥½äº†ã€‚\n","description":"\n","tags":[],"title":"\nlinuxä¸Šå®‰è£…Docker(éå¸¸ç®€å•çš„å®‰è£…æ–¹æ³•)","uri":"/posts/post-336/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Redis çš„åº”ç”¨åœºæ™¯ ç°åœ¨ä¸è®ºå¤§å‚è¿˜æ˜¯å°å¹³å°ï¼Œåœ¨é¢è¯•çš„æ—¶å€™ï¼Œéƒ½ä¼šé¢è¯•redisã€‚æˆ‘ä»¬çŸ¥é“ï¼Œrediså¾ˆç«,ä½†æ˜¯å¹³æ—¶æˆ‘ä»¬å¥½åƒæ²¡æœ‰æ€ä¹ˆï¼ˆçœŸæ­£çš„ï¼‰ç”¨åˆ°redisã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç”¨redisåšäº†ä»€ä¹ˆï¼Ÿ ç¼“å­˜ ç¼“å­˜ ç¼“å­˜ ç¼“å­˜ ç¼“å­˜ â€¦â€¦ å®é™…ä¸Šrediså¯ä»¥åšä»€ä¹ˆï¼Ÿ ç¼“å­˜ æ’è¡Œæ¦œ Sessionå…±äº« åˆ†å¸ƒå¼é” å»¶æ—¶é˜Ÿåˆ—/æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆæ”¯ä»˜ï¼‰ å‘å¸ƒï¼Œè®¢é˜…æ¶ˆæ¯ é™æµ â€¦â€¦ è®©æˆ‘ä»¬åŠ¨æ‰‹è¯•è¯•å§ æ—¢ç„¶redisæœ‰è¿™ä¹ˆå¤šç”¨å¤„ï¼Œå“ªæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸è¯•è¯•å‘¢ï¼Ÿä¸‹é¢å°±é€šè¿‡ä»¥ä¸‹å‡ ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ¥çœŸæ­£çš„äº†è§£ä¸‹redisã€‚\n","description":"\n","tags":["redis"],"title":"\nredisåº”ç”¨-å‰åº","uri":"/posts/post-10/"},{"categories":["é»˜è®¤åˆ†ç±»","Spring Cloud"],"content":"å†™åœ¨å‰é¢ é€šè¿‡å‰é¢SpringCloudå…¥é—¨ç¯‡ï¼ˆä¸€ï¼‰- ç®€ä»‹ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šäº†è§£åˆ°æœ¬ç³»åˆ—æ–‡ç« æˆ‘ä»¬éœ€è¦æ¶‰åŠçš„å„ç§ç»„ä»¶äº†ï¼Œä»Šå¤©å°±è®©æˆ‘ä»¬è®¤è¯†ä¸‹Eurekaã€‚ç”±äºå‰é¢æˆ‘ä»¬å·²ç»åºŸè¯å¤ªå¤šï¼Œè¿™é‡Œæˆ‘ä»¬å°±ç›´æ¥å¼€å§‹ã€‚\nåˆ›å»ºEurekaæœåŠ¡ Eurekaä½œä¸ºæœåŠ¡ä¸­å¿ƒï¼Œæˆ‘ä»¬è¿™é‡Œè¦ä½¿ç”¨çš„ä¹Ÿæ˜¯å…¶æœåŠ¡å‘ç°è¿™ä¸€é‡è¦ç‰¹æ€§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå…¶æœ¬èº«ä¹Ÿæ˜¯æœåŠ¡ï¼Œæ‰€ä»¥æ­£å¸¸æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯å¯ä»¥å‘ç°è‡ªèº«çš„ã€‚\næˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŸºç¡€é¡¹ç›®CloudBlogProject ä¹‹åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹pom.xmlï¼Œä»¥ä¾¿åç»­ç»´æŠ¤ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cgroupId\u003ecn.com.pfinfo\u003c/groupId\u003e \u003cartifactId\u003ecloud.blog\u003c/artifactId\u003e \u003cversion\u003e0.0.1\u003c/version\u003e \u003cpackaging\u003epom\u003c/packaging\u003e \u003cparent\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-parent\u003c/artifactId\u003e \u003cversion\u003e2.0.3.RELEASE\u003c/version\u003e \u003crelativePath /\u003e \u003c!-- lookup parent from repository --\u003e \u003c/parent\u003e \u003cname\u003eBaseCloud\u003c/name\u003e \u003cproperties\u003e \u003cproject.build.sourceEncoding\u003eUTF-8\u003c/project.build.sourceEncoding\u003e \u003cproject.reporting.outputEncoding\u003eUTF-8\u003c/project.reporting.outputEncoding\u003e \u003cjava.version\u003e1.8\u003c/java.version\u003e \u003cspring-cloud.version\u003eFinchley.RELEASE\u003c/spring-cloud.version\u003e \u003c/properties\u003e \u003cdependencyManagement\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-dependencies\u003c/artifactId\u003e \u003cversion\u003e${spring-cloud.version}\u003c/version\u003e \u003ctype\u003epom\u003c/type\u003e \u003cscope\u003eimport\u003c/scope\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/dependencyManagement\u003e \u003cbuild\u003e \u003cplugins\u003e \u003cplugin\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-maven-plugin\u003c/artifactId\u003e \u003c/plugin\u003e \u003c/plugins\u003e \u003c/build\u003e \u003c/project\u003e ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªMaven Moduleï¼š åŒæ ·ï¼Œä¹Ÿæ˜¯ä¿®æ”¹pom.xmlï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003c!-- å…¶ä»–çœç•¥ --\u003e \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-netflix-eureka-server\u003c/artifactId\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-test\u003c/artifactId\u003e \u003cscope\u003etest\u003c/scope\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003cproject\u003e åœ¨EurekaServiceä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯åŠ¨ç±»EurekaServerApplication.javaï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package cn.com.pfinfo.eurekaserver; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer; @EnableEurekaServer @SpringBootApplication public class EurekaServerApplication { public static void main(String[] args) { SpringApplication.run(EurekaServerApplication.class, args); } } ä¿®æ”¹é…ç½®æ–‡ä»¶application.propertiesï¼š\n1 2 3 4 5 6 7 8 9 10 11 spring.application.name=eureka-server #æœåŠ¡æ³¨å†Œä¸­å¿ƒç«¯å£å· server.port=8080 #æœåŠ¡æ³¨å†Œä¸­å¿ƒå®ä¾‹çš„ä¸»æœºå eureka.instance.hostname=127.0.0.1 #æ˜¯å¦å‘æœåŠ¡æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·± eureka.client.register-with-eureka=false #æ˜¯å¦æ£€ç´¢æœåŠ¡ eureka.client.fetch-registry=false #æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„é…ç½®å†…å®¹ï¼ŒæŒ‡å®šæœåŠ¡æ³¨å†Œä¸­å¿ƒçš„ä½ç½® eureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/ æˆ‘ä»¬å¯åŠ¨ä¸€ä¸‹ï¼Œæ‰“å¼€127.0.0.1:8080 é›†ç¾¤ç‰ˆæœ¬ï¼ˆä¼ªï¼‰ é™¤äº†æˆ‘ä»¬è‡ªå·±å­¦ä¹ çš„æ—¶å€™ä¼šè¿™ä¹ˆæ­å»ºå•æœºEurekaï¼Œä¼ä¸šåŸºæœ¬ä¸ä¼šè¿™æ ·é€‰æ‹©ï¼Œäººå®¶ç©çš„éƒ½æ˜¯é›†ç¾¤ã€‚é‚£æˆ‘ä»¬æ€ä¹ˆæ­å»ºé›†ç¾¤Eurekaå‘¢ï¼Ÿ ä¸ºäº†å‡å°‘å¤§å®¶çš„å­¦ä¹ æˆæœ¬ï¼ˆä¸è®ºæ˜¯çŸ¥è¯†ä¸Šè¿˜æ˜¯ç¡¬ä»¶ä¸Šçš„ï¼‰ï¼Œè¿™é‡Œå°±åœ¨å•æœºä¸Šå®ç°ä¼ªé›†ç¾¤ã€‚ æˆ‘ä»¬åªç”¨åœ¨EurekaServerä¸­åˆ›å»º2ä¸ªé…ç½®æ–‡ä»¶application-eureka-secondary.propertiesã€application-eureka-tertiary.properties å®ƒä»¬ä¸application.propertiesåŒºåˆ«åªæœ‰ä¸‹é¢è¿™äº›ä¸ä¸€æ ·ï¼š\n# applicationçš„é…ç½® server.port=8080 eureka.instance.hostname=eureka-primary eureka.client.serviceUrl.defaultZone=http://eureka-secondary:8078/eureka/,http://eureka-tertiary:8079/eureka/ # eureka-secondaryçš„é…ç½® server.port=8078 eureka.instance.hostname=eureka-secondary eureka.client.serviceUrl.defaultZone=http://eureka-primary:8080/eureka/,http://eureka-tertiary:8079/eureka/ # eureka-tertiaryçš„é…ç½® server.port=8079 eureka.instance.hostname=eureka-tertiary eureka.client.serviceUrl.defaultZone=http://eureka-primary:8080/eureka/,http://eureka-secondary:8078/eureka/ ç„¶åï¼Œæˆ‘ä»¬ä¿®æ”¹hostsï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®\n127.0.0.1 eureka-primary 127.0.0.1 eureka-secondary 127.0.0.1 eureka-tertiary æˆ‘ä»¬ä¾æ¬¡åˆ›å»ºå¯åŠ¨é…ç½®ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬åˆ†åˆ«å‘½åä¸ºï¼š\neureka-service(primary) - EurekaServerApplication eureka-service(secondary) - EurekaServerApplication eureka-service(tertiary) - EurekaServerApplication ä¿®æ”¹å¯¹åº”é…ç½®çš„VM argumentsï¼Œæ·»åŠ å¯¹åº”é…ç½®ï¼š\n#eureka-secondary -Dspring.profiles.active=eureka-secondary #eureka-tertiary -Dspring.profiles.active=eureka-tertiary æ³¨æ„ï¼šprimaryä½¿ç”¨çš„applicationï¼Œæ‰€ä»¥ä¸ç”¨æ·»åŠ ï¼‰ã€‚\nä»¥eureka-secondaryä¸ºä¾‹ï¼Œé…ç½®å¦‚ä¸‹ï¼š ç„¶ååˆ†åˆ«å¯åŠ¨ï¼šprimaryã€secondaryã€tertiaryã€‚ å†æ¬¡ç‚¹å¼€127.0.0.1:8080æˆ–è€…eureka-primary:8080æˆ‘ä»¬å°±èƒ½çœ‹è§å¦‚ä¸‹ç•Œé¢ åè¯ å½“ç„¶ï¼Œå¦‚æœä½ æœ€åæ‰“å¼€å‘ç°æœ‰ä¸€è¡Œçº¢å­—ï¼Œä¸åŒæ‹…å¿ƒï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè§£å†³åŠæ³•ï¼Œä½ å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚\n","description":"\n","tags":["SpringCloud"],"title":"\nSpringCloudå…¥é—¨ç¯‡ï¼ˆäºŒï¼‰ - Eureka","uri":"/posts/post-9/"},{"categories":["é»˜è®¤åˆ†ç±»","java","SpringBoot","Spring Cloud"],"content":" å†™åœ¨å‰é¢ **æœ¬ç³»åˆ—æ–‡ç« ï¼Œå‡å®šè¯»è€…ä¼šä½¿ç”¨Spring Bootå®Œæˆé¡¹ç›®å¼€å‘ã€‚**å¦‚æœè¯»è€…å¯¹è¿™æ–¹é¢åªæ˜¯ä¸Šæœ‰æ¬ ç¼ºï¼Œå»ºè®®å…ˆè¡¥è¶³ç›¸åº”çŸ¥è¯†ã€‚\næœ¬æ–‡ä¸æ¶‰åŠSpringCloudçš„ç›¸å…³ç»„ä»¶ï¼Œä¸»è¦æ˜¯ä¸ºä¾‹è®©è¯»è€…äº†è§£SpringCloudä»¥åŠä¸ºä»€ä¹ˆè¦é€‰æ‹©è¿™ä¸ªæŠ€æœ¯\nSpringCloudæ€ä¹ˆå‡ºç°çš„ è¿™ä¸ªé—®é¢˜æ˜¯éœ€è¦ç«™åœ¨ä¼ä¸šçš„è§’åº¦å»æ€è€ƒçš„ã€‚è¯´è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç™½å‡ ä¸ªé—®é¢˜ï¼š\näº’è”ç½‘æ¶æ„æ˜¯å¦‚ä½•æ¼”å˜çš„ æ¼”å˜è¿‡ç¨‹ä¸­ï¼Œä¸åŒçº§åˆ«ä¼ä¸šæ˜¯å¦‚ä½•è½¬å‹çš„ å•æœºã€åˆ†å¸ƒå¼å’Œé›†ç¾¤çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚æœä½ å¯¹ä¸Šé¢è¿™äº›é—®é¢˜æœ‰ä¸ªå¤§æ¦‚çš„ç†è§£äº†ï¼ˆåº¦å¨˜ä¸€ä¸‹ï¼‰ï¼Œä¸‹é¢æˆ‘è¯´çš„ä½ å¯èƒ½å°±æ›´èƒ½ç†è§£äº†ã€‚ å…¶å®å¯¹ä¼ä¸šæ¥è¯´ï¼Œä¸€åˆ‡ç³»ç»Ÿçš„å¼€å‘ï¼Œå°±æ˜¯èŠ±æ›´å°çš„ä»£ä»·æ¥å®Œæˆæ›´å¿«é€Ÿçš„å“åº”ï¼Œå½“ç„¶è¿™é‡Œçš„â€œæ›´å°çš„ä»£ä»·â€æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æè¿°ã€‚\nä»¥å‰å•æœºçš„æ—¶å€™ï¼Œæ¯”è¾ƒå¤šçš„ä¼ä¸šç”±äºç§ç§åŸå› ï¼ˆèµ„æºæœ‰é™ï¼ŒäººåŠ›ä¸è¶³ï¼Œä¸ºäº†å¿«é€Ÿå¼€å‘ä¸€ä¸ªäº§å“ï¼Œæˆ–ä¸Šçº¿ä¸€ä¸ªç½‘ç«™ï¼‰ï¼Œå•æœºå¾€å¾€æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ­¤æ—¶ä¼šå°†åº”ç”¨ç¨‹åºã€æ–‡ä»¶æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ç­‰èµ„æºé›†ä¸­åœ¨ä¸€å° Server ä¸Šã€‚è¿™æ ·éƒ¨ç½²æ–¹ä¾¿ï¼Œå°±åƒtomcatéƒ¨ç½²waråŒ…ã€‚\nåæ¥ï¼Œå¸¦å®½è¶Šæ¥è¶Šå¤§ï¼ŒæœåŠ¡å¼€å‘çš„æ—¶å€™å¯å±•ç¤ºçš„èµ„æºï¼ˆå›¾ç‰‡ã€çŸ­è§†é¢‘ï¼‰ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œç›¸å¯¹çš„ï¼Œè„šæ‰‹æ¶ä¹Ÿæ˜¯ç™¾èŠ±é½æ”¾ï¼Œä¸ä¹‹å¸¦æ¥çš„æ˜¯å¯¹å„ç§æ–‡ä»¶èµ„æºçš„ä¾èµ–å¢å¤šï¼Œä»¥å‰ä¸€ä¸ªç½‘é¡µåŠ è½½å®Œæ¯•ä¹Ÿå°±âˆkb/åå‡ kb/jå‡ åkbï¼Œè¿æ¥æ•°ä¹Ÿå°±é‚£ä¹ˆäº›ï¼›ç°åœ¨åŠ¨è¾„å‡ ç™¾kb/å‡ Mbï¼Œè¿æ¥æ•°è¿˜è¶Šæ¥è¶Šå¤šï¼Œç”¨æˆ·è¶Šæ¥è¶Šåºå¤§ã€‚è¿™äº›éƒ½æ˜¯éœ€è¦å„ç§å¼€é”€çš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æœä¸€ä¸‹â€œæ‰“å¼€ä¸€ä¸ªç½‘é¡µèƒŒåéƒ½å‘ç”Ÿäº†ä»€ä¹ˆâ€ã€‚ä¼ä¸šä¸ºäº†æ›´å¿«çš„å¤„ç†å¥½è¿™ä¸ªé—®é¢˜ï¼Œå°±å¼€å§‹å¢åŠ æœºå™¨ï¼ˆåˆ†æµï¼‰ï¼Œä½†æ˜¯ç´§æ¥ç€é—®é¢˜å‡ºç°äº†ï¼Œå¦‚ä½•èƒ½ä¿è¯è¿™äº›æœºå™¨é—´çš„éš”ç¦»æ€§ä»¥åŠä¸šåŠ¡çš„ä¸€è‡´æ€§ï¼ˆå¦‚å¯¹æ•°æ®åº“çš„è„è¯»ã€å¹»è¯»ã€é‡å¤è¯»ç­‰é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥æŸäº›å¤§å…¬å¸å¼€å§‹äº†ä¸“æ²»å„ç§ä¸æœï¼Œè¿™å°±å¼€å¯äº†é›†ç¾¤æ—¶ä»£ã€‚\nå†åˆ°åæ¥ï¼Œ3Gåˆ°4Gæ—¶ä»£ï¼Œç½‘ç»œåŸºæœ¬ä¸Šä¸å†ä½œä¸ºäº’è”ç½‘å‘å±•çš„é™åˆ¶ï¼Œè¶Šæ¥è¶Šå¤šçš„ç”¨æˆ·å¼€å§‹ä¹ æƒ¯äºä½¿ç”¨äº’è”ç½‘äº§å“ï¼ˆæ¯”å¦‚çŸ¥åçš„BATï¼‰ï¼Œè¿™äº›ä¼ä¸šä¸ºäº†åº”å¯¹æŸäº›ä¸šåŠ¡ï¼ˆå¦‚ï¼šåŒ11ï¼‰é«˜å³°æ—¶æœŸï¼Œå¤§é‡å›¤ç§¯äº†æœºå™¨ï¼Œè‡ªä¸»ç ”å‘äº†ä¸€ç³»åˆ—æŠ€æœ¯ï¼Œä½†æ˜¯å¹³æ—¶é—²ä¸‹æ¥çš„æ—¶å€™ï¼Œæœºå™¨å°±ç©ºé—²äº†ï¼Œæ‰€ä»¥ï¼Œä¼ä¸šéœ€è¦é™ä½æˆæœ¬ï¼Œå°±æœ‰äº†å…¬æœ‰äº‘ã€‚å…¬æœ‰äº‘çš„å‡ºç°ï¼Œè®©å°ä¼ä¸šå°å…¬å¸ä¹Ÿå¯ä»¥é€šè¿‡ç§Ÿç”¨è¿™äº›æœºå™¨ï¼Œå®Œæˆè‡ªå·±ç³»ç»Ÿäº‘åŒ–ï¼Œè¿™å°±æ˜¯äº‘æ—¶ä»£ã€‚\nåœ¨è¿™æœŸé—´ï¼Œå•çº¯çš„é›†ç¾¤ä¸‹ï¼Œç‰¹å®šæ—¶æœŸå‡ºç°çš„é«˜å³°è®¿é—®æŸä¸ªä¸šåŠ¡ï¼Œå¯¹æœºå™¨å‹åŠ›éƒ½æ˜¯å¾ˆå¤§çš„ï¼Œæœºå™¨é«˜è´Ÿè·è¿è½¬ï¼Œå…¶ä»–ä¸šåŠ¡ä¹Ÿä¼šå—å½±å“ï¼ˆèµ„æºè¡¥è¶³ï¼‰ï¼Œæ‰€ä»¥ä¼ä¸šå¼€å§‹æ‹†åˆ†ç³»ç»Ÿä¸šåŠ¡ï¼Œä¸€ä¸ªä¸šåŠ¡åˆ†æ‹†å¤šä¸ªå­ä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚ è¿™å°±æ˜¯åˆ†å¸ƒå¼ï¼ŒSpring Cloudå°±æ˜¯åœ¨è¿™æœŸé—´å‡ºç°çš„ï¼Œå…¶æœ¬è´¨å®é™…ä¸Šæ˜¯æ•´åˆäº†Springæ——ä¸‹çš„å¾ˆå¤šç»„ä»¶ã€‚\næ‰€ä»¥ï¼Œæ€»çš„æ¥è¯´ï¼š å•æœºã€åˆ†å¸ƒå¼å’Œé›†ç¾¤æ˜¯ä¼ä¸šåœ¨ä¸åŒæ—¶ä»£ä¸‹åº”å¯¹ç”¨æˆ·éœ€æ±‚çš„å„ç§éƒ¨ç½²æ–¹æ¡ˆã€‚\nå¯èƒ½æœ‰å¾ˆå¤šäººä¹‹å‰å¯¹åˆ†å¸ƒå¼å’Œé›†ç¾¤æœ‰ç‚¹æ··æ·†ã€‚ç®€å•æ¥è¯´ï¼š\nåˆ†å¸ƒå¼ï¼šä¸€ä¸ªä¸šåŠ¡åˆ†æ‹†å¤šä¸ªå­ä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Š é›†ç¾¤ï¼šåŒä¸€ä¸ªä¸šåŠ¡ï¼Œåˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Š\næ‰€ä»¥åˆ†å¸ƒå¼çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®Œæˆçš„æ˜¯ä¸åŒçš„ä¸šåŠ¡ï¼Œä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸šåŠ¡åŠŸèƒ½å°±æ— æ³•è®¿é—®äº†ï¼Œç”šè‡³å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–ä¸šåŠ¡ã€‚è€Œé›†ç¾¤æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰ç»„ç»‡çš„æ¶æ„ï¼Œæ­£å› ä¸ºæœ‰ç»„ç»‡æ€§ï¼Œä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹æŒ‚äº†ï¼Œå…¶ä»–æœåŠ¡èŠ‚ç‚¹å¯ä»¥é¡¶ä¸Šæ¥ï¼Œä»è€Œä¿è¯äº†æœåŠ¡çš„å¥å£®æ€§ã€‚\næ‰€ä»¥è¯´ï¼Œé›†ç¾¤å¯ä»¥ç†è§£ä¸ºï¼šä½ ä¸­æœ‰æˆ‘ï¼Œæˆ‘ä¸­æœ‰ä½ ï¼Œæ‰‹æ‹‰æ‰‹è‚©å¹¶è‚©ï¼Œä¸€èµ·ä¿è¯æœåŠ¡çš„å¥å£®æ€§ã€‚\nSpringCloudçš„ç»„ä»¶ åŸºæœ¬ä¸Šåœ¨å¤šå®¶å…¬å¸åšè¿‡å¤§å‹ä¸€ç‚¹çš„å•†ä¸šé¡¹ç›®ï¼Œéƒ½ä¼šçŸ¥é“ï¼Œåˆ†å¸ƒå¼é›†ç¾¤åŒ–æ–¹æ¡ˆï¼Œæ¯å®¶ä¼ä¸šéƒ½æœ‰è‡ªå·±çš„ç‰¹è‰²ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºnginx+dockerï¼Œæœ‰æ¡ä»¶çš„å°±æ˜¯k8s+nginx+docker+jenkinæˆ–è€…nginx+dobbo+dockerã€‚ å…¶å®æœ¬è´¨éƒ½æ˜¯ï¼š åˆ†æµã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€è‡ªåŠ¨è°ƒåº¦ã€‚å¥å£®æ€§è¾ƒå¥½çš„ï¼Œç³»ç»Ÿèƒ½å¤Ÿè‡ªæ„ˆï¼Œä¸éœ€è¦é‡å¯æœåŠ¡ã€‚\nè¯¦ç»†ç‚¹è¯´å°±æ˜¯ï¼š æœåŠ¡æ²»ç†ã€è´Ÿè½½å‡è¡¡ã€åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€æœåŠ¡ä¿æŠ¤ï¼ˆç†”æ–­å™¨ã€é™çº§ï¼‰ã€ç½‘å…³è·¯ç”±ã€ç›‘æ§ã€‚ è¿™äº›ä¹‹å‰ä¸»è¦æ˜¯K8S+nginxåœ¨åšã€‚ ç°åœ¨Springä¹Ÿå¼€å‘å‡ºä¸€å¥—è‡ªå·±çš„ï¼ˆç”±äºSpringCloudçš„ç‰ˆæœ¬å‘½åç‰¹æ®Šï¼Œæ‰€ä»¥ï¼Œå…ˆè¯´æ˜ï¼Œåç»­ç‰ˆæœ¬é»˜è®¤æ˜¯åŸºäºFinchley.RELEASEæ¥è¡¨è¿°ï¼‰ï¼Œæ•´åˆäº†ä¸€ä¸‹ï¼Œå«SpringCloud:\nSpring Cloud Eureka: æœåŠ¡æ²»ç†ã€æœåŠ¡æ³¨å†Œï¼ˆEureka Clientï¼‰ã€æœåŠ¡å‘ç°ï¼ˆEureka Serverï¼‰ Spring Cloud Ribbon: è´Ÿè½½å‡è¡¡ Spring Cloud Consulï¼š é…ç½®ä¸­å¿ƒ Spring Cloud Zuul: ç½‘å…³è·¯ç”± Spring Cloud Feign: æœåŠ¡è°ƒç”¨ Spring Cloud Hystrixï¼š æœåŠ¡ä¿æŠ¤ï¼ˆç†”æ–­å™¨ã€é™çº§ï¼‰ Spring Boot Adminï¼š ç›‘æ§ å½“ç„¶ï¼Œä¸Šé¢è¿™äº›ç»„ä»¶æœ‰çš„åªæ˜¯å¯¹åº”åŠŸèƒ½çš„ä¸€ç§å®ç°æ–¹æ¡ˆï¼Œè‚¯å®šè¿˜æœ‰å…¶ä»–çš„å®ç°æ–¹æ¡ˆï¼Œå…·ä½“çš„å°±éœ€è¦å¤§å®¶è‡ªè¡Œæ¢ç´¢äº†ã€‚\n","description":"\n","tags":["SpringCloud"],"title":"\nSpringCloudå…¥é—¨ç¯‡ï¼ˆä¸€ï¼‰- ç®€ä»‹","uri":"/posts/post-8/"},{"categories":["æ•°æ®åº“"],"content":"[mysql]replaceçš„ç”¨æ³•ï¼ˆæ›¿æ¢æŸå­—æ®µéƒ¨åˆ†å†…å®¹ï¼‰ [mysql]replaceçš„ç”¨æ³•\n1.replace into replace into table (id,name) values(â€˜1â€™,â€˜aaâ€™),(â€˜2â€™,â€˜bbâ€™) æ­¤è¯­å¥çš„ä½œç”¨æ˜¯å‘è¡¨tableä¸­æ’å…¥ä¸¤æ¡è®°å½•ã€‚å¦‚æœä¸»é”®idä¸º1æˆ–2ä¸å­˜åœ¨å°±ç›¸å½“äº insert into table (id,name) values(â€˜1â€™,â€˜aaâ€™),(â€˜2â€™,â€˜bbâ€™) å¦‚æœå­˜åœ¨ç›¸åŒçš„å€¼åˆ™ä¸ä¼šæ’å…¥æ•°æ®\n2.replace(object,search,replace) æŠŠobjectä¸­å‡ºç°searchçš„å…¨éƒ¨æ›¿æ¢ä¸ºreplace select replace(â€˜www.163.comâ€™,â€˜wâ€™,â€˜Wwâ€™)â€”\u003eWwWwWw.163.com ä¾‹ï¼šæŠŠè¡¨tableä¸­çš„nameå­—æ®µä¸­çš„aaæ›¿æ¢ä¸ºbb update table set name=replace(name,â€˜aaâ€™,â€˜bbâ€™)\n3.UPDATEæ›´æ–°ä¸€ä¸ªå­—æ®µä¸­çš„çš„éƒ¨åˆ†å†…å®¹\nç°åœ¨æœ‰ä¸€æ¡è®°å½•çš„å­—æ®µæ˜¯â€œabcdefg\",ç°åœ¨æˆ‘åªæƒ³å°†è¯¥å­—æ®µä¸­çš„cæ”¹ä¸ºCï¼Œupdateè¯­å¥åº”è¯¥æ€ä¹ˆå†™\nupdate è¡¨å set å­—æ®µ1 = replace(å­—æ®µ1,â€˜câ€™,â€˜Câ€™)\n","description":"\n","tags":[],"title":"\nmysql æ›¿æ¢å­—æ®µéƒ¨åˆ†å†…å®¹","uri":"/posts/post-339/"},{"categories":["æ•°æ®åº“"],"content":"å…¨å±€æœç´¢å­—æ®µæ‰€åœ¨ä½ç½®\nSELECT COLUMN_NAME,TABLE_SCHEMA,TABLE_NAME FROM information_schema.COLUMNS WHERE COLUMN_NAME='å­—æ®µåå­—' +---------------+--------------+---------------+ | COLUMN_NAME | TABLE_SCHEMA | TABLE_NAME | +---------------+--------------+---------------+ | contacts_name | dxxxf_v3 | fledts | | contacts_name | dxxxf_v3 | losdftions | | contacts_name | dxxxf_v3 | orgafsizatsdons | | contacts_name | pxxnf | afdts | | contacts_name | sxxmens | lafions | | contacts_name | pxxmedfs | sgdszations | +---------------+--------------+---------------+ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ","description":"\n","tags":[],"title":"\nmsyqlå…¨å±€æœç´¢å­—æ®µæ‰€åœ¨ä½ç½®","uri":"/posts/post-340/"},{"categories":["é»˜è®¤åˆ†ç±»","å»ºç«™"],"content":"å‰è¨€ å¾ˆæ—©å°±æœ‰è¿‡æƒ³æ³•ï¼Œè‡ªè¡Œå»ºç«™ï¼Œéƒ½å¸Œæœ›è‡ªå·±å†™ä¸€ä¸ªç¨‹åºï¼Œåˆ åˆ æ”¹æ”¹ä¸­ï¼ŒæŠ€æœ¯å˜åŒ–ï¼ŒSpring å‡ºäº†SpringBootï¼Œå‰ç«¯ä»AngularJSåˆ°Reactï¼ŒVUEã€‚è‡ªå·±çš„ç¨‹åºä¹Ÿä»SS2H+html+jså˜æˆäº†SpringBoot+shiro+html+layuiã€‚æ”¹åŠ¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°ä»£ç æ˜¯è¶Šæ”¹è¶Šå°‘ï¼Œç»ˆäºè¿˜æ˜¯æ”¾å¼ƒäº†ã€‚åœ¨å¼€æºä¸­å›½çœ‹çœ‹ç«çƒ­çš„å¼€æºé¡¹ç›®ï¼Œæ…¢æ…¢çš„ï¼Œå‘ç°ä¸€äº›è½»é‡çº§çš„é¡¹ç›®ï¼Œæœ¬ç€ä¸æµªè´¹çš„åŸåˆ™ï¼Œå¼€å§‹äº†æˆ‘çš„å»ºç«™ä¹‹è·¯ã€‚\næœåŠ¡å™¨ é¦–å…ˆæˆ‘ä»¬éœ€è¦è´­ä¹°äº‘æœåŠ¡å™¨ã€‚ç”±äºæˆ‘ä»¬æ˜¯å®å®åœ¨åœ¨çš„è¦æ­å»ºä¸€ä¸ªç½‘ç«™å‡ºæ¥ï¼Œæ¶‰åŠåˆ°çš„ä¸œè¥¿è¿˜æ¯”è¾ƒå¤šï¼ˆå…¬ç½‘ipï¼ŒåŸŸåè´­ä¹°å’Œå¤‡æ¡ˆç­‰ç­‰ï¼‰ï¼Œæœ€å¥½æ˜¯é€‰æ‹©å¤§ä½“é‡çš„äº‘æœåŠ¡å•†ï¼ˆæ¯”å¦‚ï¼šé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå½“å¹´ææ´»åŠ¨çš„æ—¶å€™ä¹°çš„ï¼Œä¸€ç›´ç”¨åˆ°ç°åœ¨ï¼‰ï¼Œä¸‹é¢ä¹Ÿå°†ä»¥è…¾è®¯äº‘ä¸ºä¾‹ã€‚å…¶ä»–äº‘æœåŠ¡å•†å¦‚ä½•æˆ‘æ²¡è°ƒç ”è¿‡ï¼Œä¸æ¸…æ¥šï¼Œå…·ä½“çš„ä¿¡æ¯éœ€è¦è¯»è€…è‡ªè¡Œsearchã€‚å¦‚æœè¯»è€…æƒ³è‡ªå·±æ­å»ºæœåŠ¡å™¨ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åç»­çš„åŸŸåè§£æä»¥åŠå…¬ç½‘ipå°±éœ€è¦è‡ªè¡Œè§£å†³ã€‚\nè´­ä¹°äº‘æœåŠ¡å™¨ å¦‚æœä¸æ€¥äºä¸€æ—¶ï¼Œå¯ä»¥æ‰¾äº‘æœåŠ¡å•†åšæ´»åŠ¨çš„æ—¶å€™å…¥æ‰‹ä¸€å°äº‘æœåŠ¡å™¨ã€‚\nä¸è¦ç‚¹å¼€ç½‘ç«™ï¼Œçœ‹è§åŠæˆªå°±å¼€è·‘ï¼Œå¤šçœ‹çœ‹ å¯ä»¥å¤šç‚¹ç‚¹ï¼Œå¤šçœ‹çœ‹ï¼Œæœ‰å¿ƒå°±èƒ½æ‰¾åˆ°ä½ä»·è´§ã€‚\nè¯¦ç»†çš„è´­ä¹°åˆæœŸè®¾ç½®éƒ½å¯ä»¥åœ¨å¿«é€Ÿé…ç½® Linux äº‘æœåŠ¡å™¨è§£å†³\nå¼ºçƒˆå»ºè®®ä½¿ç”¨linux\næœåŠ¡å™¨åˆå§‹é…ç½® å…³äºlinuxå¸¸ç”¨ç«¯å£å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼šLinuxä¸‹å¸¸ç”¨æœåŠ¡çš„ç«¯å£å·è¶…è¯¦ç»†æ•´ç† çœ‹äº†ä¸Šè¾¹è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“ï¼Œè´­ä¹°å¥½æœåŠ¡å™¨ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å…³é—­å¾ˆå¤šç«¯å£ï¼Œé˜²æ­¢åˆ«æœ‰ç”¨å¿ƒä¹‹äººæ¥æ”»å‡»æœåŠ¡å™¨ã€‚æˆ‘ä»¬åªéœ€è¦å¯¹å¤–å¼€æ”¾80ï¼Œ443ï¼ˆç½‘é¡µè¯·æ±‚ï¼‰ä»¥åŠ22ç«¯å£ï¼ˆè¿œç¨‹è¿æ¥ï¼‰ï¼Œå…¶ä½™ç«¯å£éœ€è¦å…³é—­ã€‚æˆ‘ä»¬ç™»å½•è…¾è®¯äº‘åè®¿é—®äº‘æœåŠ¡å™¨ç®¡ç†ï¼Œç„¶åå†å·¦ä¾§æ‰¾åˆ°å®‰å…¨ç»„ï¼Œå¹¶åœ¨å®‰å…¨ç»„è®¾ç½®ç­–ç•¥å¦‚ä¸‹ï¼š å…¶ä½™çš„æˆ‘ä»¬å°±ä¸éœ€è¦æ”¹åŠ¨äº†ã€‚å°¤å…¶æ˜¯é‚£å‡ ä¸ªå†…ç½‘çš„ï¼Œå…³é—­åï¼Œå¾ˆå¯èƒ½è…¾è®¯äº‘å°±æ²¡æ³•ç›‘æ§ä½ æœåŠ¡å™¨äº†ï¼ˆæˆ‘æ²¡è¯•è¿‡å»ä¿®æ”¹ï¼‰ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œä½ å¯èƒ½æ— æ³•åœ¨ç½‘é¡µä¸Šçœ‹è§ä¸‹é¢è¿™äº›æ¶ˆæ¯äº†ï¼š æœ€å åŸºæœ¬ä¸Šåˆ°è¿™é‡Œæˆ‘ä»¬äº‘æœåŠ¡å™¨ç®—æ˜¯åˆæ­¥æå®šï¼Œä½ çš„ipæ˜¯åœ¨å®ä¾‹æŸ¥çœ‹ï¼š ä¸ºäº†æœåŠ¡å™¨å®‰å…¨ï¼Œè¯·ä¸è¦éšæ„æš´éœ²ip\n","description":"\n","tags":["linux","å»ºç«™","è…¾è®¯äº‘"],"title":"\nå»ºç«™ï¼ˆä¸€ï¼‰-äº‘æœåŠ¡å™¨","uri":"/posts/post-5/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Linux\nLinux æœåŠ¡å™¨ä¸Šå¦‚ä½•é€šè¿‡ Shell è„šæœ¬ä¸€é”®éƒ¨ç½² SpringBoot åº”ç”¨\nspringboot æ˜¯é»˜è®¤é›†æˆTomcatå®¹å™¨çš„ï¼Œå°†é¡¹ç›®æ‰“åŒ…æˆjaråŒ…åº“ã€ä½¿ç”¨Javaç›´æ¥å¯åŠ¨jaråŒ…ï¼ˆéspring bootä¹Ÿå¯ä»¥ï¼‰\né¦–å…ˆéœ€è¦åœ¨æœåŠ¡å™¨ç«¯å®‰è£…jdkã€mavenã€git ç‚¹æˆ‘çœ‹mavenå®‰è£…æ•™ç¨‹ ç‚¹æˆ‘çœ‹gitå®‰è£…æ•™ç¨‹\næƒ³è¦SpringBooté¡¹ç›®ä½¿ç”¨mavenæ‰“åŒ…æˆjaråŒ…éœ€å…ˆåœ¨é¡¹ç›®ä¸­çš„pomæ·»åŠ buildæ’ä»¶,ä»£ç å¦‚ä¸‹ \u003cbuild\u003e \u003cplugins\u003e \u003cplugin\u003e \u003cartifactId\u003emaven-dependency-plugin\u003c/artifactId\u003e \u003cconfiguration\u003e \u003coutputDirectory\u003e${project.build.directory}/libs\u003c/outputDirectory\u003e \u003cexcludeTransitive\u003efalse\u003c/excludeTransitive\u003e \u003cstripVersion\u003efalse\u003c/stripVersion\u003e \u003cincludeScope\u003ecompile\u003c/includeScope\u003e \u003c!--\u003cincludeScope\u003eruntime\u003c/includeScope\u003e--\u003e \u003c/configuration\u003e \u003cexecutions\u003e \u003cexecution\u003e \u003cid\u003ecopy-dependencies\u003c/id\u003e \u003cphase\u003epackage\u003c/phase\u003e \u003cgoals\u003e \u003cgoal\u003ecopy-dependencies\u003c/goal\u003e \u003c/goals\u003e \u003cconfiguration\u003e \u003c!-- \u003coutputDirectory\u003elibs\u003c/outputDirectory\u003e --\u003e \u003cexcludeTransitive\u003efalse\u003c/excludeTransitive\u003e \u003cstripVersion\u003etrue\u003c/stripVersion\u003e \u003c/configuration\u003e \u003c/execution\u003e \u003c/executions\u003e \u003c/plugin\u003e \u003c/plugins\u003e \u003c/build\u003e æ­¤æ’ä»¶æ˜¯æŒ‡å°†é¡¹ç›®æ‰€ä¾èµ–çš„jarï¼Œæ‰“åŒ…çš„æ—¶å€™æ‰“åŒ…åˆ°libsç›®å½•ä¸‹ï¼Œä¸€éåˆ°æ—¶å€™ç¼–å†™shellè„šæœ¬è¯»å–ä¾èµ–çš„jar\næ¥ä¸‹æ¥å°±å¯ä»¥ç¼–å†™shellè„šæœ¬äº†ï¼ˆgetæºç çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œç›´æ¥ä¸Šä¼ ä¸Šå»ä¹Ÿè¡Œã€‚æœ¬æ–‡å°†ä½¿ç”¨Gitåœ¨æœåŠ¡å™¨ç«¯ç›´æ¥æ‹‰å–æºç ï¼Œç¼–è¯‘æ‰“åŒ…ï¼Œå¯åŠ¨ï¼‰ ä¸»è¦ä¿®æ”¹ proc ,SOURCE_HOME,APP_LOG,PROFILES_ACTIVE æ–‡ä»¶å°±å¥½!\n#æ‰“åŒ…å®Œåçš„jaråç§°ï¼Œæ›¿æ¢æˆä½ è‡ªå·±é¡¹ç›®çš„åç§°ï¼Œè¯¥åç§°å¯ä»¥åœ¨mavené¡¹ç›®çš„pomä¸­é…ç½® proc=\"wechat\" #é¡¹ç›®æºç çš„ç›®å½•åœ°å€ï¼ˆåˆå§‹å¯èƒ½éœ€è¦è‡ªå·±ä»Gitæ‹‰ä¸‹æ¥ï¼‰ SOURCE_HOME=\"/usr/local/publicwx/publicWechat\" #æ—¥å¿—åœ°å€ APP_LOG=\"$SOURCE_HOME/target/catalina.base_IS_UNDEFINED/logs/log_info.log\" #ç¯å¢ƒé…ç½® ç”¨æˆ·é…ç½®å¼€å‘(dev)ï¼Œæµ‹è¯•(test)ï¼Œç”Ÿäº§(prod)çš„é…ç½®æ–‡ä»¶ï¼Œé¿å…é¢‘ç¹æ”¹åŠ¨ PROFILES_ACTIVE=\"spring.profiles.active=dev\" #JVMå¯åŠ¨å‚æ•°ï¼Œå…³äºJVMè°ƒä¼˜è¿™é‡Œä¸ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œç™¾åº¦ JVMè°ƒä¼˜ JAVA_OPTS=\"-server -Xms512M -Xmx512M -Xss256k -Xmn256m -XX:SurvivorRatio=4 -XX:+AggressiveOpts -XX:+UseBiasedLocking -XX:MetaspaceSize=128M -XX:MaxMetaspaceSize=256M -XX:CMSInitiatingOccupancyFraction=90 -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection -XX:+DisableExplicitGC -XX:MaxTenuringThreshold=0 -XX:CMSFullGCsBeforeCompaction=100 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:LargePageSizeInBytes=128m -XX:+UseFastAccessorMethods -XX:+UseCMSInitiatingOccupancyOnly -Djava.awt.headless=true\" psid=0 #æ£€æŸ¥è¿›ç¨‹æ˜¯å¦å­˜åœ¨ checkpid() { javaps=$(pgrep -f \"$proc\") if [ -n \"$javaps\" ]; then psid=$javaps else psid=0 fi } #ç¼–å†™å¯åŠ¨æ–¹æ³• start() { checkpid if [ $psid -ne 0 ]; then echo \"================================\" echo \"warn: $proc already started! (pid=$psid)\" echo \"================================\" else echo \"Starting $proc ...\" #åˆ°é¡¹ç›®æºç ç›®å½• cd $SOURCE_HOME #è¾“å‡ºï¼Œå‡†å¤‡è·å–æœ€æ–°ä»£ç  echo -n \"git pull source ,please wait .....\" #è·å–æœ€æ–°ä»£ç ï¼Œæ­¤åˆ—åªåœ¨ç›®å½•æ‰€åœ¨åˆ†æ”¯pull #è‹¥æƒ³éƒ¨ç½²æŒ‡å®šåˆ†æ”¯ä»£ç ï¼Œå¯ä»¥åœ¨è„šæœ¬è°ƒç”¨å‚æ•°ä¸­æ·»åŠ ä¸€ä¸ªå˜é‡ï¼Œç”¨git checkout ${targer_branch} git pull #è¾“å‡ºï¼Œæœ€æ–°ä»£ç å·²æ‹‰å–å®Œæ¯•ï¼Œå‡†å¤‡æ‰“åŒ… echo -n \"mvn package source ,please wait .....\" #mavenæ‰“åŒ…å‘½ä»¤ï¼Œæ­¤å¤„ç‰¹åˆ«æ³¨æ„æ˜¯ â€”U ,æ˜¯æŒ‡å¼•ç”¨å¿«ç…§ç‰ˆæœ¬çš„jarï¼ˆå¼•ç”¨è‡ªå·±çš„é¡¹ç›®ï¼‰æ¯æ¬¡éƒ½æ›´æ–°æœ€æ–°çš„ã€‚ mvn clean package -Dmaven.test.skip=true #æ‰“åŒ…æˆåŠŸåé»˜è®¤æ˜¯åœ¨å¯åŠ¨é¡¹ç›®çš„targetç›®å½•ä¸‹ã€‚ cd target #è¾“å‡ºï¼Œå‡†å¤‡å¯åŠ¨ echo -n $\"Starting $proc:\" #å¾ªç¯åŠ è½½æ‰€éœ€çš„jarï¼Œæ­¤å¤„å’Œ2çš„pomé…ç½®æœ‰å…³ for name in *.jar do APP_CLASS=\"$name\" done #å¯åŠ¨è„šæœ¬ï¼Œ--spring.profiles.active= ç”¨äºè®¾ç½®ç¯å¢ƒæ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ JAVA_CMD=\"java \"$JAVA_OPTS\" -jar \"$APP_CLASS\" --\"$PROFILES_ACTIVE\" \u0026\" #åå°è¿è¡Œ $JAVA_CMD \u0026 sleep 1 checkpid if [ $psid -ne 0 ]; then echo \"======================================\" echo \"$proc Start Success! (pid=$psid)[OK]\" echo \"======================================\" else echo \"[Failed]\" fi fi } #æŸ¥çœ‹æ—¥å¿— showlog() { tail -f $APP_LOG } #åœç”¨é¡¹ç›® stop() { checkpid if [ $psid -ne 0 ]; then echo -n \"Stopping $proc ...(pid=$psid) \" kill -9 $psid if [ $? -eq 0 ]; then echo \"[OK]\" else echo \"[Failed]\" fi checkpid if [ $psid -ne 0 ]; then stop fi else echo \"================================\" echo \"warn: $proc is not running\" echo \"================================\" fi } #é¡¹ç›®çŠ¶æ€ status() { checkpid if [ $psid -ne 0 ]; then echo \"$proc is running! (pid=$psid)\" else echo \"$proc is not running\" fi } #è®¾ç½®è„šæœ¬å‚æ•°ï¼Œå¯åŠ¨çš„æ—¶å€™å¯ä»¥é‡‡ç”¨./è„šæœ¬åç§°.sh start/stop/restart/log/statusç­‰å‚æ•° case \"$1\" in start) start ;; stop) stop ;; log) showlog ;; status) status ;; restart) stop start ;; esac ","description":"\n","tags":[],"title":"\nLinux æœåŠ¡å™¨ä¸Šå¦‚ä½•é€šè¿‡ Shell è„šæœ¬ä¸€é”®éƒ¨ç½² SpringBoot åº”ç”¨","uri":"/posts/post-341/"},{"categories":["æ•°æ®åº“"],"content":"æŸ¥çœ‹linuxç³»ç»Ÿç‰ˆæœ¬ [root@maruifu ~]# cat /etc/redhat-release æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬ CentOS Linux release 7.6.1810 (Core) [root@maruifu ~]# uname -r æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ 3.10.0-957.21.3.el7.x86_64 ä¸‹è½½ ä¸‹è½½åœ°å€ : https://dev.mysql.com/downloads/mysql/\ncentos7 é€‰æ‹© Red Hat Enterprise Linux / Oracle Linux\nç‰ˆæœ¬å°±è‡ªå·±æ ¹æ®è‡ªå·±ç³»ç»Ÿä¸‹è½½å°±å¥½äº†\nå¯ä»¥é€‰æ‹© RPM Bundle ä½¿ç”¨wget ä¸‹è½½ mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar\n[root@nfs_client ~]# wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar ä¹Ÿå¯ä»¥ç»†åŒ–ä¸‹è½½ï¼Œä¸‹è½½é¡»è¦çš„mysqlç»„ä»¶ï¼Œæœ‰4ä¸ªï¼šåˆ†åˆ«æ˜¯ serverã€clientã€commonã€libs\nå¸è½½æ—§ç‰ˆæœ¬çš„MySql ï¼ˆæ²¡æœ‰çš„è¯ï¼Œåˆ™è·³è¿‡æ­¤æ­¥éª¤ï¼‰ 1ã€æŸ¥çœ‹æ—§ç‰ˆæœ¬MySql rpm -qa | grep mysql å°†ä¼šåˆ—å‡ºæ—§ç‰ˆæœ¬MySqlçš„ç»„ä»¶åˆ—è¡¨ï¼Œå¦‚ï¼š\n[root@maruifu ~]# rpm -qa | grep mysql mysql-community-libs-5.7.28-1.el7.x86_64 mysql-community-server-5.7.28-1.el7.x86_64 mysql-community-common-5.7.28-1.el7.x86_64 mysql-community-client-5.7.28-1.el7.x86_64 2ã€é€ä¸ªåˆ é™¤æ‰æ—§çš„ç»„ä»¶ ä½¿ç”¨å‘½ä»¤rpm -e â€“nodeps {-file-name}è¿›è¡Œç§»é™¤æ“ä½œï¼Œç§»é™¤çš„æ—¶å€™å¯èƒ½ä¼šæœ‰ä¾èµ–ï¼Œè¦æ³¨æ„ä¸€å®šçš„é¡ºåºã€‚\nrpm -e --nodeps mysql-community-libs-5.7.28-1.el7.x86_64 å®‰è£… è§£å‹ [root@maruifu tools]# pwd /usr/local/tools [root@maruifu tools]# tar xvf mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar\nå¸è½½ centos7è‡ªå¸¦çš„mariadb-lib\n[root@maruifu tools]# rpm -qa|grep mariadb mariadb-libs-5.5.56-2.el7.x86_64 [root@maruifu tools]# rpm -e mariadb-libs-5.5.56-2.el7.x86_64 â€“nodeps å®‰è£… è¿™é‡Œæˆ‘ä»¬åªå®‰è£…mysql-serveræœåŠ¡ï¼Œåªéœ€è¦å®‰è£…å¦‚ä¸‹4ä¸ªè½¯ä»¶åŒ…å³å¯ï¼Œ\nä½¿ç”¨å‘½ä»¤rpm -ivh {-file-name}è¿›è¡Œå®‰è£…æ“ä½œã€‚\n**æ³¨ï¼šivhä¸­ï¼Œ i-installå®‰è£…ï¼›v-verboseè¿›åº¦æ¡ï¼›h-hashå“ˆå¸Œæ ¡éªŒ**\næŒ‰ç…§ä¾èµ–å…³ç³»ä¾æ¬¡å®‰è£…rpmåŒ… ä¾èµ–å…³ç³»ä¾æ¬¡ä¸ºcommonâ†’libsâ†’clientâ†’server\n1 2 3 4 1. rpm -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpm 2. rpm -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpm 3. rpm -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpm 4. rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm ç‰¹æ®Šæƒ…å†µ1 åœ¨é˜¿é‡Œäº‘ECSäº‘æœåŠ¡å™¨ä¸Šå®‰è£…mysql5.7ï¼Œå½“å®‰è£… mysql-community-server-5.7.28-1.el7.x86_64.rpm æ—¶æŠ¥é”™ï¼ŒæŠ¥é”™å¦‚ä¸‹\n[root@maruifu ~]# rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm warning: mysql-community-server-5.7.28-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY error: Failed dependencies: libaio.so.1()(64bit) is needed by mysql-community-server-5.7.28-1.el7.x86_64 libaio.so.1(LIBAIO_0.1)(64bit) is needed by mysql-community-server-5.7.28-1.el7.x86_64 libaio.so.1(LIBAIO_0.4)(64bit) is needed by mysql-community-server-5.7.28-1.el7.x86_64 è§£å†³æ³•æ¡ˆå°±æ˜¯ï¼šå®‰è£…libaio\n[root@maruifu ~]# yum -y install libaio å®‰è£…libaioåï¼Œå†é‡æ–°å®‰è£…ä¸€æ¬¡mysql-community-server-5.7.28-1.el7.x86_64.rpmï¼Œæ­¤æ—¶å°±èƒ½æ­£å¸¸å®‰è£…äº†\nç‰¹æ®Šæƒ…å†µ2 æ¯”å¦‚è§£å†³äº†â€œç‰¹æ®Šæƒ…å†µ1â€ï¼Œä½†åœ¨å¯åŠ¨mysqlçš„æ—¶å€™ï¼Œå¯åŠ¨ä¸èµ·æ¥ï¼Œæˆ–å¯åŠ¨åï¼Œå»æŸ¥æ‰¾ä¸´æ—¶å¯†ç ï¼Œä½¿ç”¨å‘½ä»¤æ²¡ååº”ã€‚æŸ¥çœ‹æ—¥å¿—mysqld.log(å¯åœ¨/etc/my.cnfä¸­æŸ¥æ‰¾åˆ°mysqld.logçš„é…ç½®ä½ç½®)ï¼ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œæ­¤æ—¶æ€ä¹ˆè§£å†³ï¼Ÿ\n[ERROR] Fatal error: Canâ€™t open and lock privilege tables: Table â€˜mysql.userâ€™ doesnâ€™t exist\n1\u003eå…ˆé€šè¿‡rpm -e â€“nodeps xxx å¸è½½æ‰serverï¼Œå¸è½½ååˆ é™¤datadirç›®å½•ï¼Œ\n2\u003eå¸è½½åæŸ¥çœ‹ /etc/my.cnf ä¸­ï¼Œdatadirçš„é…ç½®æƒ…å†µï¼Œå°†datedirç›®å½•åˆ é™¤ï¼Œ\n3\u003eæœ€åé€šè¿‡å‘½ä»¤rpm -ivh xxx é‡æ–°å®‰è£…server,æ­¤æ—¶å°±èƒ½æ­£å¸¸ä½¿ç”¨mysqläº†\nå‘½ä»¤ä»£ç å¦‚ä¸‹ï¼š\n[root@maruifu ~]# rpm -e --nodeps mysql-community-server-5.7.22-1.el7.x86_64 [root@maruifu ~]# cat /etc/my.cnf datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock [root@maruifu ~]# cd /var/lib [root@maruifu lib]# rm -rf mysql [root@maruifu ~]# rpm -ivh mysql-community-server-5.7.22-1.el7.x86_64.rpm [root@maruifu ~]# systemctl start mysqld.service [root@maruifu ~]# ps -ef|grep mysql mysql 21001 1 0 Nov22 ? 00:00:00 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid root 22218 20782 0 00:21 pts/1 00:00:00 grep --color=auto mysql root 24317 31119 0 Nov21 pts/0 00:00:00 mysql -u root -p ç™»å½•å¹¶åˆ›å»ºMySqlå¯†ç  å¯åŠ¨MySql å®‰è£…å®Œåï¼Œä½¿ç”¨å‘½ä»¤ service mysqld start æˆ– systemctl start mysqld.service å¯åŠ¨MySQLæœåŠ¡ã€‚ï¼ˆå¦‚æœmysqlæœåŠ¡æ— æ³•å¯åŠ¨ï¼Œå°±é‡å¯ä¸€ä¸‹ç³»ç»Ÿï¼‰\nsystemctl start mysqld.serviceÂ å¯åŠ¨mysql systemctl status mysqld.serviceÂ æŸ¥çœ‹mysqlçŠ¶æ€ systemctl stop mysqld.serviceÂ å…³é—­mysql æŸ¥çœ‹mysqlè¿›ç¨‹ ps -ef|grep mysql æŸ¥çœ‹3306ç«¯å£ netstat -anop|grep 3306 ç™»é™†mysqlä¿®æ”¹rootå¯†ç  ç”±äºMySQL5.7.4ä¹‹å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤æ˜¯æ²¡æœ‰å¯†ç çš„ï¼Œç™»å½•åç›´æ¥å›è½¦å°±å¯ä»¥è¿›å…¥æ•°æ®åº“ï¼Œè¿›è€Œè¿›è¡Œè®¾ç½®å¯†ç ç­‰æ“ä½œã€‚å…¶åç‰ˆæœ¬å¯¹å¯†ç ç­‰å®‰å…¨ç›¸å…³æ“ä½œè¿›è¡Œäº†ä¸€äº›æ”¹å˜ï¼Œåœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šåœ¨å®‰è£…æ—¥å¿—ä¸­ç”Ÿæˆä¸€ä¸ªä¸´æ—¶å¯†ç ã€‚\næ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªä¸´æ—¶å¯†ç å‘¢ï¼Ÿ\ngrep 'temporary password' /var/log/mysqld.log [root@maruifu ~]# grep 'temporary password' /var/log/mysqld.log 2019-11-21T08:07:27.278434Z 1 [Note] A temporary password is generated for root@localhost: rj3pj;g3XWIh rj3pj;g3XWIhå³ä¸ºç™»å½•å¯†ç ã€‚ä½¿ç”¨è¿™ä¸ªéšæœºå¯†ç ç™»å½•è¿›å»ï¼Œç„¶åä¿®æ”¹å¯†ç ï¼Œä½¿ç”¨å‘½ä»¤ï¼š\nmysql -uroot -p æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹MySql rootå¯†ç \nset password for root@localhost=password('12345678'); åœ¨5.6å,mysqlå†…ç½®å¯†ç å¢å¼ºæœºåˆ¶,ä½å¼ºåº¦å¯†ç ä¼šæŠ¥é”™:\nERROR 1819 (HY000): Your password does not satisfy the current policy requirements æ›´æ”¹ç­–ç•¥ï¼Œè®¾ç½® validate_password_policy=0;\nmysql\u003e set global validate_password_length=1; Query OK, 0 rows affected (0.00 sec) ä¿®æ”¹å¯†ç \n1. mysql\u003e set password for root@localhost=password('TianTianIT12345'); 2. Query OK, 0 rows affected, 1 warning (0.00 sec) æ­¤æ—¶ï¼Œè™½ç„¶é˜²ç«å¢™æˆ‘æ—¶å…³ç€çš„ï¼Œä½†rootç”¨æˆ·åªèƒ½ç”¨äºæœ¬æœºè®¿é—®ï¼Œä¸èƒ½ç”¨äºè¿œç¨‹è®¿é—®ï¼Œå¦åˆ™ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ã€‚å› æ­¤ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯æˆäºˆrootç”¨æˆ·è¿œç¨‹è®¿é—®æƒé™ã€‚\næŸ¥çœ‹å½“å‰æˆäºˆè¿‡çš„æƒé™ï¼š\nuse mysql; select user,host from user; mysql\u003e use mysql; Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Database changed mysql\u003e select user,host from user; +---------------+-----------+ | user | host | +---------------+-----------+ | root | % | | mysql.session | localhost | | mysql.sys | localhost | | root | localhost | +---------------+-----------+ 4 rows in set (0.00 sec) mysql\u003e show grants; +---------------------------------------------------------------------+ | Grants for root@localhost | +---------------------------------------------------------------------+ | GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION | | GRANT PROXY ON ''@'' TO 'root'@'localhost' WITH GRANT OPTION | +---------------------------------------------------------------------+ 2 rows in set (0.00 sec) æˆäºˆrootç”¨æˆ·è¿œç¨‹è®¿é—®æƒé™ï¼š\nmysql\u003e grant all privileges on *.* to root@'%' identified by 'TianTianIT12345'; Query OK, 0 rows affected, 1 warning (0.05 sec) åˆ·æ–°æƒé™ï¼Œä½¿è®¾ç½®ç”Ÿæ•ˆï¼Œ OKã€‚\nmysql\u003e flush privileges; Query OK, 0 rows affected (0.36 sec) ","description":"\n","tags":[],"title":"\ncentos7 å®‰è£… mysql è¯¦è§£","uri":"/posts/post-342/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"nginx\nlinux ä¸­nginx çš„å®‰è£… ##åºè¨€\nNginxæ˜¯lgor Sysoevä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„rambler.ruç«™ç‚¹è®¾è®¡å¼€å‘çš„ã€‚ä»2004å¹´å‘å¸ƒè‡³ä»Šï¼Œå‡­å€Ÿå¼€æºçš„åŠ›é‡ï¼Œå·²ç»æ¥è¿‘æˆç†Ÿä¸å®Œå–„ã€‚\nNginxåŠŸèƒ½ä¸°å¯Œï¼Œå¯ä½œä¸ºHTTPæœåŠ¡å™¨ï¼Œä¹Ÿå¯ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œé‚®ä»¶æœåŠ¡å™¨ã€‚æ”¯æŒFastCGIã€SSLã€Virtual Hostã€URL Rewriteã€Gzipç­‰åŠŸèƒ½ã€‚å¹¶ä¸”æ”¯æŒå¾ˆå¤šç¬¬ä¸‰æ–¹çš„æ¨¡å—æ‰©å±•ã€‚\nNginxçš„ç¨³å®šæ€§ã€åŠŸèƒ½é›†ã€ç¤ºä¾‹é…ç½®æ–‡ä»¶å’Œä½ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—è®©ä»–åæ¥å±…ä¸Šï¼Œåœ¨å…¨çƒæ´»è·ƒçš„ç½‘ç«™ä¸­æœ‰12.18%çš„ä½¿ç”¨æ¯”ç‡ï¼Œå¤§çº¦ä¸º2220ä¸‡ä¸ªç½‘ç«™ã€‚\nç‰›é€¼å¹çš„å·®ä¸å¤šå•¦ï¼Œå¦‚æœä½ è¿˜ä¸è¿‡ç˜¾ï¼Œä½ å¯ä»¥ç™¾åº¦ç™¾ç§‘æˆ–è€…ä¸€äº›ä¹¦ä¸Šæ‰¾åˆ°è¿™æ ·çš„å¤¸è€€ï¼Œæ¯”æ¯”çš†æ˜¯ã€‚\nNginxå¸¸ç”¨åŠŸèƒ½ 1ã€Httpä»£ç†ï¼Œåå‘ä»£ç†ï¼šä½œä¸ºwebæœåŠ¡å™¨æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯åå‘ä»£ç†ã€‚ Nginxåœ¨åšåå‘ä»£ç†æ—¶ï¼Œæä¾›æ€§èƒ½ç¨³å®šï¼Œå¹¶ä¸”èƒ½å¤Ÿæä¾›é…ç½®çµæ´»çš„è½¬å‘åŠŸèƒ½ã€‚Nginxå¯ä»¥æ ¹æ®ä¸åŒçš„æ­£åˆ™åŒ¹é…ï¼Œé‡‡å–ä¸åŒçš„è½¬å‘ç­–ç•¥ï¼Œæ¯”å¦‚å›¾ç‰‡æ–‡ä»¶ç»“å°¾çš„èµ°æ–‡ä»¶æœåŠ¡å™¨ï¼ŒåŠ¨æ€é¡µé¢èµ°webæœåŠ¡å™¨ï¼Œåªè¦ä½ æ­£åˆ™å†™çš„æ²¡é—®é¢˜ï¼Œåˆæœ‰ç›¸å¯¹åº”çš„æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œä½ å°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ç©ã€‚å¹¶ä¸”Nginxå¯¹è¿”å›ç»“æœè¿›è¡Œé”™è¯¯é¡µè·³è½¬ï¼Œå¼‚å¸¸åˆ¤æ–­ç­‰ã€‚å¦‚æœè¢«åˆ†å‘çš„æœåŠ¡å™¨å­˜åœ¨å¼‚å¸¸ï¼Œä»–å¯ä»¥å°†è¯·æ±‚é‡æ–°è½¬å‘ç»™å¦å¤–ä¸€å°æœåŠ¡å™¨ï¼Œç„¶åè‡ªåŠ¨å»é™¤å¼‚å¸¸æœåŠ¡å™¨ã€‚\n2ã€è´Ÿè½½å‡è¡¡ Nginxæä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰2ç§ï¼šå†…ç½®ç­–ç•¥å’Œæ‰©å±•ç­–ç•¥ã€‚å†…ç½®ç­–ç•¥ä¸ºè½®è¯¢ï¼ŒåŠ æƒè½®è¯¢ï¼ŒIp hashã€‚æ‰©å±•ç­–ç•¥ï¼Œå°±å¤©é©¬è¡Œç©ºï¼Œåªæœ‰ä½ æƒ³ä¸åˆ°çš„æ²¡æœ‰ä»–åšä¸åˆ°çš„å•¦ï¼Œä½ å¯ä»¥å‚ç…§æ‰€æœ‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œç»™ä»–ä¸€ä¸€æ‰¾å‡ºæ¥åšä¸‹å®ç°ã€‚ä¸Š3ä¸ªå›¾ï¼Œç†è§£è¿™ä¸‰ç§è´Ÿè½½å‡è¡¡ç®—æ³•çš„å®ç° 3ã€webç¼“å­˜ Nginxå¯ä»¥å¯¹ä¸åŒçš„æ–‡ä»¶åšä¸åŒçš„ç¼“å­˜å¤„ç†ï¼Œé…ç½®çµæ´»ï¼Œå¹¶ä¸”æ”¯æŒFastCGI_Cacheï¼Œä¸»è¦ç”¨äºå¯¹FastCGIçš„åŠ¨æ€ç¨‹åºè¿›è¡Œç¼“å­˜ã€‚é…åˆç€ç¬¬ä¸‰æ–¹çš„ngx_cache_purgeï¼Œå¯¹åˆ¶å®šçš„URLç¼“å­˜å†…å®¹å¯ä»¥çš„è¿›è¡Œå¢åˆ ç®¡ç†ã€‚\n4ã€Nginxç›¸å…³åœ°å€ æºç ï¼šhttps://trac.nginx.org/nginx/browser\nå®˜ç½‘ï¼šhttp://www.nginx.org/\nNginxå®‰è£… å®‰è£…ä¾èµ–åº“ å®‰è£…gccæ¨¡å—ï¼Œ å®‰è£…Nginxå‰ï¼Œå¿…é¡»å…ˆç¡®ä¿å®‰è£…äº†gccç¯å¢ƒã€‚é‚£ä¹ˆä½•ä¸ºgcc?å®ƒæ˜¯ Linux ä¸‹é»˜è®¤çš„ C/C++ ç¼–è¯‘å™¨ï¼Œå¤§éƒ¨åˆ† Linux å‘è¡Œç‰ˆä¸­éƒ½æ˜¯é»˜è®¤å®‰è£…çš„ã€‚å‘½ä»¤è¡Œè¾“å…¥gcc -vï¼Œå¦‚æœæ˜¾ç¤ºå‘½ä»¤æœªæ‰¾åˆ°æˆ–command not foundï¼Œåˆ™ä»£è¡¨æ²¡æœ‰å®‰è£…gccï¼Œéœ€è¦å®‰è£…ä¸Šã€‚\nyum install gcc-c++ å®‰è£…prceæ¨¡å—: PCRE(Perl Compatible Regular Expressions)æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginxçš„httpæ¨¡å—ä½¿ç”¨pcreæ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxä¸Šå®‰è£…pcreåº“ã€‚ åœ°å€ : http://www.pcre.org/\n//ä¸‹è½½`wget https://ftp.pcre.org/pub/pcre/pcre-8.37.tar.gz //è§£å‹ tar -zxvf pcre-8.37.tar.gz //ç„¶å,è¿›å…¥åŒ…ï¼Œé…ç½®ï¼š ./configure //å®‰è£… make \u0026\u0026 make install å®‰è£…opensslæ¨¡å—,OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠSSLåè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚ nginxä¸ä»…æ”¯æŒhttpåè®®ï¼Œè¿˜æ”¯æŒhttpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxå®‰è£…opensslåº“ã€‚åœ°å€: http://www.openssl.org/ //ä¸‹è½½ wget https://www.openssl.org/source/openssl-1.1.0e.tar.gz // è§£å‹ tar -zxvf openssl-1.1.0e.tar.gz //ç„¶å,è¿›å…¥åŒ…ï¼Œé…ç½®ï¼š ./configure //å®‰è£… make \u0026\u0026 make install å®‰è£…gzip æ¨¡å—, zlibåº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œnginxä½¿ç”¨zlibå¯¹httpåŒ…çš„å†…å®¹è¿›è¡Œgzipï¼Œæ‰€ä»¥éœ€è¦åœ¨linuxä¸Šå®‰è£…zlibåº“ã€‚ åœ°å€ http://www.zlib.net/ //ä¸‹è½½ wget http://prdownloads.sourceforge.net/libpng/zlib-1.2.11.tar.gz?download //è§£å‹ tar -zxvf zlib-1.2.11.tar.gz?download // ç„¶å,è¿›å…¥åŒ…ï¼Œé…ç½®ï¼š ./configure //å®‰è£… make \u0026\u0026 make install ä¹Ÿå¯ä»¥ yumå®‰è£…\nyum install -y pcre pcre-devel yum install -y openssl openssl-devel yum install -y zlib zlib-devel å®‰è£…Nginxå¹¶å¯åŠ¨ //åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹\ncd /usr/local/ mkdir server cd server/ //ä¸‹è½½ : wget http://nginx.org/download/nginx-1.7.8.tar.gz //è§£å‹ tar -xvf nginx-1.7.8.tar.gz //åˆ›å»ºç›®å½• mkdir nginx //\u003e\u003eå®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—,å¯ä»¥æ‰“å°è¾“å‡ºä¸€äº›ä¸œè¥¿ï¼Œä¸€èˆ¬ç”¨äºè°ƒè¯•nginxçš„å‚æ•°æ—¶ä½¿ç”¨(ä¹Ÿå¯ä»¥ä¸å®‰è£…) //\u003e\u003eåˆ›å»ºä¸€ä¸ªæ¨¡å—ç›®å½• ç”¨äºæ”¾ç¬¬ä¸‰æ–¹æ¨¡å— mkdir nginx-module //\u003e\u003eè¿›å…¥ç›®å½•: cd nginx-module //\u003e\u003eä¸‹è½½: wget https://github.com/openresty/echo-nginx-module/archive/v0.60.tar.gz //\u003e\u003eè§£å‹: tar zxvf v0.60.tar.gz echo-nginx-module-0.60 //è¿›å…¥å®‰è£…ç›®å½• cd nginx-1.7.8 //é…ç½® ./configure --prefix=/usr/local/server/nginx --add-module=/usr/local/server/nginx-module/echo-nginx-module-0.60 --with-debug æºç çš„å®‰è£…ä¸€èˆ¬ç”±æœ‰è¿™ä¸‰ä¸ªæ­¥éª¤ï¼šé…ç½®(configure)ã€ç¼–è¯‘(make)ã€å®‰è£…(make install) ä¸€èˆ¬åœ¨ç¼–è¯‘å‰åŠ ä¸Šä¸€å¥ï¼š ./configure --prefix=/xxx/xxx å…¶ä¸­â€“prefixé€‰é¡¹å°±æ˜¯é…ç½®å®‰è£…çš„è·¯å¾„ï¼Œå¦‚æœä¸é…ç½®è¯¥é€‰é¡¹ï¼Œå®‰è£…åå¯æ‰§è¡Œæ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr/local/binï¼Œåº“æ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr/local/libï¼Œé…ç½®æ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr/local/etcï¼Œå…¶å®ƒçš„èµ„æºæ–‡ä»¶æ”¾åœ¨/usr/local/shareï¼Œæ¯”è¾ƒåˆ†æ•£ã€‚ ä¸ºäº†ä¾¿äºé›†ä¸­ç®¡ç†æŸä¸ªè½¯ä»¶çš„å„ç§æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®â€“prefixï¼Œå¦‚ï¼š ./configure --prefix=/usr/local/server/nginx --with-http_stub_status_module --with-http_ssl_module å¯ä»¥æŠŠæ‰€æœ‰èµ„æºæ–‡ä»¶æ”¾åœ¨/usr/local/server/nginxçš„è·¯å¾„ä¸­ï¼Œå°±ä¸ä¼šåˆ†æ•£äº†ã€‚ // ç¼–è¯‘å®‰è£… make \u0026\u0026 make install //è¿›å…¥å¯åŠ¨ç›®å½• cd .. cd nginx/sbin/ //å¯åŠ¨ ./nginx //è¿™ä¸ªæ—¶å€™å¯ä»¥è®¿é—®æœ¬æœºIPäº† é…ç½®Nginx æ‰“å¼€é…ç½®æ–‡ä»¶ vi /usr/local/nginx/conf/nginx.conf é…ç½®æ–‡ä»¶\nuser root; worker_processes auto; error_log logs/error.log warn; pid logs/nwarn.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log logs/access.log main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; client_max_body_size 20m; client_body_buffer_size 20m; gzip on; #å¼€å¯gzipå‹ç¼©åŠŸèƒ½ gzip_min_length 10k; #è®¾ç½®å…è®¸å‹ç¼©çš„é¡µé¢æœ€å°å­—èŠ‚æ•°; è¿™é‡Œè¡¨ç¤ºå¦‚æœæ–‡ä»¶å°äº10ä¸ªå­—èŠ‚ï¼Œå°±ä¸ç”¨å‹ç¼©ï¼Œå› ä¸ºæ²¡æœ‰æ„ä¹‰ï¼Œæœ¬æ¥å°±å¾ˆå°. gzip_buffers 4 16k; #è®¾ç½®å‹ç¼©ç¼“å†²åŒºå¤§å°ï¼Œæ­¤å¤„è®¾ç½®ä¸º4ä¸ª16Kå†…å­˜ä½œä¸ºå‹ç¼©ç»“æœæµç¼“å­˜ gzip_http_version 1.1; #å‹ç¼©ç‰ˆæœ¬ gzip_comp_level 1; #è®¾ç½®å‹ç¼©æ¯”ç‡ï¼Œæœ€å°ä¸º1ï¼Œå¤„ç†é€Ÿåº¦å¿«ï¼Œä¼ è¾“é€Ÿåº¦æ…¢ï¼›9ä¸ºæœ€å¤§å‹ç¼©æ¯”ï¼Œå¤„ç†é€Ÿåº¦æ…¢ï¼Œä¼ è¾“é€Ÿåº¦å¿«; è¿™é‡Œè¡¨ç¤ºå‹ç¼©çº§åˆ«ï¼Œå¯ä»¥æ˜¯0åˆ°9ä¸­çš„ä»»ä¸€ä¸ªï¼Œçº§åˆ«è¶Šé«˜ï¼Œå‹ç¼©å°±è¶Šå°ï¼ŒèŠ‚çœäº†å¸¦å®½èµ„æºï¼Œä½†åŒæ—¶ä¹Ÿæ¶ˆè€—CPUèµ„æºï¼Œæ‰€ä»¥ä¸€èˆ¬æŠ˜ä¸­ä¸º6 gzip_types text/plain text/css application/javascript text/javascript; #åˆ¶å®šå‹ç¼©çš„ç±»å‹,çº¿ä¸Šé…ç½®æ—¶å°½å¯èƒ½é…ç½®å¤šçš„å‹ç¼©ç±»å‹! gzip_vary on; #é€‰æ‹©æ”¯æŒvary headerï¼›æ”¹é€‰é¡¹å¯ä»¥è®©å‰ç«¯çš„ç¼“å­˜æœåŠ¡å™¨ç¼“å­˜ç»è¿‡gzipå‹ç¼©çš„é¡µé¢; è¿™ä¸ªå¯ä»¥ä¸å†™ï¼Œè¡¨ç¤ºåœ¨ä¼ é€æ•°æ®æ—¶ï¼Œç»™å®¢æˆ·ç«¯è¯´æ˜æˆ‘ä½¿ç”¨äº†gzipå‹ç¼©i include /usr/local/server/nginx/conf/conf.d/*.conf; } Nginx å¸¸ç”¨å‘½ä»¤ nginx -s reload # é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ nginx -s reopen # é‡å¯ Nginx nginx -s stop # åœæ­¢ Nginx nginx -t # æ£€æŸ¥é…ç½®æ–‡ä»¶nginx.conf nginx -s quit #ä¼˜é›…åœæ­¢nginxï¼Œæœ‰è¿æ¥æ—¶ä¼šç­‰è¿æ¥è¯·æ±‚å®Œæˆå†æ€æ­»workerè¿›ç¨‹ nginx -v #æŸ¥çœ‹ç‰ˆæœ¬ nginx -c filename #æŒ‡å®šé…ç½®æ–‡ä»¶ nginx -h # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ nginx -s reopen #é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äºåˆ‡å‰²æ—¥å¿— ","description":"\n","tags":[],"title":"\nlinux ä¸­nginx çš„å®‰è£…","uri":"/posts/post-343/"},{"categories":["java"],"content":"å†™åœ¨å‰é¢ éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ç¯‡æ–‡ç« çš„ä¸»æ—¨ä¸æ˜¯è¦å®ç°ä¸€ä¸ªå®Œç¾çš„Excelå¯¼å…¥åŠŸèƒ½ï¼Œè€Œæ˜¯å¸Œæœ›åšåˆ°æŠ›ç –å¼•ç‰ä»¥åŠå¸®åŠ©éƒ¨åˆ†åŒå­¦å±•å¼€è‡ªæˆ‘æ€è€ƒçš„æ€è·¯ã€‚\nå¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚\nèƒŒæ™¯å®šä¹‰ æˆ‘ä»¬åœ¨å®ŒæˆåŠŸèƒ½å‰ä¸€èˆ¬éœ€è¦æ¢³ç†ä¸€ä¸‹éœ€æ±‚ï¼Œç”±äºæœ¬ç¯‡æ–‡ç« æ—¨åœ¨å¼•å¯¼ï¼Œæ‰€ä»¥éœ€æ±‚ä¸€èˆ¬ä¼šæ¯”è¾ƒç®€å•ã€‚\næˆ‘ä»¬å®šä¹‰å¦‚ä¸‹èƒŒæ™¯ï¼š\næŸå…¬å¸ç”±äºä¸šåŠ¡éœ€è¦ï¼Œç°æƒ³è¦è‡ªä¸»ç ”å‘ç®¡ç†ç³»ç»Ÿï¼Œè¿™å°±éœ€è¦å°†å…¬å¸éƒ¨åˆ†æ•°æ®ä»åŸæœ‰ç³»ç»Ÿå¯¼å‡ºï¼ˆç°æœ‰ç³»ç»Ÿå·²æ”¯æŒï¼‰ï¼Œç„¶åå¯¼å…¥åˆ°æ–°ç³»ç»Ÿä¸­ã€‚ç”±äºå…¬å¸ä½“é‡åºå¤§ï¼Œä¸šåŠ¡å’Œæ•°æ®è¾ƒå¤šï¼Œæ‰€ä»¥å…¬å¸é¢†å¯¼å±‚å¸Œæœ›ç ”å‘éƒ¨é€æ­¥å®Œæˆæ•°æ®è½¬ç§»ã€‚ç ”å‘éƒ¨çš„ç¬¬ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯äººå‘˜ä¿¡æ¯æ•°æ®è½¬ç§»ï¼Œå·²çŸ¥åŸæœ‰äººå‘˜ä¿¡æ¯æ¨¡æœ¬ä¸­ç›–å†…å®¹åŒ…æ‹¬ï¼šæ‰€åœ¨éƒ¨é—¨ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå‡ºç”Ÿæ—¥æœŸï¼Œå¹´é¾„ï¼Œæˆ·ç±æ‰€åœ¨åœ°ï¼Œå±…ä½åœ°ï¼Œå°±èŒæ—¶é—´ï¼Œå©šå§»çŠ¶å†µï¼Œæ•™è‚²ç¨‹åº¦ï¼Œè”ç³»ç”µè¯ï¼Œç´§æ€¥è”ç³»äººï¼Œç´§æ€¥è”ç³»äººç”µè¯ã€‚\nç”±äºç ”å‘éƒ¨ä¸»è¦éƒ½æ˜¯Javaå¼€å‘äººå‘˜ï¼Œæ‰€ä»¥ç ”å‘éƒ¨å†³å®šå…ˆç”¨javaå¼€å‘ä¸€ç‰ˆdemoï¼Œäºæ˜¯é‡‡é›†äº†éƒ¨åˆ†æ ·æœ¬æ•°æ®ï¼šäººå‘˜ä¿¡æ¯\nç”±äºä¸šåŠ¡åºå¤§ï¼Œä¸ºåˆ†å·¥æ˜ç¡®ï¼Œç ”å‘éƒ¨å°†æ•°æ®å¯¼å…¥åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼ˆeg: æ–‡ä»¶ä¸Šä¼ ï¼Œæ•°æ®è½¬æ¢ï¼Œæ•°æ®å¡«å……ï¼Œç›¸å…³ä¸šåŠ¡åˆå§‹åŒ–ï¼Œæ•°æ®å…¥åº“ï¼‰ã€‚\nåˆ†æéœ€æ±‚ å…¶ä»–æ¨¡å—æš‚ä¸”ä¸åˆ†æï¼Œæˆ‘ä»¬ç®€è¦åˆ†æä¸€ä¸‹ä¸Šè¿°èƒŒæ™¯ä¸­å…³äºæ•°æ®è½¬æ¢éœ€æ±‚ï¼š\nExcelæ–‡ä»¶ä¸Šä¼ åï¼Œéœ€è¦è¯»å…¥æ–‡ä»¶å†…å®¹ï¼Œç„¶åé€è¡Œè½¬æ¢æ•°æ®ä¸ºæŒ‡å®šå¯¹è±¡ã€‚ è²Œä¼¼è¿™ä¸ªåŠŸèƒ½å¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±ç›´æ¥å¼€å§‹å§ã€‚\nåˆ›å»ºDemo Project æˆ‘ä»¬å°½é‡ç²¾ç®€ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨Eclipseï¼ˆæˆ–è€…ideaï¼‰åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®\nåˆå§‹åŒ–å¥½æ¡†æ¶ä»£ç  è¯»å–Excelæ–‡ä»¶ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è™½ç„¶æ˜¯è¦è¯»å–æ–‡ä»¶ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯æ‰¾åˆ°æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªFileUtilç±»\nç„¶åå®Œæˆç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œè¯»å–æ–‡ä»¶ï¼š\npackage cn.com.pfinfo.excel.util; import java.io.File; import java.io.FileNotFoundException; import java.net.URI; import java.net.URISyntaxException; import java.net.URL; /** * æ–‡ä»¶æ“ä½œå·¥å…·ç±» * * @author cuitpf * */ public class FileUtil { /** * æ ¹æ®æ–‡ä»¶è·¯å¾„æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶è¿”å›æ–‡ä»¶å¯¹è±¡ã€‚ * * @param fileLocation æ–‡ä»¶æœ¬åœ°è·¯å¾„ * @return æ–‡ä»¶å¯¹è±¡ * @throws FileNotFoundException */ public static File getFile(String fileLocation) throws FileNotFoundException { if (fileLocation == null) { throw new RuntimeException(\"æ–‡ä»¶åœ°å€ä¸èƒ½ä¸ºç©º\"); } ClassLoader cl = FileUtil.class.getClassLoader(); URL url = (cl != null ? cl.getResource(fileLocation) : ClassLoader.getSystemResource(fileLocation)); if (url == null) { throw new FileNotFoundException(\"æœ¬åœ°æ–‡ä»¶ä¸å­˜åœ¨\"); } // Load file by URL try { URI uri = new URI(url.toString().replaceAll(\" \", \"%20\")); return new File(uri.getSchemeSpecificPart()); } catch (URISyntaxException ex) { // Fallback for URLs that are not valid URIs (should hardly ever happen). return new File(url.getFile()); } } } åŠ è½½å·¥ä½œç°¿ è¿™ä¸€æ­¥æ€ä¹ˆéƒ½ç»•ä¸è¿‡å»çš„å°±æ˜¯ä¾èµ–apatch-poiã€‚è¿™é‡Œç»™å‡ºmavené…ç½®ä¾èµ–çš„æ–¹å¼\n\u003c!-- https://mvnrepository.com/artifact/org.apache.poi/poi --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.poi\u003c/groupId\u003e \u003cartifactId\u003epoi\u003c/artifactId\u003e \u003cversion\u003e${poi.version}\u003c/version\u003e \u003c/dependency\u003e \u003c!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.apache.poi\u003c/groupId\u003e \u003cartifactId\u003epoi-ooxml\u003c/artifactId\u003e \u003cversion\u003e${poi.version}\u003c/version\u003e \u003c/dependency\u003e å…¶ä»–ç›´æ¥å¯¼å…¥jaråŒ…çš„æˆ–è€…å…¶ä»–æ„å»ºå·¥å…·çš„è¯»è€…è¯·è‡ªè¡Œæ·»åŠ ä¾èµ–ã€‚\næ·»åŠ äº†ä¾èµ–åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç¼–ç äº†ï¼š\npackage cn.com.pfinfo.excel.util; import static cn.com.pfinfo.excel.config.ConstantConfig.XLS; import static cn.com.pfinfo.excel.config.ConstantConfig.XLSX; import java.io.File; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.IOException; import java.net.URI; import java.net.URISyntaxException; import java.net.URL; import org.apache.poi.hssf.usermodel.HSSFWorkbook; import org.apache.poi.ss.usermodel.Workbook; import org.apache.poi.xssf.usermodel.XSSFWorkbook; import cn.com.pfinfo.excel.config.ConstantConfig; import cn.com.pfinfo.excel.exception.ImportExcelBaseException; /** * æ–‡ä»¶æ“ä½œå·¥å…·ç±» * * @author cuitpf * */ public class FileUtil { /** * æ ¹æ®æ–‡ä»¶è·¯å¾„æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶è¿”å›æ–‡ä»¶å¯¹è±¡ã€‚ * * @param fileLocation æ–‡ä»¶æœ¬åœ°è·¯å¾„ * @return æ–‡ä»¶å¯¹è±¡ * @throws FileNotFoundException */ public static File getFile(String fileLocation) throws FileNotFoundException { if (fileLocation == null) { throw new RuntimeException(\"æ–‡ä»¶åœ°å€ä¸èƒ½ä¸ºç©º\"); } ClassLoader cl = FileUtil.class.getClassLoader(); URL url = (cl != null ? cl.getResource(fileLocation) : ClassLoader.getSystemResource(fileLocation)); if (url == null) { throw new FileNotFoundException(\"æœ¬åœ°æ–‡ä»¶ä¸å­˜åœ¨\"); } // Load file by URL try { URI uri = new URI(url.toString().replaceAll(\" \", \"%20\")); return new File(uri.getSchemeSpecificPart()); } catch (URISyntaxException ex) { // Fallback for URLs that are not valid URIs (should hardly ever happen). return new File(url.getFile()); } } /** * æ ¹æ®æ–‡ä»¶è·¯å¾„è·å–æ–‡ä»¶ä¸­çš„å·¥ä½œç°¿ï¼Œå¦‚æœæ–‡ä»¶ä¸æ˜¯{@link ConstantConfig#XLS}æˆ–è€…{@link ConstantConfig#XLSX}æ ¼å¼çš„ï¼Œä¼šè¿”å›{@code null}å¯¹è±¡ * * @param localFilePath æ–‡ä»¶è·¯å¾„ * @return å¦‚æœæ–‡ä»¶æ ¼å¼æ˜¯excelæ ¼å¼ï¼Œè¿”å›å·¥ä½œç°¿å¯¹è±¡ï¼Œå¦åˆ™ï¼Œè¿”å›nullå¯¹è±¡ * @throws ImportExcelBaseException æ–‡ä»¶å¦‚æœå—æŸå¯¼è‡´ä¸èƒ½æ‰“å¼€ï¼Œå°†æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ã€‚ */ public static Workbook getWorkbook(String localFilePath) throws ImportExcelBaseException { try (FileInputStream fileInputStream = new FileInputStream(getFile(localFilePath))) { if (localFilePath.endsWith(XLS)) { return new HSSFWorkbook(fileInputStream); } else if (localFilePath.endsWith(XLSX)) { return new XSSFWorkbook(fileInputStream); } return null; } catch (IOException e) { throw new ImportExcelBaseException(e); } } } å»ºç«‹æ˜ å°„å…³ç³» excelå¦‚ä½•è½¬æ¢ä¸ºjavaå¯¹è±¡å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå‘Šè¯‰ç¨‹åºï¼Œæ¯”å¦‚ï¼šå½“ä½ å‘ç°å§“åè¿™ä¸€åˆ—çš„æ—¶å€™ï¼Œå®ƒå¯¹åº”çš„å¯¹è±¡å±æ€§ä¸ºnameã€‚\nè¿™æ ·çš„æ˜ å°„å…³ç³»æˆ‘ä»¬ä¼ ç»Ÿç¼–ç ä¸­ï¼Œæ˜¯è¿™æ ·å†™çš„ï¼ˆä»£ç å¤ªé•¿ï¼Œæˆ‘å°±ç”¨ä¼ªä»£ç è¡¨ç¤ºä¸€ä¸‹äº†ï¼‰ï¼š\nread line read cell from line get cell.index of line if(index = 1) user.name = cell.value else if (index = 2) user.sex = cell.value ... return user è¿™ç§æ–¹å¼å½“ç„¶ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†å¦‚æœæŸå¤©ä¸éœ€è¦æŸä¸ªå±æ€§äº†ï¼Œæ¨¡ç‰ˆä¸­åˆ é™¤äº†ä¸€åˆ—ï¼Œè¿™é‡Œçš„ä»£ç æ”¹åŠ¨å¯èƒ½ä¸ä¼šå¤ªå°ã€‚æ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯èƒ½ä¸å¤ªä¼˜é›…ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¼˜é›…çš„ä»£ç æ¥è§£å†³é—®é¢˜ã€‚\nç”±äºjdk1.5æ¨å‡ºäº†æ³¨è§£è¿™ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥åœ¨é‚£ä¹‹åå¤šæ•°å…¬å¸åœ¨å®ç°excelå¯¼å…¥çš„æ—¶å€™ï¼Œéƒ½é‡‡ç”¨æ³¨è§£çš„æ–¹å¼è¿›è¡ŒååŠ©ã€‚æˆ‘ä»¬è¿™é‡Œä¹Ÿé‡‡ç”¨æ³¨è§£ååŠ©å¼€å‘ã€‚\nåœ¨æ­¤ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£å‡ ä¸ªæ¦‚å¿µã€‚javaæ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸‡ç‰©çš†å¯¹è±¡ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆåˆ†æç¼–ç åœ¨æˆ‘ä»¬å¯èƒ½ä¼šæ¥è§¦åˆ°çš„å¯¹è±¡æ¦‚å¿µï¼šå·¥ä½œç°¿ï¼Œå·¥ä½œè¡¨ï¼Œè¡Œï¼Œåˆ—ï¼Œå•å…ƒæ ¼ã€‚\næ¯ä¸€ä¸ªExcelæ–‡ä»¶éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå·¥ä½œç°¿ï¼Œå½“æ‰“å¼€ä¸€ä¸ªExcelæ–‡ä»¶æ—¶ï¼Œå°±ç­‰äºæ‰“å¼€äº†ä¸€ä¸ªExcelå·¥ä½œç°¿ å½“æ‰“å¼€äº†Excelå·¥ä½œç°¿ååœ¨çª—å£åº•éƒ¨çœ‹åˆ°çš„â€Sheetâ€œæ ‡ç­¾è¡¨ç¤ºçš„æ˜¯å·¥ä½œè¡¨ï¼Œæœ‰å‡ ä¸ªæ ‡ç­¾å°±è¡¨ç¤ºæœ‰å‡ ä¸ªå·¥ä½œè¡¨ åœ¨æ¯ä¸ªå·¥ä½œè¡¨å†…ï¼Œè¢«ç½‘æ ¼çº¿çºµæ¨ªéš”å¼€çš„å°±æ˜¯å•å…ƒæ ¼ å·¥ä½œè¡¨å†…ä»å·¦åˆ°å³çš„æ–¹å‘è¢«ç§°ä¸ºè¡Œ å·¥ä½œè¡¨å†…ä»ä¸Šåˆ°ä¸‹çš„æ–¹å‘è¢«ç§°ä¸ºåˆ— å·¥ä½œç°¿å¹¶éåªå•çº¯çš„åŒ…å«å·¥ä½œè¡¨ï¼Œå®ƒè¿˜å¯ä»¥åŒ…å«å›¾è¡¨å’Œå®è¡¨ç­‰ æˆ‘ä»¬å¯¼å…¥æ•°æ®çš„æ—¶å€™ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªä¸ªå·¥ä½œè¡¨å¯¼å…¥æˆä¸ºä¸€ä¸ªä¸ªå¯¹åº”çš„é›†åˆï¼Œè¡¨ä¸­çš„ä¸€è¡Œæ•°æ®å¯¹åº”é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚\nåè¿‡æ¥ï¼Œæˆ‘ä»¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æè¿°çš„æŸä¸ªå·¥ä½œè¡¨çš„æŸä¸€è¡Œæ•°æ®ï¼Œå…ƒç´ çš„å±æ€§å°±æ˜¯å¯¹åº”çš„è¿™ä¸€è¡Œçš„ä¸€ä¸ªä¸ªå•å…ƒæ ¼çš„æ•°æ®ï¼Œå…·ä½“å¯¹åº”å…³ç³»å°±æ˜¯å…ƒç´ å±æ€§å’Œåˆ—çš„å¯¹åº”å…³ç³»\né€šå¸¸ï¼Œæˆ‘ä»¬ä¼šå°†ç¬¬ä¸€è¡Œæ ‡è®°ä¸ºè¡¨å¤´ï¼Œå°±åƒè¿™æ ·ï¼š\næ‰€ä»¥ï¼Œå±æ€§çš„æ•°æ®å°±æ˜¯å¯¹åº”çš„è¡¨å¤´æ‰€åœ¨åˆ—çš„æ•°æ®ã€‚\næœ€åæ€»ç»“ä¸€ä¸‹ï¼š\nå¯¹è±¡ï¼šæè¿°æŸä¸ªå·¥ä½œè¡¨çš„ä¸€è¡Œæ•°æ® å¯¹è±¡çš„å±æ€§ï¼š æè¿°æŸä¸ªå·¥ä½œè¡¨çš„ä¸€è¡Œæ•°æ®çš„æŸä¸€åˆ—ã€‚ ç°åœ¨å¯ä»¥åˆ›å»ºæ³¨è§£äº†ã€‚\né¦–å…ˆæ˜¯ç±»æ³¨è§£ï¼š\npackage cn.com.pfinfo.excel.anno; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; /** * å·¥ä½œè¡¨æ³¨è§£ï¼Œç”¨äºæè¿°å®ä½“Beanå¯¹åº”çš„å·¥ä½œè¡¨ * @author cuitpanfei * */ @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.METHOD) public @interface Sheet { String value() defult \"Sheet1\"; } ç„¶åæ˜¯å±æ€§æ³¨è§£ï¼š\npackage cn.com.pfinfo.excel.anno; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; /** * å·¥ä½œè¡¨æ³¨è§£ï¼Œç”¨äºæè¿°å®ä½“Beanå¯¹åº”çš„å·¥ä½œè¡¨ * @author cuitpanfei * */ @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.FIELD) public @interface Cell { /** å¯¹åº”çš„åˆ—åç§° */ String name() default \"\"; /** åˆ—åºå· */ int index(); /** å­—æ®µç±»å‹å¯¹åº”çš„æ ¼å¼ */ String format() default \"\"; /** æ ¡éªŒæ˜¯å¦å¯ä»¥ä¸ºç©º */ boolean isEmpty() default true; } è¯»å–æ•°æ® è¿™ä¸€æ­¥æ¯”è¾ƒå†—é•¿ï¼Œæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªå¤§è‡´ä»£ç æ¡†æ¶å‡ºæ¥(ä¸å¿…è¦çš„ä»£ç è¿™é‡Œéƒ½å·²ç»ç•¥è¿‡äº†)\npublic \u003cT\u003e List\u003cT\u003e map(String sheetName, Class\u003cT\u003e clazz){ //è·å–è¡¨å¤´æ˜ å°„å…³ç³» //æ£€æŸ¥è·å–åˆ°çš„æ˜ å°„å…³ç³» //åŠ è½½å·¥ä½œè¡¨ //è·å–å·¥ä½œè¡¨ è¡¨å¤´ //æ£€æŸ¥è¡¨å¤´å’Œæ˜ å°„å…³ç³»æ˜¯å¦åŒ¹é… //æ ¹æ®æ˜ å°„å…³ç³»å’Œè¡¨å¤´çš„å…³ç³»åŠ è½½è¡¨æ•°æ® //æ˜ å°„æ•°æ®ä¸ºæ³›å‹æ•°æ®é›†åˆ //è¿”å›æ˜ å°„ç»“æœ return null; } æœ€å å¤§ä½“çš„è„‰ç»œæˆ‘ä»¬æ¸…æ¥šäº†ï¼Œåç»­ä¸»è¦æ˜¯å¡«å……å¥½å°±å¥½äº†ã€‚\nï¼ˆæœªå®Œå¾…ç»­ï¼‰\n","description":"\n","tags":["excel","Java"],"title":"\nExcelå¯¼å…¥ç®€æ˜“ç‰ˆï¼ˆä¸€ï¼‰","uri":"/posts/post-4/"},{"categories":["è¯­è¨€"],"content":"å‰è¨€ Java è¯­è¨€æ˜¯å½“å‰äº’è”ç½‘åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„è¯­è¨€ï¼Œä½œä¸ºä¸€å Java ç¨‹åºçŒ¿ï¼Œå½“ä¸šåŠ¡ç›¸å¯¹æ¯”è¾ƒç¨³å®šä¹‹åå¹³å¸¸å·¥ä½œé™¤äº† coding ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ï¼ˆ70%~80%ï¼‰æ˜¯ä¼šç”¨æ¥æ’æŸ¥çªå‘æˆ–è€…å‘¨æœŸæ€§çš„çº¿ä¸Šé—®é¢˜ã€‚ç”±äºä¸šåŠ¡åº”ç”¨ bugï¼ˆæœ¬èº«æˆ–å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼‰ã€å†…å¤–éƒ¨ç¯å¢ƒã€åº•å±‚ç¡¬ä»¶é—®é¢˜ç­‰åŸå› ï¼ŒJavaçº¿ä¸ŠæœåŠ¡å‡ºç°æ•…éšœ/é—®é¢˜å‡ ä¹ä¸å¯é¿å…ã€‚ä¾‹å¦‚ï¼Œå¸¸è§çš„ç°è±¡åŒ…æ‹¬éƒ¨åˆ†è¯·æ±‚è¶…æ—¶ã€ç”¨æˆ·æ˜æ˜¾æ„Ÿå—åˆ°ç³»ç»Ÿå‘ç”Ÿå¡é¡¿ç­‰ç­‰ã€‚\nå°½ç®¡çº¿ä¸Šé—®é¢˜ä»ç³»ç»Ÿè¡¨è±¡æ¥çœ‹éå¸¸æ˜æ˜¾ï¼Œä½†æ’æŸ¥æ·±ç©¶å…¶å‘ç”Ÿçš„åŸå› è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œå› æ­¤å¯¹å¼€å‘æµ‹è¯•æˆ–è€…æ˜¯è¿ç»´çš„åŒå­¦äº§ç”Ÿäº†è®¸å¤šçš„å›°æ‰°ã€‚æ’æŸ¥å®šä½çº¿ä¸Šé—®é¢˜æ˜¯å…·æœ‰ä¸€å®šæŠ€å·§æˆ–è€…è¯´æ˜¯ç»éªŒè§„å¾‹çš„ï¼Œæ’æŸ¥è€…å¦‚æœå¯¹ä¸šåŠ¡ç³»ç»Ÿäº†è§£å¾—è¶Šæ·±å…¥ï¼Œé‚£ä¹ˆç›¸å¯¹æ¥è¯´å®šä½ä¹Ÿä¼šå®¹æ˜“ä¸€äº›ã€‚\nä¸ç®¡æ€ä¹ˆè¯´ï¼ŒæŒæ¡ Java æœåŠ¡çº¿ä¸Šé—®é¢˜æ’æŸ¥æ€è·¯å¹¶èƒ½å¤Ÿç†Ÿç»ƒæ’æŸ¥é—®é¢˜å¸¸ç”¨å·¥å…·/å‘½ä»¤/å¹³å°æ˜¯æ¯ä¸€ä¸ª Java ç¨‹åºçŒ¿è¿›é˜¶å¿…é¡»æŒæ¡çš„å®æˆ˜æŠ€èƒ½ã€‚ç¬”è€…ä¾æ®è‡ªå·±çš„ å·¥ä½œç»éªŒæ€»ç»“å‡ºä¸€å¥—åŸºæœ¬çš„çº¿ä¸Šé—®é¢˜æ’æŸ¥æµç¨‹ï¼ŒåŒå­¦ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…å·¥ä½œæƒ…å†µè¿›è¡Œå½’çº³æ€»ç»“ã€‚\nJava æœåŠ¡å¸¸è§çº¿ä¸Šé—®é¢˜ æ‰€æœ‰ Java æœåŠ¡çš„çº¿ä¸Šé—®é¢˜ä»ç³»ç»Ÿè¡¨è±¡æ¥çœ‹å½’ç»“èµ·æ¥æ€»å…±æœ‰å››æ–¹é¢ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œã€‚ä¾‹å¦‚ CPU ä½¿ç”¨ç‡å³°å€¼çªç„¶é£šé«˜ã€å†…å­˜æº¢å‡º(æ³„éœ²)ã€ç£ç›˜æ»¡äº†ã€ç½‘ç»œæµé‡å¼‚å¸¸ã€FullGC ç­‰ç­‰é—®é¢˜ã€‚åŸºäºè¿™äº›ç°è±¡æˆ‘ä»¬å¯ä»¥å°†çº¿ä¸Šé—®é¢˜åˆ†æˆä¸¤å¤§ç±»: ç³»ç»Ÿå¼‚å¸¸ã€ä¸šåŠ¡æœåŠ¡å¼‚å¸¸ã€‚\nç³»ç»Ÿå¼‚å¸¸ å¸¸è§çš„ç³»ç»Ÿå¼‚å¸¸ç°è±¡åŒ…æ‹¬: CPU å ç”¨ç‡è¿‡é«˜ã€CPUä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æ¬¡æ•°è¾ƒé«˜ã€ç£ç›˜æ»¡äº†ã€ç£ç›˜ I/O è¿‡äºé¢‘ç¹ã€ç½‘ç»œæµé‡å¼‚å¸¸ï¼ˆè¿æ¥æ•°è¿‡å¤šï¼‰ã€ç³»ç»Ÿå¯ç”¨å†…å­˜é•¿æœŸå¤„äºè¾ƒä½å€¼ï¼ˆå¯¼è‡´ oom killerï¼‰ç­‰ç­‰ã€‚è¿™äº›é—®é¢˜å¯ä»¥é€šè¿‡ topï¼ˆcpuï¼‰ã€freeï¼ˆå†…å­˜ï¼‰ã€dfï¼ˆç£ç›˜ï¼‰ã€dstatï¼ˆç½‘ç»œæµé‡ï¼‰ã€pstackã€vmstatã€straceï¼ˆåº•å±‚ç³»ç»Ÿè°ƒç”¨ï¼‰ç­‰å·¥å…·è·å–ç³»ç»Ÿå¼‚å¸¸ç°è±¡æ•°æ®ã€‚\næ­¤å¤–ï¼Œå¦‚æœå¯¹ç³»ç»Ÿä»¥åŠåº”ç”¨è¿›è¡Œæ’æŸ¥åï¼Œå‡æœªå‘ç°å¼‚å¸¸ç°è±¡çš„æ ¹æœ¬åŸå› ï¼Œé‚£ä¹ˆä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºå¤–éƒ¨åŸºç¡€è®¾æ–½ IAAS å¹³å°æ‰€å¼•å‘çš„é—®é¢˜ã€‚ä¾‹å¦‚è¿è¥å•†ç½‘ç»œæˆ–è€…äº‘æœåŠ¡æä¾›å•†å¶å°”å¯èƒ½ä¹Ÿä¼šå‘ç”Ÿä¸€äº›æ•…éšœé—®é¢˜ï¼Œä½ çš„å¼•ç”¨åªæœ‰æŸä¸ªåŒºåŸŸå¦‚å¹¿ä¸œç”¨æˆ·è®¿é—®ç³»ç»Ÿæ—¶å‘ç”ŸæœåŠ¡ä¸å¯ç”¨ç°è±¡ï¼Œé‚£ä¹ˆææœ‰å¯èƒ½æ˜¯è¿™äº›åŸå› å¯¼è‡´çš„ã€‚ä»Šå¤©ï¼Œæˆ‘å¸éƒ¨ç½²åœ¨é˜¿é‡Œäº‘åä¸œåœ°åŸŸçš„ä¸šåŠ¡ç³»ç»Ÿä¸­åˆæ—¶åˆ†çªç„¶ä¸èƒ½ä¸ºå¹¿ä¸œåœ°åŒºç”¨æˆ·æä¾›æ­£å¸¸æœåŠ¡ï¼Œå¯¹ç³»ç»Ÿè¿›è¡Œå„ç§æ’æŸ¥å‡ä¸ºå‘ç°ä»»ä½•é—®é¢˜ã€‚æœ€åï¼Œé€šè¿‡æŸ¥è¯¢é˜¿é‡Œäº‘å…¬å‘Šå¾—çŸ¥åŸå› æ˜¯\"å¹¿ä¸œåœ°åŒºç”µä¿¡çº¿è·¯è®¿é—®åä¸œåœ°åŒºäº’è”ç½‘èµ„æºï¼ˆåŒ…å«é˜¿é‡Œäº‘åä¸œ1åœ°åŸŸï¼‰å‡ºç°ç½‘ç»œä¸¢åŒ…æˆ–è€…å»¶è¿Ÿå¢å¤§çš„å¼‚å¸¸æƒ…å†µ\"ã€‚\nä¸šåŠ¡æœåŠ¡å¼‚å¸¸ å¸¸è§çš„ä¸šåŠ¡æœåŠ¡å¼‚å¸¸ç°è±¡åŒ…æ‹¬: PV é‡è¿‡é«˜ã€æœåŠ¡è°ƒç”¨è€—æ—¶å¼‚å¸¸ã€çº¿ç¨‹æ­»é”ã€å¤šçº¿ç¨‹å¹¶å‘é—®é¢˜ã€é¢‘ç¹è¿›è¡Œ Full GCã€å¼‚å¸¸å®‰å…¨æ”»å‡»æ‰«æç­‰ã€‚\né—®é¢˜å®šä½ æˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨æ’é™¤æ³•ï¼Œä»å¤–éƒ¨æ’æŸ¥åˆ°å†…éƒ¨æ’æŸ¥çš„æ–¹å¼æ¥å®šä½çº¿ä¸ŠæœåŠ¡é—®é¢˜ã€‚\né¦–å…ˆæˆ‘ä»¬è¦æ’é™¤å…¶ä»–è¿›ç¨‹ï¼ˆé™¤ä¸»è¿›ç¨‹ä¹‹å¤–ï¼‰å¯èƒ½å¼•èµ·çš„æ•…éšœé—®é¢˜ å…¶æ¬¡æ’é™¤ä¸šåŠ¡åº”ç”¨å¯èƒ½å¼•èµ·çš„æ•…éšœé—®é¢˜ æœ€åå¯ä»¥è€ƒè™‘æ˜¯å¦ä¸ºè¿è¥å•†æˆ–è€…äº‘æœåŠ¡æä¾›å•†æ‰€å¼•èµ·çš„æ•…éšœ\nå®šä½æµç¨‹ ç³»ç»Ÿå¼‚å¸¸æ’æŸ¥æµç¨‹ ä¸šåŠ¡åº”ç”¨æ’æŸ¥æµç¨‹ Linux å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…· Linux å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ä½¿ç”¨åŒ…æ‹¬ : topï¼ˆcpuï¼‰ã€freeï¼ˆå†…å­˜ï¼‰ã€dfï¼ˆç£ç›˜ï¼‰ã€dstatï¼ˆç½‘ç»œæµé‡ï¼‰ã€pstackã€vmstatã€straceï¼ˆåº•å±‚ç³»ç»Ÿè°ƒç”¨ï¼‰ç­‰ã€‚\nCPU CPU æ˜¯ç³»ç»Ÿé‡è¦çš„ç›‘æ§æŒ‡æ ‡ï¼Œèƒ½å¤Ÿåˆ†æç³»ç»Ÿçš„æ•´ä½“è¿è¡ŒçŠ¶å†µã€‚ç›‘æ§æŒ‡æ ‡ä¸€èˆ¬åŒ…æ‹¬è¿è¡Œé˜Ÿåˆ—ã€CPUä½¿ç”¨ç‡å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰ã€‚\ntopå‘½ä»¤æ˜¯Linuxä¸‹å¸¸ç”¨çš„ CPU æ€§èƒ½åˆ†æå·¥å…·,èƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µ,å¸¸ç”¨äºæœåŠ¡ç«¯æ€§èƒ½åˆ†æã€‚\ntop å‘½ä»¤æ˜¾ç¤ºäº†å„ä¸ªè¿›ç¨‹ CPU ä½¿ç”¨æƒ…å†µï¼Œä¸€èˆ¬ CPU ä½¿ç”¨ç‡ä»é«˜åˆ°ä½æ’åºå±•ç¤ºè¾“å‡ºã€‚å…¶ä¸­ Load Average æ˜¾ç¤ºæœ€è¿‘1åˆ†é’Ÿã€5åˆ†é’Ÿå’Œ15åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼Œä¸Šå›¾å„å€¼ä¸º2.46ï¼Œ1.96ï¼Œ1.99ã€‚\næˆ‘ä»¬ä¸€èˆ¬ä¼šå…³æ³¨ CPU ä½¿ç”¨ç‡æœ€é«˜çš„è¿›ç¨‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹å°±æ˜¯æˆ‘ä»¬çš„åº”ç”¨ä¸»è¿›ç¨‹ã€‚ç¬¬ä¸ƒè¡Œä»¥ä¸‹ï¼šå„è¿›ç¨‹çš„çŠ¶æ€ç›‘æ§ã€‚\nPID : è¿›ç¨‹id USER : è¿›ç¨‹æ‰€æœ‰è€… PR : è¿›ç¨‹ä¼˜å…ˆçº§ NI : niceå€¼ã€‚è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£å€¼è¡¨ç¤ºä½ä¼˜å…ˆçº§ VIRT : è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼Œå•ä½kbã€‚VIRT=SWAP+RES RES : è¿›ç¨‹ä½¿ç”¨çš„ã€æœªè¢«æ¢å‡ºçš„ç‰©ç†å†…å­˜å¤§å°ï¼Œå•ä½kbã€‚RES=CODE+DATA SHR : å…±äº«å†…å­˜å¤§å°ï¼Œå•ä½kb S : è¿›ç¨‹çŠ¶æ€ã€‚D=ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ R=è¿è¡Œ S=ç¡çœ  T=è·Ÿè¸ª/åœæ­¢ Z=åƒµå°¸è¿›ç¨‹ %CPU : ä¸Šæ¬¡æ›´æ–°åˆ°ç°åœ¨çš„CPUæ—¶é—´å ç”¨ç™¾åˆ†æ¯” %MEM : è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯” TIME+ : è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½1/100ç§’ COMMAND : è¿›ç¨‹åç§° å†…å­˜ å†…å­˜æ˜¯æ’æŸ¥çº¿ä¸Šé—®é¢˜çš„é‡è¦å‚è€ƒä¾æ®ï¼Œå†…å­˜é—®é¢˜å¾ˆå¤šæ—¶å€™æ˜¯å¼•èµ· CPU ä½¿ç”¨ç‡è¾ƒé«˜çš„è§è§£å› ç´ ã€‚\nç³»ç»Ÿå†…å­˜ï¼šfree æ˜¯æ˜¾ç¤ºçš„å½“å‰å†…å­˜çš„ä½¿ç”¨ï¼Œ-m çš„æ„æ€æ˜¯Må­—èŠ‚æ¥æ˜¾ç¤ºå†…å®¹ã€‚\nfree -m éƒ¨åˆ†å‚æ•°è¯´æ˜ï¼š\ntotal å†…å­˜æ€»æ•°: 3790M\nused å·²ç»ä½¿ç”¨çš„å†…å­˜æ•°: 1880M\nfree ç©ºé—²çš„å†…å­˜æ•°: 118M\nshared å½“å‰å·²ç»åºŸå¼ƒä¸ç”¨,æ€»æ˜¯0\nbuffers Buffer ç¼“å­˜å†…å­˜æ•°: 1792M\nç£ç›˜ ç£ç›˜æ»¡äº†å¾ˆå¤šæ—¶å€™ä¼šè¿å¸¦å¼•èµ·ç³»ç»ŸæœåŠ¡ä¸å¯ç”¨ç­‰é—®é¢˜\ndf -h du -m /path ç½‘ç»œ dstat å‘½ä»¤å¯ä»¥é›†æˆäº† vmstatã€iostatã€netstat ç­‰ç­‰å·¥å…·èƒ½å®Œæˆçš„ä»»åŠ¡ã€‚\ndstat -c cpuæƒ…å†µ -d ç£ç›˜è¯»å†™ -n ç½‘ç»œçŠ¶å†µ -l æ˜¾ç¤ºç³»ç»Ÿè´Ÿè½½ -m æ˜¾ç¤ºå½¢åŒå†…å­˜çŠ¶å†µ -p æ˜¾ç¤ºç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯ -r æ˜¾ç¤ºç³»ç»ŸIOæƒ…å†µ å…¶å®ƒ vmstatï¼š\nvmstat 2 10 -t vmstat æ˜¯ Virtual Meomory Statisticsï¼ˆè™šæ‹Ÿå†…å­˜ç»Ÿè®¡ï¼‰çš„ç¼©å†™, æ˜¯å®æ—¶ç³»ç»Ÿç›‘æ§å·¥å…·ã€‚è¯¥å‘½ä»¤é€šè¿‡ä½¿ç”¨ knlist å­ç¨‹åºå’Œ /dev/kmen ä¼ªè®¾å¤‡é©±åŠ¨å™¨è®¿é—®è¿™äº›æ•°æ®ï¼Œè¾“å‡ºä¿¡æ¯ç›´æ¥æ‰“å°åœ¨å±å¹•ã€‚\nä½¿ç”¨ vmstat 2 10 -tå‘½ä»¤ï¼ŒæŸ¥çœ‹ io çš„æƒ…å†µ ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é‡‡æ ·çš„æ—¶é—´é—´éš”æ•°å•ä½æ˜¯ç§’ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯é‡‡æ ·çš„æ¬¡æ•°ï¼‰ã€‚\nr è¡¨ç¤ºè¿è¡Œé˜Ÿåˆ—(å°±æ˜¯è¯´å¤šå°‘ä¸ªè¿›ç¨‹çœŸçš„åˆ†é…åˆ°CPU),b è¡¨ç¤ºé˜»å¡çš„è¿›ç¨‹ã€‚ swpd è™šæ‹Ÿå†…å­˜å·²ä½¿ç”¨çš„å¤§å°ï¼Œå¦‚æœå¤§äº0ï¼Œè¡¨ç¤ºä½ çš„æœºå™¨ç‰©ç†å†…å­˜ä¸è¶³äº†ï¼Œå¦‚æœä¸æ˜¯ç¨‹åºå†…å­˜æ³„éœ²çš„åŸå› ï¼Œé‚£ä¹ˆä½ è¯¥å‡çº§å†…å­˜äº†æˆ–è€…æŠŠè€—å†…å­˜çš„ä»»åŠ¡è¿ç§»åˆ°å…¶ä»–æœºå™¨ã€‚ free ç©ºé—²çš„ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œæˆ‘çš„æœºå™¨å†…å­˜æ€»å…±4Gï¼Œå‰©ä½™120Må·¦å³ã€‚ buff Linux/Unixç³»ç»Ÿæ˜¯ç”¨æ¥å­˜å‚¨ï¼Œç›®å½•é‡Œé¢æœ‰ä»€ä¹ˆå†…å®¹ï¼Œæƒé™ç­‰çš„ç¼“å­˜ï¼Œæˆ‘æœ¬æœºå¤§æ¦‚å ç”¨40å¤šM cache æ–‡ä»¶ç¼“å­˜ siåˆ—è¡¨ç¤ºç”±ç£ç›˜è°ƒå…¥å†…å­˜ï¼Œä¹Ÿå°±æ˜¯å†…å­˜è¿›å…¥å†…å­˜äº¤æ¢åŒºçš„æ•°é‡ï¼› soåˆ—è¡¨ç¤ºç”±å†…å­˜è°ƒå…¥ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯å†…å­˜äº¤æ¢åŒºè¿›å…¥å†…å­˜çš„æ•°é‡ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsiã€soçš„å€¼éƒ½ä¸º0ï¼Œå¦‚æœsiã€soçš„å€¼é•¿æœŸä¸ä¸º0ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œéœ€è¦è€ƒè™‘æ˜¯å¦å¢åŠ ç³»ç»Ÿå†…å­˜ã€‚ bi ä»å—è®¾å¤‡è¯»å…¥æ•°æ®çš„æ€»é‡ï¼ˆè¯»ç£ç›˜ï¼‰ï¼ˆæ¯ç§’kbï¼‰ bo å—è®¾å¤‡å†™å…¥æ•°æ®çš„æ€»é‡ï¼ˆå†™ç£ç›˜ï¼‰ï¼ˆæ¯ç§’kbï¼‰ éšæœºç£ç›˜è¯»å†™çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªå€¼è¶Šå¤§((è¶…å‡º1024k)ï¼Œèƒ½çœ‹åˆ°cpuåœ¨IOç­‰å¾…çš„å€¼ä¹Ÿä¼šè¶Šå¤§ è¿™é‡Œè®¾ç½®çš„bi+boå‚è€ƒå€¼ä¸º1000ï¼Œå¦‚æœè¶…è¿‡1000ï¼Œè€Œä¸”waå€¼æ¯”è¾ƒå¤§ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿç£ç›˜IOæ€§èƒ½ç“¶é¢ˆã€‚ in æ¯ç§’CPUçš„ä¸­æ–­æ¬¡æ•°ï¼ŒåŒ…æ‹¬æ—¶é—´ä¸­æ–­ cs(ä¸Šä¸‹æ–‡åˆ‡æ¢Context Switch) straceï¼šstraceå¸¸ç”¨æ¥è·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œæ—¶çš„ç³»ç»Ÿè°ƒç”¨å’Œæ‰€æ¥æ”¶çš„ä¿¡å·ã€‚\nstrace -cp tid strace -T -p tid -T æ˜¾ç¤ºæ¯ä¸€è°ƒç”¨æ‰€è€—çš„æ—¶é—´. -p pid è·Ÿè¸ªæŒ‡å®šçš„è¿›ç¨‹pid. -v è¾“å‡ºæ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨.ä¸€äº›è°ƒç”¨å…³äºç¯å¢ƒå˜é‡,çŠ¶æ€,è¾“å…¥è¾“å‡ºç­‰è°ƒç”¨ç”±äºä½¿ç”¨é¢‘ç¹,é»˜è®¤ä¸è¾“å‡º. -V è¾“å‡ºstraceçš„ç‰ˆæœ¬ä¿¡æ¯. JVM å®šä½é—®é¢˜å·¥å…· åœ¨ JDK å®‰è£…ç›®å½•çš„ bin ç›®å½•ä¸‹é»˜è®¤æä¾›äº†å¾ˆå¤šæœ‰ä»·å€¼çš„å‘½ä»¤è¡Œå·¥å…·ã€‚æ¯ä¸ªå°å·¥å…·ä½“ç§¯åŸºæœ¬éƒ½æ¯”è¾ƒå°ï¼Œå› ä¸ºè¿™äº›å·¥å…·åªæ˜¯ jdk\\lib\\tools.jar çš„ç®€å•å°è£…ã€‚\nå…¶ä¸­ï¼Œå®šä½æ’æŸ¥é—®é¢˜æ—¶æœ€ä¸ºå¸¸ç”¨å‘½ä»¤åŒ…æ‹¬ï¼šjpsï¼ˆè¿›ç¨‹ï¼‰ã€jmapï¼ˆå†…å­˜ï¼‰ã€jstackï¼ˆçº¿ç¨‹ï¼‰ã€jinfoï¼ˆå‚æ•°ï¼‰ç­‰ã€‚\njpsï¼šæŸ¥è¯¢å½“å‰æœºå™¨æ‰€æœ‰JAVAè¿›ç¨‹ä¿¡æ¯\njmapï¼šè¾“å‡ºæŸä¸ª Java è¿›ç¨‹å†…å­˜æƒ…å†µï¼ˆå¦‚äº§ç”Ÿé‚£äº›å¯¹è±¡åŠæ•°é‡ç­‰ï¼‰\njstackï¼šæ‰“å°æŸä¸ª Java çº¿ç¨‹çš„çº¿ç¨‹æ ˆä¿¡æ¯\njinfoï¼šç”¨äºæŸ¥çœ‹ jvm çš„é…ç½®å‚æ•°\njps å‘½ä»¤ jps ç”¨äºè¾“å‡ºå½“å‰ç”¨æˆ·å¯åŠ¨çš„æ‰€æœ‰è¿›ç¨‹ IDï¼Œå½“çº¿ä¸Šå‘ç°æ•…éšœæˆ–è€…é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿåˆ©ç”¨ jps å¿«é€Ÿå®šä½å¯¹åº”çš„ Java è¿›ç¨‹ IDã€‚\njps -l -m -m -l -lå‚æ•°ç”¨äºè¾“å‡ºä¸»å¯åŠ¨ç±»çš„å®Œæ•´è·¯å¾„ å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Linux æä¾›çš„æŸ¥è¯¢è¿›ç¨‹çŠ¶æ€å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š\nps -ef | grep tomcat æˆ‘ä»¬ä¹Ÿèƒ½å¿«é€Ÿè·å– Tomcat æœåŠ¡çš„è¿›ç¨‹ idã€‚\njmap å‘½ä»¤ jmap -heap pid è¾“å‡ºå½“å‰è¿›ç¨‹JVMå †æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æŒä¹…ä»£ç­‰è¯·æƒ…å†µï¼ŒGCä½¿ç”¨çš„ç®—æ³•ç­‰ä¿¡æ¯ jmap -histo:live {pid} | head -n 10 è¾“å‡ºå½“å‰è¿›ç¨‹å†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡åŒ…å«çš„å¤§å° jmap -dump:format=b,file=/usr/local/logs/gc/dump.hprof {pid} ä»¥äºŒè¿›åˆ¶è¾“å‡ºæ¡£å½“å‰å†…å­˜çš„å †æƒ…å†µï¼Œç„¶åå¯ä»¥å¯¼å…¥MATç­‰å·¥å…·è¿›è¡Œ JMapï¼ˆJava Memory Mapï¼‰å¯ä»¥è¾“å‡ºæ‰€æœ‰å†…å­˜ä¸­å¯¹è±¡çš„å·¥å…·ï¼Œç”šè‡³å¯ä»¥å°† VM ä¸­çš„ heapï¼Œä»¥äºŒè¿›åˆ¶è¾“å‡ºæˆæ–‡æœ¬ã€‚\njmap -heap pidï¼š\njmap -heap pid è¾“å‡ºå½“å‰è¿›ç¨‹JVMå †æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æŒä¹…ä»£ç­‰è¯·æƒ…å†µï¼ŒGCä½¿ç”¨çš„ç®—æ³•ç­‰ä¿¡æ¯ jmap å¯ä»¥æŸ¥çœ‹ JVM è¿›ç¨‹çš„å†…å­˜åˆ†é…ä¸ä½¿ç”¨æƒ…å†µï¼Œä½¿ç”¨ çš„ GC ç®—æ³•ç­‰ä¿¡æ¯ã€‚\njmap -histo:live {pid} | head -n 10ï¼š\njmap -histo:live {pid} | head -n 10 è¾“å‡ºå½“å‰è¿›ç¨‹å†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡åŒ…å«çš„å¤§å° è¾“å‡ºå½“å‰è¿›ç¨‹å†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡å®ä¾‹æ•°ï¼ˆinstancesï¼‰å’Œå¤§å°ï¼ˆbytesï¼‰ï¼Œå¦‚æœæŸä¸ªä¸šåŠ¡å¯¹è±¡å®ä¾‹æ•°å’Œå¤§å°å­˜åœ¨å¼‚å¸¸æƒ…å†µï¼Œå¯èƒ½å­˜åœ¨å†…å­˜æ³„éœ²æˆ–è€…ä¸šåŠ¡è®¾è®¡æ–¹é¢å­˜åœ¨ä¸åˆç†ä¹‹å¤„ã€‚\njmap -dumpï¼š\njmap -dump:format=b,file=/usr/local/logs/gc/dump.hprof {pid} -dump:formate=b,file= ä»¥äºŒè¿›åˆ¶è¾“å‡ºå½“å‰å†…å­˜çš„å †æƒ…å†µè‡³ç›¸åº”çš„æ–‡ä»¶ï¼Œç„¶åå¯ä»¥ç»“åˆ MAT ç­‰å†…å­˜åˆ†æå·¥å…·æ·±å…¥åˆ†æå½“å‰å†…å­˜æƒ…å†µã€‚\nä¸€èˆ¬æˆ‘ä»¬è¦æ±‚ç»™ JVM æ·»åŠ å‚æ•° -XX:+Heap Dump On Out Of Memory Error OOM ç¡®ä¿åº”ç”¨å‘ç”Ÿ OOM æ—¶ JVM èƒ½å¤Ÿä¿å­˜å¹¶ dump å‡ºå½“å‰çš„å†…å­˜é•œåƒã€‚å½“ç„¶å¦‚æœä½ å†³å®šæ‰‹åŠ¨ dump å†…å­˜æ—¶ï¼Œdump æ“ä½œå æ®ä¸€å®š CPU æ—¶é—´ç‰‡ã€å†…å­˜èµ„æºã€ç£ç›˜èµ„æºç­‰ï¼Œå› æ­¤ä¼šå¸¦æ¥ä¸€å®šçš„è´Ÿé¢å½±å“ã€‚\næ­¤å¤–ï¼Œdump çš„æ–‡ä»¶å¯èƒ½æ¯”è¾ƒå¤§,ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨zipå‘½ä»¤å¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œè¿™æ ·åœ¨ä¸‹è½½æ–‡ä»¶æ—¶èƒ½å‡å°‘å¸¦å®½çš„å¼€é”€ã€‚åœ¨ä¸‹è½½ dump æ–‡ä»¶å®Œæˆä¹‹åï¼Œç”±äº dump æ–‡ä»¶è¾ƒå¤§å¯å°† dump æ–‡ä»¶å¤‡ä»½è‡³åˆ¶å®šä½ç½®æˆ–è€…ç›´æ¥åˆ é™¤ï¼Œä»¥é‡Šæ”¾ç£ç›˜åœ¨è¿™å—çš„ç©ºé—´å ç”¨ã€‚\njstack å‘½ä»¤ printf '%x\\n' tid --\u003e 10è¿›åˆ¶è‡³16è¿›åˆ¶çº¿ç¨‹ID(navtiveçº¿ç¨‹) %d 10è¿›åˆ¶ jstack pid | grep tid -C 30 --color æŸ Java è¿›ç¨‹ CPU å ç”¨ç‡é«˜ï¼Œæˆ‘ä»¬æƒ³è¦å®šä½åˆ°å…¶ä¸­ CPU å ç”¨ç‡æœ€é«˜çš„çº¿ç¨‹ã€‚\nï¼ˆ1ï¼‰ åˆ©ç”¨ top å‘½ä»¤å¯ä»¥æŸ¥å‡ºå  CPU æœ€é«˜çš„çº¿ç¨‹ pid\ntop -Hp {pid} ï¼ˆ2ï¼‰ å ç”¨ç‡æœ€é«˜çš„çº¿ç¨‹ ID ä¸º 6900ï¼Œå°†å…¶è½¬æ¢ä¸º16è¿›åˆ¶å½¢å¼ï¼ˆå› ä¸º java native çº¿ç¨‹ä»¥16è¿›åˆ¶å½¢å¼è¾“å‡ºï¼‰\nprintf '%x\\n' 6900 ï¼ˆ3ï¼‰ åˆ©ç”¨ jstack æ‰“å°å‡º Java çº¿ç¨‹è°ƒç”¨æ ˆä¿¡æ¯\njstack 6418 | grep '0x1af4' -A 50 --color jinfo å‘½ä»¤ æŸ¥çœ‹æŸä¸ªJVMå‚æ•°å€¼ jinfo -flag ReservedCodeCacheSize 28461 jinfo -flag MaxPermSize 28461 jstat å‘½ä»¤ jstat -gc pid jstat -gcutil `pgrep -u admin java` å†…å­˜åˆ†æå·¥å…· MAT ä»€ä¹ˆæ˜¯ MAT? MATï¼ˆMemory Analyzer Toolï¼‰ï¼Œä¸€ä¸ªåŸºäº Eclipse çš„å†…å­˜åˆ†æå·¥å…·ï¼Œæ˜¯ä¸€ä¸ªå¿«é€Ÿã€åŠŸèƒ½ä¸°å¯Œçš„ JAVA heap åˆ†æå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŸ¥æ‰¾å†…å­˜æ³„æ¼å’Œå‡å°‘å†…å­˜æ¶ˆè€—ã€‚ä½¿ç”¨å†…å­˜åˆ†æå·¥å…·ä»ä¼—å¤šçš„å¯¹è±¡ä¸­è¿›è¡Œåˆ†æï¼Œå¿«é€Ÿçš„è®¡ç®—å‡ºåœ¨å†…å­˜ä¸­å¯¹è±¡çš„å ç”¨å¤§å°ï¼Œçœ‹çœ‹æ˜¯è°é˜»æ­¢äº†åƒåœ¾æ”¶é›†å™¨çš„å›æ”¶å·¥ä½œï¼Œå¹¶å¯ä»¥é€šè¿‡æŠ¥è¡¨ç›´è§‚çš„æŸ¥çœ‹åˆ°å¯èƒ½é€ æˆè¿™ç§ç»“æœçš„å¯¹è±¡ã€‚\nå³ä¾§çš„é¥¼å›¾æ˜¾ç¤ºå½“å‰å¿«ç…§ä¸­æœ€å¤§çš„å¯¹è±¡ã€‚å•å‡»å·¥å…·æ ä¸Šçš„æŸ±çŠ¶å›¾ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰å †çš„ç±»ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»çš„å¯¹è±¡æ•°é‡ã€æµ…å †ï¼ˆShallow heapï¼‰ã€æ·±å †ï¼ˆRetained Heapï¼‰ã€‚\næµ…å †è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ç»“æ„æ‰€å ç”¨å†…å­˜çš„å¤§å°ã€‚æ·±å †è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡è¢«å›æ”¶åï¼Œå¯ä»¥çœŸå®é‡Šæ”¾çš„å†…å­˜å¤§å°ã€‚\næ”¯é…æ ‘ï¼ˆThe Dominator Treeï¼‰ï¼š åˆ—å‡ºäº†å †ä¸­æœ€å¤§çš„å¯¹è±¡ï¼Œç¬¬äºŒå±‚çº§çš„èŠ‚ç‚¹è¡¨ç¤ºå½“è¢«ç¬¬ä¸€å±‚çº§çš„èŠ‚ç‚¹æ‰€å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå½“ç¬¬ä¸€å±‚çº§å¯¹è±¡è¢«å›æ”¶æ—¶ï¼Œè¿™äº›å¯¹è±¡ä¹Ÿå°†è¢«å›æ”¶ã€‚è¿™ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½å¯¹è±¡é—´çš„å¼•ç”¨æƒ…å†µï¼Œåƒåœ¾å›æ”¶æ—¶å€™çš„å¼•ç”¨ä¾èµ–å…³ç³»\nPath to GC Roots è¢«JVMæŒæœ‰çš„å¯¹è±¡ï¼Œå¦‚å½“å‰è¿è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œè¢«systemclass loaderåŠ è½½çš„å¯¹è±¡è¢«ç§°ä¸ºGC Rootsï¼Œ ä»ä¸€ä¸ªå¯¹è±¡åˆ°GC Rootsçš„å¼•ç”¨é“¾è¢«ç§°ä¸ºPath to GC Rootsï¼Œ é€šè¿‡åˆ†æPath to GC Rootså¯ä»¥æ‰¾å‡ºJAVAçš„å†…å­˜æ³„éœ²é—®é¢˜ï¼Œå½“ç¨‹åºä¸åœ¨è®¿é—®è¯¥å¯¹è±¡æ—¶ä»å­˜åœ¨åˆ°è¯¥å¯¹è±¡çš„å¼•ç”¨è·¯å¾„ã€‚\næ—¥å¿—åˆ†æ GC æ—¥å¿—åˆ†æ GC æ—¥å¿—è¯¦ç»†åˆ†æ Java è™šæ‹Ÿæœº GC æ—¥å¿—æ˜¯ç”¨äºå®šä½é—®é¢˜é‡è¦çš„æ—¥å¿—ä¿¡æ¯ï¼Œé¢‘ç¹çš„ GC å°†å¯¼è‡´åº”ç”¨ååé‡ä¸‹é™ã€å“åº”æ—¶é—´å¢åŠ ï¼Œç”šè‡³å¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚\n-XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/usr/local/gc/gc.log -XX:+UseConcMarkSweepGC æˆ‘ä»¬å¯ä»¥åœ¨ Java åº”ç”¨çš„å¯åŠ¨å‚æ•°ä¸­å¢åŠ  -XX:+PrintGCDetails å¯ä»¥è¾“å‡º GC çš„è¯¦ç»†æ—¥å¿—ï¼Œä¾‹å¤–è¿˜å¯ä»¥å¢åŠ å…¶ä»–çš„è¾…åŠ©å‚æ•°ï¼Œå¦‚ -Xloggc åˆ¶å®š GC æ—¥å¿—æ–‡ä»¶åœ°å€ã€‚å¦‚æœä½ çš„åº”ç”¨è¿˜æ²¡æœ‰å¼€å¯è¯¥å‚æ•°,ä¸‹æ¬¡é‡å¯æ—¶è¯·åŠ å…¥è¯¥å‚æ•°ã€‚\nä¸Šå›¾ä¸ºçº¿ä¸ŠæŸåº”ç”¨åœ¨å¹³ç¨³è¿è¡ŒçŠ¶æ€ä¸‹çš„GCæ—¥å¿—æˆªå›¾ã€‚\n2017-12-29T18:25:22.753+0800: 73143.256: [GC2017-12-29T18:25:22.753+0800: 73143.257: [ParNew: 559782K-\u003e1000K(629120K), 0.0135760 secs] 825452K-\u003e266673K(2027264K), 0.0140300 secs] [Times: user=0.02 sys=0.00, real=0.02 secs] è§£æè¯´æ˜:\n[2017-12-29T18:25:22.753+0800: 73143.256] ï¼š è‡ªJVMå¯åŠ¨73143.256ç§’æ—¶å‘ç”Ÿæœ¬æ¬¡GC. [ParNew: 559782K-\u003e1000K(629120K), 0.0135760 secs] : å¯¹æ–°ç”Ÿä»£è¿›è¡Œçš„GCï¼Œä½¿ç”¨ParNewæ”¶é›†å™¨ï¼Œ559782Kæ˜¯æ–°ç”Ÿä»£å›æ”¶å‰çš„å¤§å°,1000Kæ˜¯æ–°ç”Ÿä»£å›æ”¶åå¤§å°,629120Kæ˜¯å½“å‰æ–°ç”Ÿä»£åˆ†é…çš„å†…å­˜æ€»å¤§å°, 0.0135760 secsè¡¨ç¤ºæœ¬æ¬¡æ–°ç”Ÿä»£å›æ”¶è€—æ—¶ 0.0135760ç§’ [825452K-\u003e266673K(2027264K), 0.0140300 secs]:825452Kæ˜¯å›æ”¶å †å†…å­˜å¤§å°,266673Kæ˜¯å›æ”¶å †ä¹‹åå†…å­˜å¤§å°ï¼Œ2027264Kæ˜¯å½“å‰å †å†…å­˜æ€»å¤§å°,0.0140300 secsè¡¨ç¤ºæœ¬æ¬¡å›æ”¶å…±è€—æ—¶0.0140300ç§’ [Times: user=0.02 sys=0.00, real=0.02 secs] : ç”¨æˆ·æ€è€—æ—¶0.02ç§’,ç³»ç»Ÿæ€è€—æ—¶0.00,å®é™…è€—æ—¶0.02ç§’ æ— è®ºæ˜¯ minor GC æˆ–è€…æ˜¯ Full GCï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ GC å›æ”¶å®æ—¶è€—æ—¶ï¼Œ å¦‚ real=0.02secsï¼Œå³ stop the world æ—¶é—´ï¼Œå¦‚æœè¯¥æ—¶é—´è¿‡é•¿ï¼Œåˆ™ä¸¥é‡å½±å“åº”ç”¨æ€§èƒ½ã€‚\nCMS GC æ—¥å¿—åˆ†æ Concurrent Mark Sweepï¼ˆCMSï¼‰æ˜¯è€å¹´ä»£åƒåœ¾æ”¶é›†å™¨ï¼Œä»åå­—ï¼ˆMark Sweepï¼‰å¯ä»¥çœ‹å‡ºï¼ŒCMS æ”¶é›†å™¨å°±æ˜¯â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•å®ç°çš„ï¼Œåˆ†ä¸ºå…­ä¸ªæ­¥éª¤ï¼š\nåˆå§‹æ ‡è®°ï¼ˆSTW initial markï¼‰ å¹¶å‘æ ‡è®°ï¼ˆConcurrent markingï¼‰ å¹¶å‘é¢„æ¸…ç†ï¼ˆConcurrent precleaningï¼‰ é‡æ–°æ ‡è®°ï¼ˆSTW remarkï¼‰ å¹¶å‘æ¸…ç†ï¼ˆConcurrent sweepingï¼‰ å¹¶å‘é‡ç½®ï¼ˆConcurrent resetï¼‰ å…¶ä¸­åˆå§‹æ ‡è®°ï¼ˆSTW initial markï¼‰ å’Œ é‡æ–°æ ‡è®°ï¼ˆSTW remarkï¼‰éœ€è¦â€œStop the Worldâ€ã€‚\nåˆå§‹æ ‡è®° ï¼šåœ¨è¿™ä¸ªé˜¶æ®µï¼Œéœ€è¦è™šæ‹Ÿæœºåœé¡¿æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå®˜æ–¹çš„å«æ³• STWï¼ˆStop The Wordï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä»åƒåœ¾å›æ”¶çš„\"æ ¹å¯¹è±¡\"å¼€å§‹ï¼Œåªæ‰«æåˆ°èƒ½å¤Ÿå’Œ\"æ ¹å¯¹è±¡\"ç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œå¹¶ä½œæ ‡è®°ã€‚æ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹è™½ç„¶æš‚åœäº†æ•´ä¸ª JVMï¼Œä½†æ˜¯å¾ˆå¿«å°±å®Œæˆäº†ã€‚\nå¹¶å‘æ ‡è®° ï¼šè¿™ä¸ªé˜¶æ®µç´§éšåˆå§‹æ ‡è®°é˜¶æ®µï¼Œåœ¨åˆå§‹æ ‡è®°çš„åŸºç¡€ä¸Šç»§ç»­å‘ä¸‹è¿½æº¯æ ‡è®°ã€‚å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œåº”ç”¨ç¨‹åºçš„çº¿ç¨‹å’Œå¹¶å‘æ ‡è®°çš„çº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œæ‰€ä»¥ç”¨æˆ·ä¸ä¼šæ„Ÿå—åˆ°åœé¡¿ã€‚\nå¹¶å‘é¢„æ¸…ç† ï¼šå¹¶å‘é¢„æ¸…ç†é˜¶æ®µä»ç„¶æ˜¯å¹¶å‘çš„ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œè™šæ‹ŸæœºæŸ¥æ‰¾åœ¨æ‰§è¡Œå¹¶å‘æ ‡è®°é˜¶æ®µæ–°è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡ï¼ˆå¯èƒ½ä¼šæœ‰ä¸€äº›å¯¹è±¡ä»æ–°ç”Ÿä»£æ™‹å‡åˆ°è€å¹´ä»£ï¼Œ æˆ–è€…æœ‰ä¸€äº›å¯¹è±¡è¢«åˆ†é…åˆ°è€å¹´ä»£ï¼‰ã€‚é€šè¿‡é‡æ–°æ‰«æï¼Œå‡å°‘ä¸‹ä¸€ä¸ªé˜¶æ®µ\"é‡æ–°æ ‡è®°\"çš„å·¥ä½œï¼Œå› ä¸ºä¸‹ä¸€ä¸ªé˜¶æ®µä¼š Stop The Worldã€‚\né‡æ–°æ ‡è®° ï¼šè¿™ä¸ªé˜¶æ®µä¼šæš‚åœè™šæ‹Ÿæœºï¼Œæ”¶é›†å™¨çº¿ç¨‹æ‰«æåœ¨ CMS å †ä¸­å‰©ä½™çš„å¯¹è±¡ã€‚æ‰«æä»\"è·Ÿå¯¹è±¡\"å¼€å§‹å‘ä¸‹è¿½æº¯ï¼Œå¹¶å¤„ç†å¯¹è±¡å…³è”ã€‚\nå¹¶å‘æ¸…ç† ï¼šæ¸…ç†åƒåœ¾å¯¹è±¡ï¼Œè¿™ä¸ªé˜¶æ®µæ”¶é›†å™¨çº¿ç¨‹å’Œåº”ç”¨ç¨‹åºçº¿ç¨‹å¹¶å‘æ‰§è¡Œã€‚\nå¹¶å‘é‡ç½® ï¼šè¿™ä¸ªé˜¶æ®µï¼Œé‡ç½® CMS æ”¶é›†å™¨çš„æ•°æ®ç»“æ„ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶ã€‚\nCMS ä½¿å¾—åœ¨æ•´ä¸ªæ”¶é›†çš„è¿‡ç¨‹ä¸­åªæ˜¯å¾ˆçŸ­çš„æš‚åœåº”ç”¨çš„æ‰§è¡Œï¼Œå¯é€šè¿‡åœ¨ JVM å‚æ•°ä¸­è®¾ç½® -XX:UseConcMarkSweepGC æ¥ä½¿ç”¨æ­¤æ”¶é›†å™¨ï¼Œä¸è¿‡æ­¤æ”¶é›†å™¨ä»…ç”¨äº old å’Œ Permï¼ˆæ°¸ç”Ÿï¼‰çš„å¯¹è±¡æ”¶é›†ã€‚CMS å‡å°‘äº† stop the world çš„æ¬¡æ•°ï¼Œä¸å¯é¿å…åœ°è®©æ•´ä½“ GC çš„æ—¶é—´æ‹‰é•¿äº†ã€‚\nFull GC çš„æ¬¡æ•°è¯´çš„æ˜¯ stop the world çš„æ¬¡æ•°ï¼Œæ‰€ä»¥ä¸€æ¬¡ CMS è‡³å°‘ä¼šè®© Full GC çš„æ¬¡æ•°+2ï¼Œå› ä¸º CMS Initial mark å’Œ remark éƒ½ä¼š stop the worldï¼Œè®°åš2æ¬¡ã€‚è€Œ CMS å¯èƒ½å¤±è´¥å†å¼•å‘ä¸€æ¬¡ Full GCã€‚\nä¸Šå›¾ä¸ºçº¿ä¸ŠæŸåº”ç”¨åœ¨è¿›è¡Œ CMS GC çŠ¶æ€ä¸‹çš„ GC æ—¥å¿—æˆªå›¾ã€‚\n2017-11-02T09:27:03.989+0800: 558115.552: [GC [1 CMS-initial-mark: 1774783K(1926784K)] 1799438K(2068800K), 0.0123430 secs] [Times: user=0.01 sys=0.01, real=0.02 secs] 2017-11-02T09:27:04.001+0800: 558115.565: [CMS-concurrent-mark-start] 2017-11-02T09:27:04.714+0800: 558116.277: [CMS-concurrent-mark: 0.713/0.713 secs] [Times: user=1.02 sys=0.03, real=0.71 secs] 2017-11-02T09:27:04.714+0800: 558116.277: [CMS-concurrent-preclean-start] 2017-11-02T09:27:04.722+0800: 558116.285: [CMS-concurrent-preclean: 0.008/0.008 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] 2017-11-02T09:27:04.722+0800: 558116.286: [CMS-concurrent-abortable-preclean-start] 2017-11-02T09:27:04.836+0800: 558116.399: [GC2017-11-02T09:27:04.836+0800: 558116.400: [ParNew: 138301K-\u003e6543K(142016K), 0.0155540 secs] 1913085K-\u003e1781327K(2068800K), 0.0160610 secs] [Times: user=0.03 sys=0.01, real=0.02 secs] 2017-11-02T09:27:05.005+0800: 558116.569: [CMS-concurrent-abortable-preclean: 0.164/0.283 secs] [Times: user=0.46 sys=0.02, real=0.28 secs] 2017-11-02T09:27:05.006+0800: 558116.570: [GC[YG occupancy: 72266 K (142016 K)]2017-11-02T09:27:05.006+0800: 558116.570: [Rescan (parallel) , 0.2523940 secs]2017-11-02T09:27:05.259+0800: 558116.822: [weak refs processing, 0.0011240 secs]2017-11-02T09:27:05.260+0800: 558116.823: [scrub string table, 0.0028570 secs] [1 CMS-remark: 1774783K(1926784K)] 1847049K(2068800K), 0.2566410 secs] [Times: user=0.14 sys=0.00, real=0.26 secs] 2017-11-02T09:27:05.265+0800: 558116.829: [CMS-concurrent-sweep-start] 2017-11-02T09:27:05.422+0800: 558116.986: [GC2017-11-02T09:27:05.423+0800: 558116.986: [ParNew: 120207K-\u003e2740K(142016K), 0.0179330 secs] 1885446K-\u003e1767979K(2068800K), 0.0183340 secs] [Times: user=0.03 sys=0.01, real=0.02 secs] 2017-11-02T09:27:06.240+0800: 558117.804: [GC2017-11-02T09:27:06.240+0800: 558117.804: [ParNew: 116404K-\u003e3657K(142016K), 0.0134680 secs] 1286444K-\u003e1173697K(2068800K), 0.0138460 secs] [Times: user=0.03 sys=0.00, real=0.01 secs] 2017-11-02T09:27:06.966+0800: 558118.530: [GC2017-11-02T09:27:06.966+0800: 558118.530: [ParNew: 117321K-\u003e2242K(142016K), 0.0135210 secs] 738838K-\u003e623759K(2068800K), 0.0140130 secs] [Times: user=0.03 sys=0.00, real=0.02 secs] 2017-11-02T09:27:07.144+0800: 558118.708: [CMS-concurrent-sweep: 1.820/1.879 secs] [Times: user=2.88 sys=0.14, real=1.88 secs] 2017-11-02T09:27:07.144+0800: 558118.708: [CMS-concurrent-reset-start] 2017-11-02T09:27:07.149+0800: 558118.713: [CMS-concurrent-reset: 0.005/0.005 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] å¦‚æœä½ å·²æŒæ¡ CMS çš„åƒåœ¾æ”¶é›†è¿‡ç¨‹ï¼Œé‚£ä¹ˆä¸Šé¢çš„ GC æ—¥å¿—ä½ åº”è¯¥å¾ˆå®¹æ˜“å°±èƒ½çœ‹çš„æ‡‚ï¼Œè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†å±•å¼€è§£é‡Šè¯´æ˜äº†ã€‚\næ­¤å¤– CMS è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ä¹Ÿæœ‰å¯èƒ½ä¼šå‘ç”Ÿå¤±è´¥çš„æƒ…å†µã€‚\nå¼‚å¸¸æƒ…å†µæœ‰ï¼š\nä¼´éš prommotion failedï¼Œç„¶å Full GCï¼š\n[prommotion failedï¼šå­˜æ´»åŒºå†…å­˜ä¸è¶³ï¼Œå¯¹è±¡è¿›å…¥è€å¹´ä»£ï¼Œè€Œæ­¤æ—¶è€å¹´ä»£ä¹Ÿä»ç„¶æ²¡æœ‰å†…å­˜å®¹çº³å¯¹è±¡ï¼Œå°†å¯¼è‡´ä¸€æ¬¡Full GC]\nä¼´éš concurrent mode failedï¼Œç„¶å Full GCï¼š\n[concurrent mode failedï¼šCMSå›æ”¶é€Ÿåº¦æ…¢ï¼ŒCMSå®Œæˆå‰ï¼Œè€å¹´ä»£å·²è¢«å æ»¡ï¼Œå°†å¯¼è‡´ä¸€æ¬¡Full GC]\né¢‘ç¹ CMS GCï¼š\n[å†…å­˜åƒç´§ï¼Œè€å¹´ä»£é•¿æ—¶é—´å¤„äºè¾ƒæ»¡çš„çŠ¶æ€]\nä¸šåŠ¡æ—¥å¿— ä¸šåŠ¡æ—¥å¿—é™¤äº†å…³æ³¨ç³»ç»Ÿå¼‚å¸¸ä¸ä¸šåŠ¡å¼‚å¸¸ä¹‹å¤–ï¼Œè¿˜è¦å…³æ³¨æœåŠ¡æ‰§è¡Œè€—æ—¶æƒ…å†µï¼Œè€—æ—¶è¿‡é•¿çš„æœåŠ¡è°ƒç”¨å¦‚æœæ²¡æœ‰ç†”æ–­ç­‰æœºåˆ¶ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´åº”ç”¨æ€§èƒ½ä¸‹é™æˆ–æœåŠ¡ä¸å¯ç”¨ï¼ŒæœåŠ¡ä¸å¯ç”¨å¾ˆå®¹æ˜“å¯¼è‡´é›ªå´©ã€‚\nä¸Šé¢æ˜¯æŸä¸€æ¥å£çš„è°ƒç”¨æƒ…å†µï¼Œè™½ç„¶å¤§éƒ¨åˆ†è°ƒç”¨æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œä½†æ˜¯æ‰§è¡Œè€—æ—¶ç›¸å¯¹æ¯”è¾ƒé•¿ã€‚\ngrep '[0-9]{3,}ms' *.log æ‰¾å‡ºè°ƒç”¨è€—æ—¶å¤§äº3ä½æ•°çš„daoæ–¹æ³•ï¼ŒæŠŠ3æ”¹æˆ4å°±æ˜¯å¤§äº4ä½æ•° äº’è”ç½‘åº”ç”¨ç›®å‰å‡ ä¹é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œä½†ä¸é™äºæœåŠ¡æ¡†æ¶ã€æ¶ˆæ¯ä¸­é—´ä»¶ã€åˆ†å¸ƒå¼ç¼“å­˜ã€åˆ†å¸ƒå¼å­˜å‚¨ç­‰ç­‰ã€‚é‚£ä¹ˆè¿™äº›åº”ç”¨æ—¥å¿—å¦‚ä½•èšåˆèµ·æ¥è¿›è¡Œåˆ†æå‘¢? é¦–å…ˆï¼Œä½ éœ€è¦ä¸€å¥—åˆ†å¸ƒå¼é“¾è·¯è°ƒç”¨è·Ÿè¸ªç³»ç»Ÿï¼Œé€šè¿‡åœ¨ç³»ç»Ÿçº¿ç¨‹ä¸Šçº¿æ–‡é—´é€ä¼  traceId å’Œ rpcIdï¼Œå°†æ‰€æœ‰æ—¥å¿—è¿›è¡Œèšåˆï¼Œä¾‹å¦‚æ·˜å®çš„é¹°çœ¼ï¼Œspring cloud zipkinç­‰ç­‰ã€‚\næ¡ˆåˆ—åˆ†æ CPU ä½¿ç”¨ç‡é«˜é—®é¢˜å®šä½ æŒ‰ç…§2.1å®šä½æµç¨‹é¦–å…ˆæ’é™¤äº†ç³»ç»Ÿå±‚é¢çš„é—®é¢˜ã€‚\nåˆ©ç”¨ top -Hp 6814 è¾“å‡ºè¿›ç¨‹ ID ä¸º 6814 çš„æ‰€æœ‰çº¿ç¨‹ CPU ä½¿ç”¨ç‡æƒ…å†µï¼Œå‘ç°æŸä¸ªçº¿ç¨‹ä½¿ç”¨ç‡æ¯”è¾ƒé«˜ï¼Œæœ‰äº›å¼‚å¸¸ã€‚\nprintf '%x\\n' 2304 #è¾“å‡ºçº¿ç¨‹IDçš„16è¿›åˆ¶ jstack pid | grep '0x900' -C 30 --color è¾“å‡ºçš„æ—¥å¿—è¡¨æ˜è¯¥çº¿ç¨‹ä¸€ç›´å¤„äºä¸ mysql I/O çŠ¶æ€ï¼š\n\"Thread-6563\" daemon prio=10 tid=0x00007fda419a9000 nid=0x900 runnable [0x00007fda2b2b1000] java.lang.Thread.State: RUNNABLE at java.net.SocketInputStream.socketRead0(Native Method) at java.net.SocketInputStream.read(SocketInputStream.java:152) at java.net.SocketInputStream.read(SocketInputStream.java:122) at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:114) at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:161) at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:189) - locked \u003c0x00000007d03e81d0\u003e (a com.mysql.jdbc.util.ReadAheadInputStream) at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3116) at com.mysql.jdbc.MysqlIO.nextRowFast(MysqlIO.java:2224) at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1999) at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:3507) at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:490) at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:3198) at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:2366) at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2789) at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2818) - locked \u003c0x00000007ddcc84e8\u003e (a com.mysql.jdbc.JDBC4Connection) at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2157) - locked \u003c0x00000007ddcc84e8\u003e (a com.mysql.jdbc.JDBC4Connection) at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379) - locked \u003c0x00000007ddcc84e8\u003e (a com.mysql.jdbc.JDBC4Connection) at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:56) at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:70) at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:57) at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:259) at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:132) at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:105) at cn.com.company.xqy.framework.daoframework.interceptor.PanDaoInterceptor.interceptCachePage(PanDaoInterceptor.java:172) at cn.com.company.xqy.framework.daoframework.interceptor.PanDaoInterceptor.intercept(PanDaoInterceptor.java:45) at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:57) at com.sun.proxy.$Proxy121.query(Unknown Source) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:104) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:98) at cn.com.company.xqy.framework.daoframework.PanSqlSessionTemplate$1.doInSqlSession(PanSqlSessionTemplate.java:111) at cn.com.company.xqy.framework.daoframework.PanSqlSessionTemplate.executeWith(PanSqlSessionTemplate.java:454) at cn.com.company.xqy.framework.daoframework.PanSqlSessionTemplate.selectList(PanSqlSessionTemplate.java:150) at cn.com.company.xqy.framework.daoframework.PanSqlSessionTemplate.selectList(PanSqlSessionTemplate.java:93) at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:114) at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58) at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:43) at com.sun.proxy.$Proxy45.select(Unknown Source) at sun.reflect.GeneratedMethodAccessor4958.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302) at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) at cn.com.company.xqy.framework.log.interceptor.DalDigestLogInterceptor.invoke(DalDigestLogInterceptor.java:28) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) at com.sun.proxy.$Proxy46.select(Unknown Source) at cn.com.company.xqy.finance.service.CustomerAccountTitleService.selectAllEnablesNoCache(CustomerAccountTitleService.java:1124) at cn.com.company.xqy.finance.service.CustomerAccountTitleService$$FastClassBySpringCGLIB$$363dc6fc.invoke(\u003cgenerated\u003e) at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651) at cn.com.company .xqy.finance.service.CustomerAccountTitleService$$EnhancerBySpringCGLIB$$613b9107.selectAllEnablesNoCache(\u003cgenerated\u003e) at cn.com.company.xqy.finance.service.datafix.BalanceFixService.amountStatistics(BalanceFixService.java:1121) at cn.com.company.xqy.finance.service.datafix.BalanceFixService.scan(BalanceFixService.java:346) at cn.com.company.xqy.finance.service.datafix.BalanceFixService.access$100(BalanceFixService.java:38) at cn.com.company.xqy.finance.service.datafix.BalanceFixService$1.run(BalanceFixService.java:107) at java.lang.Thread.run(Thread.java:745) åˆ©ç”¨ jmap -dump:format=b,file=/usr/local/logs/gc/dump.hprof {pid} ä»¥äºŒè¿›åˆ¶è¾“å‡ºæ¡£å½“å‰å†…å­˜çš„å †æƒ…å†µï¼Œç„¶åå¯ä»¥å¯¼å…¥ MAT ç­‰å·¥å…·è¿›è¡Œåˆ†æã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç‚¹å‡» MAT çš„æ”¯é…æ ‘å¯ä»¥å‘ç°å­˜åœ¨æŸä¸ªè¶…å¤§å¯¹è±¡æ•°ç»„ï¼Œå®ä¾‹å¯¹è±¡æ•°ç›®å¤šå¤§30å¤šä¸‡ä¸ªã€‚\nç»è¿‡åˆ†æå‘ç°æ•°ç»„ä¸­æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ˜¯æ ¸å¿ƒä¸šåŠ¡å¯¹è±¡ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡ç³»ç»Ÿæœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡çº¿ç¨‹ä¼šè®¿é—®æ•°æ®åº“æŸå¼ ä¸šåŠ¡è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œç„¶ååŠ è½½è‡³å†…å­˜ç„¶åè¿›è¡Œå¤„ç†å› æ­¤å†…å­˜åƒç´§ï¼Œå¯¼è‡´ CPU çªç„¶é£™å‡ã€‚å‘ç°è¯¥é—®é¢˜åï¼Œå·²å¯¹è¯¥æ–¹æ¡ˆè¿›è¡Œé‡æ–°è®¾è®¡ã€‚\n","description":"\n","tags":[],"title":"\nJava æœåŠ¡çº¿ä¸Šé—®é¢˜æ’æŸ¥æ€è·¯ä¸å·¥å…·ä½¿ç”¨","uri":"/posts/post-344/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"github\nä½œä¸ºç¨‹åºå‘˜ï¼Œæœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™ä¼°è®¡æ˜¯å¤§å®¶çš„æ ‡é…äº†ï¼Œå¸¸å¸¸ä¼šè‹¦æ¼äºgit cloneæŸä¸ªé¡¹ç›®çš„æ—¶å€™é€Ÿåº¦å¤ªæ…¢ï¼Œçœ‹ç€æ§åˆ¶å°é‚£å‡ Kåä¸€äºŒKçš„é€Ÿåº¦ï¼Œåè¡€ï¼ï¼\nåŸå› å¾ˆç®€å•ï¼šgithubçš„CDNè¢«é«˜é«˜çš„å¢™å±è”½æ‰€è‡´äº†ã€‚ æ‰€ä»¥è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æ‰‹åŠ¨æŠŠ cdn å’ŒIPåœ°å€ç»‘å®šä¸€ä¸‹ã€‚\n1ã€è·å–githubåœ°å€ è®¿é—® http://github.com.ipaddress.com/ è·å–cdnåŸŸåä»¥åŠipåœ°å€\n2ã€è·å– global.ssl.fastlyåœ°å€ http://github.global.ssl.fastly.net.ipaddress.com/ è·å–cdnåŸŸåä»¥åŠipåœ°å€\n3ã€æ‰“å¼€hostsæ˜ å°„ Windowsç¯å¢ƒ C:\\Windows\\System32\\drivers\\etc\\hosts æœ€æœ«å°¾æ·»åŠ ä¸¤å¥è¯ä¿å­˜:\n151.101.185.194 http://github.global.ssl.fastly.net 192.30.253.112 http://github.com æ‰“å¼€CMDåˆ·æ–°ä¸€ä¸‹DNSå°±å¥½äº†ã€‚\nipconfig /flushdns Linuxç¯å¢ƒ sudo gedit /etc/hosts æ·»åŠ \n192.30.253.112 http://github.com 151.101.185.194 http://github.global.ssl.fastly.net ä¿å­˜,é€€å‡º,å¹¶é‡å¯ç½‘ç»œ\n/etc/init.d/networking restart é€Ÿåº¦å¯¹æ¯”: é…ç½®å‰\nReceiving objects: 17% (151/883), 348.00 KiB | 18.00 KiB/s é…ç½®å\nReceiving objects: 81% (86141/104384), 81.31Mib | 562.00 KiB/s ","description":"\n","tags":[],"title":"\ngithubä¸‹è½½ä»£ç çš„é€Ÿåº¦å¤ªæ…¢","uri":"/posts/post-347/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"Webå¼€å‘\nä¸€ã€æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼ 1 æ•°å­—ï¼š^[0-9]*$ 2 nä½çš„æ•°å­—ï¼š^d{n}$ 3 è‡³å°‘nä½çš„æ•°å­—ï¼š^d{n,}$ 4 m-nä½çš„æ•°å­—ï¼š^d{m,n}$ 5 é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$ 6 éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]{1,2})?$ 7 å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(-)?d+(.d{1,2})?$ 8 æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(-|+)?d+(.d+)?$ 9 æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{2})?$ 10 æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{1,3})?$ 11 éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]d*$ æˆ– ^([1-9][0-9]*){1,3}$ æˆ– ^+?[1-9][0-9]*$ 12 éé›¶çš„è´Ÿæ•´æ•°ï¼š^-[1-9][]0-9\"*$ æˆ– ^-[1-9]d*$ 13 éè´Ÿæ•´æ•°ï¼š^d+$ æˆ– ^[1-9]d*|0$ 14 éæ­£æ•´æ•°ï¼š^-[1-9]d*|0$ æˆ– ^((-d+)|(0+))$ 15 éè´Ÿæµ®ç‚¹æ•°ï¼š^d+(.d+)?$ æˆ– ^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$ 16 éæ­£æµ®ç‚¹æ•°ï¼š^((-d+(.d+)?)|(0+(.0+)?))$ æˆ– ^(-([1-9]d*.d*|0.d*[1-9]d*))|0?.0+|0$ 17 æ­£æµ®ç‚¹æ•°ï¼š^[1-9]d*.d*|0.d*[1-9]d*$ æˆ– ^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$ 18 è´Ÿæµ®ç‚¹æ•°ï¼š^-([1-9]d*.d*|0.d*[1-9]d*)$ æˆ– ^(-(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*)))$ 19 æµ®ç‚¹æ•°ï¼š^(-?d+)(.d+)?$ æˆ– ^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0)$ äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼ 1 æ±‰å­—ï¼š^[ä¸€-é¾¥]{0,}$ ^[\\\\u4e00-\\\\u9fa5]{0,}$ 2 è‹±æ–‡å’Œæ•°å­—ï¼š^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]{4,40}$ 3 é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š^.{3,20}$ 4 ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$ 5 ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Z]+$ 6 ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[a-z]+$ 7 ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z0-9]+$ 8 ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^w+$ æˆ– ^w{3,20}$ 9 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š^[ä¸€-é¾¥A-Za-z0-9_]+$ 10 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š^[ä¸€-é¾¥A-Za-z0-9]+$ æˆ– ^[ä¸€-é¾¥A-Za-z0-9]{2,20}$ 11 å¯ä»¥è¾“å…¥å«æœ‰^%\u0026',;=?$\"ç­‰å­—ç¬¦ï¼š[^%\u0026',;=?$\"]+ 12 ç¦æ­¢è¾“å…¥å«æœ‰~çš„å­—ç¬¦ï¼š[^~\"]+ ä¸‰ã€ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼ 1 Emailåœ°å€ï¼š^w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*$ 2 åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.? 3 InternetURLï¼š[a-zA-z]+://[^s]* æˆ– ^http://([w-]+.)+[w-]+(/[w-./?%\u0026=]*)?$ 4 æ‰‹æœºå·ç ï¼š^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])d{8}$ 5 ç”µè¯å·ç (\"XXX-XXXXXXX\"ã€\"XXXX-XXXXXXXX\"ã€\"XXX-XXXXXXX\"ã€\"XXX-XXXXXXXX\"ã€\"XXXXXXX\"å’Œ\"XXXXXXXX)ï¼š^((d{3,4}-)|d{3.4}-)?d{7,8}$ 6 å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼šd{3}-d{8}|d{4}-d{7} 7 èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š^d{15}|d{18}$ 8 çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š^([0-9]){7,18}(x|X)?$ æˆ– ^d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$ 15ä½ï¼š^[1-9]\\\\d{7}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])\\\\d{3}$ 18ä½ï¼š^[1-9]\\\\d{5}[1-9]\\\\d{3}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])\\\\d{3}([0-9]|X)$ 9 å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 10 å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š^[a-zA-Z]w{5,17}$ 11 å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$ 12 æ—¥æœŸæ ¼å¼ï¼š^d{4}-d{1,2}-d{1,2} â€œyyyy-mm-ddâ€œ æ ¼å¼çš„æ—¥æœŸæ ¡éªŒï¼Œå·²è€ƒè™‘å¹³é—°å¹´ã€‚ï¼š^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$ 13 ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$ 14 ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$ 15 é‡‘é¢æ ¡éªŒï¼Œç²¾ç¡®åˆ°2ä½å°æ•°ã€‚ï¼š^[0-9]+(.[0-9]{2})?$ 16.æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:\"10000.00\" å’Œ \"10,000.00\", å’Œæ²¡æœ‰ \"åˆ†\" çš„ \"10000\" å’Œ \"10,000\"ï¼š^[1-9][0-9]*$ 17.è¿™è¡¨ç¤ºä»»æ„ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—,ä½†æ˜¯,è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªå­—ç¬¦\"0\"ä¸é€šè¿‡,æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„å½¢å¼ï¼š^(0|[1-9][0-9]*)$ 18.ä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—.æˆ‘ä»¬è¿˜å¯ä»¥å…è®¸å¼€å¤´æœ‰ä¸€ä¸ªè´Ÿå·ï¼š^(0|-?[1-9][0-9]*)$ 19.è¿™è¡¨ç¤ºä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªå¯èƒ½ä¸ºè´Ÿçš„å¼€å¤´ä¸ä¸º0çš„æ•°å­—.è®©ç”¨æˆ·ä»¥0å¼€å¤´å¥½äº†.æŠŠè´Ÿå·çš„ä¹Ÿå»æ‰,å› ä¸ºé’±æ€»ä¸èƒ½æ˜¯è´Ÿçš„å§.ä¸‹é¢æˆ‘ä»¬è¦åŠ çš„æ˜¯è¯´æ˜å¯èƒ½çš„å°æ•°éƒ¨åˆ†ï¼š^[0-9]+(.[0-9]+)?$ 20.å¿…é¡»è¯´æ˜çš„æ˜¯,å°æ•°ç‚¹åé¢è‡³å°‘åº”è¯¥æœ‰1ä½æ•°,æ‰€ä»¥\"10.\"æ˜¯ä¸é€šè¿‡çš„,ä½†æ˜¯ \"10\" å’Œ \"10.2\" æ˜¯é€šè¿‡çš„ï¼š^[0-9]+(.[0-9]{2})?$ 21.è¿™æ ·æˆ‘ä»¬è§„å®šå°æ•°ç‚¹åé¢å¿…é¡»æœ‰ä¸¤ä½,å¦‚æœä½ è®¤ä¸ºå¤ªè‹›åˆ»äº†,å¯ä»¥è¿™æ ·ï¼š^[0-9]+(.[0-9]{1,2})?$ 22.è¿™æ ·å°±å…è®¸ç”¨æˆ·åªå†™ä¸€ä½å°æ•°.ä¸‹é¢æˆ‘ä»¬è¯¥è€ƒè™‘æ•°å­—ä¸­çš„é€—å·äº†,æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$ 23. 1åˆ°3ä¸ªæ•°å­—,åé¢è·Ÿç€ä»»æ„ä¸ª é€—å·+3ä¸ªæ•°å­—,é€—å·æˆä¸ºå¯é€‰,è€Œä¸æ˜¯å¿…é¡»ï¼š^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$ 24 å¤‡æ³¨ï¼šè¿™å°±æ˜¯æœ€ç»ˆç»“æœäº†,åˆ«å¿˜äº†\"+\"å¯ä»¥ç”¨\"*\"æ›¿ä»£å¦‚æœä½ è§‰å¾—ç©ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ¥å—çš„è¯(å¥‡æ€ª,ä¸ºä»€ä¹ˆ?)æœ€å,åˆ«å¿˜äº†åœ¨ç”¨å‡½æ•°æ—¶å»æ‰å»æ‰é‚£ä¸ªåæ–œæ ,ä¸€èˆ¬çš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ 25 xmlæ–‡ä»¶ï¼š^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$ 26 ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[ä¸€-é¾¥] 27 åŒå­—èŠ‚å­—ç¬¦ï¼š[^-Ã¿] (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1)) 28 ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼šs* (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ) 29 HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\u003c(S*?)[^\u003e]*\u003e.*?\u003c/\u003e|\u003c.*? /\u003e (ç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›) 30 é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^s*|s*$æˆ–(^s*)|(s*$) (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼) 31 è…¾è®¯QQå·ï¼š[1-9][0-9]{4,} (è…¾è®¯QQå·ä»10000å¼€å§‹) 32 ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]d{5}(?!d) (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—) 33 IPåœ°å€ï¼šd+.d+.d+.d+ (æå–IPåœ°å€æ—¶æœ‰ç”¨) 34 IPåœ°å€ï¼š((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)) 35 åŒ¹é…HTMLæ ‡ç­¾é€šè¿‡ä¸‹é¢çš„è¡¨è¾¾å¼å¯ä»¥åŒ¹é…å‡ºHTMLä¸­çš„æ ‡ç­¾å±æ€§ã€‚ï¼š\u003c\\\\/?\\\\w+((\\\\s+\\\\w+(\\\\s*=\\\\s*(?:\".*?\"|'.*?'|[\\\\^'\"\u003e\\\\s]+))?)+\\\\s*|\\\\s*)\\\\/?\u003e 36 æŠ½å–æ³¨é‡Š å¦‚æœä½ éœ€è¦ç§»é™¤HMTLä¸­çš„æ³¨é‡Šï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„è¡¨è¾¾å¼ã€‚ï¼š\u003c!--(.*?)--\u003e 37 æŸ¥æ‰¾CSSå±æ€§ é€šè¿‡ä¸‹é¢çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥æœç´¢åˆ°ç›¸åŒ¹é…çš„CSSå±æ€§ã€‚ï¼š^\\\\s*[a-zA-Z\\\\-]+\\\\s*[:]{1}\\\\s[a-zA-Z0-9\\\\s.#]+[;]{1} 38 æå–é¡µé¢è¶…é“¾æ¥ æå–htmlä¸­çš„è¶…é“¾æ¥ï¼š (\u003ca\\\\s*(?!.*\\\\brel=)[^\u003e]*)(href=\"https?:\\\\/\\\\/)((?!(?:(?:www\\\\.)?'.implode('|(?:www\\\\.)?', $follow_list).'))[^\"]+)\"((?!.*\\\\brel=)[^\u003e]*)(?:[^\u003e]*)\u003e 39 æå–ç½‘é¡µå›¾ç‰‡å‡è‹¥ä½ æƒ³æå–ç½‘é¡µä¸­æ‰€æœ‰å›¾ç‰‡ä¿¡æ¯ï¼Œå¯ä»¥åˆ©ç”¨ä¸‹é¢çš„è¡¨è¾¾å¼ã€‚ï¼š\\\\\u003c *[img][^\\\\\\\\\u003e]*[src] *= *[\"\\\\']{0,1}([^\"\\\\'\\\\ \u003e]*) 40 æå–Color Hex Codesæœ‰æ—¶éœ€è¦æŠ½å–ç½‘é¡µä¸­çš„é¢œè‰²ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¡¨è¾¾å¼ã€‚ï¼š^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$ 41 æ–‡ä»¶è·¯å¾„åŠæ‰©å±•åæ ¡éªŒ éªŒè¯windowsä¸‹æ–‡ä»¶è·¯å¾„å’Œæ‰©å±•åï¼ˆä¸‹é¢çš„ä¾‹å­ä¸­ä¸º.txtæ–‡ä»¶ï¼‰ï¼š^([a-zA-Z]\\\\:|\\\\\\\\)\\\\\\\\([^\\\\\\\\]+\\\\\\\\)*[^\\\\/:*?\"\u003c\u003e|]+\\\\.txt(l)?$ 42 æå–URLé“¾æ¥ ä¸‹é¢çš„è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥ç­›é€‰å‡ºä¸€æ®µæ–‡æœ¬ä¸­çš„URLã€‚ï¼š^(f|ht){1}(tp|tps):\\\\/\\\\/([\\\\w-]+\\\\.)+[\\\\w-]+(\\\\/[\\\\w- ./?%\u0026=]*)? 43 æ£€æŸ¥URLçš„å‰ç¼€ åº”ç”¨å¼€å‘ä¸­å¾ˆå¤šæ—¶å€™éœ€è¦åŒºåˆ†è¯·æ±‚æ˜¯HTTPSè¿˜æ˜¯HTTPï¼Œé€šè¿‡ä¸‹é¢çš„è¡¨è¾¾å¼å¯ä»¥å–å‡ºä¸€ä¸ªurlçš„å‰ç¼€ç„¶åå†é€»è¾‘åˆ¤æ–­ã€‚ï¼šif (!s.match(/^[a-zA-Z]+:\\\\/\\\\//)){ s = 'http://' + s;} 44 æ ¡éªŒIPv6åœ°å€ ï¼š(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])) 45 æ ¡éªŒIP-v4åœ°å€ï¼š\\\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\b 46 åˆ¤æ–­IEçš„ç‰ˆæœ¬ï¼š^.*MSIE [5-8](?:\\\\.[0-9]+)?(?!.*Trident\\\\/[5-9]\\\\.0).*$ 47 å¯†ç çš„å¼ºåº¦å¿…é¡»æ˜¯åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´ã€‚ï¼š^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$ ","description":"\n","tags":[],"title":"\næœ€å…¨çš„å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨â€”â€”åŒ…æ‹¬æ ¡éªŒæ•°å­—ã€å­—ç¬¦ã€ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ç­‰ç­‰","uri":"/posts/post-349/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"äººä¸ºä»€ä¹ˆè¦å»æ—…è¡Œï¼Ÿè¿™æ˜¯æˆ‘è§è¿‡çš„æœ€ç¾çš„ç­”æ¡ˆ\nçœ‹åˆ°æœ‹å‹åœˆçš„è°è°è°ï¼Œç”¨ä¸¤å¥é¸¡æ±¤æ–‡é…ä¸Šå‡ å¼ ç¾å›¾ï¼Œå†åŠ ä¸€ä¸ªå®šä½ï¼Œæˆ‘ä»¬é»˜é»˜çš„è¯„è®ºä¸€å¥â€œä½ åˆå‡ºå»ç©å„¿å•¦ï¼Œå¥½ç¾¡æ…•â€ï¼Œç„¶åæ‰‹æŒ‡ç»§ç»­å‘ä¸‹æ»‘åŠ¨ï¼Œçœ‹ç€å…¶ä»–äººçš„ç”Ÿæ´»ï¼Œå¥½åƒéƒ½é‚£ä¹ˆå¤šå§¿å¤šå½©ã€‚\n![]]]1](https://img.maruifu.com/images/blog/2019/04/r1kdpb4hs2h2erginc69umnpgm.gif)\nå”¯ç‹¬è‡ªå·±ï¼Œå…¬å¸â€“å®¶ï¼Œä¸¤ç‚¹ä¸€çº¿ï¼Œæ¯ç‡¥ä¹å‘³ï¼Œæ—¥å¤ä¸€æ—¥ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/u3caf3bd1ii40r0en6i1j8l86r.gif)\nä½ ç¾¡æ…•çš„ç”Ÿæ´»ï¼Œä½ ç¾¡æ…•çš„äººï¼Œä½ åšä¸åˆ°çš„äº‹æƒ…ï¼Œæœ‰äººåšåˆ°äº†ã€‚ä½ ä¸ç¦ç–‘é—®ï¼Œä»–ä»¬å“ªé‡Œæ¥çš„é‚£ä¹ˆå¤šçš„æ—¶é—´å’Œé‡‘é’±ï¼Ÿæ—…è¡Œï¼Œåˆç©¶ç«Ÿæ˜¯ä¸ºäº†ä»€ä¹ˆï¼Ÿ\n![]]]](https://img.maruifu.com/images/blog/2019/04/6po4oo574cjberk7dstauajtgq.gif)\n01\nå› ä¸ºæ—…è¡Œï¼Œå¯ä»¥æ»‹å…»æˆ‘ä»¬åœ¨ä¸€ä¸ªå·²ç»å¾…è…»çš„åŸå¸‚é‡Œï¼Œæ—¥æ¸æ¯èçš„å¿ƒã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/0e20kvcp10ip4qtqu9jnkd24pk.jpg)\næˆ‘ä»¬èŠ±é‚£ä¹ˆå¤šé’±ä¹°æœºç¥¨è®¢é…’åº—ï¼ŒèŠ±é‚£ä¹ˆå¤šæ—¶é—´æŸ¥æ”»ç•¥ï¼Œä¸æ˜¯ä¸ºäº†ç®€å•çš„å‘å‘æœ‹å‹åœˆæ™’å‡ å¼ ä¸–ç•Œå¤§åŒçš„ç…§ç‰‡ï¼Œè€Œæ˜¯ç”¨è¿™äº›æ—¶é—´å’Œé’±è®©æ¼«æ¼«äººç”Ÿé•¿æ²³ï¼Œå˜å¾—æœ‰è¶£ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/6pm3m4il88jv0o7kafd1vvhq0d.jpg)\næ¯•ç«Ÿè¿™ä¸–ç•Œä¸Šï¼Œå¥½çœ‹çš„äººå¾ˆå¤šï¼Œæœ‰è¶£çš„çµé­‚å´å¾ˆå°‘ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/q2rroavqrai8fqrba3km4kp5sg.jpg)\n02\nå› ä¸ºæ—…è¡Œï¼Œæ˜¯çœ‹æ¸…ä¸–ç•Œçš„ä¸€ä¸ªæœ€ç›´æ¥çš„é€”å¾„ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/v3rse75340gtto6p2d9bk1bfga.jpg)\nç”µå½±ï¼Œå‘Šè¯‰æˆ‘ä¸–ç•Œæœ‰æ— é™å¯èƒ½ï¼Œæ—…è¡Œï¼Œè®©æˆ‘å¯ä»¥çœŸåˆ‡çš„æ„Ÿå—ä¸–ç•Œã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/r9lvcttdqmie7p4qb16i693qfm.jpg)\nä¸è¦åªæŠŠå‘å¾€çš„è¿œæ–¹æ”¾åœ¨æ¢¦æƒ³é‡Œï¼Œè€Œæ˜¯æ”¾åœ¨ä½ çš„è®¡åˆ’é‡Œã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/4s3if33ti0igpq329hq8tnmckc.jpg)\n03\nå› ä¸ºæ—…è¡Œï¼Œæ˜¯ä¸€ç§çƒ­çˆ±ï¼Œè€Œæˆ‘ä»¬æ„¿ä¸ºäº†è¿™ä»½çƒ­çˆ±ä¹°å•ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/4nt8l53rloh6ao8s4qm04q1iq7.jpg)\nå› ä¸ºå¿ƒä¸­æœ‰é‚£ä»½ç‹‚çƒ­ï¼Œä½ ä¼šæƒ³è¦èŠ±æ—¶é—´ã€èŠ±é‡‘é’±ï¼Œå»ä¸ºäº†è¿œæ–¹è€Œè¡ŒåŠ¨ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/027358tp48ifnp1168pvvurrds.jpg)\nè¿œæ–¹åƒæ˜¯ä¸€ç§æ‰§å¿µï¼Œæ›´åƒæ˜¯ä¸€ç§ç˜¾ï¼Œä½ ä¸å»ï¼Œå®ƒä¾¿å‘¼å”¤ä½ ï¼Œå¬å”¤ä½ ï¼Œç›´åˆ°ä½ å¯»è¸ªè€Œè‡³ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/pm91jigh7aiuvo8qe2e3a5oka3.jpg)\n04\nå› ä¸ºæœ‰äº›äº‹ï¼Œç°åœ¨ä¸åšï¼Œä¸€è¾ˆå­éƒ½ä¸ä¼šå†åšäº†ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/ue71j31ppujitr6cvukor969q6.jpg)\nè¯¥åº†å¹¸çš„æ˜¯å¹´å²è¿˜è½»ï¼Œæ—¶å…‰æœªè€ï¼Œçœ¼è¿˜æœªæµŠï¼Œè…¿è¿˜èƒ½åŠ¨ã€‚æœ‰ç€æ— é™çš„ç²¾åŠ›å’Œä¸ç«­çš„åŠ¨åŠ›ä¸ºæƒ³è¦çš„æ—…è¡Œå¥”æ³¢ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/vqsdhsa69ih5dqjf6900l2l04j.jpg)\næˆ‘ä¸ç•é¢ æ²›æµç¦»ï¼Œåªä¸ºçœ‹ä½ ä¸€çœ¼ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/3b6vn3d632gbfqlm5qmmiarcru.jpg)\n05\nå› ä¸ºæ—…è¡Œï¼Œæ˜¯ä¸€ç§å†²åŠ¨ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/2ajp48ak0mjhornmm111o2805s.jpg)\nä½ ä¸å¯èƒ½ç­‰æ”’å¤Ÿäº†é’±ï¼Œå†å»è¿‡æƒ³è¦çš„ç”Ÿæ´»ï¼Œé‚£ä¸ªæ—¶å€™ï¼Œå¯èƒ½ä¸–ç•Œéƒ½å˜åŒ–äº†ä¸€åœˆã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/1nf9a01vr0h1qq417omt7a2q2j.jpg)\næ‰€ä»¥ï¼Œæƒ³å»å“ªï¼Œå°±ç”¨è‡ªå·±çš„æ–¹å¼å»çœ‹çœ‹è¿™ä¸ªä¸–ç•Œï¼Œæ— è®ºæ˜¯å¾’æ­¥ã€æ­è½¦ã€ç©·æ¸¸ï¼Œè¿˜æ˜¯è‡ªé©¾ï¼Œéƒ½èƒ½å¤Ÿæœ‰ä¸ä¸€æ ·çš„æƒŠå–œã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/opuh3v8shqgquoekvn4j102hi0.jpg)\n06\nå› ä¸ºæ—…è¡Œçš„è„šæ­¥ï¼Œæ°¸è¿œæ˜¯å‘å‰çš„ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/6mhcgi76rsin6p8didb9fb1jig.jpg)\nåœåœ¨åŸåœ°çš„ç†ç”±å¾ˆå¤šï¼Œä½†æˆ‘ä»¬æ€»è¦åšå®šä¸€ä¸ªå‡ºå‘çš„ç†ç”±ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/qmqe3rek6cggppav8bfb3qf2i9.jpg)\n07\nå› ä¸ºæ—…è¡Œå¯ä»¥æ›´å¥½çš„å·¥ä½œå’Œç”Ÿæ´»ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/4j8v2q8ti2hkpo6svhj9e2p0b2.jpg)\nå³ä½¿çŸ¥é“æ—…è¡Œè¿‡åï¼Œè¿˜æ˜¯è¦å›åˆ°åŸæ¥çš„åŸå¸‚ï¼Œå·¥ä½œã€ç”Ÿæ´»ï¼Œä½†å´æœ‰ä¸€ç§æœŸå¾…ï¼Œä¸ºäº†ä¸‹ä¸€æ¬¡çš„è¿œè¡Œï¼Œæ›´å¥½çš„ç”Ÿæ´»ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/s0vqk6b6e8hdfpb95pouel2qmj.jpg)\nè§åˆ°äº†ä¸–ç•Œçš„ç”Ÿæ´»æ–¹å¼ï¼Œæ‰èƒ½æ›´åŠ æ¸…æ¥šçš„çœ‹åˆ°å†…å¿ƒæƒ³è¦çš„ç”Ÿæ´»ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/7l11q1gossjopo44o8pegbodfo.jpg)\n08\nå› ä¸ºæ—…è¡Œï¼Œæ˜¯å¹´è€æ—¶ï¼Œå›å¿†çš„èµ„æœ¬ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/qs6bomo1doi1co4bvkgs0snq20.jpg)\nä¸æƒ³å¹´è€ä¹‹æ—¶ï¼Œå›æƒ³ä¸€ç”Ÿï¼Œé™¤äº†åƒç¯‡ä¸€å¾‹çš„å·¥ä½œå’Œå¹³æ·¡å…¥æ°´çš„ç”Ÿæ´»ï¼Œåˆ«æ— ä»–æƒ³ã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/6n4lnktftghaeqig61j3h3p3o7.jpg)\nå³ä½¿è€äº†ï¼Œä¹Ÿæƒ³è¦åšä¸€ä¸ªç§¯æä¹è§‚çš„è€å¤ªå¤ªï¼Œä¸€ä¸ªæ—¶é«¦è¶…å‰çš„è€å¤ªå¤ªã€‚\n![]]]](https://img.maruifu.com/images/blog/2019/04/2r59j9sgmkg30oigkqt4m887je.jpg)\næˆ‘ä»¬èŠ±é‚£ä¹ˆå¤šæ—¶é—´å’Œé‡‘é’±å»æ—…è¡Œï¼Œæ˜¯ä¸ºäº†æˆ‘ä»¬é‚£ä¹ˆå¹³å‡¡ï¼Œå´åˆå¯ä»¥ä¸å‡¡ã€‚\n","description":"\n","tags":[],"title":"\näººä¸ºä»€ä¹ˆè¦å»æ—…è¡Œï¼Ÿè¿™æ˜¯æˆ‘è§è¿‡çš„æœ€ç¾çš„ç­”æ¡ˆ","uri":"/posts/post-350/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"linux\nä¸€ã€åˆ†æ\nè¿™æ˜¯ä¸åŒç³»ç»Ÿç¼–ç æ ¼å¼å¼•èµ·çš„ï¼šåœ¨windowsç³»ç»Ÿä¸­ç¼–è¾‘çš„.shæ–‡ä»¶å¯èƒ½æœ‰ä¸å¯è§å­—ç¬¦ï¼Œæ‰€ä»¥åœ¨Linuxç³»ç»Ÿä¸‹æ‰§è¡Œä¼šæŠ¥ä»¥ä¸Šå¼‚å¸¸ä¿¡æ¯ã€‚\näºŒã€è§£å†³\n1ï¼‰åœ¨windowsä¸‹è½¬æ¢ï¼š åˆ©ç”¨ä¸€äº›ç¼–è¾‘å™¨å¦‚UltraEditæˆ–EditPlusç­‰å·¥å…·å…ˆå°†è„šæœ¬ç¼–ç è½¬æ¢ï¼Œå†æ”¾åˆ°Linuxä¸­æ‰§è¡Œã€‚è½¬æ¢æ–¹å¼å¦‚ä¸‹ï¼ˆUltraEditï¼‰ï¼šFileâ€“\u003eConversionsâ€“\u003eDOS-\u003eUNIXå³å¯ã€‚\n2ï¼‰ç›´æ¥åœ¨Linuxä¸­è½¬æ¢ï¼ˆæ¨èåšæ³•ï¼‰ï¼š\né¦–å…ˆè¦ç¡®ä¿æ–‡ä»¶æœ‰å¯æ‰§è¡Œæƒé™\n#sh\u003e chmod a+x filename 1 ç„¶åä¿®æ”¹æ–‡ä»¶æ ¼å¼\n#sh\u003e vi filename 1 åˆ©ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æ ¼å¼\n:set ff æˆ– :set fileformat 1 å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯\nfileformat=dos æˆ– fileformat=unix åˆ©ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹æ–‡ä»¶æ ¼å¼\n:set ff=unix æˆ– :set fileformat=unix :wq (å­˜ç›˜é€€å‡º) æœ€åå†æ‰§è¡Œæ–‡ä»¶\n#sh\u003e./filename ","description":"\n","tags":[],"title":"\nLinuxä¸­æ‰§è¡Œè„šæœ¬No such file or directoryã€‚","uri":"/posts/post-354/"},{"categories":["è¯­è¨€"],"content":"æˆ‘ä»¬ç»å¸¸ä¸ºç”¨åˆ°Integer.valueOf(String str)è¿™ä¸ªæ–¹æ³•,å¦‚æœå­—ç¬¦ä¸²æ ¼å¼ä¸å¯¹,è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºä¸€ä¸ªç³»ç»Ÿå¼‚å¸¸NumberFormatException è¿™é‡Œæˆ‘ä»¬å°±è¦åˆ†æä¸€ä¸‹è¿™ä¸ªæ–¹æ³•,å…¶ä¸­Byte,Shortä¹Ÿæ˜¯è°ƒç”¨äº†Ingeterä¸­çš„æ–¹æ³•. åœ¨Integerç±»ä¸­çš„å®šä¹‰å¦‚ä¸‹:\npublic static Integer valueOf(String s) throws NumberFormatException { return new Integer(parseInt(s, 10)); } è¿™é‡Œå› ä¸ºparseIntæ–¹æ³•è¿”å›çš„intå‹çš„,è¿™é‡Œè°ƒç”¨äº†ä¸€ä¸ªæ„é€ å‡½æ•°äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„Integerå®ä¾‹. è¿™é‡Œå…³å¿ƒçš„æ˜¯parseIntæ–¹æ³•,è¯¥æ–¹æ³•ä»£ç å¦‚ä¸‹:\npublic static int parseInt(String s, int radix) throws NumberFormatException { if (s == null) { throw new NumberFormatException(\"null\"); } if (radix \u003c Character.MIN_RADIX) { throw new NumberFormatException(\"radix \" + radix + \" less than Character.MIN_RADIX\"); } if (radix \u003e Character.MAX_RADIX) { throw new NumberFormatException(\"radix \" + radix + \" greater than Character.MAX_RADIX\"); } int result = 0; boolean negative = false; int i = 0, max = s.length(); int limit; int multmin; int digit; if (max \u003e 0) { if (s.charAt(0) == '-') { negative = true; limit = Integer.MIN_VALUE; i++; } else { limit = -Integer.MAX_VALUE; } if (i \u003c max) { digit = Character.digit(s.charAt(i++),radix); if (digit \u003c 0) { throw NumberFormatException.forInputString(s); } else { result = -digit; } } while (i \u003c max) { // Accumulating negatively avoids surprises near MAX_VALUE digit = Character.digit(s.charAt(i++),radix); if (digit \u003c 0) { throw NumberFormatException.forInputString(s); } if (result \u003c multmin) { throw NumberFormatException.forInputString(s); å¼‚å¸¸1 } result *= radix; if (result \u003c limit + digit) { throw NumberFormatException.forInputString(s); å¼‚å¸¸2 } result -= digit; } } else { throw NumberFormatException.forInputString(s); } if (negative) { if (i \u003e 1) { return result; } else { /* Only got \"-\" */ throw NumberFormatException.forInputString(s); } } else { return -result; } } å¾ˆæ˜¾ç„¶,è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜¯åŸºæ•°(æœ€å¸¸ç”¨çš„æ˜¯åè¿›åˆ¶,è¿˜æœ‰åå…­æœºåˆ¶,å…«è¿›åˆ¶ç­‰ç­‰).\nå¦‚æœå­—ç¬¦ä¸²æ˜¯ç©ºæŒ‡é’ˆ,ç›´æ¥æŠ›å‡ºå¼‚å¸¸.\nå¦‚æœåŸºç¡€å°äº2æˆ–è€…å¤§äº36çš„è¯,æŠ›å‡ºå¼‚å¸¸(è¿™ç§æƒ…å†µä¸€èˆ¬ä¸ä¼šå‡ºç°,å› ä¸ºæˆ‘ä»¬ç”¨çš„æœ€å¤šå°±æ˜¯åè¿›åˆ¶çš„äº†).\nå¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸²,ä¹ŸæŠ›å‡ºå¼‚å¸¸,ä¹Ÿå°±æ˜¯max=0çš„æƒ…å†µäº†.\næˆ‘ä»¬æ¥å…³æ³¨ä¸‹é¢çš„è½¬æ¢è¿‡ç¨‹:\nè¿™é‡Œä½¿ç”¨äº†Characterä¸­çš„é™æ€æ–¹æ³•digit,è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒå¤æ‚,è¿™é‡Œå…ˆè¯´æ˜å®ƒçš„åŠŸèƒ½:å¯¹äºç»™å®šçš„åŸºæ•°,å¦‚æœæ˜¯åˆæ³•çš„å­—ç¬¦(å¯ä»¥è½¬åŒ–ä¸ºæ•°å­—),è¿”å›è¯¥æ•°å­—å€¼,å¦åˆ™è¿”å›-1.æ¯”å¦‚digit(â€˜3â€™,10)è¿”å›3,digit(â€˜aâ€™,10)è¿”å›-1.\nè¿™æ®µç¨‹åºçœ‹èµ·æ¥å¾ˆç®€å•,å…¶å®è¿˜çœŸä¸å®¹æ˜“çœ‹æ‡‚,è¿™é‡Œå…ˆè¯´æ˜å‡ ä¸ªå±€éƒ¨å˜é‡çš„å«ä¹‰å§:\nresult:è®°å½•è¿”å›å€¼\nnegative:ç¬¦å·æ ‡å¿—\ni:å­—ç¬¦ä¸²ä½ç½®\ns:å­—ç¬¦ä¸²é•¿åº¦\nlimit:ç•Œé™\nmultmin:ä¹Ÿæ˜¯ä¸€ä¸ªç•Œé™\ndigit:å½“å‰å­—ç¬¦è¡¨ç¤ºçš„æ•°å­—\nå…ˆçœ‹ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯â€™-â€˜å·,è®¾å®šç¬¦å·æ ‡å¿—negativeå’Œæé™å€¼limit.\næ³¨æ„åˆ°limitä¸€å®šæ˜¯ä¸€ä¸ªè´Ÿå€¼.\nå¤„ç†æœ€é«˜ä½,è¿™é‡Œresultä¿å­˜çš„æ˜¯è´Ÿå€¼,è¿™æ ·å°±å¯ä»¥å¯¹æ­£è´Ÿæ•°ç»Ÿä¸€å¤„ç†.\nå…³é”®å°±æ˜¯è¿™ä¸ªwhileå¾ªç¯äº†,ç¬¬ä¸€ä¸ªifä¸ç”¨è§£é‡Šäº†,è‚¯å®šæ˜¯å› ä¸ºéæ³•å­—ç¬¦.\nç¬¬äºŒä¸ªifè¯­å¥çš„å«ä¹‰:å¦‚æœresultå°äºmultmin,ä¼šäº§ç”Ÿä»€ä¹ˆç»“æœå‘¢?\næ˜¯ä¸æ˜¯ä¸€å®šä¼šæº¢å‡ºå‘¢?å‡è®¾ä¸ä¼šæº¢å‡º,å°±æ˜¯è¯´ç»“æœå¿…é¡»\u003e=limit.\nresultå°äºmultmin,resultè‡³å°‘åº”è¯¥ä½multmin-1,åé¢æœ‰ result=result*radix=(multmin-1)_radix=multmin_radix-radix\nè¯¥å€¼è‚¯å®šå°äºlimit,å…¶ä¸­multmin=limit/radix,æ³¨æ„è¿™é‡Œéƒ½æ˜¯è´Ÿæ•°.\næ‰€ä»¥å‡è®¾ä¸æˆé‡Œ,å¦‚æœresultå°äºmultminçš„è¯,åé¢ä¸€å®šä¼šæº¢å‡º.\nå¦‚æœè¿™é‡Œæ²¡æœ‰åˆ¤æ–­çš„è¯,æº¢å‡ºå°±éº»çƒ¦äº†,æ­£æ•°ä¹Ÿä¼šå˜è´Ÿæ•°äº†.\nç¬¬ä¸‰ä¸ªifè¯­å¥çš„å«ä¹‰:åœ¨è¿™æ¡è¯­å¥ä»¥å‰è‚¯å®šæ²¡æœ‰æº¢å‡º,ä½†æ˜¯æœ‰å¯èƒ½åŠ ä¸Šæœ€åä¸€ä½digitå°±æº¢å‡ºäº†,æ‰€ä»¥è¿™ä¸ªåˆ¤æ–­ä¹Ÿæ˜¯å¿…è¦çš„.\nåé¢çš„å°±æ¯”è¾ƒå¥½ç†è§£äº†,elseæ˜¯è¡¨ç¤ºç©ºå­—ç¬¦ä¸²\"\".\nå¦‚æœæ˜¯è´Ÿæ•°çš„è¿˜è¦çœ‹æ˜¯å¦é•¿åº¦æ˜¯1,å°±åªæ˜¯ä¸€ä¸ªâ€™-â€˜å·çš„æƒ…å†µ.\nå¦‚æœæ˜¯æ­£æ•°çš„è¯è¿”å›ç›¸åæ•°å°±å¯ä»¥äº†.\nè¿™é‡Œæœ‰å¥½å¤šåœ°æ–¹éƒ½æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸,åªè¦çœ‹æ˜ç™½äº†ç¨‹åºå°±çŸ¥é“è¿™ä¸ªå¼‚å¸¸æ˜¯ é‚£æ¡è¯­å¥æŠ›å‡ºçš„äº†,è¿™é‡Œè€ƒè™‘æº¢å‡ºå¼‚å¸¸:å¼‚å¸¸1å’Œå¼‚å¸¸2.\nIngeter.Max_VALUE=2147483647\nä¸‹é¢çš„ä¸¤æ¡è¯­å¥åœ¨ä¸åŒçš„åœ°æ–¹æŠ›å‡ºå¼‚å¸¸.\nIngeter.valueOf(â€œ2147483648â€);è¿™ä¸ªåœ¨å¼‚å¸¸2æŠ›å‡ºçš„.\nIngeter.valueOf(â€œ21474836471â€);è¿™ä¸ªåœ¨å¼‚å¸¸1æŠ›å‡ºçš„.\nè¿™é‡Œç®€å•çš„åˆ†æäº†Stringè½¬åŒ–ä¸ºIngeterçš„è¿‡ç¨‹,å…¶å®æ•´ä¸ªIngeterç±»ä¹Ÿå°±ä¸»è¦æ˜¯è¿™ä¸ªæ–¹æ³•äº†,Byteå’ŒShortéƒ½æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„. çœ‹çœ‹Byteçš„ä»£ç :\npublic static byte parseByte(String s, int radix) throws NumberFormatException { int i = Integer.parseInt(s, radix); if (i \u003c MIN_VALUE || i \u003e MAX_VALUE) throw new NumberFormatException( \"Value out of range. Value:/\"\" + s + \"/\" Radix:\" + radix); return (byte)i; } äº†è§£è¿™ä¸ªæ–¹æ³•åå°±å†ä¹Ÿä¸ä¼šä¸ºInteger.valueOf()äº§ç”Ÿçš„å¼‚å¸¸æ„Ÿåˆ°æ„å¤–äº†,ç‰¹åˆ«æ˜¯åœ¨JSPä¸­,å› ä¸ºå‚æ•°éƒ½æ˜¯Stringå‹çš„,è½¬æ¢çš„æ—¶å€™åŠ¨ä¸åŠ¨å°±å‡ºç°å¼‚\nå¸¸,ä½ è¯¥çŸ¥é“æ€ä¹ˆå›äº‹äº†å§.\n","description":"\n","tags":[],"title":"\nStringè½¬æ¢æˆIntegeræºç åˆ†æ","uri":"/posts/post-360/"},{"categories":["æ•°æ®åº“"],"content":"1ã€ç”¨dbaè§’è‰²çš„ç”¨æˆ·ç™»é™†ï¼Œè¿›è¡Œè§£é”ï¼Œå…ˆè®¾ç½®å…·ä½“æ—¶é—´æ ¼å¼ï¼Œä»¥ä¾¿æŸ¥çœ‹å…·ä½“æ—¶é—´\nSQL\u003e alter session set nls_date_format='yyyy-mm-dd hh24:mi:ss'; Session altered. 2ã€æŸ¥çœ‹å…·ä½“çš„è¢«é”æ—¶é—´\nSQL\u003e select username,lock_date from dba_users where username='TEST'; USERNAME LOCK_DATE TEST 2009-03-10 08:51:03 3ã€è§£é”\nSQL\u003e alter user test account unlock; User altered. 4ã€æŸ¥çœ‹æ˜¯é‚£ä¸ªipé€ æˆçš„testç”¨æˆ·è¢«é”\næŸ¥çœ‹$ORACLE_HOME/network/admin/log/listener.logæ—¥å¿— 10-MAR-2009 08:51:03 * (CONNECT_DATA=(SID=lhoms)(SERVER=DEDICATED)(CID=(PROGRAM=oracle)(HOST=omstestdb)(USER=oraoms))) * (ADDRESS=(PROTOCOL=tcp)(HOST=10.69.1.11)(PORT=49434)) * establish * lhoms * 0 10-MAR-2009 08:51:03 * (CONNECT_DATA=(SID=lhoms)(SERVER=DEDICATED)(CID=(PROGRAM=oracle)(HOST=omstestdb)(USER=oraoms))) * (ADDRESS=(PROTOCOL=tcp)(HOST=10.69.1.11)(PORT=49435)) * establish * lhoms * 0 è¿™æ ·å¯çŸ¥æ˜¯ä¸Šé¢10.69.1.11çš„ipå°è¯•å¤šæ¬¡å¤±è´¥ç™»é™†é€ æˆçš„è¢«é” æ³¨ï¼š ä¸€èˆ¬æ•°æ®åº“é»˜è®¤æ˜¯10æ¬¡å°è¯•å¤±è´¥åé”ä½ç”¨æˆ·\n1ã€æŸ¥çœ‹FAILED_LOGIN_ATTEMPTSçš„å€¼\nselect * from dba_profiles where RESOURCE_NAME = 'FAILED_LOGIN_ATTEMPTS'; 2ã€ä¿®æ”¹ä¸º30æ¬¡\nalter profile default limit FAILED_LOGIN_ATTEMPTS 30; 3ã€ä¿®æ”¹ä¸ºæ— é™æ¬¡ï¼ˆä¸ºå®‰å…¨èµ·è§ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼‰\nalter profile default limit FAILED_LOGIN_ATTEMPTS unlimited; Oracleæ•°æ®åº“æ“ä½œä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šç”¨åˆ°é”è¡¨æŸ¥è¯¢ä»¥åŠè§£é”å’Œkillè¿›ç¨‹ç­‰æ“ä½œï¼Œé‚£ä¹ˆè¿™äº›æ“ä½œæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæœ¬æ–‡æˆ‘ä»¬ä¸»è¦å°±ä»‹ç»ä¸€ä¸‹è¿™éƒ¨åˆ†å†…å®¹ã€‚\n(1)é”è¡¨æŸ¥è¯¢çš„ä»£ç æœ‰ä»¥ä¸‹çš„å½¢å¼ï¼š\nselect count(*) from v$locked_object; select * from v$locked_object; (2)æŸ¥çœ‹å“ªä¸ªè¡¨è¢«é”\nselect b.owner,b.object_name,a.session_id,a.locked_mode from v$locked_object a,dba_objects b where b.object_id = a.object_id; (3)æŸ¥çœ‹æ˜¯å“ªä¸ªsessionå¼•èµ·çš„\nselect b.username,b.sid,b.serial#,logon_time from v$locked_object a,v$session b where a.session_id = b.sid order by b.logon_time; (4)æ€æ‰å¯¹åº”è¿›ç¨‹\næ‰§è¡Œå‘½ä»¤ï¼šalter system kill session'1025,41'; å…¶ä¸­1025ä¸ºsid,41ä¸ºserial#.\næŸ¥è¯¢é‚£ä¸ªç¨‹åºå¯¼è‡´çš„\nSELECT v.program,v.* FROM v$session v where serial# = '9' and sid = 586 ","description":"\n","tags":[],"title":"\nOracleç”¨æˆ·å’Œè¡¨è¢«é”å®šè§£å†³æ–¹æ³•","uri":"/posts/post-366/"},{"categories":["æ•°æ®åº“"],"content":"å—å½±å“ç‰ˆæœ¬ï¼šOracle11gä»¥ä¸Šç‰ˆæœ¬ã€‚\nå¯¼è‡´å¯†ç æ¶ˆå¤±çš„åŸå› ï¼šOracle 11gä¸­é»˜è®¤çš„DEFAULTæ¦‚è¦æ–‡ä»¶ä¸­å£ä»¤æœ‰æ•ˆæœŸPASSWORD_LIFE_TIMEé»˜è®¤å€¼ä¸º180å¤©ã€‚\nå½“ä»¥å®¢æˆ·ç«¯ç™»é™†Oracleæç¤ºORA-28002ï¼Œåˆ™åŸºæœ¬å¯ä»¥ç¡®å®šç™»é™†å¸å·å·²è¿‡æœ‰æ•ˆæœŸï¼Œä½¿ç”¨å…·æœ‰DBAæƒé™çš„å¸å·é‡ç½®è¯¥å¸å·å¯†ç å³å¯ã€‚\nè§£å†³æ–¹æ³•ï¼š\nä»¥ä¸‹æ­¥éª¤ä»¥å…·æœ‰DBAæƒé™ç”¨æˆ·æ“ä½œ\n1.æŸ¥çœ‹å£ä»¤å¤±æ•ˆç”¨æˆ·çš„profileæ–‡ä»¶ SQL\u003eSELECT username,profile FROM dba_users; EMï¼šæœåŠ¡å™¨\u003eç”¨æˆ·ï¼ŒæŸ¥çœ‹å£ä»¤å¤±æ•ˆçš„ç”¨æˆ·å¯¹åº”çš„æ¦‚è¦æ–‡ä»¶ï¼Œè¿™é‡Œå‡è®¾ä¸ºDEFAULTï¼Œä¸‹åŒã€‚\n2.æŸ¥çœ‹å¯¹åº”çš„æ¦‚è¦æ–‡ä»¶çš„å£ä»¤æœ‰æ•ˆæœŸè®¾ç½® SQL\u003eSELECT * FROM dba_profiles WHERE profile='DEFAULT' AND resource_name='PASSWORD_LIFE_TIME'; EMï¼šæœåŠ¡å™¨\u003eæ¦‚è¦æ–‡ä»¶\u003eé€‰æ‹©åˆšåˆšæŸ¥åˆ°çš„æ¦‚è¦æ–‡ä»¶DEFAULT\u003eæŸ¥çœ‹ï¼ŒæŸ¥çœ‹å£ä»¤ä¸‹é¢çš„æœ‰æ•ˆæœŸå€¼ã€‚\n3.å°†å£ä»¤æœ‰æ•ˆæœŸé»˜è®¤å€¼180å¤©ä¿®æ”¹æˆâ€œæ— é™åˆ¶â€ SQL\u003eALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED; EMï¼šæœåŠ¡å™¨\u003eæ¦‚è¦æ–‡ä»¶\u003eé€‰æ‹©åˆšåˆšæŸ¥åˆ°çš„æ¦‚è¦æ–‡ä»¶DEFAULT\u003eç¼–è¾‘\u003eå£ä»¤ï¼Œåœ¨æœ‰æ•ˆæœŸè¾“å…¥æˆ–é€‰æ‹©ä½ éœ€è¦çš„å€¼ï¼Œä¿å­˜ã€‚\nè¯¥å‚æ•°ä¿®æ”¹å®æ—¶ç”Ÿæ•ˆã€‚\nå‡ºäºæ•°æ®åº“å®‰å…¨æ€§è€ƒè™‘ï¼Œä¸å»ºè®®å°†PASSWORD_LIFE_TIMEå€¼è®¾ç½®æˆUNLIMITEDï¼Œå³å»ºè®®å®¢æˆ·èƒ½å¤Ÿå®šæœŸä¿®æ”¹æ•°æ®åº“ç”¨æˆ·å£ä»¤ã€‚\nåœ¨ä¿®æ”¹PASSWORD_LIFE_TIMEå€¼ä¹‹å‰å·²ç»å¤±æ•ˆçš„ç”¨æˆ·ï¼Œè¿˜æ˜¯éœ€è¦é‡æ–°ä¿®æ”¹ä¸€æ¬¡å¯†ç æ‰èƒ½ä½¿ç”¨ã€‚\nSQL\u003ealter user user_name identified by password; ","description":"\n","tags":[],"title":"\nOracleç”¨æˆ·å¯†ç è¿‡æœŸçš„å¤„ç†æ–¹æ³•","uri":"/posts/post-367/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":" æ•°æ®ç»“æ„ ä¼˜ç‚¹ ç¼ºç‚¹ æ•°ç»„ æ’å…¥å¿«,å¦‚æœçŸ¥é“ä¸‹æ ‡,å¯ä»¥éå¸¸å¿«åœ°å­˜å– æŸ¥æ‰¾æ…¢,åˆ é™¤æ…¢,å¤§å°å›ºå®š æœ‰åºæ•°ç»„ æ¯”æ— åºçš„æ•°ç»„æŸ¥æ‰¾å¿« åˆ é™¤å’Œæ’å…¥æ…¢,å¤§å°å›ºå®š æ ˆ æä¾›åè¿›å…ˆå‡ºçš„æ–¹å¼å­˜å– å­˜å–å…¶ä»–é¡¹å¾ˆæ…¢ é˜Ÿåˆ— æä¾›å…ˆè¿›å…ˆå‡ºæ–¹å¼çš„å­˜å– å­˜å–å…¶ä»–é¡¹å¾ˆæ…¢ é“¾è¡¨ æ’å…¥å¿«,åˆ é™¤å¿« æŸ¥æ‰¾æ…¢ äºŒå‰æ ‘ æŸ¥æ‰¾,æ’å…¥,åˆ é™¤éƒ½å¿«(å¦‚æœæ ‘ä¿æŒå¹³è¡¡) åˆ é™¤ç®—æ³•å¤æ‚ çº¢-é»‘ æ ‘ æŸ¥æ‰¾,æ’å…¥,åˆ é™¤éƒ½å¾ˆå¿«.æ ‘æ€»æ˜¯å¹³è¡¡çš„ ç®—æ³•å¤æ‚ 2-3-4 æ ‘ æŸ¥æ‰¾,æ’å…¥,åˆ é™¤éƒ½å¾ˆå¿«.æ ‘æ€»æ˜¯å¹³è¡¡çš„. ç±»ä¼¼æ ‘å¯¹ç£ç›˜å­˜å‚¨æœ‰ç”¨ ç®—æ³•å¤æ‚ å“ˆå¸Œè¡¨ å¦‚æœå…³é”®å­—å·²çŸ¥åˆ™å­˜å–æå¿«,æ’å…¥å¿«. åˆ é™¤æ…¢,å¦‚æœä¸çŸ¥é“å…³é”®å­—åˆ™å­˜å–å¾ˆæ…¢, å¯¹å­˜å‚¨ç©ºé—´ä½¿ç”¨ä¸å……åˆ†. å † æ’å…¥,åˆ é™¤å¿«,å¯¹æœ€å¤§æ•°æ®é¡¹çš„å­˜å–å¾ˆå¿« å­˜å–å…¶ä»–æ•°æ®é¡¹æ…¢ å›¾ å¯¹ç°å®ä¸–ç•Œå»ºæ¨¡ æœ‰äº›ç®—æ³•æ…¢ä¸”å¤æ‚ ","description":"\n","tags":[],"title":"\næ•°æ®ç»“æ„çš„ç‰¹æ€§","uri":"/posts/post-370/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ•°æ®ç»“æ„ï¼šæ•°æ®ä¸æ•°æ®ä¹‹é—´çš„ç»“æ„å…³ç³»ï¼ˆæ•°ç»„ã€é˜Ÿåˆ—ã€æ ‘ã€å›¾ç­‰ç»“æ„ï¼‰\nç®—æ³•ï¼šè§£å†³é—®é¢˜çš„æ­¥éª¤\næ€»ç»“ï¼š\n1ã€ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³• ã€‚æ•°æ®æ˜¯ç¨‹åºçš„ä¸­å¿ƒã€‚æ•°æ®ç»“æ„å’Œç®—æ³•ä¸¤ä¸ªæ¦‚å¿µé—´çš„é€»è¾‘å…³ç³»è´¯ç©¿äº†æ•´ä¸ªç¨‹åºä¸–ç•Œï¼Œé¦–å…ˆäºŒè€…è¡¨ç°ä¸ºä¸å¯åˆ†å‰²çš„å…³ç³»ã€‚æ²¡æœ‰æ•°æ®é—´çš„æœ‰æœºå…³ç³»ï¼Œç¨‹åºæ ¹æœ¬æ— æ³•è®¾è®¡ã€‚\n2ã€æ•°æ®ç»“æ„ä¸ç®—æ³•å…³ç³»ï¼šæ•°æ®ç»“æ„æ˜¯åº•å±‚ï¼Œç®—æ³•é«˜å±‚ã€‚æ•°æ®ç»“æ„ä¸ºç®—æ³•æä¾›æœåŠ¡ã€‚ç®—æ³•å›´ç»•æ•°æ®ç»“æ„æ“ä½œã€‚\n3ã€è§£å†³é—®é¢˜ï¼ˆç®—æ³•ï¼‰éœ€è¦é€‰æ‹©æ­£ç¡®çš„æ•°æ®ç»“æ„ã€‚ä¾‹å¦‚ï¼šç®—æ³•ä¸­ç»å¸¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤ç”¨é“¾è¡¨æ•°æ®ç»“æ„æ•ˆç‡é«˜ï¼Œæ•°ç»„æ•°æ®ç»“æ„å› ä¸ºå¢åŠ å’Œåˆ é™¤éœ€è¦ç§»åŠ¨æ•°å­—æ¯ä¸ªå…ƒç´ æ‰€æœ‰æ•ˆç‡ä½ã€‚\n4ã€æ•°æ®ç»“æ„ç‰¹ç‚¹ï¼šæ¯ç§æ•°æ®ç»“æ„éƒ½å…·æœ‰è‡ªå·±çš„ç‰¹ç‚¹ã€‚ä¾‹å¦‚ï¼šé˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºã€‚æ ˆï¼šå…ˆè¿›åå‡ºã€‚ç­‰ç­‰\n5ã€ç®—æ³•çš„ç‰¹æ€§ï¼šç®—æ³•å…·æœ‰äº”ä¸ªåŸºæœ¬ç‰¹å¾ï¼šè¾“å…¥ã€è¾“å‡ºã€æœ‰ç©·æ€§ã€ç¡®å®šæ€§å’Œå¯è¡Œæ€§ã€‚\n6ã€æ•°æ®ç»“æ„åº”ç”¨ï¼šæ•°æ®ç»“æ„å¾€å¾€åŒé«˜æ•ˆçš„æ£€ç´¢ç®—æ³•ã€ç´¢å¼•æŠ€æœ¯ã€æ’åºç®—æ³•æœ‰å…³\n7ã€æ•°æ®ç»“æ„ï¼ˆé€»è¾‘æ•°æ®ç»“æ„ï¼‰é€šè¿‡è®¡ç®—æœºè¯­è¨€æ¥å®ç°æ•°æ®ç»“æ„ï¼ˆå­˜å‚¨æ•°æ®ç»“æ„ï¼‰ã€‚ä¾‹å¦‚ï¼šæ ‘å‹æ•°æ®ç»“æ„ï¼šé€šè¿‡è®¡ç®—æœºè¯­è¨€ä¸­çš„æ•°ç»„ï¼ˆèŠ‚ç‚¹ï¼‰å’ŒæŒ‡é’ˆï¼ˆæŒ‡å‘çˆ¶èŠ‚ç‚¹ï¼‰æ¥å®ç°ã€‚\n8ã€å­˜å‚¨ç»“æ„ï¼šé€»è¾‘æ•°æ®ç»“æ„çš„å®ç°ã€‚å­˜å‚¨ç»“æ„é€šè¿‡è®¡ç®—æœºè¯­è¨€å®ç°ã€‚ ä¾‹å¦‚ï¼šå †æ•°æ®ç»“æ„ï¼Œå †æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ‰€ä»¥é€‚å®œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ï¼ˆé¡ºåºå­˜å‚¨ï¼šæ•°ç»„ï¼‰ï¼Œè¿™æ ·èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å­˜å‚¨ç©ºé—´ã€‚\n9ã€ç®—æ³•ç›®çš„ï¼šç®—æ³•æ˜¯ä¸ºæ•°æ®ç»“æ„æœåŠ¡ã€‚ä¾‹å¦‚ï¼šæ•°æ®ç»“æ„é€šå¸¸ä¼´éšæœ‰æŸ¥æ‰¾ç®—æ³•ã€æ’åºç®—æ³•ç­‰\n10ã€æ•°æ®ç»“æ„çš„ä¼˜åŠ£ï¼šä¸€ç§æ•°æ®ç»“æ„çš„ä¼˜åŠ£æ˜¯åœ¨å®ç°å…¶å„ç§è¿ç®—çš„ç®—æ³•ä¸­ä½“ç°çš„ã€‚\näºŒã€æ•°æ®ç»“æ„ï¼šåˆ†ä¸ºé€»è¾‘æ•°æ®ç»“æ„å’Œå­˜å‚¨æ•°æ®ç»“æ„ä¸¤ç§ ï¼ˆ1ï¼‰é¡ºåºå­˜å‚¨æ–¹æ³•ï¼ˆé¡ºåºå­˜å‚¨ç»“æ„ï¼‰ ï¼ˆ2ï¼‰é“¾æ¥å­˜å‚¨æ–¹æ³•ï¼ˆé“¾å¼å­˜å‚¨ç»“æ„ï¼‰ åŒä¸€ç§é€»è¾‘ç»“æ„å¯é‡‡ç”¨ä¸åŒçš„å­˜å‚¨æ–¹æ³•ï¼ˆä»¥ä¸Šä¸¤ç§ä¹‹ä¸€æˆ–ç»„åˆï¼‰ï¼Œè¿™ä¸»è¦è€ƒè™‘çš„æ˜¯è¿ç®—æ–¹ä¾¿åŠç®—æ³•çš„æ—¶ç©ºè¦æ±‚ã€‚\n","description":"\n","tags":[],"title":"\næ•°æ®ç»“æ„å’Œç®—æ³•å…³ç³»","uri":"/posts/post-371/"},{"categories":["maven"],"content":" \u003cproperties\u003e \u003c!-- æ‰€æœ‰å·¥ç¨‹ä¸­,å¯¹ä¾èµ–çš„æ ¹ç»„ä»¶(root jar)çš„ç‰ˆæœ¬ç»´æŠ¤ --\u003e \u003cjava.version\u003e1.8\u003c/java.version\u003e \u003c!-- ç»Ÿä¸€å­—ç¬¦é›† --\u003e \u003cproject.build.sourceEncoding\u003eUTF-8\u003c/project.build.sourceEncoding\u003e \u003c/properties\u003e \u003cbuild\u003e \u003cfinalName\u003espringBoot\u003c/finalName\u003e \u003cplugins\u003e \u003cgroupId\u003eorg.apache.maven.plugins\u003c/groupId\u003e \u003cartifactId\u003emaven-compiler-plugin\u003c/artifactId\u003e \u003cversion\u003e3.3\u003c/version\u003e \u003cconfiguration\u003e \u003csource\u003e${java.version}\u003c/source\u003e \u003ctarget\u003e${java.version}\u003c/target\u003e \u003cencoding\u003e${project.build.sourceEncoding}\u003c/encoding\u003e \u003c/configuration\u003e \u003c/plugins\u003e \u003c/build\u003e ","description":"\n","tags":[],"title":"\nmavenç¼–ç ","uri":"/posts/post-374/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"å‹’å¸ƒæœ—ï¼ˆLeBlancï¼‰æ³•åˆ™ï¼š\nç¨åç­‰äºæ°¸ä¸ï¼ˆLater equals neverï¼‰ Dave Thomasï¼ŒOTIå…¬å¸åˆ›å§‹äººï¼ŒEclipseæˆ˜ç•¥æ•™çˆ¶è¯´è¿‡:\næ²¡æœ‰æµ‹è¯•çš„ä»£ç ä¸å¹²å‡€ã€‚ä¸ç®¡å®ƒæœ‰å¤šä¼˜é›…ï¼Œä¸ç®¡æœ‰å¤šå¯è¯»ã€å¤šæ˜“ç†è§£ï¼Œå¾®ä¹æµ‹è¯•ï¼Œå…¶ä¸æ´äº¦å¯çŸ¥ä¹Ÿã€‚ ","description":"\n","tags":[],"title":"\nä¸€ä¸ªç¨‹åºå‘˜è¯¥è®°ä½çš„è¯","uri":"/posts/post-375/"},{"categories":["è¯­è¨€"],"content":"å¤§å®¶éƒ½çŸ¥é“jdkæ— æ³•ç›´æ¥é€šè¿‡wgetä¸‹è½½ã€‚åŸæ¥éœ€è¦cookieï¼Œå¦‚ä¸‹ï¼š\nä¸€ã€ä¸‹è½½\nwget --no-check-certificate --no-cookie --header \"Cookie: oraclelicense=accept-securebackup-cookie;\" http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-x64.rpm sudo rpm -ivh jdk-7u79-linux-x64.rpm ç°åœ¨ä¸‹è½½çš„è¦æ±‚åˆæœ‰æ‰€å˜åŒ–ï¼Œç”¨åŸæ¥çš„æ–¹å¼å·²ç»ä¸è¡Œäº†ã€‚æ˜¯åŠ¨æ€çš„ç”Ÿæˆä¸€ä¸ªå‚æ•°ã€‚\nè§£å†³åŠæ³•ï¼š åœ¨chromeä¸‹ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆæœ¬äººç”¨çš„macç‰ˆæœ¬ï¼‰ï¼Œç‚¹å‡»æ‰€éœ€è¦ä¸‹è½½çš„åŒ…ï¼Œçœ‹console-\u003elogsä¼šçœ‹åˆ°ä¸€è¡Œå­—ï¼š\nResource interpreted as Document but transferred with MIME type application/x-redhat-package-manager: \"http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-x64.rpm?AuthParam=1461049990_341c3c217ccd4554c0a065149ff156c8\". ï¼Œäºæ˜¯ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ªå°±å¥½äº†ã€‚\nwget -O jdk-7u80-linux-x64.rpm http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-x64.rpm?AuthParam=1461049990_341c3c217ccd4554c0a065149ff156c8 64ä½\nwget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.tar.gz\" 32ä½\nwget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-i586.tar.gz\" tar xzf jdk-8u141-linux-i586.tar.gz è§£å‹\ntar xzf jdk-8u141-linux-x64.tar.gz é…ç½®ç¯å¢ƒå˜é‡\nJAVA_HOME=/usr/local/java/jdk1.8/ JRE_HOME=/usr/local/java/jdk1.8/jre CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin export JAVA_HOME JRE_HOME CLASS_PATH PATH ä¸ºäº†è®©ç¯å¢ƒå˜é‡å³æ—¶ç”Ÿæ•ˆï¼Œè¾“å…¥ source /etc/profile å³å¯ã€‚\n","description":"\n","tags":[],"title":"\nwgetä¸‹è½½JDK","uri":"/posts/post-379/"},{"categories":["é»˜è®¤åˆ†ç±»"],"content":"ä¸‹è½½\nwget http://nginx.org/download/nginx-1.10.3.tar.gz è§£å‹\ntar -zxvf nginx-1.10.3.tar.gz æºç ç¼–è¯‘å‡†å¤‡\n./configure --prefix=/usr/local/src/nginx --conf-path=/usr/local/src/nginx/nginx.conf å®‰è£… ç¯å¢ƒ\nyum -y install pcre-devel yum install -y zlib-devel ç¼–è¯‘\nmake å®‰è£…\nmake install æ·»åŠ ç¯å¢ƒå˜é‡ nginx/sbin\nå¯åŠ¨\n./nginx -c /usr/local/src/nginx/conf/nginx.conf é€šè¿‡ps -Aå‘½ä»¤æŸ¥çœ‹nginxè¿›ç¨‹çŠ¶æ€ï¼Œç¡®è®¤nginxå·²å¯åŠ¨:\nps -A | grep nginx\næ­¤æ—¶ï¼Œè¾“å…¥æœåŠ¡å™¨åŸŸåæˆ–å…¬ç½‘IPï¼Œå¯ä»¥nginxçš„æ¬¢è¿é¡µé¢ï¼Œè¡¨æ˜nginx webæœåŠ¡å™¨å·²ç»æˆåŠŸå®‰è£…\nåœæ­¢ nginx\nps -ef|grep nginx ä»å®¹åœæ­¢Nginxï¼š\nkill -QUIT ä¸»è¿›ç¨‹å· ä¾‹å¦‚ï¼škill -QUIT 16391\nå¿«é€Ÿåœæ­¢Nginxï¼š\nkill -TERM ä¸»è¿›ç¨‹å· å¼ºåˆ¶åœæ­¢Nginxï¼š\nkill -9 ä¸»è¿›ç¨‹å· åé¢è¯¦ç»†ä»‹ç»ä¸€ä¸‹é…ç½®æ–‡ä»¶\nuser www www; worker_processes 2; #è®¾ç½®å€¼å’ŒCPUæ ¸å¿ƒæ•°ä¸€è‡´ error_log /usr/local/webserver/nginx/logs/nginx_error.log crit; #æ—¥å¿—ä½ç½®å’Œæ—¥å¿—çº§åˆ« pid /usr/local/webserver/nginx/nginx.pid; #Specifies the value for maximum file descriptors that can be opened by this process. worker_rlimit_nofile 65535; events { use epoll; worker_connections 65535; } http { include mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" $http_x_forwarded_for'; #charset gb2312; server_names_hash_bucket_size 128; client_header_buffer_size 32k; large_client_header_buffers 4 32k; client_max_body_size 8m; sendfile on; tcp_nopush on; keepalive_timeout 60; tcp_nodelay on; fastcgi_connect_timeout 300; fastcgi_send_timeout 300; fastcgi_read_timeout 300; fastcgi_buffer_size 64k; fastcgi_buffers 4 64k; fastcgi_busy_buffers_size 128k; fastcgi_temp_file_write_size 128k; gzip on; gzip_min_length 1k; gzip_buffers 4 16k; gzip_http_version 1.0; gzip_comp_level 2; gzip_types text/plain application/x-javascript text/css application/xml; gzip_vary on; #limit_zone crawler $binary_remote_addr 10m; #ä¸‹é¢æ˜¯serverè™šæ‹Ÿä¸»æœºçš„é…ç½® server { listen 80;#ç›‘å¬ç«¯å£ server_name localhost;#åŸŸå index index.html index.htm index.php; root /usr/local/webserver/nginx/html;#ç«™ç‚¹ç›®å½• location ~ .*\\.(php|php5)?$ { #fastcgi_pass unix:/tmp/php-cgi.sock; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; } location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf|ico)$ { expires 30d; # access_log off; } location ~ .*\\.(js|css)?$ { expires 15d; # access_log off; } access_log off; } } ","description":"\n","tags":[],"title":"\né˜¿é‡Œäº‘ECS CentOS7.4 64ä½ç³»ç»Ÿå®‰è£…nginx","uri":"/posts/post-380/"}]
