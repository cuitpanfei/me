<!DOCTYPE html>
<html lang="en-us"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>


All Tags | Cuitpanfei Site</title>

    

<link rel="canonical" href="http://localhost:1313/tags/" />



<meta name="author" content="" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.150.0">


<meta property="og:url" content="http://localhost:1313/tags/">
  <meta property="og:site_name" content="Cuitpanfei Site">
  <meta property="og:title" content="Tags">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Tags">




<link rel="stylesheet" href="/css/output.css" />




     

    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js" integrity="sha256-4EHxtjnR5rL8JzbY12OKQJr81ESm7JBEb49ORPo29AY=" crossorigin="anonymous"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    
    

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md">
        
























<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            


<div class="flex flex-col md:flex-row mt-4">

  <div class="md:basis-[200px] lg:basis-[300px] p-4 prose dark:prose-invert">
    <h1 class="text-2xl">All Tags</h1>
    <p class="text-sm">34 tags</p>
    <div class="flex flex-wrap gap-4 mt-6">
      
      <a href="/tags/excel/" class="badge h-6 no-underline hover:badge-primary">
        Excel
      </a>
      
      <a href="/tags/freemarker/" class="badge h-6 no-underline hover:badge-primary">
        FreeMarker
      </a>
      
      <a href="/tags/java/" class="badge h-6 no-underline hover:badge-primary">
        Java
      </a>
      
      <a href="/tags/java-2d/" class="badge h-6 no-underline hover:badge-primary">
        Java 2D
      </a>
      
      <a href="/tags/linux/" class="badge h-6 no-underline hover:badge-primary">
        Linux
      </a>
      
      <a href="/tags/litiengine/" class="badge h-6 no-underline hover:badge-primary">
        LITIENGINE
      </a>
      
      <a href="/tags/pdf/" class="badge h-6 no-underline hover:badge-primary">
        Pdf
      </a>
      
      <a href="/tags/pgroza/" class="badge h-6 no-underline hover:badge-primary">
        Pgroza
      </a>
      
      <a href="/tags/python/" class="badge h-6 no-underline hover:badge-primary">
        Python
      </a>
      
      <a href="/tags/python3/" class="badge h-6 no-underline hover:badge-primary">
        Python3
      </a>
      
      <a href="/tags/redis/" class="badge h-6 no-underline hover:badge-primary">
        Redis
      </a>
      
      <a href="/tags/springcloud/" class="badge h-6 no-underline hover:badge-primary">
        SpringCloud
      </a>
      
      <a href="/tags/%E4%B8%AD%E6%96%AD%E5%BC%82%E5%B8%B8/" class="badge h-6 no-underline hover:badge-primary">
        中断异常
      </a>
      
      <a href="/tags/%E4%BA%BA%E5%8F%A3/" class="badge h-6 no-underline hover:badge-primary">
        人口
      </a>
      
      <a href="/tags/%E4%BA%BA%E5%8F%A3%E6%99%AE%E6%9F%A5/" class="badge h-6 no-underline hover:badge-primary">
        人口普查
      </a>
      
      <a href="/tags/%E5%81%87%E6%9C%9F/" class="badge h-6 no-underline hover:badge-primary">
        假期
      </a>
      
      <a href="/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/" class="badge h-6 no-underline hover:badge-primary">
        公众号
      </a>
      
      <a href="/tags/%E5%B0%8F%E5%AD%A6%E6%95%B0%E5%AD%A6/" class="badge h-6 no-underline hover:badge-primary">
        小学数学
      </a>
      
      <a href="/tags/%E5%B0%8F%E8%AF%B4/" class="badge h-6 no-underline hover:badge-primary">
        小说
      </a>
      
      <a href="/tags/%E5%BB%BA%E7%AB%99/" class="badge h-6 no-underline hover:badge-primary">
        建站
      </a>
      
      <a href="/tags/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6/" class="badge h-6 no-underline hover:badge-primary">
        异步处理文件
      </a>
      
      <a href="/tags/%E6%8E%92%E5%8D%B7/" class="badge h-6 no-underline hover:badge-primary">
        排卷
      </a>
      
      <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" class="badge h-6 no-underline hover:badge-primary">
        文件上传
      </a>
      
      <a href="/tags/%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95/" class="badge h-6 no-underline hover:badge-primary">
        模拟登录
      </a>
      
      <a href="/tags/%E6%B0%B4%E5%8D%B0/" class="badge h-6 no-underline hover:badge-primary">
        水印
      </a>
      
      <a href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/" class="badge h-6 no-underline hover:badge-primary">
        游戏引擎
      </a>
      
      <a href="/tags/%E7%89%A9%E8%81%94%E7%BD%91/" class="badge h-6 no-underline hover:badge-primary">
        物联网
      </a>
      
      <a href="/tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B9%B3%E5%8F%B0/" class="badge h-6 no-underline hover:badge-primary">
        物联网平台
      </a>
      
      <a href="/tags/%E7%94%9F%E5%AD%A9%E5%AD%90/" class="badge h-6 no-underline hover:badge-primary">
        生孩子
      </a>
      
      <a href="/tags/%E7%94%9F%E8%82%B2%E4%BF%9D%E9%99%A9/" class="badge h-6 no-underline hover:badge-primary">
        生育保险
      </a>
      
      <a href="/tags/%E7%94%9F%E8%82%B2%E5%81%87/" class="badge h-6 no-underline hover:badge-primary">
        生育假
      </a>
      
      <a href="/tags/%E7%94%9F%E8%82%B2%E6%B4%A5%E8%B4%B4/" class="badge h-6 no-underline hover:badge-primary">
        生育津贴
      </a>
      
      <a href="/tags/%E7%A4%BE%E4%BF%9D/" class="badge h-6 no-underline hover:badge-primary">
        社保
      </a>
      
      <a href="/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/" class="badge h-6 no-underline hover:badge-primary">
        腾讯云
      </a>
      
    </div>
  </div>
  
  <div class="divider divider-vertical md:divider-horizontal px-4 md:px-0"></div>
  
  <div class="flex-1">
    

    
    <div class="dream-grid">
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-308/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">微服务介绍</h2>

    <p class="date text-base-content/60">
    
      Monday, Jan 25, 2021
    
    </p>

    <p><a href="/tag/%E5%BE%AE%E6%9C%8D%E5%8A%A1">微服务</a>
</p>
<h2 id="系统架构演变">系统架构演变</h2>
<p>随着互联网的发展，网站应用的规模也在不断的扩大，进而导致系统架构也在不断的进行变化。从互联网早期到现在，系统架构大体经历了下面几个过程: 单体应用架构&mdash;&gt;垂直应用架构&mdash;&gt;分布式架构&mdash; &gt;SOA架构&mdash;&gt;微服务架构，当然还有悄然兴起的Service Mesh(服务网格化)。接下来我们就来了解一下 每种系统架构是什么样子的， 以及各有什么优缺点。</p>
<h3 id="单体应用架构">单体应用架构</h3>
<p>互联网早期，一般的网站应用流量较小，只需一个应用，将所有功能代码都部署在一起就可以，这样可以减少开发、部署和维护的成本。</p>
<p>比如说一个电商系统，里面会包含很多用户管理，商品管理，订单管理，物流管理等等很多模块，我们会把它们做成一个web项目，然后部署到一台tomcat服务器上。</p>
<p><img src="https://img.maruifu.com/images/2021/01/25/2021-01-25-8.45.08.png" alt="单体应用架构" title="单体应用架构"></p>
<p><strong>优点</strong></p>
<ul>
<li>
<p>项目架构简单，小型项目的话， 开发成本低</p>
</li>
<li>
<p>项目部署在一个节点上， 维护方便</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>
<p>全部功能集成在一个工程中，对于大型项目来讲不易开发和维护</p>
</li>
<li>
<p>项目模块之间紧密耦合，单点容错率低</p>
</li>
<li>
<p>无法针对不同模块进行针对性优化和水平扩展</p>
</li>
</ul>
<h3 id="垂直应用架构">垂直应用架构</h3>
<p>随着访问量的逐渐增大，单一应用只能依靠增加节点来应对，但是这时候会发现并不是所有的模块都会有比较大的访问量。</p>
<p>还是以上面的电商为例子， 用户访问量的增加可能影响的只是用户和订单模块， 但是对消息模块 的影响就比较小. 那么此时我们希望只多增加几个订单模块， 而不增加消息模块. 此时单体应用就做不 到了， 垂直应用就应运而生了。</p>
<p>所谓的垂直应用架构，就是将原来的一个应用拆成互不相干的几个应用，以提升效率。比如我们可 以将上面电商的单体应用拆分成:</p>
<ul>
<li>
<p>电商系统(用户管理 商品管理 订单管理)</p>
</li>
<li>
<p>后台系统(用户管理 订单管理 客户管理)</p>
</li>
<li>
<p>CMS系统(广告管理 营销管理)</p>
</li>
</ul>
<p>这样拆分完毕之后，一旦用户访问量变大，只需要增加电商系统的节点就可以了，而无需增加后台 和CMS的节点。</p>
<p><img src="https://img.maruifu.com/images/2021/01/25/image-20210125204951263.png" alt="垂直应用架构" title="垂直应用架构"></p>
<h3 id="分布式架构">分布式架构</h3>
<p>当垂直应用越来越多，重复的业务代码就会越来越多。这时候，我们就思考可不可以将重复的代码抽取 出来，做成统一的业务层作为独立的服务，然后由前端控制层调用不同的业务层服务呢?这就产生了新 的分布式系统架构。它将把工程拆分成表现层和服务层两个部分，服务层中包含业务逻辑。表现层只需 要处理和页面的交互，业务逻辑都是调用服务层的服务来实现。</p>
<p><img src="https://img.maruifu.com/images/2021/01/25/11fab86aa65f081aee76e2f826f5d2ec.png" alt="分布式架构" title="分布式架构"></p>
<p><strong>优点</strong></p>
<ul>
<li>抽取公共的功能为服务层，提高代码复用性</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>系统间耦合度变高，调用关系错综复杂，难以维护</li>
</ul>
<h3 id="soa架构">SOA架构</h3>
<p>在分布式架构下，当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现，此时需增加一个 调度中心对集群进行实时管理。此时，用于资源调度和治理中心(SOA Service OrientedArchitecture， 面向服务的架构)是关键。</p>
<p><img src="https://img.maruifu.com/images/2021/01/25/image-20210125210744070.png" alt="SOA架构 " title="SOA架构 "></p>
<p><strong>优点</strong></p>
<ul>
<li>使用注册中心解决了服务间调用关系的自动调节</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>
<p>服务间会有依赖关系，一旦某个环节出错会影响较大( 服务雪崩 )</p>
</li>
<li>
<p>服务关心复杂，运维、测试部署困难</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-309/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Typora &#43; uPic &#43;Chevereto 完美组合</h2>

    <p class="date text-base-content/60">
    
      Sunday, Jan 24, 2021
    
    </p>

    <p>对于用 <code>Markdown</code> 来写博客的用户来说，图片的引用问题是个众所周知的难题。使用了这套组合后，妈妈再也不用担心我图片链接失效打不开了。</p>
<h2 id="工具下载安装">工具下载安装：</h2>
<p>Typora ： <a href="https://www.typora.io/" target="_blank">https://www.typora.io/</a>
</p>
<p>uPic ： 从 <a href="https://github.com/gee1k/uPic/releases" target="_blank">Github release</a>
 下载。如果访问 Github 下载困难的，可以从<a href="https://gitee.com/gee1k/uPic/releases" target="_blank">Gitee release</a>
下载。</p>
<p>Chevereto ：<a href="https://chevereto.com/" target="_blank">https://chevereto.com/</a>
 ，群晖安装可以参考我之前的文章 <a href="http://maruifu.cn/article/142" target="_blank">http://maruifu.cn/article/142</a>
</p>
<h2 id="typora上传设置">Typora上传设置</h2>
<p>插入图片时选择：<code>上传图片</code></p>
<p>勾选： <code>对本地位置的图片应用上述规则</code></p>
<p>勾选： <code>对网络位置的图片应用上述规则</code></p>
<p>上传服务选择 ：<code>uPic</code></p>
<p><img src="https://img.maruifu.com/images/2021/01/24/image-20210124222726843.png" alt="image-20210124222726843" title="image-20210124222726843"></p>
<p>Typora上传设置</p>
<h2 id="upic上传设置">uPic上传设置</h2>
<p>API Key: 在浏览器登录你的<code>Chevereto</code>后，打开<code>仪表盘-&gt;设置-&gt;API</code>。拷贝 API v1 Key</p>
<p><img src="https://img.maruifu.com/images/2021/01/24/image-20210124224225336.png" alt="image-20210124224225336" title="image-20210124224225336"></p>
<p>获取API Key</p>
<p>API 地址：<code>[你的 Chevereto 地址]/api/1/upload。例如 https://demo.chevereto.com/api/1/upload</code></p>
<p>请求方式: <code>POST</code> 使用 Base64: <code>勾选</code> 文件字段名: <code>source</code></p>
<p>其他字段：</p>
<p>增加Headers字段： <code>Content-Type</code>:<code>multipart/form-data; charset=utf-8;</code></p>
<p>增加Body字段：</p>
<p><code>key</code>: <code>填写上面准备好的 [API Key]</code></p>
<p><code>action</code>: <code>upload</code></p>
<p><img src="https://img.maruifu.com/images/2021/01/24/image-20210124223850177.png" alt="image-20210124223850177" title="image-20210124223850177"></p>
<p>uPic其他字段设置</p>
<p>URL 路径：<code>上传完成后获取图片链接的路径。[&quot;image&quot;, &quot;url&quot;]</code></p>
<p><img src="https://img.maruifu.com/images/2021/01/24/image-20210124223314969.png" alt="image-20210124223314969" title="image-20210124223314969"></p>
<p>uPic上传设置</p>
<h2 id="自定义chevereto上传用户可选">自定义chevereto上传用户（可选）</h2>
<h3 id="获取root权限">获取root权限</h3>
<pre tabindex="0"><code>admin@XiaoMageNAS:~$ sudo -i
root@XiaoMageNAS:~# 
</code></pre><h3 id="查看运行的docker容器">查看运行的docker容器</h3>
<pre tabindex="0"><code>root@XiaoMageNAS:~# docker ps -a
CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS                  PORTS                                                      NAMES
f3e5f503f36d        bitwardenrs/server:1.18.0   &#34;/start.sh&#34;              4 days ago          Up 12 hours (healthy)   0.0.0.0:32769-&gt;80/tcp, 0.0.0.0:32777-&gt;3012/tcp             bitwardenrs
8f0cd2b10c84        gogs/gogs:latest            &#34;/app/gogs/docker/st…&#34;   5 weeks ago         Up 5 days               3000/tcp, 0.0.0.0:32768-&gt;22/tcp, 0.0.0.0:32770-&gt;3001/tcp   gogs-gogs1
c986eeb9d23d        portainer/portainer         &#34;/portainer&#34;             6 weeks ago         Up 5 days               0.0.0.0:9999-&gt;9000/tcp                                     portainer
5bd176c39f27        nmtan/chevereto:latest      &#34;docker-php-entrypoi…&#34;   6 months ago        Up 12 hours             0.0.0.0:10000-&gt;80/tcp                                      nmtan-chevereto1
</code></pre>


  <blockquote>
    <p>进入chevereto容器 <code>docker exec -it 5bd176c39f27 bash</code></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-310/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Git的奇技淫巧</h2>

    <p class="date text-base-content/60">
    
      Monday, Dec 21, 2020
    
    </p>

    <p>Git是一个 “分布式版本管理工具”，简单的理解版本管理工具：大家在写东西的时候都用过 “回撤” 这个</p>
<p>功能，但是回撤只能回撤几步，假如想要找回我三天之前的修改，光用 “回撤” 是找不回来的。而 “版本</p>
<p>管理工具” 能记录每次的修改，只要提交到版本仓库，你就可以找到之前任何时刻的状态（文本状</p>
<p>态）。</p>
<p>下面的内容就是列举了常用的 Git 命令和一些小技巧，可以通过 &ldquo;页面内查找&rdquo; 的方式进行快速查询：</p>
<p>Ctrl/Command+f 。</p>
<h2 id="前言"><strong>前言</strong></h2>
<ol>
<li>
<p><strong>一定要先测试命令的效果后</strong>，再用于工作环境中，以防造成不能弥补的后果！</p>
</li>
<li>
<p>所有的命令都在 git version 2.7.4 (Apple Git-66) 下测试通过</p>
</li>
<li>
<p>统一概念：</p>
<ul>
<li>
<p>工作区：改动（增删文件和内容）</p>
</li>
<li>
<p>暂存区：输入命令： git add 改动的文件名 ，此次改动就放到了 ‘暂存区’</p>
</li>
<li>
<p>本地仓库(简称：本地)：输入命令： git commit 此次修改的描述 ，此次改动就放到了 ’本地</p>
<p>仓库’，每个 commit，我叫它为一个 ‘版本’。</p>
</li>
<li>
<p>远程仓库(简称：远程)：输入命令： git push 远程仓库 ，此次改动就放到了 ‘远程仓</p>
<p>库’（GitHub 等)</p>
</li>
<li>
<p>commit-id：输出命令： git log ，最上面那行 commit xxxxxx ，后面的字符串就是</p>
<p>commit-id</p>
</li>
</ul>
</li>
</ol>
<h2 id="展示帮助信息">展示帮助信息</h2>
<pre tabindex="0"><code>git help -g  
</code></pre><p>The command output as below:</p>
<pre tabindex="0"><code>   The common Git guides are:
      attributes          Defining attributes per path
      cli                 Git command-line interface and conventions
      core-tutorial       A Git core tutorial for developers
      cvs-migration       Git for CVS users
      diffcore            Tweaking diff output
      everyday            A useful minimum set of commands for Everyday Git
      glossary            A Git Glossary
      hooks               Hooks used by Git
      ignore              Specifies intentionally untracked files to ignore
      modules             Defining submodule properties
      namespaces          Git namespaces
      repository-layout   Git Repository Layout
      revisions           Specifying revisions and ranges for Git
      tutorial            A tutorial introduction to Git
      tutorial-2          A tutorial introduction to Git: part two
      workflows           An overview of recommended workflows with Git

   &#39;git help -a&#39; and &#39;git help -g&#39; list available subcommands and some
   concept guides. See &#39;git help &lt;command&gt;&#39; or &#39;git help &lt;concept&gt;&#39;
   to read about a specific subcommand or concept.
   See &#39;git help git&#39; for an overview of the system.
</code></pre><h2 id="回到远程仓库的状态">回到远程仓库的状态</h2>
<p>抛弃本地所有的修改，回到远程仓库的状态。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>6 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-311/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">你还在new对象吗？Java8通用Builder了解一下？</h2>

    <p class="date text-base-content/60">
    
      Saturday, Nov 14, 2020
    
    </p>

    <p>文章转载自: <a href="http://www.ciphermagic.cn/java8-builder.html" target="_blank">http://www.ciphermagic.cn/java8-builder.html</a>
</p>
<p>程序员经常会遇到灵魂拷问：你有对象吗？</p>
<p>没有，但我可以 new 一个！</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GirlFriend</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 省略 getter &amp; setter ...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        GirlFriend myGirlFriend <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GirlFriend();
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;小美&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setAge</span>(18);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>没问题，老铁！但如果对象的属性太多，咋办？</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GirlFriend</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> bust;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> waist;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> hips;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> hobby;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String birthday;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String address;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String mobile;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String email;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String hairColor;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Map<span style="color:#f92672">&lt;</span>String, String<span style="color:#f92672">&gt;</span> gift;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 等等等等 ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 省略 getter &amp; setter ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        GirlFriend myGirlFriend <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GirlFriend();
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;小美&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setAge</span>(18);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setBust</span>(33);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setWaist</span>(23);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setHips</span>(33);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setBirthday</span>(<span style="color:#e6db74">&#34;2001-10-26&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setAddress</span>(<span style="color:#e6db74">&#34;上海浦东&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setMobile</span>(<span style="color:#e6db74">&#34;18688888888&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setEmail</span>(<span style="color:#e6db74">&#34;pretty-xiaomei@qq.com&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setHairColor</span>(<span style="color:#e6db74">&#34;浅棕色带点微卷&#34;</span>);
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> hobby <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        hobby.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;逛街&#34;</span>);
</span></span><span style="display:flex;"><span>        hobby.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;购物&#34;</span>);
</span></span><span style="display:flex;"><span>        hobby.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;买东西&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setHobby</span>(hobby);
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, String<span style="color:#f92672">&gt;</span> gift <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        gift.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;情人节礼物&#34;</span>, <span style="color:#e6db74">&#34;LBR 1912女王时代&#34;</span>);
</span></span><span style="display:flex;"><span>        gift.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;生日礼物&#34;</span>, <span style="color:#e6db74">&#34;迪奥烈焰蓝金&#34;</span>);
</span></span><span style="display:flex;"><span>        gift.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;纪念日礼物&#34;</span>, <span style="color:#e6db74">&#34;阿玛尼红管唇釉&#34;</span>);
</span></span><span style="display:flex;"><span>        myGirlFriend.<span style="color:#a6e22e">setGift</span>(gift);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 等等等等 ...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jAVA" data-lang="jAVA"><span style="display:flex;"><span>GirlFriend{name<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>小美<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, age<span style="color:#f92672">=</span>18
</span></span><span style="display:flex;"><span>, bust<span style="color:#f92672">=</span>33
</span></span><span style="display:flex;"><span>, waist<span style="color:#f92672">=</span>23
</span></span><span style="display:flex;"><span>, hips<span style="color:#f92672">=</span>33
</span></span><span style="display:flex;"><span>, hobby<span style="color:#f92672">=[</span>逛街, 购物, 买东西<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>, birthday<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>2001<span style="color:#f92672">-</span>10<span style="color:#f92672">-</span>26<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, address<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>上海浦东<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, mobile<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>18688888888<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, email<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>pretty<span style="color:#f92672">-</span>xiaomei<span style="color:#a6e22e">@qq.com</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, hairColor<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>浅棕色带点微卷<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>, gift<span style="color:#f92672">=</span>{情人节礼物<span style="color:#f92672">=</span>LBR 1912女王时代, 生日礼物<span style="color:#f92672">=</span>迪奥烈焰蓝金, 纪念日礼物<span style="color:#f92672">=</span>阿玛尼红管唇釉}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>GirlFriend 是很美，但写起来也太麻烦了吧。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-312/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">使用策略模式消除if else代码</h2>

    <p class="date text-base-content/60">
    
      Saturday, Nov 14, 2020
    
    </p>

    <p><a href="/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式</a>
</p>
<h2 id="需求">需求</h2>
<p>业务需求是，有一个代报考系统，里面的一个功能是根据报考类目的不同维护不同的代报考规则。</p>
<p>代报考规则的实体：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ExamRuleEditReqDTO</span> <span style="color:#66d9ef">extends</span> BaseDTO {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 无 则新增  有则 修改</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer  id;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//报考规则名称</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@NotNull</span>(message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;报考规则名称不能为空!&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String  name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  报考类目  typeCode
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  消防工程师   HC_EXAM_TYPE_FIRE_ENGINEER
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  成人高考  HC_EXAM_TYPE_ADULT_EXAM
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  ACI 心理  HC_EXAM_TYPE_ACI_PSYCHOLOGY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  ACI 营养  HC_EXAM_TYPE_ACI_NUTRITION
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  健康管理师 HC_EXAM_TYPE_HEALTH_MANAGER 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *  自定义类目  HC_EXAM_TYPE_CUSTOMIZE
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@NotNull</span>(message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;报考类目Code不能为空!&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String  typeCode;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//是否免协报费</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String  exemptionAssistFlag;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ... 省略 get / set ...</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span> }   
</span></span></code></pre></div><p>service接口</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-313/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">强大的 Stream API(三)</h2>

    <p class="date text-base-content/60">
    
      Monday, Oct 26, 2020
    
    </p>

    <h2 id="stream-的终止操作">Stream 的终止操作</h2>
<p>终端操作会从流的流水线生成结果。其结果可以是任何不是流的 值，例如：List、Integer，甚至是 void 。</p>
<p><strong>查找与匹配</strong></p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>方 法</th>
          <th>描 述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>allMatch(Predicate p)</td>
          <td>检查是否匹配所有元素</td>
      </tr>
      <tr>
          <td>2</td>
          <td>anyMatch(Predicate p)</td>
          <td>检查是否至少匹配一个元素</td>
      </tr>
      <tr>
          <td>3</td>
          <td>noneMatch(Predicate p)</td>
          <td>检查是否没有匹配所有元素</td>
      </tr>
      <tr>
          <td>4</td>
          <td>findFirst()</td>
          <td>返回第一个元素</td>
      </tr>
      <tr>
          <td>5</td>
          <td>findAny()</td>
          <td>返回当前流中的任意元素</td>
      </tr>
      <tr>
          <td>6</td>
          <td>count()</td>
          <td>返回流中元素总数</td>
      </tr>
      <tr>
          <td>7</td>
          <td>max(Comparator c)</td>
          <td>返回流中最大值</td>
      </tr>
      <tr>
          <td>8</td>
          <td>min(Comparator c)</td>
          <td>返回流中最小值</td>
      </tr>
      <tr>
          <td>9</td>
          <td>forEach(Consumer c)</td>
          <td>内部迭代(使用 Collection 接口需要用户去做迭 代，称为外部迭代。相反，Stream API 使用内部 迭代——它帮你把迭代做了)</td>
      </tr>
  </tbody>
</table>
<pre tabindex="0"><code>       @Test
    public void test1(){
        boolean b1=employees.stream()//allMatch-检查是否匹配所有元素
                .allMatch((e)-&gt;e.getStatus().equals(Status.BUSY));
        System.out.println(b1);//false

        boolean b2=employees.stream()//anyMatch-检查是否至少匹配一个元素
                .anyMatch((e)-&gt;e.getStatus().equals(Status.BUSY));
        System.out.println(b2);//true

        boolean b3=employees.stream()//noneMatch-检查是否没有匹配所有元素
                .noneMatch((e)-&gt;e.getStatus().equals(Status.BUSY));
        System.out.println(b3);//false

        Optional&lt;Employee&gt; op=employees.stream()//findFirst-返回第一个元素//Optional是Java8中避免空指针异常的容器类
                .sorted((e1,e2)-&gt;Double.compare(e1.getSalary(), e2.getSalary()))
                .findFirst();
        System.out.println(op.get());//Employee [name=王五, age=26, salary=3333.33, Status=VOCATION]

        Optional&lt;Employee&gt; op2=employees.parallelStream()//findAny-返回当前流中的任意元素
                .filter((e)-&gt;e.getStatus().equals(Status.FREE))
                .findAny();
        System.out.println(op2.get());//Employee [name=赵六, age=36, salary=6666.66, Status=FREE]

        Long count=employees.stream()//count-返回流中元素的总个数
                .count();
        System.out.println(count);//5

        Optional&lt;Employee&gt; op3=employees.stream()//max-返回流中最大值
                .max((e1,e2)-&gt;Double.compare(e1.getSalary(), e2.getSalary()));
        System.out.println(op3.get());//Employee [name=张三, age=18, salary=9999.99, Status=FREE]

        Optional&lt;Double&gt; op4=employees.stream()//min-返回流中最小值
                .map(Employee::getSalary)
                .min(Double::compare);
        System.out.println(op4.get());//3333.33
    }
</code></pre><p><strong>归约</strong></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-314/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">强大的 Stream API(二)</h2>

    <p class="date text-base-content/60">
    
      Monday, Oct 26, 2020
    
    </p>

    <h2 id="stream-的中间操作">Stream 的中间操作</h2>
<p>多个中间操作可以连接起来形成一个流水线，除非流水 线上触发终止操作，否则中间操作不会执行任何的处理！而在终止操作时一次性全部处理，称为“惰性求值”。</p>
<pre tabindex="0"><code>    //创建一个集合
    List&lt;Employee&gt; employees=Arrays.asList(
            new Employee(&#34;张三&#34;,18,9999.99),
            new Employee(&#34;李四&#34;,58,5555.55),
            new Employee(&#34;王五&#34;,26,3333.33),
            new Employee(&#34;赵六&#34;,36,6666.66),
            new Employee(&#34;田七&#34;,12,8888.88),
            new Employee(&#34;田七&#34;,12,8888.88)
     );
</code></pre><p><strong>筛选与切片</strong></p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>方 法</th>
          <th>描 述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>filter(Predicate p)</td>
          <td>接收 Lambda ， 从流中排除某些元素。</td>
      </tr>
      <tr>
          <td>2</td>
          <td>distinct()</td>
          <td>筛选，通过流所生成元素的 hashCode() 和 equals() 去 除重复元素。</td>
      </tr>
      <tr>
          <td>3</td>
          <td>limit(long maxSize)</td>
          <td>截断流，使其元素不超过给定数量。</td>
      </tr>
      <tr>
          <td>4</td>
          <td>skip(long n)</td>
          <td>跳过元素，返回一个扔掉了前 n 个元素的流。 若流中元素 不足 n 个，则返回一个空流。与 limit(n) 互补</td>
      </tr>
  </tbody>
</table>
<pre tabindex="0"><code> /*  筛选与切片
     *  filter--接收Lambda，从流中排除某些元素。
     *  limit--截断流，使其元素不超过给定数量。
     *  skip(n)--跳过元素，返回一个扔掉了前n个元素的流。若流中元素不足n个，则返回一个空流。与limit(n) 互补
     *  distinct--筛选，通过流所生成元素的 hashCode() 和 equals() 去掉重复元素
     */
//内部迭代：迭代操作由 Stream API 完成
@Test
public void test1(){
    //中间操作：不会执行任何操作
    Stream&lt;Employee&gt; stream=employees.stream()
                            .filter((e) -&gt; e.getAge()&gt;35 );
    //终止操作：一次性执行全部内容，即 惰性求值
    stream.forEach(System.out::println);
}
//外部迭代
@Test
public void test2(){
    Iterator&lt;Employee&gt; it=employees.iterator();
    while(it.hasNext()){
        System.out.println(it.next());
    }
}

@Test
public void test3(){//发现“短路”只输出了两次，说明只要找到 2 个 符合条件的就不再继续迭代
    employees.stream()
             .filter((e)-&gt;{
                 System.out.println(&#34;短路！&#34;);
                 return e.getSalary()&gt;5000;
             })
             .limit(2)
             .forEach(System.out::println);
}

@Test
public void test4(){
    employees.stream()
             .filter((e)-&gt;e.getSalary()&gt;5000)
             .skip(2)//跳过前两个
             .distinct()//去重，注意：需要Employee重写hashCode 和 equals 方法
             .forEach(System.out::println);
}
</code></pre><p><strong>映射</strong></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-315/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">强大的 Stream API(一）</h2>

    <p class="date text-base-content/60">
    
      Monday, Oct 26, 2020
    
    </p>

    <h2 id="了解-stream">了解 Stream</h2>
<p>Java8中有两大最为重要的改变。第一个是 Lambda 表达式；另外一 个则是 Stream API(java.util.stream.*)。 Stream 是 Java8 中处理集合的关键抽象概念，它可以指定你希望对 集合进行的操作，可以执行非常复杂的查找、过滤和映射数据等操作。 使用Stream API 对集合数据进行操作，就类似于使用 SQL 执行的数 据库查询。也可以使用 Stream API 来并行执行操作。简而言之， Stream API 提供了一种高效且易于使用的处理数据的方式。</p>
<h2 id="什么是-stream">什么是 Stream</h2>
<p>流(Stream) 到底是什么呢？ 是数据渠道，用于操作数据源（集合、数组等）所生成的元素序列。 <code>“集合讲的是数据，流讲的是计算！”</code></p>
<p>注意：</p>



  <blockquote>
    <p>①Stream 自己不会存储元素。 ②Stream 不会改变源对象。相反，他们会返回一个持有结果的新Stream。 ③Stream 操作是延迟执行的。这意味着他们会等到需要结果的时候才执行。</p>
  </blockquote>

<h2 id="stream-的操作三个步骤">Stream 的操作三个步骤</h2>
<ol>
<li>
<p>创建 Stream</p>
<p>一个数据源（如：集合、数组），获取一个流</p>
</li>
<li>
<p>中间操作 一个中间操作链，对数据源的数据进行处理</p>
</li>
<li>
<p>终止操作(终端操作) 一个终止操作，执行中间操作链，并产生结果</p>
<h3 id="创建-stream">创建 Stream</h3>
<p>1.1可以通过Collection 系列集合提供的stream()或parallelStream()方法</p>
<p>default Stream&lt; E&gt; stream() : 返回一个顺序流 default Stream&lt; E&gt; parallelStream() : 返回一个并行流</p>
<pre tabindex="0"><code>//可以通过Collection 系列集合提供的stream()或parallelStream()
List&lt;String&gt; list = new ArrayList&lt;&gt;();
Stream&lt;String&gt; stream1 = list.stream();
Stream&lt;String&gt; stream2 = list.parallelStream();
</code></pre><p>1.2通过 Arrays 中的静态方法stream()获取数组流</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-13/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">物联网平台——Pgroza（一）</h2>

    <p class="date text-base-content/60">
    
      Tuesday, Oct 6, 2020
    
    </p>

    <h1 id="pgroza-简介">Pgroza 简介</h1>
<p>Pgroza 是参考groza制作的物联网平台，面向个人，开源。
此项目仅仅用于学习，不建议用在商业用途。
之所以会有这个想法，主要是因为之前从事过物联网行业，虽然是做上层业务的，但是还是对这个生态比较感兴趣，然后在网上找了不少的资料过后，终于还是决定自己搭建一个。经过调研后发现几个问题：1.凑齐一个生态成本比较高；2.基于现成的云平台进行开发过后，总是要受各种条件限制；3.依赖现有平台和框架，最后开发的基本上都是各种业务层的东西了，对生态链还是不够深入理解。</p>
<h1 id="关于pgroza的发展">关于Pgroza的发展</h1>
<p>其实我还没想好要怎么去研发Pgroza，现在的想法是现做一个面向单个家庭的。
所以应该是一个<strong>单机版</strong>的，为了以后<strong>拓展方便</strong>，开发时需要<strong>注意解耦</strong>的问题。
如果研发顺利，应该是可以做成分布式的；未来的人对数据隐私会比现在重视的很多，所以多家庭接入的问题暂时不会考虑了。最后就是如果要面向大众，最好是能一键化部署，就好像安装应用程序一样。</p>
<h1 id="对pgroza的初期功能分析">对Pgroza的初期功能分析</h1>
<h2 id="涉及对象">涉及对象</h2>
<p>一般情况，物联网平台涉及对象不外乎两个：<strong>用户和设备</strong>。</p>
<p>对于<strong>设备</strong>： 设备需要接入，接入时需要提供协议，现在的物联网平台一般都是规定一定的接入协议的，设备一般都是需要去遵从这些既定协议的。当然，如果设备商比较牛掰，物联网平台也可以增加协议去适配厂商的。设备按照协议接入平台后，在某些事件（常见的就是温度变化、湿度变化以及光变化等等）触发后，向平台上报数据，平台根据协议解析后，存储下来，展示的接口就可以查询数据用于展示了。高级的功能可以根据不同设备的事件产生联动效果（比如：检测到光变暗了，就开灯）。同种设备安装在不同的地方可能有不同的应用，所以每个设备需要有自己的信息，最好是在接入的时候就关联上。</p>
<p>对于<strong>用户</strong>：用户需要管理设备（如：设备接入平台，设备信息维护，联动问题以及设备状态管理等等），但是不是所有用户都需要去管理设备，大部分人都是使用设备的，经常去使用的应当是各个设备的联动。所以用户有两种提供设备的人，使用设备的人。提供设备的人一般不关心接入用户使用的系统，而是关心怎么把硬件接入系统。</p>
<h2 id="简单功能分析">简单功能分析</h2>
<ol>
<li>协议问题</li>
</ol>
<p>设备和系统间通信提供socket协议以及蓝牙协议，具体的加密协议设备厂商自定义；在提供设备时，需要提供一份通信协议的sdk以便传输数据时加解密。</p>
<ol start="2">
<li>设备接入</li>
</ol>
<p>使用socket接入的设备商需要给设备固定mac地址并标识出来，蓝牙方式接入的设备不做要求；接入时，socket设备提供接入接口以便平台扫描，蓝牙设备同样需要默认开启蓝牙</p>
<ol start="3">
<li>用户</li>
</ol>
<p>用户不需要手动去接入设备，由平台自动扫描接入；但是用户需要给设备命名(修改设备信息时，mac地址不可修改）、根据设备商提供的说明上传sdk并为设备指定sdk。</p>
<ol start="4">
<li>平台</li>
</ol>
<p>平台就比较复杂了，需要提供协议管理、设备管理以及用户管理。</p>
<h1 id="需求">需求</h1>
<h2 id="设备管理">设备管理</h2>
<h3 id="设备接入">设备接入</h3>
<p>设备接入可以选择socket接入或者蓝牙接入，设备启动后由平台自行扫描，如果设备同时提供两种方式，则优先选择socket模式接入。接入时自动记录设备的相关信息到数据库，其中设备的mac地址字段需要建立索引，接入类型需要标注为socket/蓝牙，接入后，需要提示管理员立刻去更新设备信息以及指定<strong>协议管理</strong>中上传的通信的sdk。</p>
<h3 id="设备onlineoffline">设备online/offline</h3>
<p>设备接入后，默认为上线状态，后续扫描设备时，如果发现设备未被扫描到，重试扫描后还未发现，将设备状态改为下线状态。对外提供此设备上下线消息</p>
<h3 id="设备状态检测">设备状态检测</h3>
<p>检测设备的实时状态，可在设备信息中设置是否需要被扫描，设置后的设备才会被定时检测</p>
<h2 id="协议管理">协议管理</h2>
<p>协议sdk上传指定厂商和版本号，自动保存一条协议记录。</p>
<h2 id="用户管理">用户管理</h2>
<p>用户在设备接入后，会收到根据接入通知。用户收到接入通知后，需要去修改设备信息，为其指定厂商以及协议sdk等信息。</p>
<p>如果厂商还未添加，需要先添加厂商，然后上传协议sdk到指定厂商的指定设备下</p>
<h2 id="事件联动">事件联动</h2>
<p>设备可提供的事件需要封装在协议sdk中，这些事件，分协议：如果是socket协议通信的设备，只接受ip和port；如果是蓝牙，只接受mac地址</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-316/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">域名工具网站</h2>

    <p class="date text-base-content/60">
    
      Wednesday, Sep 23, 2020
    
    </p>

    <h3 id="国内注册商国内站长和企业喜欢的注册商">国内注册商,国内站长和企业喜欢的注册商</h3>
<ol>
<li><a href="http://www.net.cn" target="_blank">www.net.cn</a>
</li>
</ol>
<h3 id="国内新后缀注册商">国内新后缀注册商</h3>
<ol>
<li><a href="http://west.cn" target="_blank">west.cn</a>
</li>
<li><a href="http://363.hk" target="_blank">363.hk</a>
</li>
<li><a href="http://zzy.cn" target="_blank">zzy.cn</a>
</li>
</ol>
<h3 id="国内二位后缀域名注册商">国内二位后缀域名注册商</h3>
<ol>
<li><a href="http://quyu.net" target="_blank">quyu.net</a>
</li>
</ol>
<h3 id="国际注册商">国际注册商</h3>
<ol>
<li><a href="http://Porkbun.com" target="_blank">Porkbun.com</a>
</li>
<li><a href="http://Dynadot.com" target="_blank">Dynadot.com</a>
</li>
<li><a href="http://Godaddy.com" target="_blank">Godaddy.com</a>
</li>
<li><a href="http://Namecheap.com" target="_blank">Namecheap.com</a>
</li>
<li><a href="http://Name.com" target="_blank">Name.com</a>
</li>
<li><a href="http://Namesilo.com" target="_blank">Namesilo.com</a>
</li>
<li><a href="http://Uniregistry.com" target="_blank">Uniregistry.com</a>
</li>
<li><a href="http://AllDomains.hosting" target="_blank">AllDomains.hosting</a>
</li>
</ol>
<h3 id="各后缀域名抢注平台">各后缀域名抢注平台</h3>
<ol>
<li>
<p>.com .net .org .cn .cc: <a href="http://juming.com" target="_blank">juming.com</a>
</p>
</li>
<li>
<p>.info .mobi .asia .xxx .pro .red .black .bet .blue .ac .us ：<a href="http://Dynadot.com" target="_blank">Dynadot.com</a>
</p>
</li>
</ol>
<h3 id="新后缀抢注平台">新后缀抢注平台</h3>
<ol>
<li><a href="http://Hexonet.net" target="_blank">Hexonet.net</a>
</li>
<li><a href="http://zzy.cn" target="_blank">zzy.cn</a>
</li>
<li><a href="http://west.cn" target="_blank">west.cn</a>
</li>
</ol>
<h3 id="国别后缀抢注平台">国别后缀抢注平台</h3>
<ol>
<li>
<p>.ac .ag .bz .gg .io .je .ly .me .mn .sc .sh .to .vc ： <a href="http://park.io" target="_blank">park.io</a>
</p>
</li>
<li>
<p>.eu .be .ch .de .fr .it .li .nl .uk ： <a href="http://catchtiger.com" target="_blank">catchtiger.com</a>
</p>
</li>
<li>
<p>.es .it ： <a href="http://nidoma.com" target="_blank">nidoma.com</a>
</p>
</li>
<li>
<p>.nu .se ： <a href="http://webb.se" target="_blank">webb.se</a>
 、<a href="http://rymdweb.com" target="_blank">rymdweb.com</a>
</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
    </div>
    

    
    <div class="flex justify-center pt-8">
      <div class="join grid grid-cols-2">
  
  <a href="/tags/page/10/" title=Previous&#32;page class="join-item btn btn-outline btn-sm">
    Previous page
  </a>
  
  
  <a href="/tags/page/12/" title="Next page" class="join-item btn btn-outline btn-sm">
    Next page
  </a>
  
</div>

    </div>
    
  </div>
</div>



            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    





    

    

    

    

    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js" integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin="anonymous"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js" integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin="anonymous"></script>
  </body>
</html>
