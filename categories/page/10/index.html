<!DOCTYPE html>
<html lang="en-us"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>


All Categories | Cuitpanfei Site</title>

    

<link rel="canonical" href="http://localhost:1313/categories/" />



<meta name="author" content="" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.150.0">


<meta property="og:url" content="http://localhost:1313/categories/">
  <meta property="og:site_name" content="Cuitpanfei Site">
  <meta property="og:title" content="Categories">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Categories">




<link rel="stylesheet" href="/css/output.css" />




     

    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js" integrity="sha256-4EHxtjnR5rL8JzbY12OKQJr81ESm7JBEb49ORPo29AY=" crossorigin="anonymous"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    
    

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md">
        
























<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            


<div class="flex flex-col md:flex-row mt-4">

  <div class="md:basis-[200px] lg:basis-[300px] p-4 prose dark:prose-invert">
    <h1 class="text-2xl">All Categories</h1>
    <p class="text-sm">18 categories</p>
    <div class="flex flex-wrap gap-4 mt-6">
      
      <a href="/categories/docker/" class="badge h-6 no-underline hover:badge-primary">
        Docker
      </a>
      
      <a href="/categories/ide/" class="badge h-6 no-underline hover:badge-primary">
        IDE
      </a>
      
      <a href="/categories/java/" class="badge h-6 no-underline hover:badge-primary">
        Java
      </a>
      
      <a href="/categories/maven/" class="badge h-6 no-underline hover:badge-primary">
        Maven
      </a>
      
      <a href="/categories/nas/" class="badge h-6 no-underline hover:badge-primary">
        NAS
      </a>
      
      <a href="/categories/spring-cloud/" class="badge h-6 no-underline hover:badge-primary">
        Spring Cloud
      </a>
      
      <a href="/categories/springboot/" class="badge h-6 no-underline hover:badge-primary">
        SpringBoot
      </a>
      
      <a href="/categories/%E5%89%8D%E7%AB%AF/" class="badge h-6 no-underline hover:badge-primary">
        前端
      </a>
      
      <a href="/categories/%E5%A5%BD%E7%8E%A9%E6%8A%80%E5%B7%A7/" class="badge h-6 no-underline hover:badge-primary">
        好玩技巧
      </a>
      
      <a href="/categories/%E5%BB%BA%E7%AB%99/" class="badge h-6 no-underline hover:badge-primary">
        建站
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="badge h-6 no-underline hover:badge-primary">
        数据库
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="badge h-6 no-underline hover:badge-primary">
        数据结构与算法
      </a>
      
      <a href="/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="badge h-6 no-underline hover:badge-primary">
        架构设计
      </a>
      
      <a href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" class="badge h-6 no-underline hover:badge-primary">
        版本控制
      </a>
      
      <a href="/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/" class="badge h-6 no-underline hover:badge-primary">
        虚拟机
      </a>
      
      <a href="/categories/%E8%AF%AD%E8%A8%80/" class="badge h-6 no-underline hover:badge-primary">
        语言
      </a>
      
      <a href="/categories/%E8%BF%90%E7%BB%B4/" class="badge h-6 no-underline hover:badge-primary">
        运维
      </a>
      
      <a href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/" class="badge h-6 no-underline hover:badge-primary">
        默认分类
      </a>
      
    </div>
  </div>
  
  <div class="divider divider-vertical md:divider-horizontal px-4 md:px-0"></div>
  
  <div class="flex-1">
    

    
    <div class="dream-grid">
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-298/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">后端开发术语</h2>

    <p class="date text-base-content/60">
    
      Sunday, Mar 28, 2021
    
    </p>

    <blockquote>
    <p>后台开发作为互联网技术领域的掌上明珠，一直都是开发者们的追逐的高峰。本文将从后台开发所涉及到的技术术语出发，基于系统开发、架构设计、网络通信等几个方面让大家对后台来发有一个清晰的了解，讲解全面易懂。</p>
  </blockquote>

<h2 id="系统开发">系统开发</h2>
<h4 id="高内聚低耦合">高内聚/低耦合</h4>
<p>高内聚指一个软件模块是由相关性很强的代码组成，只负责一项任务，也就是常说的单一责任原则。模块的内聚反映模块内部联系的紧密程度。</p>
<p>模块之间联系越紧密，其耦合性就越强，模块的独立性则越差。模块间耦合高低取决于模块间接口的复杂性、调用的方式及传递的信息。一个完整的系统，模块与模块之间，尽可能的使其独立存在。**通常程序结构中各模块的内聚程度越高，模块间的耦合程度就越低。</p>
<h4 id="过度设计">过度设计</h4>
<p>过度设计就是进行了过多的面向未来的设计或者说把相对简单的事情想复杂了，过度追求模块化、可扩展性、设计模式等，为系统增加了不必要的复杂度。</p>
<h4 id="过早优化">过早优化</h4>
<p>过早指的不是在开发过程的早期，而是在还没弄清楚需求未来的变化的走向的时候。你的优化不仅可能导致你无法很好地实现新的需求，而且你对优化的预期的猜测有可能还是错的，导致实际上你除了把代码变复杂以外什么都没得到。</p>
<p>正确的方法是，<strong>先有质量地实现你的需求，写够testcase，然后做profile去找到性能的瓶颈，这个时候才做优化。</strong></p>
<h4 id="重构-refactoring">重构 (Refactoring)</h4>
<p>重构（Refactoring）就是通过调整程序代码改善软件的质量、性能，使其程序的设计模式和架构更趋合理，提高软件的扩展性和维护性。</p>
<h4 id="破窗效应">破窗效应</h4>
<p>又称破窗理论，破窗效应（Broken windows theory）是犯罪学的一个理论。此理论认为环境中的不良现象如果被放任存在，会诱使人们仿效，甚至变本加厉。一幢有少许破窗的建筑为例，如果那些窗不被修理好，可能将会有破坏者破坏更多的窗户。最终他们甚至会闯入建筑内，如果发现无人居住，也许就在那里定居或者纵火。</p>
<p>应用在软件工程上就是，<strong>一定不能让系统代码或者架构设计的隐患有冒头的机会，否则随着时间的推移，隐患会越来越重</strong>。反之，一个本身优质的系统，会让人不由自主的写出优质的代码。</p>
<h4 id="互不信任原则">互不信任原则</h4>
<p>指在程序运行上下游的整个链路中，每个点都是不能保证绝对可靠的，任何一个点都可能随时发生故障或者不可预知的行为，包括机器网络、服务本身、依赖环境、输入和请求等，因此要处处设防。</p>
<h4 id="持久化-persistence">持久化 (Persistence)</h4>
<p>持久化是将程序数据在临时状态和持久状态间转换的机制。通俗的讲，就是临时数据（比如内存中的数据，是不能永久保存的）持久化为持久数据（比如持久化至数据库或者本地磁盘中，能够长久保存）。</p>
<h4 id="临界区">临界区</h4>
<p>临界区用来表示一种公共资源或者说是共享数据，可以被多个线程使用，但是每一次，只能有一个线程使用它，一旦临界区资源被占用，其他线程要想使用这个资源，就必须等待。</p>
<h4 id="阻塞非阻塞">阻塞/非阻塞</h4>
<p>阻塞和非阻塞通常形容多线程间的相互影响。比如一个线程占用了临界区资源，那么其它所有需要这个资源的线程就必须在这个临界区中进行等待，等待会导致线程挂起。这种情况就是阻塞。此时，如果占用资源的线程一直不愿意释放资源，那么其它所有阻塞在这个临界区上的线程都不能工作。而非阻塞允许多个线程同时进入临界区。</p>
<h4 id="同步异步">同步/异步</h4>
<p>通常同步和异步是指函数/方法调用方面。</p>
<p><strong>同步</strong>就是在发出一个函数调用时，在没有得到结果之前，该调用就不返回。<strong>异步</strong>调用会瞬间返回，但是异步调用瞬间返回并不代表你的任务就完成了，他会在后台起个线程继续进行任务，等任务执行完毕后通过回调callback或其他方式通知调用方。</p>
<h4 id="并发并行">并发/并行</h4>
<ul>
<li>
<p>**并行(parallel)**指在同一时刻，有多条指令在多个处理器上同时执行。所以无论从微观还是从宏观来看，二者都是一起执行的。</p>
</li>
<li>
<p>**并发(concurrency)**指在同一时刻只能有一条指令执行，但多个进程指令被快速的轮换执行，使得在宏观上具有多个进程同时执行的效果，但在微观上并不是同时执行的，只是把时间分成若干段，使多个进程快速交替的执行。</p>
</li>
</ul>
<h2 id="架构设计">架构设计</h2>
<h4 id="高并发-high-concurrency">高并发 (High Concurrency)</h4>
<p>由于分布式系统的问世，高并发（High Concurrency）通常是指通过设计保证系统能够同时并行处理很多请求。通俗来讲，高并发是指在同一个时间点，有很多用户同时的访问同一 API 接口或者 Url 地址。它经常会发生在有大活跃用户量，用户高聚集的业务场景中。</p>
<h4 id="高可用-high-availability">高可用 (High Availability)</h4>
<p>高可用HA（High Availability）是分布式系统架构设计中必须考虑的因素之一，它通常是指，一个系统经过专门的设计，以减少停工时间，而保持其服务的高度可用性。</p>
<h4 id="读写分离">读写分离</h4>
<p>为了确保数据库产品的稳定性，很多数据库拥有双机热备功能。也就是，第一台数据库服务器，是对外提供增删改业务的生产服务器；第二台数据库服务器，主要进行读的操作。</p>
<h4 id="冷备热备">冷备/热备</h4>
<ul>
<li><strong>冷备：两个服务器，一台运行，一台不运行做为备份</strong>。这样一旦运行的服务器宕机，就把备份的服务器运行起来。冷备的方案比较容易实现，但冷备的缺点是主机出现故障时备机不会自动接管，需要主动切换服务。</li>
<li><strong>热备：即是通常所说的active/standby方式</strong>，服务器数据包括数据库数据同时往两台或多台服务器写。当active服务器出现故障的时候，通过软件诊测（一般是通过心跳诊断）将standby机器激活，保证应用在短时间内完全恢复正常使用。当一台服务器宕机后，自动切换到另一台备用机使用。</li>
</ul>
<h4 id="异地多活">异地多活</h4>
<p><strong>异地多活一般是指在不同城市建立独立的数据中心</strong>，“活”是相对于冷备份而言的，冷备份是备份全量数据，平时不支撑业务需求，只有在主机房出现故障的时候才会切换到备用机房，而多活，是指这些机房在日常的业务中也需要走流量，做业务支撑。</p>
<h4 id="负载均衡-load-balance">负载均衡 (Load Balance)</h4>
<p>负载均衡，是对多台服务器进行流量分发的负载均衡服务。可在多个实例间自动分配应用程序的对外服务能力，通过消除单点故障提升应用系统的可用性，让您实现更高水平的应用程序容错能力，从而无缝提供分配应用程序流量所需的负载均衡容量，为您提供高效、稳定、安全的服务。</p>
<h4 id="动静分离">动静分离</h4>
<p>动静分离是指在web服务器架构中，将静态页面与动态页面或者静态内容接口和动态内容接口分开不同系统访问的架构设计方法，进而提升整个服务访问性能和可维护性。</p>
<h4 id="集群">集群</h4>
<p>单台服务器的并发承载能力总是有限的，当单台服务器处理能力达到性能瓶颈的时，将多台服务器组合起来提供服务，这种组合方式称之为集群，集群中每台服务器就叫做这个集群的一个“节点”，每个节点都能提供相同的服务，从而成倍的提升整个系统的并发处理能力。</p>
<h4 id="分布式">分布式</h4>
<p>分布式系统就是将一个完整的系统按照业务功能拆分成很多独立的子系统，每个子系统就被称为“服务”，分布式系统将请求分拣和分发到不同的子系统，让不同的服务来处理不同的请求。在分布式系统中，子系统独立运行，它们之间通过网络通信连接起来实现数据互通和组合服务。</p>
<h4 id="cap理论">CAP理论</h4>
<p>CAP理论，指的是在一个分布式系统中，Consistency(一致性)、Availability(可用性)、Partition Tolerance(分区容错性)，不能同时成立。</p>
<ul>
<li>
<p>**一致性：**它要求在同一时刻点，分布式系统中的所有数据备份都相同或者都处于同一状态。</p>
</li>
<li>
<p>**可用性：**在系统集群的一部分节点宕机后，系统依然能够正确的响应用户的请求。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-299/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">关于JDK源码：我想聊聊如何更高效地阅读</h2>

    <p class="date text-base-content/60">
    
      Monday, Mar 22, 2021
    
    </p>

    <h2 id="为什么要看jdk源码">为什么要看JDK源码</h2>
<p>一，JDK源码是其它所有源码的<strong>基础</strong>，看懂了JDK源码再看其它的源码会达到事半功倍的效果。</p>
<p>二，JDK源码中包含大量的<strong>数据结构</strong>知识，是学习数据结构很好的资料，比如，链表、队列、散列表、红黑树、跳表、桶、堆、双端队列等。</p>
<p>三、JDK源码中包含大量的<strong>设计模式</strong>，是学习设计模式很好的资料，比如，适配器模式、模板方法模式、装饰器模式、迭代器模式、代理模式、工厂模式、命令模式、状态模式等。</p>
<p>三，JDK源码中包含大量Java的<strong>高阶知识</strong>，比如弱引用、Unsafe、CAS、锁原理、伪共享等，不看源码是很难学会这些知识的。</p>
<p>四，面试时更好地<strong>收割offer</strong>，这可能是很多同学最初的想法，其实真正看多了源码，这一点可能并不是太重要了，因为你会发现更广阔的世界。</p>
<p>五，我认为最重要的，阅读源码是对思维的一种锻炼，是学习优秀设计的<strong>最佳途径</strong></p>
<h2 id="jdk源码的阅读顺序">JDK源码的阅读顺序</h2>
<p>JDK 中的代码非常多，不可能、也没必要全部读完，因此要有的放矢。从整体上来讲，我分成了以下几个部分：</p>
<h3 id="基础类">基础类</h3>
<p><strong>基础类</strong>，是指组成JDK源码地基的一部分类。</p>
<p>比如包装类、反射类、工具类等，这些类有个共同点，就是代码逻辑相对简单，不存在数据结构、复杂运算等问题。</p>
<p><strong>对于基础类</strong>，我的建议是自己从头到尾浏览一遍，对于看不懂的地方可以写测试用例或者上网查查资料。比如，Integer里面有个IntegerCache内部类你可能不知道干嘛的，这时候光看代码是没用的，只能上网查查资料了，也不能盲目地死磕。</p>
<h3 id="简单集合">简单集合</h3>
<p><strong>简单集合</strong>，是指不存在多线程安全问题的集合。</p>
<p>这部分集合一般用在单线程中，或者方法体中，但是他们用到了很多的数据结构，所以需要一定的数据结构知识。</p>
<p><strong>对于简单集合</strong>，我的建议是先弄明白底层的数据结构知识，再去看源码，这样可能会轻松一些。当然，我后面也会出数据结构系列的。</p>
<h3 id="原子类">原子类</h3>
<p><strong>原子类</strong>，是指在多线程环境下能够保证原子性的类。</p>
<p>这部分类主要包括Atomic_开头和_Adder结尾的类，位于juc下面的atomic包中。</p>
<p><strong>对于原子类</strong>，我的建议是先去了解底层的Unsafe、CAS、伪共享等概念，再去看最简单的AtomicInteger，最后再看LongAdder这种复杂的类。其中，断点调试是不可或缺的手段。</p>
<p>说句实话，LongAdder这个类能学到很多高阶的知识，非常推荐把这个类研究透彻，后面再去看Disruptor、Netty等源码会事半功倍。</p>
<h3 id="同步器">同步器</h3>
<p><strong>同步器</strong>，是指为了控制多个线程的竞争关系而存在的类或者关键字等， ，它们可以说是Java中最重要的内容，没有它们就无法控制多线程的正常运转。</p>
<p>这部分内容主要包括synchronized关键字、volatile关键字、重入锁、读写锁、倒计时器、信号量、回环栅栏、阶段器、分布式锁的实现等等。</p>
<p><strong>对于同步器</strong>，我的建议是先了解内存模型、可见性、原子性、有序性、Happens-Before等基本概念，再尝试阅读这部分的源码，最后再归纳出属于你自己理解的“同步器的原理”。</p>
<h3 id="并发集合">并发集合</h3>
<p><strong>并发集合</strong>，是指多线程环境下能够保证数据一致性的集合。</p>
<p>这部分集合主要是运用在多线程环境下，只有极个别类牵涉到高级的数据结构，更多的是锁、CAS、volatile、自旋等高阶技巧的运用。</p>
<p><strong>对于并发集合</strong>，我的建议有三点：</p>
<ul>
<li>
<p>一定要在同步器之后阅读</p>
</li>
<li>
<p>数据结构先搞透，比如ConcurrentSkipList</p>
</li>
<li>
<p>利用IDEA的Thread级别的断点，不断调试，不断调试，不断调试</p>
</li>
</ul>
<h3 id="线程池类">线程（池）类</h3>
<p><strong>线程（池）类</strong>，是指跟线程和线程池相关的类。</p>
<p>这部分类主要包含Thread、ThreadLocal、三种线程池等。</p>
<p><strong>对于线程（池）类</strong>，我的建议是先从整体上把握，再分成几个块来看，看哪块的东西就只看那块的东西，不要管其它的代码，即要搞清楚你的重点在哪里，比如，看线程运行的流程就不要管状态的事，凡是牵涉到状态的代码全部跳过，反之亦然，都看完了，再串一起看。</p>
<h3 id="ionio类">IO/NIO类</h3>
<p><strong>IO类</strong>，是指跟输入输出流相关的类，这部分类主要包括文件操作相关的类以及网络IO相关的类。</p>
<p>对于IO类，我的建议是简单浏览，做到心里有数即可，用到的时候再去查都可以。</p>
<p>但是对于nio相关的类，还是要好好研究的，这部分类我们放在Netty源码阅读的相关章节中一起学习。</p>
<h3 id="其它类">其它类</h3>
<p><strong>其它类</strong>，工作中遇到了可以点进去看看，但是不建议抽出时间单独去研究，比如，时间类、awt类，看的必要性不是很大。</p>
<h2 id="如何阅读集合">如何阅读集合</h2>
<p>首页了解各个集合特点，可以画个思维导图或者啥的助于理解</p>
<p><img src="https://img.maruifu.com/images/2022/11/30/b340dc73ee631675e8c667bdc07f4207.png" alt="集合" title="集合"></p>
<h2 id="如何阅读具体一个类">如何阅读具体一个类</h2>
<p>如何阅读一个类的源码呢？主要步骤大概是：</p>
<ol>
<li>先读接口代码。包括接口说明文档、各个方法的定义和说明文档。</li>
<li>再读实现类的主要方法实现，通常有以下两条主线入口：构造方法和 常用方法</li>
</ol>
<p>在 Java 中，接口通常意味着是一种“标准”、或者“协议”。一个接口可以有多个实现类，它们都会按照接口的这种标准来实现接口的各个方法。因此，理解了一个方法的定义，再去看它的实现会更容易理解。</p>
<p>下面以常用的 ArrayList 为例，分析如何去阅读它的源码。</p>
<h4 id="继承结构">继承结构</h4>
<p>首先看下 ArrayList 的继承结构：</p>
<p><img src="https://img.maruifu.com/images/2022/11/30/image-20221130103419456.png" alt="image-20221130103419456" title="image-20221130103419456"></p>
<p>ArrayList：可以看到它实现了很多接口，其中三个接口 Cloneable、RandomAccess、Serializable 都是空的，可以暂时忽略。主要去看 Iterable、Collection 以及 List 接口的方法定义。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-300/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Idea 打包成功，运行失败</h2>

    <p class="date text-base-content/60">
    
      Thursday, Mar 18, 2021
    
    </p>

    <p>最近开发中，发现一个奇怪的问题，用idea 的maven ，编译，打包都能够成功，项目中也没有爆红出错，但是你运行/调式SpringBoot的启动类的时候，会提示包**不存在。网上找了很多解决方案 都没成功。最后终于成功了，特此记录分享下：</p>
<ul>
<li>Idea Terminal 中 输入 <code>mvn idea:idea</code></li>
<li>File-Invadiate Cache/Restart ，清除缓存，重启</li>
</ul>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-301/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">springboot自动判定空值</h2>

    <p class="date text-base-content/60">
    
      Thursday, Feb 25, 2021
    
    </p>

    <p>Spring Boot 参数校验</p>
<h2 id="前言">前言</h2>
<p>搭建springboot项目，我们都是采用的Restful接口，那么问题来了，当前端调用接口或者是其他项目调用时，我们不能单一靠调用方来控制参数的准确性，自己也要对一些非空的 值进行判定。</p>
<h2 id="方案">方案</h2>
<p>按照我们以往的做法，都是对request中的参数一个一个进行非空判定。</p>
<p>Model:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>publicclassOrder{
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">private</span> Long userID;
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">private</span> Long addressID;
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">private</span> String comment;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Controller:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@PostMapping</span>(<span style="color:#e6db74">&#34;/createOrders&#34;</span>)
</span></span><span style="display:flex;"><span>publicStringcreateOrders(<span style="color:#a6e22e">@RequestBodyOrderdto</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span>(dto.<span style="color:#a6e22e">getUserID</span><span style="color:#f92672">==</span><span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>      	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;userID不能为空&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span>(dto.<span style="color:#a6e22e">getAddressID</span><span style="color:#f92672">==</span><span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;addressID不能为空&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span>(dto.<span style="color:#a6e22e">getComment</span><span style="color:#f92672">==</span><span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;comment不能为空&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;sucess&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这种做法首先是可取的，能达到我们的要求，但是这样如果model字段过多，判定的就很 多，相对维护起来就不是那么方便，其次增加controller层的负担，既然我们来到spring4 的时代，就应该适应使用注解的趋势，下面是使用注解后的比变化。</p>
<p>Model:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>publicclassOrder{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">@NotNull</span>(message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;用户ID不能为空&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> Long userID;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">@NotNull</span>(message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;收货人地址id不能为空&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> Long addressID;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">@NotBlank</span>(message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;备注不为空&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> String comment;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Controller:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@PostMapping</span>(<span style="color:#e6db74">&#34;/createOrders&#34;</span>)
</span></span><span style="display:flex;"><span>publicStringcreateOrders(<span style="color:#a6e22e">@RequestBody</span> <span style="color:#a6e22e">@Valid</span> Order dto,BindingResult results) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> (results.<span style="color:#a6e22e">hasErrors</span>()){
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">return</span> results.<span style="color:#a6e22e">getFieldError</span>().<span style="color:#a6e22e">getDefaultMessage</span>();      
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这样我们就只需要在model字段上加上非空验证和相应提示语就好了。 备注:@Valid 和@Validated效果一样，可以加在controller中，也可以加载dto上</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-302/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Mysql配置详解</h2>

    <p class="date text-base-content/60">
    
      Tuesday, Feb 23, 2021
    
    </p>

    <h2 id="一安装">一、安装</h2>
<h3 id="1docker-安装">1、docker 安装</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>DOCKER_NAME<span style="color:#f92672">=</span>mysql
</span></span><span style="display:flex;"><span>MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span>78Jikbfz6zKYfPjC
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建挂载目录</span>
</span></span><span style="display:flex;"><span>mkdir -p /data/$DOCKER_NAME
</span></span><span style="display:flex;"><span>mkdir -p /data/$DOCKER_NAME/conf
</span></span><span style="display:flex;"><span>mkdir -p /data/$DOCKER_NAME/data
</span></span><span style="display:flex;"><span>mkdir -p  /data/$DOCKER_NAME/sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 编写初始化sql</span>
</span></span><span style="display:flex;"><span>vi /data/$DOCKER_NAME/sql/init.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 编写mysql配置文件</span>
</span></span><span style="display:flex;"><span>vi /data/$DOCKER_NAME/conf/my.cnf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 下载容器镜像</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># docker search mysql</span>
</span></span><span style="display:flex;"><span>docker pull mysql:5.7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 运行容器</span>
</span></span><span style="display:flex;"><span>docker run --name $DOCKER_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p 3306:3306 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /data/$DOCKER_NAME/conf:/etc/mysql <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /data/$DOCKER_NAME/data:/var/lib/mysql <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span>$MYSQL_ROOT_PASSWORD <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-d mysql:5.7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 执行初始化脚本</span>
</span></span><span style="display:flex;"><span>mysql -uroot -p$MYSQL_ROOT_PASSWORD -h 127.0.0.1 -P <span style="color:#ae81ff">3306</span> &lt; /data/$DOCKER_NAME/sql/init.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 登陆验证</span>
</span></span><span style="display:flex;"><span>mysql -uroot -p$MYSQL_ROOT_PASSWORD -h 127.0.0.1 -P <span style="color:#ae81ff">33307</span>
</span></span><span style="display:flex;"><span>mysql&gt; show databases ;
</span></span></code></pre></div><h3 id="2编译安装">2、编译安装</h3>
<h3 id="3yum安装">3、Yum安装</h3>
<h2 id="二配置文件">二、配置文件</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 客户端登录配置</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>client<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>port <span style="color:#f92672">=</span> <span style="color:#ae81ff">3306</span> <span style="color:#75715e"># 端口号</span>
</span></span><span style="display:flex;"><span>socket <span style="color:#f92672">=</span> /var/lib/mysql/mysql.sock <span style="color:#75715e"># 套接字文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 客户端命令行配置</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mysql<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>no-auto-rehash <span style="color:#75715e"># 默认不自动补全 auto-rehash自动补全</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 服务优化配置</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>skip-grant-tables <span style="color:#75715e"># 跳过登录验证</span>
</span></span><span style="display:flex;"><span>user <span style="color:#f92672">=</span> mysql <span style="color:#75715e"># 默认启动用户，一般不需要修改，可能出现启动不成功</span>
</span></span><span style="display:flex;"><span>port <span style="color:#f92672">=</span> <span style="color:#ae81ff">3306</span> <span style="color:#75715e"># 端口号</span>
</span></span><span style="display:flex;"><span>socket <span style="color:#f92672">=</span> /var/lib/mysql/mysql.sock <span style="color:#75715e"># 套接字文件 （套接字方式登陆比TCP/IP方式连接快）</span>
</span></span><span style="display:flex;"><span>character-set-server <span style="color:#f92672">=</span> utf8mb4 <span style="color:#75715e"># 设置数据库服务器默认编码 utf-8</span>
</span></span><span style="display:flex;"><span>basedir <span style="color:#f92672">=</span> /usr/local/mysql <span style="color:#75715e"># 数据库安装目录--指定此参数可解决相对路径造成的问题</span>
</span></span><span style="display:flex;"><span>datadir <span style="color:#f92672">=</span> /var/lib/mysql <span style="color:#75715e">#数据库目录，数据库目录切换时需要用到</span>
</span></span><span style="display:flex;"><span>pid-file <span style="color:#f92672">=</span> /var/run/mysqld/mysqld.pid <span style="color:#75715e">#mysql进程文件，可指定自己的进程文件</span>
</span></span><span style="display:flex;"><span>external-locking <span style="color:#f92672">=</span> FALSE <span style="color:#75715e">#外部锁定(非多服务器可不设置该选项，默认skip-external-locking)</span>
</span></span><span style="display:flex;"><span>skip-external-locking <span style="color:#75715e">#跳过外部锁定 （避免多进程环境下的external locking--锁机制）</span>
</span></span><span style="display:flex;"><span>skip-name-resolve <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e">#跳过主机名解析，直接IP访问，可提升访问速度</span>
</span></span><span style="display:flex;"><span>log-error <span style="color:#f92672">=</span> /data/log/mysqld_error.log <span style="color:#75715e">#错误日志文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 重要配置</span>
</span></span><span style="display:flex;"><span>max_connections <span style="color:#f92672">=</span> <span style="color:#ae81ff">5000</span> <span style="color:#75715e"># 最大连接数</span>
</span></span><span style="display:flex;"><span>max_connect_errors <span style="color:#f92672">=</span> <span style="color:#ae81ff">6000</span> <span style="color:#75715e"># 客户端请求异常中断次数</span>
</span></span><span style="display:flex;"><span>max_allowed_packet <span style="color:#f92672">=</span> 32M <span style="color:#75715e"># 限制单条数据大小</span>
</span></span><span style="display:flex;"><span>sort_buffer_size <span style="color:#f92672">=</span> 8M <span style="color:#75715e"># 每个连接独享内存数，如：500连接 * 8 = 4G 内存</span>
</span></span><span style="display:flex;"><span>join_buffer_size <span style="color:#f92672">=</span> 8M <span style="color:#75715e"># 表关联缓存大小，每个连接独享</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 数据库引擎相关参数</span>
</span></span><span style="display:flex;"><span>default-storage-engine <span style="color:#f92672">=</span> InnoDB <span style="color:#75715e"># 默认数据库引擎</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 性能分析</span>
</span></span><span style="display:flex;"><span>slow-query-log <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 是否记录慢查询日志</span>
</span></span><span style="display:flex;"><span>long_query_time <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e"># 慢查询超时时间设置</span>
</span></span><span style="display:flex;"><span>slow-query-log-file<span style="color:#f92672">=</span>/var/log/mysql/query-slow.log <span style="color:#75715e">#慢查询日志记录文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 二进制文件设置</span>
</span></span><span style="display:flex;"><span>log_bin <span style="color:#f92672">=</span> <span style="color:#f92672">=</span> /data/log/mysql/bin-log.log <span style="color:#75715e"># 开启bin-log日志，指定存储路径</span>
</span></span><span style="display:flex;"><span>binlog_format <span style="color:#f92672">=</span> ROW <span style="color:#75715e"># ROW(基于行的复制--安全，但是注意并发) STATEMENT(基于sql语句的复制)，MIXED(混合模式复制)</span>
</span></span><span style="display:flex;"><span>binlog_cache_size <span style="color:#f92672">=</span> 4M <span style="color:#75715e"># 二进制日志缓存，提高log-bin记录效率</span>
</span></span><span style="display:flex;"><span>log_bin_trust_function_creators <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e">#主从复制是需要注意，为了保证主从复制完全一致，需要开启此选项，主从默认阻止函数创建</span>
</span></span><span style="display:flex;"><span>max_binlog_size <span style="color:#f92672">=</span> 1G <span style="color:#75715e"># 二进制日志文件大小默认1G 要求大于4096 小于1G</span>
</span></span><span style="display:flex;"><span>expire_logs_days <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span> <span style="color:#75715e"># 清除过期日志</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 主从复制相关</span>
</span></span><span style="display:flex;"><span>server-id <span style="color:#f92672">=</span> <span style="color:#ae81ff">2020</span> <span style="color:#75715e">#主从复制必须，并且各服务器具有唯一性</span>
</span></span><span style="display:flex;"><span>log_slave_updates <span style="color:#75715e">#配置从服务器的更新是否写入二进制日志，默认是不打开的</span>
</span></span><span style="display:flex;"><span>replicate-ignore-db <span style="color:#f92672">=</span> mysql <span style="color:#75715e">#主从复制默认忽略的数据库，可用&#34;,&#34;分隔或使用多条记录</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># replicate-do-db=qrs,login #主从复制指定数据库,&#34;,&#34;号隔开或使用多条记录</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#数据库全量备份</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqldump<span style="color:#f92672">]</span> 
</span></span><span style="display:flex;"><span>quick <span style="color:#75715e">#强制mysqldump从服务器一次一行地检索表中的行</span>
</span></span><span style="display:flex;"><span>max_allowed_packet <span style="color:#f92672">=</span> 32M <span style="color:#75715e">#可接收数据包大小</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>isamchk<span style="color:#f92672">]</span> <span style="color:#75715e">#在mysqld服务器不使用的情况下修复表或在崩溃状态下恢复表</span>
</span></span><span style="display:flex;"><span>key_buffer <span style="color:#f92672">=</span> 1024M
</span></span><span style="display:flex;"><span>sort_buff_size <span style="color:#f92672">=</span>1024M
</span></span><span style="display:flex;"><span>read_buffer <span style="color:#f92672">=</span> 16M
</span></span><span style="display:flex;"><span>write_buffer <span style="color:#f92672">=</span> 16M
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>myisamchk<span style="color:#f92672">]</span> <span style="color:#75715e">#在mysqld服务器不使用的情况下修复表或在崩溃状态下恢复表</span>
</span></span><span style="display:flex;"><span>key_buffer <span style="color:#f92672">=</span> 1024M 
</span></span><span style="display:flex;"><span>sort_buff_size <span style="color:#f92672">=</span> 1024M
</span></span><span style="display:flex;"><span>read_buffer <span style="color:#f92672">=</span> 16M
</span></span><span style="display:flex;"><span>write_buffer <span style="color:#f92672">=</span> 16M
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld_safe<span style="color:#f92672">]</span> <span style="color:#75715e">#safe方式启动数据库，相比于mysqld,会在服务启动后继续监控服务状态，死机时重启</span>
</span></span><span style="display:flex;"><span>open-files-limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">8192</span>
</span></span></code></pre></div><h2 id="三sql语句">三、sql语句</h2>
<h2 id="四备份">四、备份</h2>
<h3 id="1mysqldump">1、mysqldump</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 建造AR-mysql</span>
</span></span><span style="display:flex;"><span>server_host<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>server_port<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>server_user<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>server_passwd<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>back_date<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date <span style="color:#e6db74">&#34;+%Y-%m-%d&#34;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>back_time<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date <span style="color:#e6db74">&#34;+%H:%M:%S&#34;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>back_path<span style="color:#f92672">=</span>/data/backup/$back_date/mysql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 切换到备份目录</span>
</span></span><span style="display:flex;"><span>mkdir -p $back_path
</span></span><span style="display:flex;"><span>cd $back_path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># db列表(过滤不备份库)</span>
</span></span><span style="display:flex;"><span>db_list<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>mysql -h $server_host <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-P $server_port <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-u$server_user <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p$server_passwd <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#34;show databases;&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>| grep -Ev <span style="color:#e6db74">&#34;Database|information_schema|mysql|test|performance_schema|sys&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 遍历备份</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> db in $db_list;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>sql_name<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>db<span style="color:#e6db74">}</span>_<span style="color:#e6db74">${</span>back_time<span style="color:#e6db74">}</span>.sql
</span></span><span style="display:flex;"><span>mysqldump -h $server_host <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-P $server_port <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-u$server_user <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p$server_passwd <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--databases $db &gt; $sql_name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除过期文件</span>
</span></span><span style="display:flex;"><span>find /data/backup/ -mindepth <span style="color:#ae81ff">2</span> -type d -mtime +3 -exec rm -rf <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>--all-databases <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 备份所有服务器</span>
</span></span><span style="display:flex;"><span>--compact <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 压缩模式</span>
</span></span><span style="display:flex;"><span>--comments <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 添加注释信息</span>
</span></span><span style="display:flex;"><span>--complete-insert <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 输出完成的插入语句</span>
</span></span><span style="display:flex;"><span>--lock-tables <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 备份前，锁定所有数据库表</span>
</span></span><span style="display:flex;"><span>--no-create-db | --no-create-info <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 禁止生成创建数据库语句</span>
</span></span><span style="display:flex;"><span>--force <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 当出现错误时仍然继续备份操作</span>
</span></span><span style="display:flex;"><span>--default-character-set <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 指定默认字符集</span>
</span></span><span style="display:flex;"><span>--add-locks 
</span></span><span style="display:flex;"><span>--no-data <span style="color:#ae81ff">\ </span><span style="color:#75715e"># 不到处</span>
</span></span></code></pre></div>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-303/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">minio安装使用</h2>

    <p class="date text-base-content/60">
    
      Tuesday, Feb 23, 2021
    
    </p>

    <h2 id="一安装">一、安装</h2>
<h3 id="docker">docker</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull minio/minio:latest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DOCKER_NAME<span style="color:#f92672">=</span>minio
</span></span><span style="display:flex;"><span>MINIO_ACCESS_KEY<span style="color:#f92672">=</span>admin
</span></span><span style="display:flex;"><span>MINIO_SECRET_KEY<span style="color:#f92672">=</span>admin123
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mkdir -p /data/$DOCKER_NAME/data
</span></span><span style="display:flex;"><span>mkdir -p /data/$DOCKER_NAME/conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run --name $DOCKER_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p 9000:9000 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#34;MINIO_ACCESS_KEY=</span>$MINIO_ACCESS_KEY<span style="color:#e6db74">&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#34;MINIO_SECRET_KEY=</span>$MINIO_SECRET_KEY<span style="color:#e6db74">&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /data/$DOCKER_NAME/data:/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /data/$DOCKER_NAME/conf:/root/.minio <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>minio/minio server /data
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 客户端</span>
</span></span><span style="display:flex;"><span>docker pull minio/mc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -it --entrypoint<span style="color:#f92672">=</span>/bin/sh minio/mc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mc config host add myminio http://192.168.0.1:9000 $MINIO_ACCESS_KEY  $MINIO_SECRET_KEY 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 配置指定桶开放下载</span>
</span></span><span style="display:flex;"><span>mc policy set public myminio/backup
</span></span></code></pre></div><h3 id="源码">源码</h3>
<p>&hellip;</p>
<hr>
<h2 id="二mc客户端使用">二、mc客户端使用</h2>
<h3 id="bucket桶策略">bucket桶策略</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cat</span> <span style="color:#960050;background-color:#1e0010">&gt;</span> <span style="color:#960050;background-color:#1e0010">getonly.json</span> <span style="color:#960050;background-color:#1e0010">&lt;&lt;</span> <span style="color:#960050;background-color:#1e0010">EOF</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>, 
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;Statement&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;Action&#34;</span>: [												<span style="color:#75715e">// 	可以做出的行动（权限）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;s3:ListAllMyBuckets&#34;</span>,          <span style="color:#75715e">//  查看所有的“桶”列表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;s3:ListBucket&#34;</span>,               	<span style="color:#75715e">//  查看桶内的对象列表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;s3:GetBucketLocation&#34;</span>,         
</span></span><span style="display:flex;"><span>				<span style="color:#e6db74">&#34;s3:GetObject&#34;</span>,               	<span style="color:#75715e">//  下载对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;s3:PutObject&#34;</span>,               	<span style="color:#75715e">//  上传对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>				<span style="color:#e6db74">&#34;s3:DeleteObject&#34;</span>            	 	<span style="color:#75715e">//  删除对象									
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;Resource&#34;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;arn:aws:s3:::my-bucketname/*&#34;</span> 	<span style="color:#75715e">// （应用到的资源，*表示所有，也可以用路径来控制范围。arn:aws:s3是命名空间）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;Sid&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">EOF</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 添加该策略</span>
</span></span><span style="display:flex;"><span>mc admin policy add myminio getonly getonly.json
</span></span></code></pre></div><h3 id="管理用户">管理用户</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 创建用户</span>
</span></span><span style="display:flex;"><span>mc admin user add myminio newuser password
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 授权策略</span>
</span></span><span style="display:flex;"><span>mc admin policy set myminio getonly user<span style="color:#f92672">=</span>newuser
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 禁用用户</span>
</span></span><span style="display:flex;"><span>mc admin user disable myminio newuser
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 列出所有用户</span>
</span></span><span style="display:flex;"><span>mc admin user list myminio
</span></span></code></pre></div><h3 id="管理组">管理组</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 创建组</span>
</span></span><span style="display:flex;"><span>mc admin group add myminio newgroup newuser
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 授权策略</span>
</span></span><span style="display:flex;"><span>mc admin policy set myminio getonly group<span style="color:#f92672">=</span>newgroup
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 禁用组</span>
</span></span><span style="display:flex;"><span>mc admin group disable myminio newgroup
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 列出所有组</span>
</span></span></code></pre></div><h2 id="三使用问题">三、使用问题</h2>
<h3 id="1分享链接无法访问">1、分享链接无法访问</h3>
<h4 id="nginx代理配置"><code>nginx代理配置</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">server</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">listen</span> <span style="color:#ae81ff">80</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">server_name</span> <span style="color:#e6db74">minio.maruifu.cn</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">location</span> <span style="color:#e6db74">/</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_set_header</span> <span style="color:#e6db74">Host</span> $http_host;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_set_header</span> <span style="color:#e6db74">X-Real-IP</span> $remote_addr;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_set_header</span> <span style="color:#e6db74">X-Forwarded-Proto</span> $scheme;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_set_header</span> <span style="color:#e6db74">X-Forwarded-Host</span> $http_host;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_set_header</span> <span style="color:#e6db74">X-Forwarded-For</span> $proxy_add_x_forwarded_for;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proxy_pass</span> <span style="color:#e6db74">http://127.0.0.1:9000</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="配置bucket访问权限"><code>配置bucket访问权限</code></h4>



  <blockquote>
    <p>minio默认bucket无读取和写入权限</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-304/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Gateway--服务网关</h2>

    <p class="date text-base-content/60">
    
      Tuesday, Feb 2, 2021
    
    </p>

    <p><a href="/tag/%E5%BE%AE%E6%9C%8D%E5%8A%A1">微服务</a>
</p>
<h2 id="网关简介">网关简介</h2>
<p>大家都都知道在微服务架构中，一个系统会被拆分为很多个微服务。那么作为客户端要如何去调用这么 多的微服务呢?如果没有网关的存在，我们只能在客户端记录每个微服务的地址，然后分别去调用。</p>
<p><img src="https://img.maruifu.com/images/2021/02/02/2021-02-01-3.50.40.png" alt="网关简介" title="网关简介"></p>
<p><strong>这样的架构，会存在着诸多的问题:</strong></p>
<ul>
<li>
<p>客户端多次请求不同的微服务，增加客户端代码或配置编写的复杂性</p>
</li>
<li>
<p>认证复杂，每个服务都需要独立认证。</p>
</li>
<li>
<p>存在跨域请求，在一定场景下处理相对复杂。</p>
</li>
</ul>
<p>上面的这些问题可以借助<strong>API网关</strong>来解决。 所谓的API网关，就是指系统的<strong>统一入口</strong>，它封装了应用程序的内部结构，为客户端提供统一服务，一些与业务本身功能无关的公共逻辑可以在这里实现，诸如认证、鉴权、监控、路由转发等等。 添加上API网关之后，系统的架构图变成了如下所示:</p>
<p><img src="https://img.maruifu.com/images/2021/02/02/image-20210201155346655.png" alt="API网关" title="API网关"></p>
<p><strong>我们也可以观察下，我们现在的整体架构图:</strong></p>
<p><img src="https://img.maruifu.com/images/2021/02/02/image-20210201155428549.png" alt="整体架构图" title="整体架构图"></p>
<p>在业界比较流行的网关，有下面这些:</p>
<ul>
<li>
<p><strong>Ngnix+lua</strong>:使用nginx的反向代理和负载均衡可实现对api服务器的负载均衡及高可用，lua是一 种脚本语言,可以来编写一些简单的逻辑, nginx支持lua脚本</p>
</li>
<li>
<p><strong>Kong</strong>:基于Nginx+Lua开发，性能高，稳定，有多个可用的插件(限流、鉴权等等)可以开箱即用。 问题:只支持Http协议;二次开发，自由扩展困难;提供管理API，缺乏更易用的管控、配置 方式。</p>
</li>
<li>
<p><strong>Zuul</strong> :Netflflix开源的网关，功能丰富，使用JAVA开发，易于二次开发 问题:缺乏管控，无法动 态配置;依赖组件较多;处理Http请求依赖的是Web容器，性能不如Nginx</p>
</li>
<li>
<p><strong>Spring Cloud Gateway</strong>:Spring公司为了替换Zuul而开发的网关服务，将在下面具体介绍。</p>
</li>
</ul>



  <blockquote>
    <p>**注意:**SpringCloud alibaba技术栈中并没有提供自己的网关，我们可以采用Spring Cloud Gateway来做网关</p>
  </blockquote>

<h2 id="gateway简介">Gateway简介</h2>
<p>Spring Cloud Gateway是Spring公司基于Spring 5.0，Spring Boot 2.0 和 Project Reactor 等技术开发 的网关，它旨在为微服务架构提供一种简单有效的统一的 API 路由管理方式。它的目标是替代Netflflix Zuul，其不仅提供统一的路由方式，并且基于 Filter 链的方式提供了网关基本的功能，例如:安全，监 控和限流。</p>
<p><strong>优点:</strong></p>
<ul>
<li>
<p>性能强劲:是第一代网关Zuul的1.6倍</p>
</li>
<li>
<p>功能强大:内置了很多实用的功能，例如转发、监控、限流等</p>
</li>
<li>
<p>设计优雅，容易扩展</p>
</li>
</ul>
<p><strong>缺点:</strong></p>
<ul>
<li>
<p>其实现依赖Netty与WebFlux，不是传统的Servlet编程模型，学习成本高</p>
</li>
<li>
<p>不能将其部署在Tomcat、Jetty等Servlet容器里，只能打成jar包执行</p>
</li>
<li>
<p>需要Spring Boot 2.0及以上的版本，才支持</p>
</li>
</ul>
<h2 id="gateway快速入门">Gateway快速入门</h2>
<p>要求: 通过浏览器访问api网关,然后通过网关将请求转发到商品微服务</p>
<h3 id="基础版">基础版</h3>
<p>第1步:创建一个 api-gateway 的模块,导入相关依赖</p>
<pre tabindex="0"><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt;
    &lt;parent&gt;
    &lt;artifactId&gt;springcloud-alibaba&lt;/artifactId&gt;
    &lt;groupId&gt;cn.maruifu&lt;/groupId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;/parent&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;artifactId&gt;api-gateway&lt;/artifactId&gt;
    &lt;dependencies&gt;
        &lt;!--gateway网关--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre><p>第2步: 创建主类</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>7 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-305/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Sentinel--服务容错</h2>

    <p class="date text-base-content/60">
    
      Friday, Jan 29, 2021
    
    </p>

    <p><a href="/tag/%E5%BE%AE%E6%9C%8D%E5%8A%A1">微服务</a>
</p>
<h2 id="高并发带来的问题">高并发带来的问题</h2>
<p>在微服务架构中，我们将业务拆分成一个个的服务，服务与服务之间可以相互调用，但是由于网络原因 或者自身的原因，服务并不能保证服务的100%可用，如果单个服务出现问题，调用这个服务就会出现 网络延迟，此时若有大量的网络涌入，会形成任务堆积，最终导致服务瘫痪。</p>
<p><strong>接下来，我们来模拟一个高并发的场景</strong></p>
<ol>
<li>编写java代码</li>
</ol>
<pre tabindex="0"><code>@RestController
@Slf4j
public class OrderController2 {
    @Autowired
    private OrderService orderService;
    @Autowired
    private ProductService productService;

    @RequestMapping(&#34;/order/prod/{pid}&#34;)
    public Order order(@PathVariable(&#34;pid&#34;) Integer pid) {
        log.info(&#34;接收到{}号商品的下单请求,接下来调用商品微服务查询此商品信息&#34;, pid);//调用商品微服 务,查询商品信息
        Product product = productService.findByPid(pid);
        log.info(&#34;查询到{}号商品的信息,内容是:{}&#34;, pid, JSON.toJSONString(product)); //模拟一次网络延时
        try {
            Thread.sleep(100);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        //下单(创建订单)
        Order order = new Order();
        order.setUid(1);
        order.setUsername(&#34;测试用户&#34;);
        order.setPid(pid);
        order.setPname(product.getPname());
        order.setPprice(product.getPprice());
        order.setNumber(1);
        //为了不产生太多垃圾数据,暂时不做订单保存
        //orderService.createOrder(order);
        log.info(&#34;创建订单成功,订单信息为{}&#34;, JSON.toJSONString(order));
        return order;
    }

    @RequestMapping(&#34;/order/message&#34;)
    public String message() {
        return &#34;高并发下的问题测试&#34;;
    }
}
 
</code></pre><ol start="2">
<li>修改配置文件中tomcat的并发数</li>
</ol>
<pre tabindex="0"><code>server:
 #端口
 port: 8091
 #tomcat配置
 tomcat:
  #tomcat的最大并发值修改为10,默认是200
 	max-threads: 10 #tomcat的最大并发值修改为10,默认是200
</code></pre><ol start="3">
<li>接下来使用压测工具,对请求进行压力测试</li>
</ol>
<p>下载地址https://jmeter.apache.org/</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>9 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-306/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Nacos Discovery--服务治理</h2>

    <p class="date text-base-content/60">
    
      Wednesday, Jan 27, 2021
    
    </p>

    <p><a href="/tag/%E5%BE%AE%E6%9C%8D%E5%8A%A1">微服务</a>
</p>
<h2 id="服务治理介绍">服务治理介绍</h2>
<p><strong>先来思考一个问题</strong>？</p>
<p>通过上一章的操作，我们已经可以实现微服务之间的调用。但是我们把服务提供者的网络地址(ip，端 口)等硬编码到了代码中，这种做法存在许多问题:</p>
<p>一旦服务提供者地址变化，就需要手工修改代码 一旦是多个服务提供者，无法实现负载均衡功能 一旦服务变得越来越多，人工维护调用关系困难</p>
<p>那么应该怎么解决呢， 这时候就需要通过注册中心动态的实现<strong>服务治理</strong>。</p>
<h3 id="什么是服务治理"><strong>什么是服务治理</strong></h3>
<p>服务治理是微服务架构中最核心最基本的模块。用于实现各个微服务的<strong>自动化注册与发现</strong>。</p>
<p>**服务注册:**在服务治理框架中，都会构建一个注册中心，每个服务单元向注册中心登记自己提供服 务的详细信息。并在注册中心形成一张服务的清单，服务注册中心需要以心跳的方式去监测清单中 的服务是否可用，如果不可用，需要在服务清单中剔除不可用的服务。</p>
<p>**服务发现:**服务调用方向服务注册中心咨询服务，并获取所有服务的实例清单，实现对具体服务实例的访问。</p>
<p><img src="https://img.maruifu.com/images/2021/01/27/image-20210127213529134.png" alt="服务治理" title="服务治理"></p>
<p>通过上面的调用图会发现，除了微服务，还有一个组件是<strong>服务注册中心</strong>，它是微服务架构非常重要的一 个组件，在微服务架构里主要起到了协调者的一个作用。注册中心一般包含如下几个功能:</p>
<ol>
<li>
<p>服务发现: 服务注册:保存服务提供者和服务调用者的信息</p>
<p>服务订阅:服务调用者订阅服务提供者的信息，注册中心向订阅者推送提供者的信息</p>
</li>
<li>
<p>服务配置:</p>
<ul>
<li>配置订阅:服务提供者和服务调用者订阅微服务相关的配置</li>
<li>配置下发:主动将配置推送给服务提供者和服务调用者</li>
</ul>
</li>
<li>
<p>服务健康检测 检测服务提供者的健康情况，如果发现异常，执行服务剔除</p>
</li>
</ol>
<h3 id="常见的注册中心"><strong>常见的注册中心</strong></h3>
<ul>
<li><strong>Zookeeper</strong></li>
</ul>
<p>zookeeper是一个分布式服务框架，是Apache Hadoop 的一个子项目，它主要是用来解决分布式 应用中经常遇到的一些数据管理问题，如:统一命名服务、状态同步服务、集群管理、分布式应用 配置项的管理等。</p>
<ul>
<li><strong>Eureka</strong></li>
</ul>
<p>Eureka是Springcloud Netflix中的重要组件，主要作用就是做服务注册和发现。但是现在已经闭 源</p>
<ul>
<li><strong>Consul</strong></li>
</ul>
<p>Consul是基于GO语言开发的开源工具，主要面向分布式，服务化的系统提供服务注册、服务发现 和配置管理的功能。Consul的功能都很实用，其中包括:服务注册/发现、健康检查、Key/Value 存储、多数据中心和分布式一致性保证等特性。Consul本身只是一个二进制的可执行文件，所以 安装和部署都非常简单，只需要从官网下载后，在执行对应的启动脚本即可。</p>
<ul>
<li><strong>Nacos</strong></li>
</ul>
<p>Nacos是一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。他是SpringCloud Alibaba 组件之一，负责服务注册发现和服务配置，可以这样认为 nacos=eureka+config。</p>
<h2 id="nacos简介">nacos简介</h2>
<p>Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现</p>
<p>动态服务发现、服务配置、服务元数据及流量管理。 从上面的介绍就可以看出，<strong>nacos的作用就是一个注册中心</strong>，用来管理注册上来的各个微服务。</p>
<h2 id="nacos实战入门">nacos实战入门</h2>
<p>接下来，我们就在现有的环境中加入nacos，并将我们的两个微服务注册上去。</p>
<h3 id="搭建nacos环境">搭建nacos环境</h3>
<h4 id="安装nacos">安装nacos</h4>
<p>从 Github 上下载源码方式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/alibaba/nacos.git
</span></span><span style="display:flex;"><span>cd nacos/
</span></span><span style="display:flex;"><span>mvn -Prelease-nacos -Dmaven.test.skip<span style="color:#f92672">=</span>true clean install -U  
</span></span><span style="display:flex;"><span>ls -al distribution/target/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>// change the $version to your actual path
</span></span><span style="display:flex;"><span>cd distribution/target/nacos-server-$version/nacos/bin
</span></span></code></pre></div><p>下载编译后压缩包方式</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>5 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-307/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">微服务环境搭建</h2>

    <p class="date text-base-content/60">
    
      Wednesday, Jan 27, 2021
    
    </p>

    <p><a href="/tag/%E5%BE%AE%E6%9C%8D%E5%8A%A1">微服务</a>
</p>
<p>我们本次是使用的电商项目中的商品、订单、用户为案例进行讲解.</p>
<h2 id="案例准备">案例准备</h2>
<h3 id="技术选型">技术选型</h3>
<p><strong>maven:</strong> 3.3.9</p>
<p><strong>数据库:</strong> MySQL 5.7</p>
<p><strong>持久层:</strong> SpingData Jpa</p>
<p><strong>其他:</strong> SpringCloud Alibaba 技术栈</p>
<h3 id="模块设计">模块设计</h3>
<p>springcloud-alibaba 父工程</p>
<p>shop-common 公共模块【实体类】</p>
<p>shop-user 用户微服务 【端口: 8071】</p>
<p>shop-product 商品微服务 【端口: 8081】</p>
<p>shop-order 订单微服务 【端口: 8091】</p>
<p><img src="https://img.maruifu.com/images/2021/01/27/image-20210127203623839.png" alt="模块设计" title="模块设计"></p>
<h3 id="微服务调用">微服务调用</h3>
<p>在微服务架构中，最常见的场景就是微服务之间的相互调用。我们以电商系统中常见的<strong>用户下单</strong>为例来 演示微服务的调用:客户向订单微服务发起一个下单的请求，在进行保存订单之前需要调用商品微服务 查询商品的信息。</p>
<p>我们一般把服务的主动调用方称为<strong>服务消费者</strong>，把服务的被调用方称为<strong>服务提供者</strong>。</p>
<p><img src="https://img.maruifu.com/images/2021/01/27/image-20210127203651412.png" alt="微服务调用" title="微服务调用"></p>
<p>在这种场景下，订单微服务就是一个服务消费者， 商品微服务就是一个服务提供者。</p>
<h2 id="创建数据库">创建数据库</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">DATABASE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> <span style="color:#f92672">`</span>shop<span style="color:#f92672">`</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">DATABASE</span>  <span style="color:#f92672">`</span>shop<span style="color:#f92672">`</span> <span style="color:#66d9ef">DEFAULT</span> CHARACTER <span style="color:#66d9ef">SET</span> utf8mb4 <span style="color:#66d9ef">COLLATE</span> utf8mb4_general_ci;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> <span style="color:#66d9ef">NAMES</span> utf8mb4;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> FOREIGN_KEY_CHECKS <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>USE <span style="color:#f92672">`</span>shop<span style="color:#f92672">`</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>shop_order<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>oid<span style="color:#f92672">`</span> int <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> AUTO_INCREMENT <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;主键&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>username<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;用户名&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>uid<span style="color:#f92672">`</span> int <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;用户id&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pid<span style="color:#f92672">`</span> int <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;商品ID&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pname<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;商品名称&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pprice<span style="color:#f92672">`</span> decimal(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;商品价格&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>number<span style="color:#f92672">`</span> int <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;数量&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>oid<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>) ENGINE<span style="color:#f92672">=</span>InnoDB AUTO_INCREMENT<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8mb4 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8mb4_general_ci;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>shop_product<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pid<span style="color:#f92672">`</span> int <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> AUTO_INCREMENT <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;主键&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pname<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;商品名称&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>pprice<span style="color:#f92672">`</span> decimal(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;商品价格&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>stock<span style="color:#f92672">`</span> int <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;库存&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>pid<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>) ENGINE<span style="color:#f92672">=</span>InnoDB AUTO_INCREMENT<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8mb4 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8mb4_general_ci;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">`</span>shop_user<span style="color:#f92672">`</span> (
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>uid<span style="color:#f92672">`</span> int <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span> AUTO_INCREMENT <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;主键&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>username<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;用户名&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>password<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;密码&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>telephone<span style="color:#f92672">`</span> varchar(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">NULL</span> <span style="color:#66d9ef">COMMENT</span> <span style="color:#e6db74">&#39;手机号&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span> (<span style="color:#f92672">`</span>uid<span style="color:#f92672">`</span>)
</span></span><span style="display:flex;"><span>) ENGINE<span style="color:#f92672">=</span>InnoDB <span style="color:#66d9ef">DEFAULT</span> CHARSET<span style="color:#f92672">=</span>utf8mb4 <span style="color:#66d9ef">COLLATE</span><span style="color:#f92672">=</span>utf8mb4_general_ci;
</span></span></code></pre></div><h2 id="创建父工程">创建父工程</h2>
<p>创建一个maven工程，然后在pom.xml文件中添加下面内容</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>5 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
    </div>
    

    
    <div class="flex justify-center pt-8">
      <div class="join grid grid-cols-2">
  
  <a href="/categories/page/9/" title=Previous&#32;page class="join-item btn btn-outline btn-sm">
    Previous page
  </a>
  
  
  <a href="/categories/page/11/" title="Next page" class="join-item btn btn-outline btn-sm">
    Next page
  </a>
  
</div>

    </div>
    
  </div>
</div>



            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    





    

    

    

    

    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js" integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin="anonymous"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js" integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin="anonymous"></script>
  </body>
</html>
