<!DOCTYPE html>
<html lang="en-us"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>


All Categories | Cuitpanfei Site</title>

    

<link rel="canonical" href="http://localhost:1313/categories/" />



<meta name="author" content="" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.150.0">


<meta property="og:url" content="http://localhost:1313/categories/">
  <meta property="og:site_name" content="Cuitpanfei Site">
  <meta property="og:title" content="Categories">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Categories">




<link rel="stylesheet" href="/css/output.css" />




     

    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js" integrity="sha256-4EHxtjnR5rL8JzbY12OKQJr81ESm7JBEb49ORPo29AY=" crossorigin="anonymous"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    
    

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md">
        
























<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            


<div class="flex flex-col md:flex-row mt-4">

  <div class="md:basis-[200px] lg:basis-[300px] p-4 prose dark:prose-invert">
    <h1 class="text-2xl">All Categories</h1>
    <p class="text-sm">18 categories</p>
    <div class="flex flex-wrap gap-4 mt-6">
      
      <a href="/categories/docker/" class="badge h-6 no-underline hover:badge-primary">
        Docker
      </a>
      
      <a href="/categories/ide/" class="badge h-6 no-underline hover:badge-primary">
        IDE
      </a>
      
      <a href="/categories/java/" class="badge h-6 no-underline hover:badge-primary">
        Java
      </a>
      
      <a href="/categories/maven/" class="badge h-6 no-underline hover:badge-primary">
        Maven
      </a>
      
      <a href="/categories/nas/" class="badge h-6 no-underline hover:badge-primary">
        NAS
      </a>
      
      <a href="/categories/spring-cloud/" class="badge h-6 no-underline hover:badge-primary">
        Spring Cloud
      </a>
      
      <a href="/categories/springboot/" class="badge h-6 no-underline hover:badge-primary">
        SpringBoot
      </a>
      
      <a href="/categories/%E5%89%8D%E7%AB%AF/" class="badge h-6 no-underline hover:badge-primary">
        前端
      </a>
      
      <a href="/categories/%E5%A5%BD%E7%8E%A9%E6%8A%80%E5%B7%A7/" class="badge h-6 no-underline hover:badge-primary">
        好玩技巧
      </a>
      
      <a href="/categories/%E5%BB%BA%E7%AB%99/" class="badge h-6 no-underline hover:badge-primary">
        建站
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="badge h-6 no-underline hover:badge-primary">
        数据库
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="badge h-6 no-underline hover:badge-primary">
        数据结构与算法
      </a>
      
      <a href="/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="badge h-6 no-underline hover:badge-primary">
        架构设计
      </a>
      
      <a href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" class="badge h-6 no-underline hover:badge-primary">
        版本控制
      </a>
      
      <a href="/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/" class="badge h-6 no-underline hover:badge-primary">
        虚拟机
      </a>
      
      <a href="/categories/%E8%AF%AD%E8%A8%80/" class="badge h-6 no-underline hover:badge-primary">
        语言
      </a>
      
      <a href="/categories/%E8%BF%90%E7%BB%B4/" class="badge h-6 no-underline hover:badge-primary">
        运维
      </a>
      
      <a href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/" class="badge h-6 no-underline hover:badge-primary">
        默认分类
      </a>
      
    </div>
  </div>
  
  <div class="divider divider-vertical md:divider-horizontal px-4 md:px-0"></div>
  
  <div class="flex-1">
    

    
    <div class="dream-grid">
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-247/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">ThinkPad系列 win10系统没有声音问题完美解决</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 25, 2022
    
    </p>

    <blockquote>
    <p>首先说明一下自己电脑的情况，，在thinkpad官网下载安装好声卡驱动后还是没有声音 ，检测的时候也会根据声音大小跳动，我测试蓝牙耳机连接后声音没问题， 一度让我怀疑我的笔记本扬声器坏了 ，</p>
<p>最近疫情严重了大家都居家隔离都在家办公，经常有开会分享屏幕，手机接听就太小屏幕看不见，电脑接听没有声音，让我企业微信分享屏幕，个人微信 开启语音聊天。。。。。。,后来发现笔记本电脑上f1键亮着 上面有个小喇叭，想关也关不掉 了不废话了看怎么解决的。</p>
  </blockquote>

<h2 id="下载驱动">下载驱动</h2>
<p>去联想官网下载对应电脑型号的声卡驱动，官网地址：<a href="https://think.lenovo.com.cn/support/driver/mainpage.aspx#ThinkPad" target="_blank">驱动下载_ThinkPad服务网站-联想服务</a>
，进入联想thinkpad官网后找到服务里面的驱动下载选项，然后点击进去，如下图:、</p>
<p>然后会进入到下个界面，如下图：</p>
<p><img src="https://img.maruifu.com/images/2022/05/25/_1653443950557.png" alt="img" title="img"></p>
<p>在这个界面，要下搜索框里输入自己的电脑主机编号，电脑主机编号一般都在电脑的背面有显示，或者在页面下方选择自己的电脑型号进去相应的驱动页面进行下载，要不然下载个联想驱动管理也可以查看自己的电脑型号，然后才能进入到自己电脑型号所对应的所有驱动的下载的地方，一般来说都是最新版的驱动，如下图：</p>
<p><img src="https://img.maruifu.com/images/2022/05/25/image-20220525100051437.png" alt="image-20220525100051437" title="image-20220525100051437"></p>
<p>在这个界面就可以下载需要的驱动了，就是这个版本的声卡驱动，下载下来，直接运行安装就OK了，安装完驱动后，重启电脑才有效果。后来经过我的实践证明，只安装这个版本的声卡驱动是没有效果的，还是没有声音，必须要安装上图里的热键驱动才可以。</p>
<p>就这样，去联想官网下载对应版本的声卡驱动，还有热键驱动，安装后重启电脑，就有声音了。</p>



  <blockquote>
    <p>其他问题可以参照 <a href="https://support.microsoft.com/zh-cn/windows/%E4%BF%AE%E5%A4%8D-windows-10-%E4%B8%AD%E7%9A%84%E5%A3%B0%E9%9F%B3%E9%97%AE%E9%A2%98-73025246-b61c-40fb-671a-2535c7cd56c8" target="_blank">修复 Windows 10 中的声音问题</a>
</p>
  </blockquote>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-29/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Java 正则提取小说章节名</h2>

    <p class="date text-base-content/60">
    
      Thursday, May 19, 2022
    
    </p>

    <p>教育部关于做好2022年普通高校招生工作的通知 2022年01月29日   来源：教育部 教学〔2022〕1号 各省、自治区、直辖市高等学校招生委员会、教育厅（教委）、招生考试机构，新疆生产建设兵团教育局，有关部门（单位）教育司（局），部属各高等学校、部省合建各高等学校： 2022年普通高校招生工作要以习近平新时代中国特色社会主义思想为指导，贯彻落实党的十九大和十九届历次全会精神，学习贯彻习近平总书记关于教育的重要论述和中央人才工作会议、中央经济工作会议等精神，全面贯彻党的教育方针，弘扬伟大建党精神，坚持稳中求进的工作总基调，积极稳妥推进考试招生制度改革，统筹做好考试招生和新冠肺炎疫情常态化防控等工作，推进高校考试招生治理能力和水平现代化，确保考试招生工作安全、有序实施。现就有关工作通知如下。 一、进一步提升常态化疫情防控下考试招生管理水平 1.切实加强组织领导。省级高校招生委员会是本行政区域内组织高考、治理考试环境、维护考试招生安全稳定、做好考试疫情防控、整肃考风考纪的责任主体，主要负责同志是第一责任人，省级教育行政部门主要负责同志、分管负责同志和省级招生考试机构主要负责同志是直接责任人。高校是本校考试招生（含特殊类型招生）工作的责任主体，主要负责同志是第一责任人，分管负责同志是直接责任人。各地各校要在当地党委和政府的领导下，强化组织领导，层层压实责任，从严从实做好考试组织管理工作。各地要建立各环节风险梳理和排查机制，完善防范各类涉考突发事件的应急处置工作预案，确保出现突发情况后的快速反应和应急措施到位。重大事件处置决策要向当地省（区、市）党委政府请示汇报，并及时报教育部。 2.完善防疫工作方案。各地各校要认真总结近年高考组考防疫工作经验，认真落实国家教育考试组考防疫要求，将高考组考防疫列入当地应对新冠肺炎疫情联防联控机制（领导小组、指挥部）工作重点，结合本地实际，进一步细化完善防疫工作方案。合理安排有关特殊类型招生考试时间，积极采取线上等非现场方式，减少人员聚集和流动。强化命题制卷、考点考场、评卷等场所防疫举措，深入细致做好考生和工作人员健康监测、考试招生场所消毒、防疫物资与场地配备等各环节工作，原则上安排接种过疫苗的人员担任考务工作。按要求为每个考点配备防疫副主考，设置必要的隔离考场、隔离设施。加强考生与考务工作人员防疫知识和操作培训，确保各项措施落实到位，坚决守住不因组织考试引发疫情传播的底线。考前发生疫情的地区，要加强疫情形势的分析研判，根据疫情发展情况，及时调整相关组考防疫措施，稳妥做好考试组织工作。 3.强化安全保密管理。各地各校要把安全保密工作摆在突出重要位置，细化命题、制卷、运送、保管、分发、施考、评卷等关键环节、关键人员的管理，确保试题试卷绝对安全。强化部门协作机制，集中开展净化涉考网络环境、打击销售作弊器材、净化考点周边环境、打击替考作弊等专项行动，综合治理考试环境。加强标准化考点管理，做好设备维护和升级，有效屏蔽无线电作弊信号。加强考点考场管理，加大人员入场检测力度，严格执行考生进入考点（考场）安全检查工作规范，强化考点手机存放管理，严防考生携带手机、高科技作弊器材等入场。严肃考风考纪，严格执行考场监考、考点巡考和考场视频回放制度，严查违规违纪行为。 二、进一步促进高等教育入学机会公平 4.继续加大对中西部和农村地区倾斜力度。综合考虑生源数量、入学机会及学校办学条件等因素，合理安排国家支援中西部地区招生协作计划，向中西部地区和考生大省倾斜。中央部门所属高校要严格控制属地招生计划比例，合理确定分省招生名额。继续实施重点高校面向农村和脱贫地区专项计划，严格报考条件，加强资格审核，优化招录程序，推动专项计划优惠政策落实到位。从2023年招生起，往年被专项计划录取后放弃入学资格或退学的考生，不再具有专项计划报考资格。有关高校要及时将往年放弃入学的相关考生信息反馈生源省份。 5.做好随迁子女在流入地参加高考工作。各地要加强中高考报名政策统筹衔接，会同有关部门提前做好摸底核查，针对不同情况，加强分类引导，确保符合条件的进城务工人员及其他非户籍就业人员随迁子女能在当地参加高考。对于因特殊原因不符合流入地报考条件的考生，流入地省级高校招生委员会要主动协调流出地予以稳妥处理，原则上回流出地参加高考。要会同有关部门严格审核考生的户籍、学籍和实际就读情况，严厉打击“高考移民”。对于通过非正常户籍学籍迁移、户籍学籍造假、出具虚假证明材料等手段获取高考资格的，要依法依规进行严肃处理。要加强政策宣传，组织中学在新生入学等关键节点，让学生和家长熟知高考报名政策。 三、进一步深化高校考试招生改革 6.深化高考综合改革。高考综合改革省份要加强改革协同，推动教学、评价、考试、招生各环节有机衔接。要加强学生生涯规划教育和选科指导，从有利于学生未来成长发展的角度，进一步引导学生科学合理确定选考科目。要严格落实普通高中课程方案，开齐国家规定课程开足课时，不得组织学生提前选科。尚未启动改革的省份要认真借鉴改革省份经验，抓紧完善基础条件，研究谋划本地改革实施方案，积极做好启动改革准备工作。各高校要加强与中学人才培养衔接，进一步优化选考科目要求，完善综合素质评价使用办法并向社会公布，逐步转变简单以考试成绩为唯一标准的招生模式。 7.深化考试内容改革。2022年高考命题坚持以习近平新时代中国特色社会主义思想为指导，贯彻党的教育方针，落实立德树人根本任务，充分发挥高考命题的育人功能和积极导向作用，构建引导学生德智体美劳全面发展的考试内容体系。依据高校人才选拔要求和国家课程标准，优化试题呈现方式，加强对关键能力和学科素养的考查，引导减少死记硬背和“机械刷题”现象。各地要加强国家教育考试工作队伍建设，完善工作激励保障机制，提升国家教育考试队伍能力和水平。 8.深入实施强基计划。各试点高校要深入总结近年强基计划实施情况，坚持试点定位，着力选拔真正对基础研究感兴趣、有培养潜质的学生。要进一步完善招生办法，优化工作程序，合理安排高校考核的时间，完善考核内容和形式，着重考查学生发现问题和解决问题能力、归纳演绎等思辨能力以及对科学探究的浓厚兴趣等。要加强学生入校后的培养和管理工作，优化人才培养模式，畅通本硕博衔接培养通道，提高人才培养质量。 9.完善高职院校分类考试。各地要坚持职业教育类型定位，加强省级统筹，立足当地经济社会发展，合理安排高职院校分类考试招生规模，保持分类考试主渠道。要优化招生院校专业结构，重点向区域经济建设急需、社会民生领域紧缺、技术技能培养要求高和就业质量高的专业倾斜。要遵循职业教育人才培养规律，进一步完善“文化素质+职业技能”的职教高考制度，服务现代职业教育高质量发展需要。要坚持立德树人、德技并修、面向实践、强化能力，完善分类考试内容、形式和招生录取机制，着力选拔培养高素质技术技能人才。原则上高职院校分类考试安排在春季举行。各省级教育行政部门要加强分类考试规范管理，加大对高职院校组织考试的监督力度，确保公平公正。 四、进一步加强招生录取规范管理 10.完善招生信息公开。各地各校要结合实际，进一步完善信息公开的范围、内容、方式和时间，自觉接受纪检监察部门及利益相关者的监督。要畅通社会监督举报渠道，完善考生申诉和学校仲裁机制，及时回应处理各种问题。要加强信息安全防护工作，落实国家信息系统安全等级保护相关要求，加强对高校招生信息化服务平台的监测和运行维护，及时消除安全隐患，确保招考信息安全。 11.严格招生录取管理。各地各校要严格执行国家招生计划和招生政策规定，严肃招生工作纪律，认真遵守高校招生“30个不得”“八项基本要求”等纪律要求。各地要加强高校招生录取批次管理，不得随意将普通批次招生专业安排至本科提前批次招生。严格规范大类招生行为，对于培养方案不合理、不到位或招生和培养方案不一致的，不得开展大类招生。高校要规范招生宣传管理，招生广告或者宣传的表述应当严谨、规范，不得采取贬损、夸张、低俗以及其他不适当的语言或者方式开展招生宣传，不得以新生高额奖学金、违规承诺录取等方式争抢生源。要认真落实录取通知书寄递工作要求，确保录取通知书寄递安全、及时、准确。要严格组织新生入学资格复查，确保招生录取公平公正。 12.强化监督管理责任。各省级高校招生委员会、教育行政部门要按照“学校负责、招办监督”的原则，认真落实考试招生工作的监管责任，会同教育纪检部门加强对报名、考试、录取全过程监督。要认真审核省属高校招生章程及属地高校的有关特殊类型招生办法，对相关高校招生政策及计划执行情况开展督促检查。要加大违规查处力度，对于因疏于管理，造成考场秩序混乱、作弊情况严重、招生违规严重的，要依法依规对相关责任人严肃处理并追责问责。 五、进一步优化考试招生宣传服务 13.优化考生咨询服务。各地要深入实施“高考护航行动”，为考生提供更多更优质的考试招生全流程服务。考试期间，要强化对治安、交通、卫生防疫等方面的综合保障，为残疾人平等参加高考提供合理便利，营造温馨的考试招生环境。志愿填报期间，要充分发挥基层教育部门和中学的主渠道作用，为考生提供形式多样的志愿填报指导服务。要积极采取研发志愿填报辅助系统等信息化手段，为考生提供个性化的信息服务。要加强考生志愿填报各环节管理，指导考生妥善保管个人信息，严防志愿被篡改。严禁学校和教师与校外培训等社会机构合作，通过为考生提供志愿填报咨询服务收取费用、谋取利益。要联合网信、公安、市场监管等部门，加强对社会培训机构或个人开展志愿填报咨询活动的监管，加大治理收费不规范、价格欺诈及虚假宣传等问题力度，提醒考生谨防“高价志愿填报指导”诈骗陷阱。录取期间，要公开违规举报电话和咨询电话，及时妥善处置信访问题，切实维护考生合法权益。 14.严格规范招生宣传。各地各高校要坚持正确育人导向，及时、主动、准确、全面做好政策解读、信息查询和温馨提示等服务工作。要进一步完善和规范高考成绩、高校录取分数线等发布工作，坚决扭转简单以高考成绩评价学生、以录取分数线评价高校的做法。要加强对中学、教师等相关主体的管理，严禁以各种方式公布宣传炒作“高考状元”“高考喜报”“高考升学率”“高分考生”等。要加大统筹协调，严禁各地政府、学校、培训机构以高考成绩为标准奖励教师和学生。各地教育部门和中学不得给年级、班级、教师下达升学指标，不得将升学率与教师评优评先及职称晋升挂钩。高校制作录取通知书应坚持简约、节约的原则，避免铺张浪费。 请各省级高校招生委员会办公室将本通知转发至本行政区域内所有普通高校。 附件：2022年普通高等学校招生工作规定 教育部 2022年1月27日 &mdash;-   点击下载:2022年普通高等学校招生工作规定.docx</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-248/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">logback 配置文件</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 4, 2022
    
    </p>

    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- scan:当此属性设置为true时，配置文档如果发生改变，将会被重新加载，默认值为true --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- scanPeriod:设置监测配置文档是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。 当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- debug:当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;configuration</span> <span style="color:#a6e22e">scan=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">scanPeriod=</span><span style="color:#e6db74">&#34;60 seconds&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">debug=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- contextName:用来设置上下文名称，每个logger都关联到logger上下文，默认上下文名称为default。但可以使用&lt;contextName&gt;设置成其他名字，用于区分不同应用程序的记录。一旦设置，不能修改。--&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;contextName&gt;</span>myApp<span style="color:#f92672">&lt;/contextName&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- &lt;springProperty scope=&#34;context&#34; name=&#34;logPath&#34; source=&#34;logging.path&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		defaultValue=&#34;logs&#34;/&gt; --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义后，可以使“${}”来使用变量。 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;log.path&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;logs/&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!--0. 日志格式和颜色渲染 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 彩色日志依赖的渲染类 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;conversionRule</span> <span style="color:#a6e22e">conversionWord=</span><span style="color:#e6db74">&#34;clr&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">converterClass=</span><span style="color:#e6db74">&#34;org.springframework.boot.logging.logback.ColorConverter&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;conversionRule</span> <span style="color:#a6e22e">conversionWord=</span><span style="color:#e6db74">&#34;wex&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">converterClass=</span><span style="color:#e6db74">&#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;conversionRule</span> <span style="color:#a6e22e">conversionWord=</span><span style="color:#e6db74">&#34;wEx&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">converterClass=</span><span style="color:#e6db74">&#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 彩色日志格式 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;CONSOLE_LOG_PATTERN&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${CONSOLE_LOG_PATTERN:-%clr(%d{yyyy-MM-dd HH🇲🇲ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!--1. 输出到控制台 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;appender</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;CONSOLE&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.ConsoleAppender&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;filter</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.classic.filter.ThresholdFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;level&gt;</span>debug<span style="color:#f92672">&lt;/level&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;Pattern&gt;</span>${CONSOLE_LOG_PATTERN}<span style="color:#f92672">&lt;/Pattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!-- 设置字符集 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;charset&gt;</span>UTF-8<span style="color:#f92672">&lt;/charset&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!--2. 输出到文档 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 2.1 level为 DEBUG 日志，时间滚动输出 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;appender</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DEBUG_FILE&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;file&gt;</span>${log.path}/web_debug.log<span style="color:#f92672">&lt;/file&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!--日志文档输出格式 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH🇲🇲ss.SSS} [%thread] %-5level %logger{50} -
</span></span><span style="display:flex;"><span>				%msg%n<span style="color:#f92672">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;charset&gt;</span>UTF-8<span style="color:#f92672">&lt;/charset&gt;</span> <span style="color:#75715e">&lt;!-- 设置字符集 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;rollingPolicy</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!-- 日志归档 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;fileNamePattern&gt;</span>${log.path}/web-debug-%d{yyyy-MM-dd}.%i.log
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;timeBasedFileNamingAndTriggeringPolicy</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&lt;maxFileSize&gt;</span>100MB<span style="color:#f92672">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!--日志文档保留天数 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;maxHistory&gt;</span>15<span style="color:#f92672">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 此日志文档只记录debug级别的 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;filter</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.classic.filter.LevelFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;level&gt;</span>debug<span style="color:#f92672">&lt;/level&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMatch&gt;</span>ACCEPT<span style="color:#f92672">&lt;/onMatch&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMismatch&gt;</span>DENY<span style="color:#f92672">&lt;/onMismatch&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 2.2 level为 INFO 日志，时间滚动输出 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;appender</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;INFO_FILE&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;file&gt;</span>${log.path}/web_info.log<span style="color:#f92672">&lt;/file&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!--日志文档输出格式 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH🇲🇲ss.SSS} [%thread] %-5level %logger{50} -
</span></span><span style="display:flex;"><span>				%msg%n<span style="color:#f92672">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;charset&gt;</span>UTF-8<span style="color:#f92672">&lt;/charset&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;rollingPolicy</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!-- 每天日志归档路径以及格式 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;fileNamePattern&gt;</span>${log.path}/web-info-%d{yyyy-MM-dd}.%i.log
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;timeBasedFileNamingAndTriggeringPolicy</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&lt;maxFileSize&gt;</span>100MB<span style="color:#f92672">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!--日志文档保留天数 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;maxHistory&gt;</span>15<span style="color:#f92672">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 此日志文档只记录info级别的 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;filter</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.classic.filter.LevelFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;level&gt;</span>info<span style="color:#f92672">&lt;/level&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMatch&gt;</span>ACCEPT<span style="color:#f92672">&lt;/onMatch&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMismatch&gt;</span>DENY<span style="color:#f92672">&lt;/onMismatch&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 2.3 level为 WARN 日志，时间滚动输出 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;appender</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;WARN_FILE&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;file&gt;</span>${log.path}/web_warn.log<span style="color:#f92672">&lt;/file&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!--日志文档输出格式 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH🇲🇲ss.SSS} [%thread] %-5level %logger{50} -
</span></span><span style="display:flex;"><span>				%msg%n<span style="color:#f92672">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;charset&gt;</span>UTF-8<span style="color:#f92672">&lt;/charset&gt;</span> <span style="color:#75715e">&lt;!-- 此处设置字符集 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;rollingPolicy</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;fileNamePattern&gt;</span>${log.path}/web-warn-%d{yyyy-MM-dd}.%i.log
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;timeBasedFileNamingAndTriggeringPolicy</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&lt;maxFileSize&gt;</span>100MB<span style="color:#f92672">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!--日志文档保留天数 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;maxHistory&gt;</span>15<span style="color:#f92672">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 此日志文档只记录warn级别的 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;filter</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.classic.filter.LevelFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;level&gt;</span>warn<span style="color:#f92672">&lt;/level&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMatch&gt;</span>ACCEPT<span style="color:#f92672">&lt;/onMatch&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMismatch&gt;</span>DENY<span style="color:#f92672">&lt;/onMismatch&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 2.4 level为 ERROR 日志，时间滚动输出 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;appender</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;ERROR_FILE&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;file&gt;</span>${log.path}/web_error.log<span style="color:#f92672">&lt;/file&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!--日志文档输出格式 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH🇲🇲ss.SSS} [%thread] %-5level %logger{50} -
</span></span><span style="display:flex;"><span>				%msg%n<span style="color:#f92672">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;charset&gt;</span>UTF-8<span style="color:#f92672">&lt;/charset&gt;</span> <span style="color:#75715e">&lt;!-- 此处设置字符集 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;rollingPolicy</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;fileNamePattern&gt;</span>${log.path}/web-error-%d{yyyy-MM-dd}.%i.log
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;timeBasedFileNamingAndTriggeringPolicy</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&lt;maxFileSize&gt;</span>100MB<span style="color:#f92672">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!--日志文档保留天数 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;maxHistory&gt;</span>15<span style="color:#f92672">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 此日志文档只记录ERROR级别的 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;filter</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;ch.qos.logback.classic.filter.LevelFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;level&gt;</span>ERROR<span style="color:#f92672">&lt;/level&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMatch&gt;</span>ACCEPT<span style="color:#f92672">&lt;/onMatch&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;onMismatch&gt;</span>DENY<span style="color:#f92672">&lt;/onMismatch&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- &lt;logger&gt;用来设置某一个包或者具体的某一个类的日志打印级别、 以及指定&lt;appender&gt;。&lt;logger&gt;仅有一个name属性， 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		一个可选的level和一个可选的addtivity属性。 name:用来指定受此logger约束的某一个包或者具体的某一个类。 level:用来设置打印级别，大小写无关：TRACE, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		DEBUG, INFO, WARN, ERROR, ALL 和 OFF， 还有一个特俗值INHERITED或者同义词NULL，代表强制执行上级的级别。 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		如果未设置此属性，那么当前logger将会继承上级的级别。 addtivity:是否向上级logger传递打印信息。默认是true。 &lt;logger 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		name=&#34;org.springframework.web&#34; level=&#34;info&#34;/&gt; &lt;logger name=&#34;org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		level=&#34;INFO&#34;/&gt; --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 使用mybatis的时候，sql语句是debug下才会打印，而这里我们只配置了info，所以想要查看sql语句的话，有以下两种操作： 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		第一种把&lt;root level=&#34;info&#34;&gt;改成&lt;root level=&#34;DEBUG&#34;&gt;这样就会打印sql，不过这样日志那边会出现很多其他消息 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		第二种就是单独给dao下目录配置debug模式，代码如下，这样配置sql语句会打印，其他还是正常info级别： 【logging.level.org.mybatis=debug 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		logging.level.dao=debug】 --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性 level:用来设置打印级别，大小写无关：TRACE, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		DEBUG, INFO, WARN, ERROR, ALL 和 OFF， 不能设置为INHERITED或者同义词NULL。默认是DEBUG 可以包含零个或多个元素，标识这个appender将会添加到这个logger。 --&gt;</span>
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 常用logger配置 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- show parameters for hibernate sql 专为 Hibernate 定制 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.hibernate.type.descriptor.sql.BasicBinder&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;TRACE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.hibernate.type.descriptor.sql.BasicExtractor&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.hibernate.SQL&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.hibernate.engine.QueryParameters&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.hibernate.engine.query.HQLQueryPlan&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--myibatis log configure--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;com.apache.ibatis&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;TRACE&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;java.sql.Connection&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;java.sql.Statement&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;java.sql.PreparedStatement&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--打印sql配置--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;logger</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;cn.maruifu.myAppName.module.dao&#34;</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;DEBUG&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 4. 最终的策略 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 4.1 开发环境:打印控制台 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;springProfile</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;dev&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;root</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;info&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;CONSOLE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/root&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/springProfile&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 4.2 生产环境:输出到文档 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;springProfile</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;prod&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;root</span> <span style="color:#a6e22e">level=</span><span style="color:#e6db74">&#34;info&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;CONSOLE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;DEBUG_FILE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;INFO_FILE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;WARN_FILE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;appender-ref</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;ERROR_FILE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/root&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/springProfile&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span></code></pre></div>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>3 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-249/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">十年老架构师总结：性能优化其实不难，记住这十条策略就够了</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 4, 2022
    
    </p>

    <p>我们聊了性能优化的六大原则。原则有了，但是在针对实际的性能问题的时候，用什么样的解决方案才可以提升性能呢？这就需要你了解<strong>具体的优化策略</strong>了。</p>
<p>现实中的性能问题和具体领域千差万别，我也不可能面面俱到。但是为了帮助你理解，我总结了十大常用的优化策略。</p>
<p><img src="https://img.maruifu.com/images/2022/05/04/162071412d1a10d2f42d.jpg" alt="1620" title="1620"></p>
<p>我将这十大策略分成五个类别，每个类别对应两个相关策略，帮助你掌握。这五个类别是：时空相互转换、并行 / 异步操作、预先 / 延后处理、缓存 / 批量合并、算法设计和数据结构。我们现在一个个来讲。</p>
<h1 id="一时空转换">一、时空转换</h1>
<p>第一个策略类别是“时空转换”。我们看科幻电影和小说的时候，经常会看到时空转换这个题材。性能优化里面有两个策略恰好组成了这个类别，包括“用时间换空间”和“用空间换 时间”这两个看似互相对立的策略。</p>
<p><strong>1. 用时间换空间</strong></p>
<p>用时间换空间的策略，出发点是内存和存储这样的“空间”资源，有时会成为最稀缺的资源，所以需要尽量减少占用的空间。比如，一个系统的最大性能瓶颈如果是内存使用量，那么减少内存的使用就是最重要的性能优化。</p>
<p>这个策略具体的操作方法有几种：</p>
<ul>
<li>改变应用程序本身的数据结构或者数据格式，减少需要存储的数据的大小；</li>
<li>想方设法压缩存在内存中的数据，比如采用某种压缩算法，真正使用时再解压缩；</li>
<li>把一些内存数据，存放到外部的、更加便宜的存储系统里面，到需要时再取回来。</li>
</ul>
<p>这些节省内存空间的方法，一般都需要付出时间的代价。</p>
<p>除了内存，还有一种常见的场景是，降低数据的大小来方便网络传输和外部存储。压缩的方法和算法有很多种， 比如现在比较流行的 ZStandard（ZSTD）和 LZ4。这些算法之间有空间和时间的取舍。</p>
<p>衡量任何压缩算法，基本上看三个指标：<strong>压缩比例</strong>、<strong>压缩速度</strong>以及<strong>使用内存</strong>。</p>
<p>如果系统的瓶颈在网络传输速度或者存储空间大小上，那就尽量采取高压缩比的算法，这样用时间来换空间，就能够节省时间或者其他方面的成本。</p>
<p><strong>2. 用空间换时间</strong></p>
<p>“用空间换时间”就是对“用时间换空间”策略反其道而行之。有些场景下，时间和速度更加重要，但是空间尚有富余，这时我们就可以考虑用空间来换时间。</p>
<p>这里要注意的一点是，我们后面还会讲一条关于使用缓存的策略。虽然缓存的策略理论上也是一种“空间换时间”的方式，但我们在这里把它分开来讲，这是因为缓存策略的“空间”定义与一般的“空间换时间”不同。一般来讲，“缓存”使用的空间，和原来的空间不在同一个层次上，添加的缓存往往比原来的空间高出一个档次。而我们这里“空间换时间”的策略，里面的“空间”是和原来的空间相似的空间。</p>
<p>互联网的服务往往规模很大，比如全国的服务甚至是全球的服务。用户分布在各地，它们对访问时间的要求很高，这就要求被访问的数据和服务，要尽量放在离他们很近的地方。“空间换时间”就是对数据和服务进行多份拷贝，尽可能地完美覆盖大多数的用户。我们前面讲过的 CDN 内容分发网络技术就可以归类于此。</p>
<p>其实我们部署的任何大规模系统，都或多或少地采用了用空间换时间的策略，比如在集群和服务器间进行负载均衡，就是同时用很多个服务器（空间）来换取延迟的减少（时间）。</p>
<h1 id="二预先和延后处理">二、预先和延后处理</h1>
<p>优化策略的第二大类是“预先和延后处理”，这一类别也有两个互相对立的策略。一个是预先或者提前处理，另外一个是延后或者惰性处理。</p>
<p><strong>3. 预先 / 提前处理</strong></p>
<p>预先 / 提前处理策略同样也表现在很多领域，比如网站页面资源的提前加载。Web 标准规定了至少两种提前加载的方式：preload 和 prefetch，分别用不同的优先级来加载资源，可以显著地提升页面下载性能。</p>
<p>很多文件系统有预读的功能，就是提前从磁盘读取额外的数据，为下次上层应用程序读数据做准备。这个功能对顺序读取非常有效，可以明显地减少磁盘请求的数量，从而提升读数据的性能。</p>
<p>CPU 和内存也有相应的预取操作，就是将内存中的指令和数据，提前存放到缓存中，从而加快处理器执行速度。缓存预取可以通过硬件或者软件实现，也就是分为<strong>硬件预取</strong>和<strong>软件预取</strong>两类。</p>
<p>硬件预取是通过处理器中的硬件来实现的。该硬件会一直监控正在执行程序中请求的指令或数据，并且根据既定规则，识别下一个程序需要的数据或指令并预取。</p>
<p>软件预取是在程序编译的过程中，主动插入预取指令（prefetech），这个预取指令可以是编译器自己加的，也可以是我们加的代码。这样在执行过程中，在指定位置就会进行预取的操作。</p>
<p><strong>4. 延后 / 惰性处理</strong></p>
<p>延后 / 惰性处理策略和前面说的预先 / 提前处理正好相反。就是尽量将操作（比如计算），推迟到必需执行的时刻，这样很可能避免多余的操作，甚至根本不用操作。</p>
<p>运用这一策略最有名的例子，就是 COW（Copy On Write，写时复制）。假设多个线程都想操作一份数据，一般情况下，每个线程可以自己拷贝一份，放到自己的空间里面。但是拷贝的操作很费时间。系统如果采用惰性处理，就会将拷贝的操作推迟。如果多个线程对这份数据只有读的请求，那么同一个数据资源是可以共享的，因为“读”的操作不会改变这份数据。当某个线程需要修改这一数据时（写操作），系统就将资源拷贝一份给该线程使用，允许改写，这样就不会影响别的线程。</p>
<p>COW 最广为人知的应用场景有两个。一个是 Unix 系统 fork 调用产生的子进程共享父进程的地址空间，只有到某个子进程需要进行写操作才会拷贝一份。另一个是高级语言的类和</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-250/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">解决宿主机MAC不能访问虚拟机中CENTOS的TOMCAT服务器</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 4, 2022
    
    </p>

    <h2 id="情况描述">情况描述</h2>
<p>虚拟机中的系统为CentOS，充当服务器，但是开启Tomcat后，在宿主机Mac中无法访问，显示请求被拒接，如下：</p>
<p><img src="https://img.maruifu.com/images/2022/05/04/2022-05-04-6.45.15.png" alt="截屏2022-05-04 下午6.45.15" title="截屏2022-05-04 下午6.45.15"></p>
<p>除此之外，但是<strong>可以使用ssh，也可以ping通</strong>。</p>
<h2 id="分析">分析</h2>
<p>初步认为就是防火墙的问题，但是参考iptables的一些停用方法，直接显示没有iptables这个服务；后面想验证到底是宿主机还是虚拟机的问题，在5000端口，跑了一个简单的Flask服务器（在虚拟机中可通过本机ip地址+端口号进行访问），在宿主机中仍然无法访问，同时也通过其他的一些设备来访问相应的服务器，都无法访问，从这里看来，问题还是出在了虚拟机中；后面又在宿主机mac中开启了一个服务器，在虚拟机和其它局域网设备中都可以访问，因此<strong>断定还是虚拟机的问题</strong>。那么，没有安装iptables的CentOS，究竟是出了什么问题呢？</p>
<h2 id="解决办法">解决办法</h2>
<p>因为我使用的是<strong>CentOS 7</strong>，使用iptables的版本是7以前的，CentOS 7使用firewall作为防火墙。</p>
<p>查看已经开放的端口：<code>firewall-cmd --list-ports</code> 开启端口：<code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code></p>
<p>命令含义：</p>
<pre tabindex="0"><code>–zone #作用域
–add-port=80/tcp #添加端口，格式为：端口/通讯协议
–permanent #永久生效，没有此参数重启后失效123
</code></pre><p>重启、停止、禁用、查看防火墙</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>firewall-cmd --reload <span style="color:#75715e">#重启firewall</span>
</span></span><span style="display:flex;"><span>systemctl stop firewalld.service <span style="color:#75715e">#停止firewall</span>
</span></span><span style="display:flex;"><span>systemctl disable firewalld.service <span style="color:#75715e">#禁止firewall开机启动</span>
</span></span><span style="display:flex;"><span>firewall-cmd --state <span style="color:#75715e">#查看默认防火墙状态（关闭后显示notrunning，开启后显示running）1234</span>
</span></span></code></pre></div><p>因此结合上述命令来看，需要将8080端口添加到防火墙的开放端口中，然后重新载入防火墙的配置即可。如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo firewall-cmd --zone<span style="color:#f92672">=</span>public --add-port<span style="color:#f92672">=</span>8080/tcp --permanent
</span></span><span style="display:flex;"><span>sudo firewall-cmd --reload
</span></span><span style="display:flex;"><span>sudo firewall-cmd --list-ports123
</span></span></code></pre></div><p>最后面来一张成功访问的截图：<img src="https://img.maruifu.com/images/2022/05/04/2022-05-04-6.46.22.png" alt="截屏2022-05-04 下午6.46.22" title="截屏2022-05-04 下午6.46.22"></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-251/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">CentOS 7安装 ifconfig 管理命令</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 4, 2022
    
    </p>

    <h4 id="1-安装的需求背景">1. 安装的需求背景</h4>
<p>我们知道ifconfig 命令可以用于查看、配置、启用或禁用指定网络接口，如配置网卡的IP地址、掩码、广播地址、网关等，功能不可谓不丰富。</p>
<p>此命令的功能和Wndows系统的ipconfig非常类似。</p>
<p>但是，Centos7 默认已不再安装此命令，其中很多功能用 ip addr 指令 替代了。</p>
<p>考虑到 既有的很多管理工具或脚本都调用了此功能命令（ifconfig），如果将这些工具直接迁移过来会报错，如果对这个指令用其它指令进行替换，及对这些工具升级，则增加了工作量，还增加了出错的风险。</p>
<p>所以，在CentOS 7 系统中 安装 ifconfig 命令很有必要。</p>
<h4 id="2-测试安装的具体步骤">2. 测试安装的具体步骤</h4>
<p>CentOS 7 系统默认 没有安装 ifconfig 命令。</p>
<p>如果直接运行 <strong>ifconfig</strong> 命令，则提示错误 ：-bash: ifconfig: command not found</p>
<p><img src="https://img.maruifu.com/images/2022/05/04/181011090563191.png" alt="img" title="img"></p>
<p>此时，查看 /sbin 目录下，其实是没有 ifconfig 文件的。</p>
<p><img src="https://img.maruifu.com/images/2022/05/04/181011090563192.png" alt="img" title="img"></p>
<p>那么 如何安装ifconfig 呢？我们首先想到的是 运行 <strong>yum install ifconfig</strong> 。执行效果如何呢？</p>
<p><img src="https://img.maruifu.com/images/2022/05/04/181011090563193.png" alt="img" title="img"></p>
<p>结果是：</p>
<p>No package ifconfig available. Error: Nothing to do</p>
<p>啊？！ 没有 ifconfig 安装包，是不是 我们就要放弃了呢？</p>
<p>其实，我们 还可以通过yum 命令的search选项 来对 包 （package）进行再次搜索。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-252/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">如何关闭常见浏览器的 HSTS 功能</h2>

    <p class="date text-base-content/60">
    
      Wednesday, May 4, 2022
    
    </p>

    <p>在安装配置 SSL 证书时，可以使用一种能使数据传输更加安全的Web安全协议，即在服务器端上开启<code>HSTS</code> (HTTP Strict Transport Security)。它告诉浏览器只能通过HTTPS访问，而绝对禁止HTTP方式。<img src="https://img.maruifu.com/images/2022/05/04/64-20220504182703149.png" alt="img" title="img"></p>



  <blockquote>
    <p>HTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through the use of a special response header. Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP to the specified domain and will instead send all communications over HTTPS. It also prevents HTTPS click through prompts on browsers.</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-253/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Redis 6.0.8 集群搭建(三主三从)</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 22, 2022
    
    </p>

    <h2 id="下载与安装">下载与安装</h2>
<p>首先从 Redis 官网下载 Redis 源代码并解压，这里使用的是 redis-6.0.8.tar.gz 版本</p>
<pre tabindex="0"><code># 创建目录
mkdir /usr/local/redis/redis-cluster
# 进入目录
cd /usr/local/redis/redis-cluster
# 下载安装包
wget http://download.redis.io/releases/redis-6.0.8.tar.gz
# 解压
tar -zxzf redis-6.0.8.tar.gz
#进入目录 
cd  redis-6.0.8
# 编译用 如果不安装会编译报错 
yum -y install gcc-c++ 
#加 MALLOC=libc 为了防止编译出错，具体百度 make MALLOC=libc
make MALLOC=libc
make install PREFIX=/apprun/redis # 目标安装路径
</code></pre><h2 id="创建数据">创建数据</h2>
<pre tabindex="0"><code>#创建目录
cd /usr/local/redis/redis-cluster
mkdir logs conf data pid
#创建数据目录
cd data
mkdir data1111 data2222 data3333 data4444 data5555 data6666
</code></pre><h2 id="修改配置文件">修改配置文件</h2>
<pre tabindex="0"><code>cd /usr/local/redis/redis-cluster/conf
cp /usr/local/redis/redis-cluster/redis/redis.conf .
mv redis.conf redis1111.conf
vim redis1111.conf
</code></pre><pre tabindex="0"><code># 修改绑定地址
bind 192.168.5.199
protected-mode yes
# 修改端口号,但集群状态下需要注意,集群使用端口会在此端口上增加10000,所以redis自身端口+10000不能超过65535
port 1111
tcp-backlog 511
timeout 0
tcp-keepalive 300
# Redis是否后台运行
daemonize yes
supervised no
# 进程文件存储地址
pidfile /usr/local/redis/redis-cluster/pid/redis1111.pid
loglevel notice
# 日志文件存储地址
logfile &#34;/usr/local/redis/redis-cluster/logs/redis1111.log&#34;
databases 16
always-show-logo yes
save 900 1
save 300 10
save 60 10000
stop-writes-on-bgsave-error yes   # 持久化错误之后，停止写入Redis
rdbcompression yes   # 快照是否压缩存储（压缩消耗CPU、占用空间小）
rdbchecksum yes   # 存储的快照进行数据校验（增加约10%的性能消耗）
dbfilename dump.rdb
rdb-del-sync-files no
# 数据存放目录
dir /usr/local/redis/redis-cluster/data/data1111

# 主要是针对master对应的slave节点设置的，在slave节点数据同步的时候用到
masterauth redis123
replica-serve-stale-data yes
replica-read-only yes
repl-diskless-sync no
repl-diskless-sync-delay 5
repl-diskless-load disabled
repl-disable-tcp-nodelay no
replica-priority 100
acllog-max-len 128
# 对登录权限做限制，redis每个节点的requirepass可以是独立、不同的
requirepass redis123
lazyfree-lazy-eviction no
lazyfree-lazy-expire no
lazyfree-lazy-server-del no
replica-lazy-flush no
lazyfree-lazy-user-del no
oom-score-adj no
oom-score-adj-values 0 200 800
# aof日志开启，有需要就开启
appendonly yes
appendfilename &#34;appendonly.aof&#34;
appendfsync everysec # 每秒同步一次（always 每次修改同步一次）
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb
aof-load-truncated yes
aof-use-rdb-preamble yes
lua-time-limit 5000
# 开启集群模式
cluster-enabled yes
# 集群的配置文件，首次启动自动生成
cluster-config-file /usr/local/redis/redis-cluster/conf/nodes1111.conf

# 请求超时时间，默认15s
cluster-node-timeout 10000
slowlog-log-slower-than 10000
slowlog-max-len 128
latency-monitor-threshold 0
notify-keyspace-events &#34;&#34;
hash-max-ziplist-entries 512
hash-max-ziplist-value 64
list-max-ziplist-size -2
list-compress-depth 0
set-max-intset-entries 512
zset-max-ziplist-entries 128
zset-max-ziplist-value 64
hll-sparse-max-bytes 3000
stream-node-max-bytes 4096
stream-node-max-entries 100
activerehashing yes
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub 32mb 8mb 60
hz 10
dynamic-hz yes
aof-rewrite-incremental-fsync yes
rdb-save-incremental-fsync yes
</code></pre><h2 id="复制配置">复制配置</h2>
<p>Redis 集群一般由多个节点组成，节点数量至少为 6 个，才能保证组成完整高可用的集群，所以再复制 5 份配置文件</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>4 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-254/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">批量下载wallhaven壁纸</h2>

    <p class="date text-base-content/60">
    
      Thursday, Apr 7, 2022
    
    </p>

    <pre tabindex="0"><code>#!/bin/bash
#
# This script gets the beautiful wallpapers from http://wallhaven.cc
# This script is brought to you by MacEarl and is based on the
# script for wallbase.cc (https://github.com/sevensins/Wallbase-Downloader)
#
# This Script is written for GNU Linux, it should work under Mac OS

REVISION=0.2.6

#####################################
###   Needed for NSFW/Favorites   ###
#####################################
# Enter your API key
# you can get it here: https://wallhaven.cc/settings/account
APIKEY=&#34;beYBHQ89MncZeTt96JXRyrqmwBFifWUr&#34;
#####################################
### End needed for NSFW/Favorites ###
#####################################

#####################################
###     Configuration Options     ###
#####################################
# Where should the Wallpapers be stored?
LOCATION=/Volumes/photo
# How many Wallpapers should be downloaded, should be multiples of the
# value in the THUMBS Variable
WPNUMBER=48
# What page to start downloading at, default and minimum of 1.
STARTPAGE=1
# Type standard (newest, oldest, random, hits, mostfav), search, collections
# (for now only the default collection), useruploads (if selected, only
# FILTER variable will change the outcome)
TYPE=standard
# From which Categories should Wallpapers be downloaded, first number is
# for General, second for Anime, third for People, 1 to enable category,
# 0 to disable it
CATEGORIES=110
# filter wallpapers before downloading, first number is for sfw content,
# second for sketchy content, third for nsfw content, 1 to enable,
# 0 to disable
FILTER=111
# Which Resolutions should be downloaded, leave empty for all (most common
# resolutions possible, for details see wallhaven site), separate multiple
# resolutions with , eg. 1920x1080,1920x1200
RESOLUTION=
# alternatively specify a minimum resolution, please note that specifying
# both resolutions and a minimum resolution will result in the desired
# resolutions being ignored, to avoid unwanted behavior only set one of the
# two options and leave the other blank
ATLEAST=
# Which aspectratios should be downloaded, leave empty for all (possible
# values: 4x3, 5x4, 16x9, 16x10, 21x9, 32x9, 48x9, 9x16, 10x16), separate mutliple ratios
# with , eg. 4x3,16x9
ASPECTRATIO=
# Which Type should be displayed (relevance, random, date_added, views,
# favorites, toplist, toplist-beta)
MODE=date_added
# if MODE is set to toplist show the toplist for the given timeframe
# possible values: 1d (last day), 3d (last 3 days), 1w (last week),
# 1M (last month), 3M (last 3 months), 6M (last 6 months), 1y (last year)
TOPRANGE=
# How should the wallpapers be ordered (desc, asc)
ORDER=desc
# Collections, only used if TYPE = collections
# specify the name of the collection you want to download
# Default is the default collection name on wallhaven
# If you want to download your own Collections make sure USR is set to your username
# If you want to download someone elses public collection enter the name here
# and the username under USR
# Please note that the only filter option applied to Collections is the Number
# of Wallpapers to download, there is no filter for resolution, purity, ...
COLLECTION=&#34;Default&#34;
# Searchterm, only used if TYPE = search
# you can also search by tags, use id:TAGID
# to get the tag id take a look at: https://wallhaven.cc/tags/
# for example: to search for nature related wallpapers via the nature tag
# instead of the keyword use QUERY=&#34;id:37&#34;
QUERY=&#34;nature&#34;
# Search images containing color
# values are RGB (000000 = black, ffffff = white, ff0000 = red, ...)
COLOR=&#34;&#34;
# Should the search results be saved to a separate subfolder?
# 0 for no separate folder, 1 for separate subfolder
SUBFOLDER=0
# User from which wallpapers should be downloaded
# used for TYPE=useruploads and TYPE=collections
# If you want to download your own Collection this has to be set to your username
USR=&#34;AksumkA&#34;
# use gnu parallel to speed up the download (0, 1), if set to 1 make sure
# you have gnuparallel installed, see normal.vs.parallel.txt for
# speed improvements
# using this option can lead to cloudflare blocking some of the downloads
PARALLEL=0
# custom thumbnails per page
# changeable here: https://wallhaven.cc/settings/browsing
# valid values: 24, 32, 64
# if set to 32 or 64 you need to provide an api key
THUMBS=24
#####################################
###   End Configuration Options   ###
#####################################

function checkDependencies {
    printf &#34;Checking dependencies...&#34;
    dependencies=(wget jq sed)
    [[ $PARALLEL == 1 ]] &amp;&amp; dependencies+=(parallel)

    for name in &#34;${dependencies[@]}&#34;
    do
        [[ $(command -v &#34;$name&#34; 2&gt;/dev/null) ]] ||
        { printf &#34;\n%s needs to be installed. Use your package manager to do so, e.g. &#39;sudo apt install %s&#39;&#34; &#34;$name&#34; &#34;$name&#34;;deps=1; }
    done

    if [[ $deps -ne 1 ]]
    then
        printf &#34;OK\n&#34;
    else
        printf &#34;\nInstall the above and rerun this script\n&#34;
        exit 1
    fi
} # /checkDependencies

#
# sets the authentication header/API key to give the user more functionality
# requires 1 arguments:
# arg1: API key
#
function setAPIkeyHeader {
    # checking parameters -&gt; if not ok print error and exit script
    if [ $# -lt 1 ] || [ &#34;$1&#34; == &#39;&#39; ]
    then
        printf &#34;Please make sure to enter a valid API key,\n&#34;
        printf &#34;it is needed for NSFW Content and downloading \n&#34;
        printf &#34;your Collections also make sure your Thumbnails per\n&#34;
        printf &#34;Page Setting matches the THUMBS Variable\n\n&#34;
        printf &#34;Press any key to exit\n&#34;
        read -r
        exit
    fi

    # everythings ok --&gt; set api key header
    httpHeader=&#34;X-API-Key: $APIKEY&#34;
} # /setAPIkeyHeader

#
# downloads Page with Thumbnails
#
function getPage {
    # checking parameters -&gt; if not ok print error and exit script
    if [ $# -lt 1 ]
    then
        printf &#34;getPage expects at least 1 argument\\n&#34;
        printf &#34;arg1:\\tparameters for the wget -q command\\n\\n&#34;
        printf &#34;press any key to exit\\n&#34;
        read -r
        exit
    fi

    # parameters ok --&gt; get page
    WGET -O tmp &#34;https://wallhaven.cc/api/v1/$1&#34;
} # /getPage

#
# downloads all the wallpaper from a wallpaperfile
# arg1: the file containing the wallpapers
#
function downloadWallpapers {
    if (( &#34;$page&#34; &gt;= &#34;$(jq -r &#34;.meta.last_page&#34; tmp)&#34; ))
    then
        downloadEndReached=true
    fi

    for ((i=0; i&lt;THUMBS; i++))
    do
        imgURL=$(jq -r &#34;.data[$i].path&#34; tmp)

        filename=$(echo &#34;$imgURL&#34;| sed &#34;s/.*\///&#34; )
        if grep -w &#34;$filename&#34; downloaded.txt &gt;/dev/null
        then
            printf &#34;\\tWallpaper %s already downloaded!\\n&#34; &#34;$imgURL&#34;
        elif [ $PARALLEL == 1 ]
        then
            echo &#34;$imgURL&#34; &gt;&gt; download.txt
        else
            # check if downloadWallpaper was successful
            if downloadWallpaper &#34;$imgURL&#34;
            then
                echo &#34;$filename&#34; &gt;&gt; downloaded.txt
            fi
        fi
    done

    if [ $PARALLEL == 1 ] &amp;&amp; [ -f ./download.txt ]
    then
        # export wget wrapper and download function to make it
        # available for parallel
        export -f WGET coolDown downloadWallpaper
        # shellcheck disable=SC2016
        SHELL=$(type -p bash) parallel --gnu --no-notice \
            &#39;imgURL={} &amp;&amp; downloadWallpaper $imgURL &amp;&amp; echo &#34;$imgURL&#34;| sed &#34;s/.*\///&#34; &gt;&gt; downloaded.txt&#39; &lt; download.txt
            rm tmp download.txt
        else
            rm tmp
    fi
} # /downloadWallpapers

#
# downloads a single Wallpaper by guessing its extension, this eliminates
# the need to download each wallpaper page, now only the thumbnail page
# needs to be downloaded
#
function downloadWallpaper {
    if [[ &#34;$1&#34; != null ]]
    then
        WGET &#34;$1&#34;
    else
        return 1
    fi
} # /downloadWallpaper

#
# Waits for 30 seconds if rate limiting is detected
#
function coolDown {
    printf &#34;\\t -Rate Limiting detected, sleeping for 30 seconds\\n&#34;
    sleep 30
    WGET &#34;$@&#34;
} # /coolDown

#
# wrapper for wget with some default arguments
# arg0: additional arguments for wget (optional)
# arg1: file to download
#
function WGET {
    # checking parameters -&gt; if not ok print error and exit script
    if [ $# -lt 1 ]
    then
        printf &#34;WGET expects at least 1 argument\\n&#34;
        printf &#34;arg0:\\tadditional arguments for wget (optional)\\n&#34;
        printf &#34;arg1:\\tfile to download\\n\\n&#34;
        printf &#34;press any key to exit\\n&#34;
        read -r
        exit
    fi

    # default wget command
    wget --server-response -q --header=&#34;$httpHeader&#34; --keep-session-cookies \
         --save-cookies cookies.txt --load-cookies cookies.txt &#34;$@&#34; 2&gt;&amp;1 | \
         grep &#34;429 Too Many Requests&#34; &gt;/dev/null &amp;&amp; coolDown &#34;$@&#34;

    return &#34;${PIPESTATUS[0]}&#34;
} # /WGET

#
# displays help text (valid command line arguments)
#
function helpText {
    printf &#34;Usage: ./wallhaven.sh [OPTIONS]\\n&#34;
    printf &#34;Download wallpapers from wallhaven.cc\\n\\n&#34;
    printf &#34;If no options are specified, default values from within the &#34;
    printf &#34;script will be used\\n\\n&#34;
    printf &#34; -l, --location\\t\\tlocation where the wallpapers will be &#34;
    printf &#34;stored\\n&#34;
    printf &#34; -n, --number\\t\\tNumber of Wallpapers to download\\n&#34;
    printf &#34; -s, --startpage\\tpage to start downloading from\\n&#34;
    printf &#34; -t, --type\\t\\tType of download Operation: standard, search, &#34;
    printf &#34;\\n\\t\\t\\tcollections, useruploads\\n&#34;
    printf &#34; -c, --categories\\tcategories to download from, eg. 111 for &#34;
    printf &#34;General,\\n\\t\\t\\tAnime and People, 1 to include, 0 to exclude\\n&#34;
    printf &#34; -f, --filter\\t\\tfilter out content based on purity rating, &#34;
    printf &#34;eg. 111 \\n\\t\\t\\tfor SFW, sketchy and NSFW content, 1 to &#34;
    printf &#34;include, \\n\\t\\t\\t0 to exclude\\n&#34;
    printf &#34; -r, --resolution\\tresolutions to download, separate mutliple&#34;
    printf &#34; \\n\\t\\t\\tresolutions by ,\\n&#34;
    printf &#34; -g, --atleast\\t\\tminimum resolution, show all images with a&#34;
    printf &#34;\\n\\t\\t\\tresolution greater than the specified value&#34;
    printf &#34;\\n\\t\\t\\tdo not use in combination with -r (--resolution)\\n&#34;
    printf &#34; -a, --aspectratio\\tonly download wallpaper with given &#34;
    printf &#34;aspectratios, \\n\\t\\t\\tseparate multiple aspectratios by ,\\n&#34;
    printf &#34; -m, --mode\\t\\tsorting mode for wallpapers: relevance, random&#34;
    printf &#34;,\\n\\t\\t\\tdate_added, views, favorites \\n&#34;
    printf &#34; -o, --order\\t\\torder ascending (asc) or descending &#34;
    printf &#34;(desc)\\n&#34;
    printf &#34; -b, --collection\\tname of the collections to download\\n&#34;
    printf &#34; -q, --query\\t\\tsearch query, eg. &#39;mario&#39;, single &#34;
    printf &#34;quotes needed,\\n\\t\\t\\tfor searching exact phrases use double &#34;
    printf &#34;quotes \\n\\t\\t\\tinside single quotes, eg. &#39;&#34;super mario&#34;&#39;&#34;
    printf &#34;\\n&#34;
    printf &#34; -d, --dye, --color\\tsearch for wallpapers containing the &#34;
    printf &#34;given color,\\n&#34;
    printf &#34;\\t\\t\\tcolor values are RGB without a leading #\\n&#34;
    printf &#34; -u, --user\\t\\tdownload wallpapers from given user\\n&#34;
    printf &#34; -p, --parallel\\t\\tmake use of gnu parallel (1 to enable, 0 &#34;
    printf &#34;to disable)\\n&#34;
    printf &#34; -v, --version\\t\\tshow current version\\n&#34;
    printf &#34; -h, --help\\t\\tshow this help text and exit\\n\\n&#34;
    printf &#34;Examples:\\n&#34;
    printf &#34;./wallhaven.sh\\t-l ~/wp/ -n 48 -s 1 -t standard -c 101 -f 111&#34;
    printf &#34; -r 1920x1080 \\n\\t\\t-a 16x9 -m random -o desc -p 1\\n\\n&#34;
    printf &#34;Download 48 random wallpapers with a resolution of 1920x1080 &#34;
    printf &#34;and \\nan aspectratio of 16x9 to ~/wp/ starting with page 1 &#34;
    printf &#34;from the \\ncategories general and people including SFW, sketchy&#34;
    printf &#34; and NSWF Content\\nwhile utilizing gnu parallel\\n\\n&#34;
    printf &#34;./wallhaven.sh\\t-l ~/wp/ -n 48 -s 1 -t search -c 111 -f 100 -r &#34;
    printf &#34;1920x1080 -a 16x9\\n\\t\\t-m relevance -o desc -q &#34;
    printf &#34;&#39;&#34;super mario&#34;&#39; -d cc0000 -p 1\\n\\n&#34;
    printf &#34;Download 48 wallpapers related to the search query &#34;
    printf &#34;&#34;super mario&#34; containing \\nthe color #cc0000 with a resolution&#34;
    printf &#34; of 1920x1080 and an aspectratio of 16x9\\nto ~/wp/ starting &#34;
    printf &#34;with page 1 from the categories general, anime and people,\\n&#34;
    printf &#34;including SFW Content and excluding sketchy and NSWF Content &#34;
    printf &#34;while utilizing\\ngnu parallel\\n\\n\\n&#34;
    printf &#34;latest version available at: &#34;
    printf &#34;&lt;https://github.com/macearl/Wallhaven-Downloader&gt;\\n&#34;
} # /helptext

# Command line Arguments
while [[ $# -ge 1 ]]
    do
    key=&#34;$1&#34;

    case $key in
        -l|--location)
            LOCATION=&#34;$2&#34;
            shift;;
        -n|--number)
            WPNUMBER=&#34;$2&#34;
            shift;;
        -s|--startpage)
            STARTPAGE=&#34;$2&#34;
            shift;;
        -t|--type)
            TYPE=&#34;$2&#34;
            shift;;
        -c|--categories)
            CATEGORIES=&#34;$2&#34;
            shift;;
        -f|--filter)
            FILTER=&#34;$2&#34;
            shift;;
        -r|--resolution)
            RESOLUTION=&#34;$2&#34;
            shift;;
        -g|--atleast)
            ATLEAST=&#34;$2&#34;
            shift;;
        -a|--aspectratio)
            ASPECTRATIO=&#34;$2&#34;
            shift;;
        -m|--mode)
            MODE=&#34;$2&#34;
            shift;;
        -o|--order)
            ORDER=&#34;$2&#34;
            shift;;
        -b|--collection)
            COLLECTION=&#34;$2&#34;
            shift;;
        -q|--query)
            QUERY=${2//\&#39;/}
            shift;;
        -d|--dye|--color)
            COLOR=&#34;$2&#34;
            shift;;
        -u|--user)
            USR=&#34;$2&#34;
            shift;;
        -p|--parallel)
            PARALLEL=&#34;$2&#34;
            shift;;
        -h|--help)
            helpText
            exit
            ;;
        -v|--version)
            printf &#34;Wallhaven Downloader %s\\n&#34; &#34;$REVISION&#34;
            exit
            ;;
        *)
            printf &#34;unknown option: %s\\n&#34; &#34;$1&#34;
            helpText
            exit
            ;;
    esac
    shift # past argument or value
    done

checkDependencies

# optionally create a separate subfolder for each search query
# might download duplicates as each search query has its own list of
# downloaded wallpapers
if [ &#34;$TYPE&#34; == search ] &amp;&amp; [ &#34;$SUBFOLDER&#34; == 1 ]
then
    LOCATION+=/$(echo &#34;$QUERY&#34; | sed -e &#34;s/ /_/g&#34; -e &#34;s/+/_/g&#34; -e  &#34;s/\\//_/g&#34;)
fi

# creates Location folder if it does not exist
if [ ! -d &#34;$LOCATION&#34; ]
then
    mkdir -p &#34;$LOCATION&#34;
fi

cd &#34;$LOCATION&#34; || exit

# creates downloaded.txt if it does not exist
if [ ! -f ./downloaded.txt ]
then
    touch downloaded.txt
fi

# set auth header only when it is required ( for example to download your
# own collections or nsfw content... )
if  [ &#34;$FILTER&#34; == 001 ] || [ &#34;$FILTER&#34; == 011 ] || [ &#34;$FILTER&#34; == 111 ] \
    || [ &#34;$TYPE&#34; == collections ] || [ &#34;$THUMBS&#34; != 24 ]
then
    setAPIkeyHeader &#34;$APIKEY&#34;
fi

if [ &#34;$TYPE&#34; == standard ]
then
    for ((  count=0, page=&#34;$STARTPAGE&#34;;
            count&lt; &#34;$WPNUMBER&#34;;
            count=count+&#34;$THUMBS&#34;, page=page+1 ));
    do
        printf &#34;Download Page %s\\n&#34; &#34;$page&#34;
        s1=&#34;search?page=$page&amp;categories=$CATEGORIES&amp;purity=$FILTER&amp;&#34;
        s1+=&#34;atleast=$ATLEAST&amp;resolutions=$RESOLUTION&amp;ratios=$ASPECTRATIO&#34;
        s1+=&#34;&amp;sorting=$MODE&amp;order=$ORDER&amp;topRange=$TOPRANGE&amp;colors=$COLOR&#34;
        getPage &#34;$s1&#34;
        printf &#34;\\t- done!\\n&#34;
        printf &#34;Download Wallpapers from Page %s\\n&#34; &#34;$page&#34;
        downloadWallpapers
        printf &#34;\\t- done!\\n&#34;
        if [ &#34;$downloadEndReached&#34; = true ]
        then
            break
        fi
    done

elif [ &#34;$TYPE&#34; == search ] || [ &#34;$TYPE&#34; == useruploads ]
then
    for ((  count=0, page=&#34;$STARTPAGE&#34;;
            count&lt; &#34;$WPNUMBER&#34;;
            count=count+&#34;$THUMBS&#34;, page=page+1 ));
    do
        printf &#34;Download Page %s\\n&#34; &#34;$page&#34;
        s1=&#34;search?page=$page&amp;categories=$CATEGORIES&amp;purity=$FILTER&amp;&#34;
        s1+=&#34;atleast=$ATLEAST&amp;resolutions=$RESOLUTION&amp;ratios=$ASPECTRATIO&#34;
        s1+=&#34;&amp;sorting=$MODE&amp;order=desc&amp;topRange=$TOPRANGE&amp;colors=$COLOR&#34;
        if [ &#34;$TYPE&#34; == search ]
        then
            s1+=&#34;&amp;q=$QUERY&#34;
        elif [ &#34;$TYPE&#34; == useruploads ]
        then
            s1+=&#34;&amp;q=@$USR&#34;
        fi

        getPage &#34;$s1&#34;
        printf &#34;\\t- done!\\n&#34;
        printf &#34;Download Wallpapers from Page %s\\n&#34; &#34;$page&#34;
        downloadWallpapers
        printf &#34;\\t- done!\\n&#34;
        if [ &#34;$downloadEndReached&#34; = true ]
        then
            break
        fi
    done

elif [ &#34;$TYPE&#34; == collections ]
then
    if [ &#34;$USR&#34; == &#34;&#34; ]
    then
        printf &#34;Please check the value specified for USR\\n&#34;
        printf &#34;to download a Collection it is necessary to specify a User\\n\\n&#34;
        printf &#34;Press any key to exit\\n&#34;
        read -r
        exit
    fi

    getPage &#34;collections/$USR&#34;


    i=0
    while
        label=$(jq -e -r &#34;.data[$i].label&#34; tmp)
        id=$(jq -e -r &#34;.data[$i].id&#34; tmp)
        collectionsize=$(jq -e -r &#34;.data[$i].count&#34; tmp)
        [[ $label != &#34;$COLLECTION&#34; &amp;&amp; $label != null ]]
    do
        (( i++ ))
    done

    if [ -z &#34;$id&#34; ]
    then
        printf &#34;Please check the value specified for COLLECTION\\n&#34;
        printf &#34;it seems that a collection with the name &#34;%s&#34; does not exist\\n\\n&#34; \
                &#34;$COLLECTION&#34;
        printf &#34;Press any key to exit\\n&#34;
        read -r
        exit
    fi

    for ((  count=0, page=&#34;$STARTPAGE&#34;;
            count&lt; &#34;$WPNUMBER&#34; &amp;&amp; count&lt; &#34;$collectionsize&#34;;
            count=count+&#34;$THUMBS&#34;, page=page+1 ));
    do
        printf &#34;Download Page %s\\n&#34; &#34;$page&#34;
        getPage &#34;collections/$USR/$id?page=$page&#34;
        printf &#34;\\t- done!\\n&#34;
        printf &#34;Download Wallpapers from Page %s\\n&#34; &#34;$page&#34;
        downloadWallpapers
        printf &#34;\\t- done!\\n&#34;
    done
else
    printf &#34;error in TYPE please check Variable\\n&#34;
fi

rm -f cookies.txt
</code></pre>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>11 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-255/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">常用的JVM参数，你现在就记好！</h2>

    <p class="date text-base-content/60">
    
      Saturday, Apr 2, 2022
    
    </p>

    <p>前言</p>
<p>大家都知道，jvm在启动的时候，会执行默认的一些参数。一般情况下，这些设置的默认参数应对一些平常的项目也够用了。但是如果项目特别大了，需要增加一下堆内存的大小、或者是系统老是莫明的挂掉，想查看下gc日志来排查一下错误的原因，都需要咱们手动设置这些参数。</p>
<h3 id="1verbosegc">1.verbose:gc</h3>
<p>表示，启动jvm的时候，输出jvm里面的gc信息。格式如下：</p>
<pre tabindex="0"><code>[Full GC 178K-&gt;99K(1984K)， 0.0253877 secs]
</code></pre>


  <blockquote>
    <p>解读 ：Full GC 就表示执行了一次Full GC的操作，178K 和99K 就表示执行GC前内存容量和执行GC后的内存容量。1984K就表示内存总容量。后面那个是执行本次GC所消耗的时间，单位是秒。</p>
  </blockquote>

<h3 id="2-xxprintgc">2.-XX:+printGC</h3>
<p>这个打印的GC信息跟上个一样，就不做介绍了。</p>
<h3 id="3-xxprintgcdetails">3.-XX:+PrintGCDetails</h3>
<p>打印GC的详细信息。格式如下：</p>
<pre tabindex="0"><code>–Heap
– def new generation   total 13824K, used 11223K [0x27e80000, 0x28d80000, 0x28d80000)
–  eden space 12288K,  91% used [0x27e80000, 0x28975f20, 0x28a80000)
–  from space 1536K,   0% used [0x28a80000, 0x28a80000, 0x28c00000)
–  to   space 1536K,   0% used [0x28c00000, 0x28c00000, 0x28d80000)
– tenured generation   total 5120K, used 0K [0x28d80000, 0x29280000, 0x34680000)
–   the space 5120K,   0% used [0x28d80000, 0x28d80000, 0x28d80200, 0x29280000)
– compacting perm gen  total 12288K, used 142K [0x34680000, 0x35280000, 0x38680000)
–   the space 12288K,   1% used [0x34680000, 0x346a3a90, 0x346a3c00, 0x35280000)
–    ro space 10240K,  44% used [0x38680000, 0x38af73f0, 0x38af7400, 0x39080000)
–    rw space 12288K,  52% used [0x39080000, 0x396cdd28, 0x396cde00, 0x39c80000)
</code></pre>


  <blockquote>
    <p>解读：new generation 就是堆内存里面的新生代。total的意思就是一共的，所以后面跟的就是新生代一共的内存大小。used也就是使用了多少内存大小。0x开头的那三个分别代表的是 底边界，当前边界，高边界。也就是新生代这片内存的起始点，当前使用到的地方和最大的内存地点。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
    </div>
    

    
    <div class="flex justify-center pt-8">
      <div class="join grid grid-cols-2">
  
  <a href="/categories/page/3/" title=Previous&#32;page class="join-item btn btn-outline btn-sm">
    Previous page
  </a>
  
  
  <a href="/categories/page/5/" title="Next page" class="join-item btn btn-outline btn-sm">
    Next page
  </a>
  
</div>

    </div>
    
  </div>
</div>



            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    





    

    

    

    

    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js" integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin="anonymous"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js" integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin="anonymous"></script>
  </body>
</html>
