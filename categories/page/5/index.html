<!DOCTYPE html>
<html lang="en-us"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>


All Categories | Cuitpanfei Site</title>

    

<link rel="canonical" href="http://localhost:1313/categories/" />



<meta name="author" content="" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.150.0">


<meta property="og:url" content="http://localhost:1313/categories/">
  <meta property="og:site_name" content="Cuitpanfei Site">
  <meta property="og:title" content="Categories">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Categories">




<link rel="stylesheet" href="/css/output.css" />




     

    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js" integrity="sha256-4EHxtjnR5rL8JzbY12OKQJr81ESm7JBEb49ORPo29AY=" crossorigin="anonymous"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    
    

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md">
        
























<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            


<div class="flex flex-col md:flex-row mt-4">

  <div class="md:basis-[200px] lg:basis-[300px] p-4 prose dark:prose-invert">
    <h1 class="text-2xl">All Categories</h1>
    <p class="text-sm">18 categories</p>
    <div class="flex flex-wrap gap-4 mt-6">
      
      <a href="/categories/docker/" class="badge h-6 no-underline hover:badge-primary">
        Docker
      </a>
      
      <a href="/categories/ide/" class="badge h-6 no-underline hover:badge-primary">
        IDE
      </a>
      
      <a href="/categories/java/" class="badge h-6 no-underline hover:badge-primary">
        Java
      </a>
      
      <a href="/categories/maven/" class="badge h-6 no-underline hover:badge-primary">
        Maven
      </a>
      
      <a href="/categories/nas/" class="badge h-6 no-underline hover:badge-primary">
        NAS
      </a>
      
      <a href="/categories/spring-cloud/" class="badge h-6 no-underline hover:badge-primary">
        Spring Cloud
      </a>
      
      <a href="/categories/springboot/" class="badge h-6 no-underline hover:badge-primary">
        SpringBoot
      </a>
      
      <a href="/categories/%E5%89%8D%E7%AB%AF/" class="badge h-6 no-underline hover:badge-primary">
        前端
      </a>
      
      <a href="/categories/%E5%A5%BD%E7%8E%A9%E6%8A%80%E5%B7%A7/" class="badge h-6 no-underline hover:badge-primary">
        好玩技巧
      </a>
      
      <a href="/categories/%E5%BB%BA%E7%AB%99/" class="badge h-6 no-underline hover:badge-primary">
        建站
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="badge h-6 no-underline hover:badge-primary">
        数据库
      </a>
      
      <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="badge h-6 no-underline hover:badge-primary">
        数据结构与算法
      </a>
      
      <a href="/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="badge h-6 no-underline hover:badge-primary">
        架构设计
      </a>
      
      <a href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" class="badge h-6 no-underline hover:badge-primary">
        版本控制
      </a>
      
      <a href="/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/" class="badge h-6 no-underline hover:badge-primary">
        虚拟机
      </a>
      
      <a href="/categories/%E8%AF%AD%E8%A8%80/" class="badge h-6 no-underline hover:badge-primary">
        语言
      </a>
      
      <a href="/categories/%E8%BF%90%E7%BB%B4/" class="badge h-6 no-underline hover:badge-primary">
        运维
      </a>
      
      <a href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/" class="badge h-6 no-underline hover:badge-primary">
        默认分类
      </a>
      
    </div>
  </div>
  
  <div class="divider divider-vertical md:divider-horizontal px-4 md:px-0"></div>
  
  <div class="flex-1">
    

    
    <div class="dream-grid">
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-256/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">公司用的 MySQL 团队开发规范，太详细了，建议收藏！</h2>

    <p class="date text-base-content/60">
    
      Saturday, Apr 2, 2022
    
    </p>

    <h2 id="数据库对象命名规范">数据库对象命名规范</h2>
<h3 id="数据库对象">数据库对象</h3>
<p>数据库对象是数据库的组成部分，常见的有以下几种：表（Table ）、索引（Index）、视图（View）、图表（Diagram）、缺省值（Default）、规则（Rule）、触发器（Trigger）、存储过程（Stored Procedure）、 用户（User）等。命名规范是指数据库对象如数据库（SCHEMA）、表（TABLE）、索引（INDEX）、约束（CONSTRAINTS）等的命名约定。</p>
<h3 id="数据库对象全局命名规范">数据库对象全局命名规范</h3>
<p>1、命名使用具有意义的英文词汇，词汇中间以下划线分隔</p>
<p>2、命名只能使用英文字母、数字、下划线，以英文字母开头</p>
<p>3、避免用MySQL的保留字如：backup、call、group等</p>
<p>4、所有数据库对象使用小写字母，实际上MySQL中是可以设置大小写是否敏感的，为了保证统一性，我们这边规范全部小写表示。</p>
<h3 id="数据库命名规范">数据库命名规范</h3>
<p>1、数据库命名尽量不超过30个字符。</p>
<p>2、数据库命名一般为项目名称+代表库含义的简写，比如IM项目的工作流数据库，可以是 im_flow。</p>
<p>3、数据库创建时必须添加默认字符集和校对规则子句。默认字符集为UTF8（已迁移dumbo的使用utf8mb4）</p>
<p>4、命名应使用小写。</p>
<h3 id="表命名规范">表命名规范</h3>
<p>1、常规表表名以t_开头，t代表table的意思，命名规则即 t + 模块（包含模块含义的简写）+ 表（包含表含义的简写），比如用户模块的教育信息表：t_user_eduinfo。</p>
<p>2、临时表（RD、QA或DBA同学用于数据临时处理的表），命名规则：temp前缀+模块+表+日期后缀：temp_user_eduinfo_20210719</p>
<p>3、备份表（用于保存和归档历史数据或者作为灾备恢复的数据）命名规则，bak前缀+模块+表+日期后缀：bak_user_eduinfo_20210719</p>
<p>4、同一个模块的表尽可能使用相同的前缀，表名称尽可能表达含义</p>
<p>5、多个单词以下划线 _ 分隔</p>
<p>6、常规表表名尽量不超过30个字符，temp表和bak表视情况而定，也尽量简短为宜，命名应使用小写</p>
<h3 id="字段命名规范">字段命名规范</h3>
<p>1、字段命名需要表示其实际含义的英文单词或简写，单词之间用下划线 _ 进行连接，如 service_ip、service_port。</p>
<p>2、各表之间相同意义的字段必须同名，比如a表和b表都有创建时间，应该统一为create_time，不一致会很混乱。</p>
<p>3、多个单词以下划线 _ 分隔</p>
<p>4、字段名尽量不超过30个字符，命名应该使用小写</p>
<h3 id="索引命名规范">索引命名规范</h3>
<p>1、唯一索引使用uni + 字段名 来命名：create unique index uni_uid on t_user_basic(uid) 。</p>
<p>2、非唯一索引使用idx + 字段名 来命名：create index idx_uname_mobile on t_user_basic(uname,mobile) 。</p>
<p>3、多个单词以下划线 _ 分隔。</p>
<p>4、索引名尽量不超过50个字符，命名应该使用小写，组合索引的字段不宜太多，不然也不利于查询效率的提升。</p>
<p>5、多单词组成的列名，取尽可能代表意义的缩写，如 test_contact表member_id和friend_id上的组合索引：idx_mid_fid。</p>
<p>6、理解组合索引最左前缀原则，避免重复建设索引，如果建立了(a,b,c)，相当于建立了(a), (a,b), (a,b,c)。</p>
<h3 id="视图命名规范">视图命名规范</h3>
<p>1、视图名以v开头，表示view，完整结构是v+视图内容含义缩写。</p>
<p>2、如果视图只来源单个表，则为v+表名。如果视图由几个表关联产生就用v+下划线（_）连接几个表名，视图名尽量不超过30个字符。如超过30个字符则取简写。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-257/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">如何防止 Java 代码被反编译</h2>

    <p class="date text-base-content/60">
    
      Saturday, Apr 2, 2022
    
    </p>

    <p>由于Java字节码的抽象级别较高，因此它们较容易被反编译。本节介绍了几种常用的方法，用于保护Java字节码不被反编译。通常，这些方法不能够绝对防止程序被反编译，而是加大反编译的难度而已，因为这些方法都有自己的使用环境和弱点。</p>
<h2 id="隔离java程序">隔离Java程序</h2>
<p>最简单的方法就是让用户不能够访问到Java Class程序，这种方法是最根本的方法，具体实现有多种方式。例如，开发人员可以将关键的Java Class放在服务器端，客户端通过访问服务器的相关接口来获得服务，而不是直接访问Class文件。</p>
<p>这样黑客就没有办法[反编译Class文件。目前，通过接口提供服务的标准和协议也越来越多，例如 HTTP、Web Service、RPC等。但是有很多应用都不适合这种保护方式，例如对于单机运行的程序就无法隔离Java程序。这种保护方式见图1所示。</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/640.png" alt="图片" title="图片"></p>
<h2 id="对class文件进行加密">对Class文件进行加密</h2>
<p>为了防止Class文件被直接反编译，许多开发人员将一些关键的Class文件进行加密，例如对注册码、序列号管理相关的类等。在使用这些被加密的类之前，程序首先需要对这些类进行解密，而后再将这些类装载到JVM当中。这些类的解密可以由硬件完成，也可以使用软件完成。</p>
<p>在实现时，开发人员往往通过自定义ClassLoader类来完成加密类的装载(注意由于安全性的原因，Applet不能够支持自定义的 ClassLoader)。自定义的ClassLoader首先找到加密的类，而后进行解密，最后将解密后的类装载到JVM当中。</p>
<p>在这种保护方式中，自定义的ClassLoader是非常关键的类。由于它本身不是被加密的，因此它可能成为黑客最先攻击的目标。如果相关的解密密钥和算法被攻克，那么被加密的类也很容易被解密。这种保护方式示意图见图2。</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/64029b1bd95507dc2b2.png" alt="图片" title="图片"></p>
<h2 id="转换成本地代码">转换成本地代码</h2>
<p>将程序转换成本地代码也是一种防止反编译的有效方法。因为本地代码往往难以被反编译。开发人员可以选择将整个应用程序转换成本地代码，也可以选择关键模块转换。如果仅仅转换关键部分模块，Java程序在使用这些模块时，需要使用JNI技术进行调用。</p>
<p>当然，在使用这种技术保护Java程序的同时，也牺牲了Java的跨平台特性。对于不同的平台，我们需要维护不同版本的本地代码，这将加重软件支持和维护的工作。不过对于一些关键的模块，有时这种方案往往是必要的。</p>
<p>为了保证这些本地代码不被修改和替代，通常需要对这些代码进行数字签名。在使用这些本地代码之前，往往需要对这些本地代码进行认证，确保这些代码没有被黑客更改。如果签名检查通过，则调用相关JNI方法。这种保护方式示意图见图3。</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/6408d6405e4a8ab43cb.png" alt="图片" title="图片"></p>
<h2 id="代码混淆">代码混淆</h2>
<p>代码混淆是对Class文件进行重新组织和处理，使得处理后的代码与处理前代码完成相同的功能(语义)。但是混淆后的代码很难被[反编译，即[反编译后得出的代码是非常难懂、晦涩的，因此[反编译人员很难得出程序的真正语义。</p>
<p>从理论上来说，黑客如果有足够的时间，被混淆的代码仍然可能被破解，甚至目前有些人正在研制反混淆的工具。但是从实际情况来看，由于混淆技术的多元化发展，混淆理论的成熟，经过混淆的Java代码还是能够很好地防止[反编译。下面我们会详细介绍混淆技术，因为混淆是一种保护Java程序的重要技术。图4是代码混淆的示图。</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/640da9de5e363928598.png" alt="图片" title="图片"></p>
<p>图4 代码混淆示意图</p>
<p>几种技术的总结 以上几种技术都有不同的应用环境，各自都有自己的弱点，表1是相关特点的比较。</p>
<p>混淆技术介绍</p>
<p>表1 不同保护技术比较表</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/6405d1b9b090bea1d85.png" alt="图片" title="图片"></p>
<p>到目前为止，对于Java程序的保护，混淆技术还是最基本的保护方法。Java混淆工具也非常多，包括商业的、免费的、开放源代码的。Sun公司也提供了自己的混淆工具。它们大多都是对Class文件进行混淆处理，也有少量工具首先对源代码进行处理，然后再对Class进行处理，这样加大了混淆处理的力度。</p>
<p>目前，商业上比较成功的混淆工具包括JProof公司的1stBarrier系列、Eastridge公司的JShrink和 4thpass.com的SourceGuard等。主要的混淆技术按照混淆目标可以进行如下分类，它们分别为符号混淆(Lexical Obfuscation)、数据混淆(Data Obfuscation)、控制混淆(Control Obfuscation)、预防性混淆(Prevent Transformation)。</p>
<h2 id="符号混淆">符号混淆</h2>
<p>在Class中存在许多与程序执行本身无关的信息，例如方法名称、变量名称，这些符号的名称往往带有一定的含义。例如某个方法名为 getKeyLength()，那么这个方法很可能就是用来返回Key的长度。</p>
<p>符号混淆就是将这些信息打乱，把这些信息变成无任何意义的表示，例如将所有的变量从vairant_001开始编号；对于所有的方法从method_001开始编号。</p>
<p>这将对反编译带来一定的困难。对于私有函数、局部变量，通常可以改变它们的符号，而不影响程序的运行。但是对于一些接口名称、公有函数、成员变量，如果有其它外部模块需要引用这些符号，我们往往需要保留这些名称，否则外部模块找不到这些名称的方法和变量。因此，多数的混淆工具对于符号混淆，都提供了丰富的选项，让用户选择是否、如何进行符号混淆。</p>
<h2 id="数据混淆">数据混淆</h2>
<p><img src="https://img.maruifu.com/images/2022/04/02/640384d02f70c5d1026.png" alt="图片" title="图片"></p>
<p>数据混淆是对程序使用的数据进行混淆。混淆的方法也有多种，主要可以分为改变数据存储及编码(Store and Encode Transform)、改变数据访问(Access Transform)。</p>
<p>改变数据存储和编码可以打乱程序使用的数据存储方式。例如将一个有10个成员的数组，拆开为10个变量，并且打乱这些变量的名字；将一个两维数组转化为一个一维数组等。对于一些复杂的数据结构，我们将打乱它的数据结构，例如用多个类代替一个复杂的类等。</p>
<p>另外一种方式是改变数据访问。例如访问数组的下标时，我们可以进行一定的计算，图5就是一个例子。</p>
<p>在实践混淆处理中，这两种方法通常是综合使用的，在打乱数据存储的同时，也打乱数据访问的方式。经过对数据混淆，程序的语义变得复杂了，这样增大了反编译的难度。</p>
<h2 id="控制混淆">控制混淆</h2>
<p>控制混淆就是对程序的控制流进行混淆，使得程序的控制流更加难以[反编译，通常控制流的改变需要增加一些额外的计算和控制流，因此在性能上会给程序带来一定的负面影响。有时，需要在程序的性能和混淆程度之间进行权衡。控制混淆的技术最为复杂，技巧也最多。这些技术可以分为如下几类：</p>
<p>增加混淆控制通过增加额外的、复杂的控制流，可以将程序原来的语义隐藏起来。例如，对于按次序执行的两个语句A、B，我们可以增加一个控制条件，以决定B的执行。通过这种方式加大反汇编的难度。但是所有的干扰控制都不应该影响B的执行。图6就给出三种方式，为这个例子增加混淆控制。</p>
<p><img src="https://img.maruifu.com/images/2022/04/02/640787ee719bdd381a8.png" alt="图片" title="图片"></p>
<p>图6 增加混淆控制的三种方式</p>
<p>控制流重组重组控制流也是重要的混淆方法。例如，程序调用一个方法，在混淆后，可以将该方法代码嵌入到调用程序当中。反过来，程序中的一段代码也可以转变为一个函数调用。另外，对于一个循环的控制流，为可以拆分多个循环的控制流，或者将循环转化成一个递归过程。这种方法最为复杂，研究的人员也非常多。</p>
<h2 id="预防性混淆">预防性混淆</h2>
<p>这种混淆通常是针对一些专用的反编译器而设计的，一般来说，这些技术利用反编译器的弱点或者Bug来设计混淆方案。例如，有些反编译器对于 Return后面的指令不进行反编译，而有些混淆方案恰恰将代码放在Return语句后面。这种混淆的有效性对于不同反编译器的作用也不太相同的。一个好的混淆工具，通常会综合使用这些混淆技术。</p>
<h2 id="案例分析">案例分析</h2>
<p>在实践当中，保护一个大型Java程序经常需要综合使用这些方法，而不是单一使用某一种方法。这是因为每种方法都有其弱点和应用环境。综合使用这些方法使得Java程序的保护更加有效。另外，我们经常还需要使用其它的相关安全技术，例如安全认证、数字签名、PKI等。</p>
<p>本文给出的例子是一个Java应用程序，它是一个SCJP(Sun Certificate Java Programmer)的模拟考试软件。该应用程序带有大量的模拟题目，所有的题目都被加密后存储在文件中。由于它所带的题库是该软件的核心部分，所以关于题库的存取和访问就成为非常核心的类。一旦这些相关的类被反编译，则所有的题库将被破解。现在，我们来考虑如何保护这些题库及相关的类。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-258/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">虚拟机挂了怎么办？一张图给你解决了！</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 1, 2022
    
    </p>

    <p><img src="https://img.maruifu.com/images/2022/04/01/IMG_0425.jpg" alt="IMG_0425" title="IMG_0425"></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>0 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-259/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">SpringBoot性能优化大全，贼好使！</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 1, 2022
    
    </p>

    <p>SpringBoot 已经成为 Java 届的 No.1 框架，每天都在蹂躏着数百万的程序员们。当服务的压力上升，对 SpringBoot 服务的优化就会被提上议程。</p>
<p>本文将详细讲解 SpringBoot 服务优化的一般思路，适合收藏之。</p>
<h2 id="有监控才有方向">有监控才有方向</h2>
<p>在开始对 SpringBoot 服务进行性能优化之前，我们需要做一些准备，把 SpringBoot 服务的一些数据暴露出来。</p>
<p>比如，你的服务用到了缓存，就需要把缓存命中率这些数据进行收集；用到了数据库连接池，就需要把连接池的参数给暴露出来。</p>
<p>我们这里采用的监控工具是 Prometheus，它是一个是时序数据库，能够存储我们的指标。SpringBoot 可以非常方便的接入到 Prometheus 中。</p>
<p>创建一个 SpringBoot 项目后，首先，加入 maven 依赖。</p>
<pre tabindex="0"><code>&lt;dependency&gt;
     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
     &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
 &lt;/dependency&gt;
 &lt;dependency&gt;
     &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
     &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;
 &lt;/dependency&gt;
 &lt;dependency&gt;
     &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
     &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;
 &lt;/dependency&gt;
</code></pre><p>然后，我们需要在 application.properties 配置文件中，开放相关的监控接口。</p>
<pre tabindex="0"><code>management.endpoint.metrics.enabled=true
management.endpoints.web.exposure.include=*
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
</code></pre><p>启动之后，我们就可以通过访问 http://localhost:8080/actuator/prometheus 来获取监控数据。</p>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214943934.png" alt="Image" title="Image"></p>
<p>想要监控业务数据也是比较简单的。你只需要注入一个MeterRegistry实例即可。</p>
<p>下面是一段示例代码：</p>
<pre tabindex="0"><code>@Autowired
MeterRegistry registry;

@GetMapping(&#34;/test&#34;)
@ResponseBody
public String test() {
    registry.counter(&#34;test&#34;,
            &#34;from&#34;, &#34;127.0.0.1&#34;,
            &#34;method&#34;, &#34;test&#34;
    ).increment();

    return &#34;ok&#34;;
}
</code></pre><p>从监控连接中，我们可以找到刚刚添加的监控信息。</p>
<pre tabindex="0"><code>test_total{from=&#34;127.0.0.1&#34;,method=&#34;test&#34;,} 5.0
</code></pre><p>这里简单介绍一下流行的 Prometheus 监控体系，Prometheus 使用拉的方式获取监控数据，这个暴露数据的过程可以交给功能更加齐全的 telegraf 组件。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>4 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-260/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default3_hu_599e07ea93afc07d.webp" type="image/webp" />
      <img src="/images/default3.jpg" alt="/images/default3.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">SpringBoot 三大开发工具，你都用过么？</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 1, 2022
    
    </p>

    <h3 id="一springboot-dedevtools">一、SpringBoot Dedevtools</h3>
<p>他是一个让SpringBoot支持热部署的工具，下面是引用的方法</p>
<p>要么在创建项目的时候直接勾选下面的配置：</p>
<p><img src="https://img.maruifu.com/images/2022/04/01/640.png" alt="Image" title="Image"></p>
<p>要么给springBoot项目添加下面的依赖：</p>
<pre tabindex="0"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre><ul>
<li>idea修改完代码后再按下 ctrl + f9 使其重新编译一下，即完成了热部署功能</li>
<li>eclipse是按ctrl + s保存 即可自动编译</li>
</ul>
<p>如果你想一修改代码就自动重新编译，无需按ctrl+f9。只需要下面的操作：</p>
<h5 id="1在idea的setting中把下面的勾都打上">1.在idea的setting中把下面的勾都打上</h5>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214725881.png" alt="Image" title="Image"></p>
<h5 id="2进入pomxml在build的反标签后给个光标然后按altshiftctrl">2.进入pom.xml,在build的反标签后给个光标，然后按Alt+Shift+ctrl+/</h5>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214629204.png" alt="Image" title="Image"></p>
<h5 id="3然后勾选下面的东西接着重启idea即可">3.然后勾选下面的东西，接着重启idea即可</h5>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214629234.png" alt="Image" title="Image"></p>
<h3 id="二lombok"><strong>二、Lombok</strong></h3>
<p>Lombok是简化JavaBean开发的工具，让开发者省去构造器，getter,setter的书写。另外，搜索公众号互联网架构师后台回复“面试”，获取一份惊喜礼包。</p>
<p>在项目初始化时勾选下面的配置，即可使用Lombok</p>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214629265.png" alt="Image" title="Image"></p>
<p>或者在项目中导入下面的依赖：</p>
<pre tabindex="0"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre><p>使用时，idea还需要下载下面的插件：</p>
<p><img src="https://img.maruifu.com/images/2022/04/01/640-20220401214629276.png" alt="Image" title="Image"></p>
<p>下面的使用的例子</p>
<pre tabindex="0"><code>import com.baomidou.mybatisplus.annotation.TableField;
import com.baomidou.mybatisplus.annotation.TableName;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@AllArgsConstructor//全参构造器
@NoArgsConstructor//无参构造器
@Data//getter + setter
public class User {
    private Long id;
    private String name;
    private Integer age;
    private String email;
}
</code></pre><h3 id="三spring-configuration-processor"><strong>三、Spring Configuration Processor</strong></h3>
<p>该工具是给实体类的属性注入开启提示，自我感觉该工具意义不是特别大！</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-261/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default1_hu_33478ca164b4fce4.webp" type="image/webp" />
      <img src="/images/default1.jpg" alt="/images/default1.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">使用 Spring Boot 开发邮件系统</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 1, 2022
    
    </p>

    <p>电子邮件是因特网上使用得非常多的一种应用，它可以非常方便的使相隔很远的人进行通信，它主要的特点就是操作简单，快捷。现在的电子邮件系统以是存储与转发的模型为基础。邮件服务器接受、转发、提交及存储邮件。寄信人、收信人及他们的计算机都不用同时在线。寄信人和收信人只需在寄信或收信时简短的连线到邮件服务器即可。</p>
<p>互联网发展到现在，邮件服务已经成为互联网企业中必备功能之一，应用场景非常广泛，比较常见的有：用户注册、忘记密码、监控提醒、企业营销等。大多数互联网企业都会将邮件发送抽取为一个独立的微服务，对外提供接口来支持各种类型的邮件发送。</p>
<p>本篇内容会从以下几部分来给大家介绍如何开发一个邮件系统：</p>
<ul>
<li>电子邮件的历史</li>
<li>发送邮件涉及到哪些协议</li>
<li>介绍一个完整的邮件发送流程</li>
<li>快速体验邮件发送流程</li>
<li>介绍如何开发文本、HTML、附件、图片的邮件</li>
<li>做一个邮件系统需要考虑的因素</li>
</ul>
<p><img src="https://img.maruifu.com/images/2022/04/01/c0fc2ce0-bb2b-11e8-a289-893b174e4e15.png" alt="enter image description here" title="enter image description here"></p>
<h3 id="邮件历史">邮件历史</h3>
<p>我们先来回顾一下整个邮件的发展历史。</p>
<h4 id="电子邮件的发展">电子邮件的发展</h4>
<p>电子邮件发明在 70 年代，却在 80 年才开始有人使用。70 年代的沉寂主要是由于当时使用 Arpanet 网络的人太少，网络的速度也仅为目前 56Kbps 标准速度的二十分之一，受网络速度的限制，那时的用户只能发送些简短的信息，根本别想象现在那样发送大量照片。</p>
<p>到 80 年代中期，个人电脑兴起，电子邮件开始在电脑迷以及大学生中广泛传播开来；到 90 年代中期，互联网浏览器诞生，全球网民人数激增，电子邮件被广为使用。2000 零几年的时候，那时候没有网盘，上大学的时候常常使用邮箱存储东西，那时候的邮箱也主要以网易为主；到了现在，几乎每个人都有好几个邮箱，QQ 邮箱、126 邮箱、公司邮箱等等，电子邮件已经成为人们生活和工作不可或缺的一部分。</p>
<p><strong>电子邮件发展历程：</strong></p>
<ul>
<li>1974 年，因为 ARPANET 的推广，电子邮件的用户已经达到了数百人，不过他们大都是军方用户。自那之后，电子邮件开始了飞速的发展。Lawrence Roberts，这位当时为 ARPANET 服务的科学家为他的上司发明了邮件中的文件夹，以便其能够更好地梳理自己的邮件。</li>
<li>1975 年，南加州大学的 John Vittal 第一次发明了邮件相关的服务软件。</li>
<li>1977 年，现代的电子邮件系统开始出现。使用同一款软件并且联网了的计算机都可以使用 Tomlinson 的方法去发邮件。</li>
<li>1982 年，有关电子邮件第一个重要的标准出台了，这就是 SMTP（简单邮件传输协议 Simple Mail Transfer Protocol），它是第一个基于互联网基础传输电子邮件的标准。时至今日它还在被人使用。而也是在这一年，「email」这个词第一次出现了。</li>
<li>1983 年 1 月 1 日，ARPANET 正式使用 TCP/IP 取代旧的网络控制协议（NCP，Network Control Protocol），从而成为今天的互联网的基石。</li>
<li>从 80 年代中期开始，电子邮件被广泛使用。我国发出的第一封电子邮件就在 1987 年，是由北京计算机应用技术研究所发送到德国的。</li>
<li>1988 年，世界上第一个商用邮件系统 Eudora 出现，发明者是美国软件工程师 Steve Dorner。</li>
<li>1990 年，HTML 格式的邮件出现，除了文字之外，我们也能在邮件中看到图片了。</li>
<li>1992 年，MIME 协议（多用途互联网邮件扩展，Multipurpose Internet Mail Extensions）诞生，它扩展了电子邮件标准，使其能够支援更多种形式的内容。也是在这一年，微软在 MS-DOS 系统上，推出了 Outlook 邮件应用。</li>
<li>1996 年，世界上第一个以网页为基础的邮件应用 Hotmail 诞生，然后微软在下一年花了 4 亿美元买下了它。</li>
<li>……</li>
</ul>
<h4 id="世界的第一封电子邮件">世界的第一封电子邮件</h4>
<p>1969 年 10 月世界上的第一封电子邮件是由计算机科学家 Leonard K. 教授发给他的同事的一条简短消息。</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>5 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-262/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">接口测试工具 Postman 使用实践</h2>

    <p class="date text-base-content/60">
    
      Friday, Apr 1, 2022
    
    </p>

    <p><a href="/tag/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95">自动化测试</a>
</p>
<h3 id="一接口定义">一、接口定义</h3>



  <blockquote>
    <p>软件不同部分之间的交互接口。通常就是所谓的 API――应用程序编程接口，其表现的形式是源代码。 —— [ 百度百科 ]</p>
  </blockquote>

<p>我们常说的接口一般指两种：</p>
<ol>
<li>API：应用程序编程接口。程序间的接口</li>
<li>GUI：图形用户界面。人与程序的接口</li>
</ol>
<p>这里我们所说的接口特指 API 接口。API 接口定义：对协议进行定义的引用类型。</p>
<p>好多公司开发人员分前后端，他们之间如何配合工作的，就是其中一方定义接口，另一方来调用接口，以实现预期功能。</p>
<h3 id="二接口的分类">二、接口的分类</h3>
<h4 id="1-接口分类">1. 接口分类</h4>
<ul>
<li>HTTP 接口</li>
<li>Webservice 接口</li>
<li>RESTful 接口</li>
</ul>
<p>WebService 接口是走 soap 协议，请求报文和返回报文都是 xml 格式，通过 SoapUI 工具进行测试；</p>
<p>HTTP API 接口走 HTTP 协议，通过路径来区分调用的方法，请求报文入参有多种形式，返回报文一般为 json 串，最常见的是 get 和 post 方法。</p>
<p><img src="https://img.maruifu.com/images/2022/04/01/image-20220401211423619.png" alt="image-20220401211423619" title="image-20220401211423619"></p>
<h3 id="三为何要进行接口测试">三、为何要进行接口测试</h3>
<h4 id="1-接口测试必要性">1. 接口测试必要性</h4>
<p>当今的系统复杂度不断上升，传统的测试方法成本急剧增加且测试效率大幅下降，所以就要做接口测试。</p>
<p>同时，接口测试相对容易实现自动化持续集成，且相对 UI 自动化也比较稳定，可以减少人工回归测试人力成本与时间，缩短测试周期，支持后端快速发版需求。</p>
<p>接口持续集成是为什么能低成本高收益的根源。现在很多系统前后端架构是分离的，从安全层面来说，只依赖前端进行限制已经完全不能满足系统的安全要求（绕过前面实在太容易）， 需要后端同样进行控制，在这种情况下就需要从接口层面进行验证。</p>
<p>前后端传输、日志打印等信息是否加密传输也是需要验证的，特别是涉及到用户的隐私信息，如身份证，银行卡等。</p>
<h4 id="2-接口测试原理">2. 接口测试原理</h4>
<p>模拟客户端向服务器发送请求报文，服务器接收请求报文后对相应的报文做处理并向客户端返回应答，客户端再接收应答的一个过程。</p>
<h4 id="3-接口测试范围">3. 接口测试范围</h4>
<p>接口的功能、性能、安全性。重点关注数据的交换，传递和控制管理过程，还包括处理的次数。</p>
<p>接口测试对象是接口，但随着系统复杂度越来越高，接口越来越多，完全覆盖是一件很困难的事情。</p>
<p>通常情况下主要测试最外层的两类接口：数据进入系统的接口（调用外部系统的参数为本系统使用）、数据流出系统接口（验证系统处理后的数据是否正常）</p>
<h3 id="四接口文档示例">四、接口文档示例</h3>
<h4 id="1-接口文档应该包括哪几部分">1. 接口文档应该包括哪几部分？</h4>
<ul>
<li>接口说明</li>
<li>调用的 url</li>
<li>请求方法（get、post）</li>
<li>请求参数，参数类型、请求参数说明</li>
<li>返回参数说明</li>
<li>返回示例</li>
</ul>
<h4 id="截屏2022-04-01-下午916582-示例"><img src="https://img.maruifu.com/images/2022/04/01/2022-04-01-9.16.58.png" alt="截屏2022-04-01 下午9.16.58" title="截屏2022-04-01 下午9.16.58">2. 示例</h4>
<p><img src="https://img.maruifu.com/images/2022/04/01/2022-04-01-9.17.55.png" alt="截屏2022-04-01 下午9.17.55" title="截屏2022-04-01 下午9.17.55"></p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>2 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-28/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">生育保险以及生育津贴相关-成都</h2>

    <p class="date text-base-content/60">
    
      Tuesday, Feb 22, 2022
    
    </p>

    <h1 id="写在前面">写在前面</h1>
<p>上一篇文章<a href="https://www.pfinfo.com.cn/blog/article/25" target="_blank">生育假政策-成都</a>
介绍了成都的生育假问题，我们说到了女性在成都的生育假期是<code>98+60=158</code>天。其中60天是四川省在国家政策基础上补充的福利，从2016年的时候开始实施的。由于这60天不是国家层面的法律法规的，所以在报销生育津贴的时候会有一些疑问，这篇文章主要解释生育津贴问题以及一些和生育津贴相关问题。</p>
<h1 id="生育保险">生育保险</h1>
<p>这里指的生育保险是指生育医疗保险，津贴部分说明在文章下一部分。</p>
<h2 id="先写结论">先写结论</h2>
<h3 id="报销的对象">报销的对象</h3>
<p>基本医疗保险参保人员。<br>
企业在社保局给员工购买社保时，必须五险一起购买，五险分别是：养老、医疗、失业、工伤、生育。</p>
<p><strong>国家规定企业是必须要给职工购买五险的。如果企业不购买，则构成违法。</strong></p>
<h3 id="医疗待遇补助金额">医疗待遇补助金额</h3>
<p>成都生育医疗待遇都是定额的，其中顺产2700，剖腹产3700。</p>
<h2 id="生育保险是什么">生育保险是什么</h2>
<p>参见中国政府网的便民问答文章&ndash;<a href="http://www.gov.cn/banshi/2005-06/14/content_6375.htm" target="_blank">什么是生育保险？</a>
</p>



  <blockquote>
    <p>生育保险是通过国家立法规定，在劳动者因生育子女而导致劳动力暂时中断时，由国家和社会及时给予物质帮助的一项社会保险制度。<br>
　　我国生育保险待遇主要包括两项。一是生育津贴，用于保障女职工产假期间的基本生活需要；二是生育医疗待遇，用于保障女职工怀孕、分娩期间以及职工实施节育手术时的基本医疗保健需要。<br>
　　生育保险的法律依据是：1994年7月5日颁布的《中华人民共和国劳动法》；原劳动部于1994年12月14日发布的《企业职工生育保险试行办法》（劳部发〔1994〕504号）。相关规定有：1988年7月21日颁布的《女职工劳动保护规定》（国务院令第9号）；原劳动部于1988年9月4日发布的《关于女职工生育待遇若干问题的通知》（劳险字〔1988〕2号）。</p>
  </blockquote>

<h2 id="生育保险报销流程">生育保险报销流程</h2>
<p>一般在医院办理出院时刷社保卡自动报销。</p>
<h2 id="生育保险报销材料">生育保险报销材料</h2>
<p><code>准生证、女方医保卡、夫妻双方身份证、出生证明</code>的原件以及一份复印件，其中<code>除准生证和医保卡，都是出院前先在医院办理</code>，不需要医院社区来回跑。</p>
<p>以双流妇幼保健院为例，需要的的准备资料如下：<br>
<img src="https://www.pfinfo.com.cn/blog/upload/2022/02/22vjhgd6kghtjoqnr3ault0o9m.jpg" alt="https://www.pfinfo.com.cn/blog/upload/2022/02/22vjhgd6kghtjoqnr3ault0o9m.jpg"></p>
<h1 id="生育津贴">生育津贴</h1>
<h2 id="提前说明">提前说明</h2>
<p>成都企业女性职工领取生育津贴是需要社保满一年；如果是男方购买社保，女方没有购买社保，则无法领取生育津贴。<br>
而且生育津贴的领取是根据公司给员工购买社保的基数进行计算的。社保基数越高，津贴越高。<br>
另外，<code>津贴只有国家规定的98天，剩余60天（两个月），需要公司以员工实际月工资进行发放</code>。</p>
<h2 id="成都2022年社保的基数限制">成都2022年社保的基数限制</h2>
<p>没错，你没看错，购买社保时的社保基数，是有限制的，是在一个范围内的。</p>
<p><img src="https://www.pfinfo.com.cn/blog/upload/2022/02/36jds9pcjghc9p43ofduljjquv.PNG" alt="alt"></p>
<h2 id="为什么网上有的说工资和津贴选高的领取">为什么网上有的说工资和津贴选高的领取？</h2>
<p>需要明确一个问题，如果公司购买的五险一直是最低基数，而你的工资高于最低缴费基数（即是工资&gt;基数），这就是不合法的，虽然现在依旧有很多公司在这样做。</p>
<p>但是上述情况客观存在，而大多数人因为一些情况，没有向劳动局投诉/举报公司，所以我们需要讨论在这种情况下如何选择工资和津贴进行领取。</p>
<p>首先我们需要知道，实际每月基数问题：<code>一般来说，新员工按照入职当月的工资总额作为社保基数，从入职第二年起，按照上一年应发工资的月平均工资作为社保基数。</code></p>
<p>然后，有的公司工资是低于社保最低缴费基数的，这种情况下，需要以社保局要求的最低购买基数进行购买；同理，工资高于最高缴费基数的，按照最高缴费基数进行缴纳。</p>
<p>例如：张三上一年月平均工资为2万元，本年缴费应基数为18630元，生育津贴按照18630元/月计算，98天应领取18630÷30×98=60858元；但是，张三选择领工资是20000÷30×98≈65333.33元。（当然，这里是税前工资，需要缴纳五险一金以及个税的）</p>
<p>所以，网上关于“工资和津贴选高的领取”的问题，只针对，工资<code>低于最低缴费基数</code>或<code>高于最高缴费基数</code>的情况。</p>
<h2 id="60天的工资问题">60天的工资问题</h2>
<p>我们知道，这60天，是四川省在法律、法规规定外新延长出来的，但是生育津贴只有98天的，那么，剩下这60天就没有钱吗？答案是：不是！！！</p>
<p>根据<a href="https://m12333.cn/policy/idck.html" target="_blank">《四川省人口与计划生育条例（2021年修正）》</a>
 第二十四条规定：</p>



  <blockquote>
    <p>符合本条例规定生育子女的夫妻，除法律、法规规定外，延长女方生育假60天，给予男方护理假 20天。生育假、护理假视为出勤，工资福利待遇不变。</p>
  </blockquote>

<p>我们知道，这60天是生育假，而生育假，视为出勤，工资福利待遇不限。因此，<code>这60天需要由公司发放工资</code>，公司不能因为员工在家就不能进行工资发放！</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/posts/post-263/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default4_hu_ae815e0f1649c253.webp" type="image/webp" />
      <img src="/images/default4.jpg" alt="/images/default4.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">Windows10右键添加&#34;在此处打开命令窗口&#34;</h2>

    <p class="date text-base-content/60">
    
      Monday, Feb 14, 2022
    
    </p>

    <p>今天跑代码时用到了Powershell，有一个环境变量死活都找不到，无奈只好重新回到cmd命令行测试，结果立马就跑通了。 由于现在Win10默认右键只有Powershell，所以为了以后方便使用就把右键添加“在此处打开命令窗口”的代码分享出来。</p>
<p>效果显示“在此处打开命令窗口”选项，如图：</p>
<p><img src="https://img.maruifu.com/images/2022/02/14/image-20220214100527129.png" alt="image-20220214100527129" title="image-20220214100527129"></p>
<h3 id="具体步骤">具体步骤</h3>
<p>第一步：新建一个txt文件，命名为OpenCmdHere.txt，注意设置编码格式为ANSI 第二步：在文件中输入如下代码，并保存</p>
<pre tabindex="0"><code>Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere]
@=&#34;在此处打开命令窗口&#34;
&#34;Icon&#34;=&#34;cmd.exe&#34;

[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere\command]
@=&#34;cmd.exe /s /k pushd &#34;%V&#34;&#34;

[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere]
@=&#34;在此处打开命令窗口&#34;
&#34;Icon&#34;=&#34;cmd.exe&#34;

[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere\command]
@=&#34;cmd.exe /s /k pushd &#34;%V&#34;&#34;

[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere]
@=&#34;在此处打开命令窗口&#34;
&#34;Icon&#34;=&#34;cmd.exe&#34;

[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere\command]
@=&#34;cmd.exe /s /k pushd &#34;%V&#34;&#34;

[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere]
@=&#34;在此处打开命令窗口&#34;
&#34;Icon&#34;=&#34;cmd.exe&#34;

[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere\command]
@=&#34;cmd.exe /s /k pushd &#34;%V&#34;&#34; 
</code></pre><p>第三步：更改文件后缀名为reg，弹出的提示点确认。 第四步：双击OpenCmdHere.reg文件运行，弹出的提示点确认，修改注册表就大功告成了！</p>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">cuitpanfei</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
        <div class="w-full md:w-1/2 lg:w-1/3 p-4 dream-column">
          <a class="card bg-base-100 hover:bg-base-content/10 shadow-xl cursor-pointer dark:border dark:border-base-content/30" href="/other/post-264/">
  
  <figure>
    
    
    <picture>
      <source srcset="/images/default2_hu_c96b8a8cc3f55f81.webp" type="image/webp" />
      <img src="/images/default2.jpg" alt="/images/default2.jpg" />
    </picture>
    
  </figure>
  

  <div class="card-body">
    <h2 class="card-title">群晖NAS安装gitlab</h2>

    <p class="date text-base-content/60">
    
      Wednesday, Feb 9, 2022
    
    </p>

    <h2 id="下载镜像">下载镜像</h2>
<p>docker-&gt;注册表-&gt;搜索gitlab</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208160902209.png" alt="image-20220208160902209" title="image-20220208160902209"></p>
<h2 id="配置镜像">配置镜像</h2>
<p>映像-&gt;选中镜像-&gt;启动</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208161053204.png" alt="image-20220208161053204" title="image-20220208161053204"></p>
<p>点击高级设置，在弹出的高级选项中，切换到卷页签，按照下面截图，设置目录。</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208161902760.png" alt="image-20220208161902760" title="image-20220208161902760"></p>
<p>这里需要添加对应的文件夹到docker目录下，可以使用File Station在docker目录下，创建gitlab目录。</p>
<p>然后在gitlab目录下，分别创建logs，config，data来存储日志、配置和数据信息文件。</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208161553127.png" alt="image-20220208161553127" title="image-20220208161553127"></p>
<p>切换端口设置页签，设置一个本地端口，这里指定80容器端口对应本地端口10080。当然也建议将其他本地端口的[自动]改为指定的端口，比如22端口对应的本地端口改为10022之类的，因为后续还要修改配置文件，让克隆地址可以正常显示端口，同时也避免自动获取而带来端口变化而导致的访问问题。</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208162119655.png" alt="image-20220208162119655" title="image-20220208162119655"></p>
<p>这时候可以直接访问地址了<code>IP:10080</code>，不知道为什么,程序运行没问题 我访问的时候不显示，</p>
<p>后来我在反向代理哪里设置了一下 访问代理地址就没问题了！如图所示！</p>
<p><img src="https://img.maruifu.com/images/2022/02/08/image-20220208171010021.png" alt="image-20220208171010021" title="image-20220208171010021"></p>
<h2 id="常见问题">常见问题</h2>
<h3 id="root密码">ROOT密码</h3>
<p>登陆后发现没有让输入新密码 而是账号和密码我在<code>docker/config</code>目录里发现一个一个<code>initial_root_password</code>文件</p>
<p>打开一看果然记录了初始密码。</p>



  <blockquote>
    <p>查看Gitlab网站文档，原来GitLab 14.0开始， 把密码放在了/etc/gitlab/initial_root_password里了。</p>
  </blockquote>

<h3 id="修改域名地址">修改域名地址</h3>
<p>我们在下载项目的时候域名不是我们想要的地址，这个时候可以修改配置文件。</p>
<p><code>/docker/gitlab/config/gitlab.rb</code></p>
<pre tabindex="0"><code># 32行修改以下配置
external_url &#39;https://&lt;你的域名&gt;:&lt;端口&gt;&#39;
我的填写的 external_url &#39;https://nas.mrf.ink:10444&#39;
</code></pre><p>这时候也要修改启动容器的端口</p>
<p><img src="https://img.maruifu.com/images/2022/02/09/image-20220209094117569.png" alt="image-20220209094117569" title="image-20220209094117569"></p>
<p>我的群晖反向代理这么填写</p>
<p><img src="https://img.maruifu.com/images/2022/02/09/image-20220209094444843.png" alt="image-20220209094444843" title="image-20220209094444843"></p>
<h3 id="配置电子邮件">配置电子邮件</h3>
<pre tabindex="0"><code>#修改以下配置
gitlab_rails[&#39;smtp_enable&#39;] = true                             
gitlab_rails[&#39;smtp_address&#39;] = &#34;smtp.mxhichina.com&#34;  
gitlab_rails[&#39;smtp_port&#39;] = 25                      
gitlab_rails[&#39;smtp_user_name&#39;] = &#34;email@maruifu.cn&#34;   
gitlab_rails[&#39;smtp_password&#39;] = &#34;123456&#34;      
gitlab_rails[&#39;smtp_domain&#39;] = &#34;smtp.mxhichina.com&#34;  
gitlab_rails[&#39;smtp_authentication&#39;] = &#34;plain&#34;    
gitlab_rails[&#39;smtp_enable_starttls_auto&#39;] = true   
gitlab_rails[&#39;smtp_tls&#39;] = false   
gitlab_rails[&#39;smtp_pool&#39;] = false 

### Email Settings                                      
gitlab_rails[&#39;gitlab_email_enabled&#39;] = true                 
##! If your SMTP server does not like the default &#39;From: gitlab@gitlab.example.com&#39;                    
##! can change the &#39;From&#39; with this setting.    
gitlab_rails[&#39;gitlab_email_from&#39;] = &#39;email@maruifu.cn&#39;    
gitlab_rails[&#39;gitlab_email_display_name&#39;] = &#39;小马哥&#39;   
</code></pre><pre tabindex="0"><code>
#生效配置文件
gitlab-ctl reconfigure
#进入后台
gitlab-rails console -e production 或者 gitlab-rails console
#发送测试邮件
Notify.test_email(&#39;mrf_it@163.com&#39;, &#39;标题&#39;, &#39;内容&#39;).deliver_now
</code></pre><h3 id="gitlab使用命令行修改用户密码">gitlab使用命令行修改用户密码</h3>
<pre tabindex="0"><code>gitlab-rails console production


&gt; user=User.where(username: &#34;root&#34;).first
&gt; user.password=123123
&gt; user.save!
&gt; quit
</code></pre>

    
    <div class="card-actions justify-between items-center mt-4">
      
        <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">小马哥</span>
    
  
  </span>
</div>

      

      <div class="flex items-center">
        <ion-icon name="time" class="mr-1"></ion-icon>
        <span>1 minute read</span>
      </div>
    </div>
  </div>
</a>

        </div>
      
    </div>
    

    
    <div class="flex justify-center pt-8">
      <div class="join grid grid-cols-2">
  
  <a href="/categories/page/4/" title=Previous&#32;page class="join-item btn btn-outline btn-sm">
    Previous page
  </a>
  
  
  <a href="/categories/page/6/" title="Next page" class="join-item btn btn-outline btn-sm">
    Next page
  </a>
  
</div>

    </div>
    
  </div>
</div>



            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 Cuitpanfei Site</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    





    

    

    

    

    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js" integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin="anonymous"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js" integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin="anonymous"></script>
  </body>
</html>
